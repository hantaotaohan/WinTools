{"ns_map":["http://www.w3.org/1999/xhtml","http://www.w3.org/XML/1998/namespace","http://www.w3.org/2000/svg","http://www.w3.org/1999/xlink"],"tree":[0,[1,[14664],[14665],[14666]],[2,[3],[4],[5],[6],[7],[8,[14657,[14660,[14661,[14662,[14663]]]]],[14658,[14659]]],[9],[10],[11],[12],[13,[14643,[14651,[14652,[14653,[14654],[14655],[14656]]]]],[14644],[14645],[14646],[14647],[14648],[14649],[14650]],[14],[15],[16],[17],[18,[14633,[14637,[14638,[14639,[14640],[14641],[14642]]]]],[14634],[14635],[14636]],[19],[20],[21],[22],[23,[14624,[14629,[14630,[14631,[14632]]]]],[14625,[14628]],[14626,[14627]]],[24],[25],[26],[27],[28,[14604,[14620,[14621,[14622,[14623]]]]],[14605],[14606],[14607],[14608],[14609],[14610],[14611],[14612],[14613],[14614],[14615],[14616],[14617],[14618],[14619]],[29],[30],[31],[32],[33,[14602],[14603]],[34,[14598,[14599,[14600,[14601]]]]],[35,[14597]],[36,[14567],[14568],[14569],[14570,[14588],[14589],[14590],[14591,[14594,[14596]],[14595]],[14592,[14593]]],[14571,[14580],[14581],[14582,[14585,[14587]],[14586]],[14583],[14584]],[14572,[14573],[14574],[14575,[14577,[14579]],[14578]],[14576]]],[37,[14549],[14550],[14551],[14552],[14553,[14556,[14557,[14566]],[14558,[14565]],[14559,[14564]],[14560,[14563]],[14561,[14562]]]],[14554,[14555]]],[38],[39],[40,[14535],[14536],[14537,[14546,[14548]],[14547]],[14538,[14545]],[14539,[14542,[14544]],[14543]],[14540,[14541]]],[41,[14531],[14532],[14533],[14534]],[42,[14524],[14525],[14526],[14527,[14529,[14530]]],[14528]],[43,[14520],[14521],[14522,[14523]]],[44,[14499],[14500],[14501],[14502,[14517,[14519]],[14518]],[14503],[14504],[14505],[14506],[14507,[14510,[14511,[14516]],[14512,[14515]],[14513,[14514]]]],[14508,[14509]]],[45,[14494],[14495,[14497],[14498]],[14496]],[46],[47],[48,[14491,[14492,[14493]]]],[49,[14476],[14477],[14478,[14487,[14488,[14489],[14490]]]],[14479],[14480,[14483,[14484,[14485],[14486]]]],[14481,[14482]]],[50,[14465],[14466,[14475]],[14467,[14474]],[14468,[14471,[14473]],[14472]],[14469,[14470]]],[51,[14459],[14460,[14463],[14464]],[14461,[14462]]],[52,[14421],[14422],[14423],[14424,[14452,[14453,[14454],[14455],[14456],[14457],[14458]]]],[14425],[14426,[14447,[14448,[14449],[14450],[14451]]]],[14427,[14445],[14446]],[14428],[14429,[14436,[14437,[14438],[14439],[14440],[14441],[14442],[14443],[14444]]]],[14430],[14431,[14432,[14433,[14434],[14435]]]]],[53,[14349],[14350],[14351,[14420]],[14352,[14405,[14406,[14416,[14417],[14418],[14419]]],[14407,[14412,[14413],[14414],[14415]]],[14408,[14409,[14410],[14411]]]]],[14353,[14403],[14404]],[14354,[14399],[14400],[14401],[14402]],[14355,[14386],[14387],[14388,[14393,[14394,[14395],[14396],[14397],[14398]]]],[14389,[14391],[14392]],[14390]],[14356,[14376],[14377],[14378,[14382,[14383,[14384],[14385]]]],[14379,[14380,[14381]]]],[14357,[14358],[14359,[14375]],[14360,[14371,[14372,[14373],[14374]]]],[14361,[14369],[14370]],[14362,[14368]],[14363,[14364,[14365,[14366],[14367]]]]]],[54,[14331],[14332],[14333,[14343,[14344,[14345],[14346],[14347],[14348]]]],[14334],[14335,[14339,[14340,[14341],[14342]]]],[14336,[14337],[14338]]],[55,[14329],[14330]],[56],[57],[58],[59],[60,[14322,[14328]],[14323,[14327]],[14324],[14325],[14326]],[61,[14317,[14318,[14319,[14320],[14321]]]]],[62,[14316]],[63,[14261],[14262],[14263,[14293],[14294],[14295,[14312,[14313,[14314],[14315]]]],[14296,[14309],[14310],[14311]],[14297,[14307],[14308]],[14298,[14300,[14301,[14302],[14303],[14304],[14305],[14306]]]],[14299]],[14264,[14265],[14266,[14290],[14291],[14292]],[14267,[14289]],[14268,[14285,[14286,[14287],[14288]]]],[14269,[14282],[14283],[14284]],[14270,[14278,[14279,[14280],[14281]]]],[14271,[14277]],[14272,[14273],[14274],[14275],[14276]]]],[64],[65],[66],[67],[68,[14258,[14260]],[14259]],[69,[14237],[14238,[14257]],[14239,[14253,[14254,[14255],[14256]]]],[14240,[14252]],[14241,[14251]],[14242,[14245,[14246,[14247],[14248],[14249],[14250]]]],[14243,[14244]]],[70,[14217],[14218,[14236]],[14219,[14232,[14233,[14234],[14235]]]],[14220,[14231]],[14221,[14227,[14228,[14229],[14230]]]],[14222,[14223],[14224],[14225],[14226]]],[71,[14173],[14174,[14215],[14216]],[14175,[14211,[14212,[14213],[14214]]]],[14176,[14206],[14207],[14208],[14209],[14210]],[14177,[14201,[14202,[14203],[14204],[14205]]]],[14178,[14199],[14200]],[14179,[14194,[14195,[14196],[14197],[14198]]]],[14180,[14187],[14188],[14189],[14190],[14191],[14192],[14193]],[14181,[14182,[14183,[14184],[14185],[14186]]]]],[72,[14152],[14153,[14169],[14170],[14171],[14172]],[14154,[14165,[14166,[14167],[14168]]]],[14155,[14156],[14157],[14158],[14159],[14160],[14161],[14162],[14163],[14164]]],[73,[14106],[14107,[14151]],[14108,[14147,[14148,[14149],[14150]]]],[14109,[14145],[14146]],[14110,[14144]],[14111,[14129,[14130,[14142,[14143]]],[14131,[14141]],[14132,[14139,[14140]]],[14133,[14137,[14138]]],[14134,[14135,[14136]]]]],[14112,[14122],[14123],[14124],[14125],[14126],[14127],[14128]],[14113],[14114,[14120,[14121]]],[14115,[14116,[14117,[14118],[14119]]]]],[74],[75,[14101],[14102],[14103],[14104],[14105]],[76,[14099],[14100]],[77,[14095,[14096,[14097],[14098]]]],[78,[14094]],[79,[14090,[14091,[14092],[14093]]]],[80],[81,[14088],[14089]],[82,[14084,[14085,[14086],[14087]]]],[83,[14083]],[84,[14081],[14082]],[85,[14074,[14075,[14076],[14077],[14078],[14079],[14080]]]],[86,[14073]],[87,[14067,[14068,[14069],[14070],[14071],[14072]]]],[88,[14066]],[89,[14062,[14063,[14064],[14065]]]],[90,[14056],[14057,[14058,[14059],[14060],[14061]]]],[91,[14022],[14023,[14053],[14054],[14055]],[14024,[14049,[14050,[14051],[14052]]]],[14025,[14046],[14047],[14048]],[14026],[14027,[14044,[14045]]],[14028,[14042],[14043]],[14029,[14040],[14041]],[14030,[14035,[14036,[14037],[14038],[14039]]]],[14031,[14033],[14034]],[14032]],[92,[14008],[14009,[14019],[14020],[14021]],[14010,[14013,[14014,[14015],[14016],[14017],[14018]]]],[14011,[14012]]],[93,[13955],[13956,[14007]],[13957,[14005],[14006]],[13958,[14000,[14001,[14002],[14003],[14004]]]],[13959,[13999]],[13960,[13994,[13995,[13996],[13997],[13998]]]],[13961,[13993]],[13962,[13990],[13991],[13992]],[13963,[13986,[13987,[13988],[13989]]]],[13964,[13984],[13985]],[13965,[13979,[13980,[13981],[13982],[13983]]]],[13966,[13975],[13976],[13977],[13978]],[13967,[13970,[13971,[13972],[13973],[13974]]]],[13968,[13969]]],[94,[13927],[13928],[13929,[13954]],[13930,[13950,[13951,[13952],[13953]]]],[13931],[13932,[13945,[13946,[13947],[13948],[13949]]]],[13933,[13944]],[13934,[13938,[13939,[13940],[13941],[13942],[13943]]]],[13935,[13936],[13937]]],[95],[96,[13926]],[97],[98,[13923,[13924,[13925]]]],[99],[100,[13919,[13920,[13921],[13922]]]],[101,[13918]],[102,[13917]],[103,[13915],[13916]],[104,[13911,[13912,[13913],[13914]]]],[105,[13909],[13910]],[106,[13905,[13906,[13907],[13908]]]],[107,[13904]],[108,[13899],[13900],[13901],[13902],[13903]],[109,[13895,[13896,[13897],[13898]]]],[110],[111,[13890,[13891,[13892],[13893],[13894]]]],[112,[13888,[13889]]],[113,[13786,[13787,[13788,[13887]],[13789,[13885],[13886]],[13790,[13882,[13883],[13884]]],[13791,[13792,[13877,[13880,[13881]]],[13878,[13879]]],[13793,[13872,[13875,[13876]]],[13873,[13874]]],[13794,[13867,[13870,[13871]]],[13868,[13869]]],[13795,[13862,[13865,[13866]]],[13863,[13864]]],[13796,[13857,[13860,[13861]]],[13858,[13859]]],[13797,[13852,[13855,[13856]]],[13853,[13854]]],[13798,[13847,[13850,[13851]]],[13848,[13849]]],[13799,[13842,[13845,[13846]]],[13843,[13844]]],[13800,[13837,[13840,[13841]]],[13838,[13839]]],[13801,[13832,[13835,[13836]]],[13833,[13834]]],[13802,[13827,[13830,[13831]]],[13828,[13829]]],[13803,[13822,[13825,[13826]]],[13823,[13824]]],[13804,[13817,[13820,[13821]]],[13818,[13819]]],[13805,[13812,[13815,[13816]]],[13813,[13814]]],[13806,[13807,[13810,[13811]]],[13808,[13809]]]]]]],[114,[13783],[13784],[13785]],[115,[13781],[13782]],[116,[13776,[13777,[13778],[13779],[13780]]]],[117],[118,[13773],[13774,[13775]]],[119,[13707,[13708,[13709,[13772]],[13710,[13770],[13771]],[13711,[13767,[13768],[13769]]],[13712,[13713,[13762,[13765,[13766]]],[13763,[13764]]],[13714,[13757,[13760,[13761]]],[13758,[13759]]],[13715,[13752,[13755,[13756]]],[13753,[13754]]],[13716,[13747,[13750,[13751]]],[13748,[13749]]],[13717,[13742,[13745,[13746]]],[13743,[13744]]],[13718,[13737,[13740,[13741]]],[13738,[13739]]],[13719,[13732,[13735,[13736]]],[13733,[13734]]],[13720,[13727,[13730,[13731]]],[13728,[13729]]],[13721,[13722,[13725,[13726]]],[13723,[13724]]]]]]],[120],[121,[13703],[13704],[13705],[13706]],[122,[13701],[13702]],[123,[13697,[13698,[13699],[13700]]]],[124,[13695],[13696]],[125,[13692],[13693],[13694]],[126,[13691]],[127,[13687,[13688,[13689],[13690]]]],[128,[13686]],[129,[13684,[13685]]],[130,[13628,[13629,[13630,[13683]],[13631,[13681],[13682]],[13632,[13678,[13679],[13680]]],[13633,[13634,[13673,[13676,[13677]]],[13674,[13675]]],[13635,[13667,[13670,[13671],[13672]]],[13668,[13669]]],[13636,[13661,[13664,[13665],[13666]]],[13662,[13663]]],[13637,[13656,[13659,[13660]]],[13657,[13658]]],[13638,[13651,[13654,[13655]]],[13652,[13653]]],[13639,[13646,[13649,[13650]]],[13647,[13648]]],[13640,[13641,[13644,[13645]]],[13642,[13643]]]]]]],[131],[132,[13620,[13621,[13622],[13623],[13624],[13625],[13626],[13627]]]],[133],[134],[135],[136,[13619]],[137,[13615,[13616,[13617],[13618]]]],[138],[139],[140],[141,[13608,[13609,[13610],[13611],[13612],[13613],[13614]]]],[142],[143,[13576],[13577,[13606],[13607]],[13578,[13601,[13602,[13603],[13604],[13605]]]],[13579,[13599],[13600]],[13580,[13594,[13595,[13596],[13597],[13598]]]],[13581,[13593]],[13582,[13587,[13588,[13589],[13590],[13591],[13592]]]],[13583,[13584],[13585],[13586]]],[144,[13550],[13551,[13574],[13575]],[13552,[13571,[13572,[13573]]]],[13553],[13554,[13566,[13567,[13568],[13569],[13570]]]],[13555],[13556,[13563,[13564,[13565]]]],[13557,[13562]],[13558,[13559],[13560],[13561]]],[145],[146],[147,[13523],[13524,[13549]],[13525,[13543,[13544,[13545],[13546],[13547],[13548]]]],[13526,[13542]],[13527,[13538,[13539,[13540],[13541]]]],[13528],[13529,[13533,[13534,[13535],[13536],[13537]]]],[13530],[13531,[13532]]],[148,[13502],[13503,[13522]],[13504,[13516,[13517,[13518],[13519],[13520],[13521]]]],[13505,[13514],[13515]],[13506,[13510,[13511,[13512],[13513]]]],[13507,[13508],[13509]]],[149,[13485],[13486],[13487,[13498,[13499,[13500],[13501]]]],[13488],[13489,[13495],[13496],[13497]],[13490,[13491],[13492],[13493],[13494]]],[150,[13474],[13475,[13483],[13484]],[13476,[13479,[13480,[13481],[13482]]]],[13477,[13478]]],[151,[13454],[13455,[13472],[13473]],[13456,[13468,[13469,[13470],[13471]]]],[13457],[13458,[13467]],[13459,[13463,[13464,[13465],[13466]]]],[13460,[13461],[13462]]],[152,[13431],[13432,[13450],[13451],[13452],[13453]],[13433,[13445,[13446,[13447],[13448],[13449]]]],[13434,[13443],[13444]],[13435,[13442]],[13436,[13437,[13438,[13439],[13440],[13441]]]]],[153],[154],[155,[13415],[13416,[13430]],[13417,[13426,[13427,[13428],[13429]]]],[13418],[13419],[13420,[13421,[13422,[13423],[13424],[13425]]]]],[156,[13411],[13412],[13413],[13414]],[157,[13390],[13391,[13409],[13410]],[13392,[13403,[13404,[13405],[13406],[13407],[13408]]]],[13393,[13402]],[13394,[13401]],[13395,[13397,[13398,[13399],[13400]]]],[13396]],[158,[13372],[13373,[13387],[13388],[13389]],[13374,[13382,[13383,[13384],[13385],[13386]]]],[13375,[13381]],[13376,[13377,[13378,[13379],[13380]]]]],[159,[13352],[13353],[13354,[13368,[13369,[13370],[13371]]]],[13355],[13356,[13364,[13365,[13366],[13367]]]],[13357],[13358,[13359,[13360,[13361],[13362],[13363]]]]],[160,[13334],[13335,[13350],[13351]],[13336,[13346,[13347,[13348],[13349]]]],[13337,[13344],[13345]],[13338,[13340,[13341,[13342],[13343]]]],[13339]],[161,[13319],[13320,[13333]],[13321,[13329,[13330,[13331],[13332]]]],[13322,[13328]],[13323,[13324,[13325,[13326],[13327]]]]],[162,[13300],[13301,[13318]],[13302,[13313,[13314,[13315],[13316],[13317]]]],[13303],[13304,[13309,[13310,[13311],[13312]]]],[13305,[13306],[13307],[13308]]],[163,[13247],[13248],[13249,[13299]],[13250,[13292,[13293,[13294],[13295],[13296],[13297],[13298]]]],[13251,[13290],[13291]],[13252],[13253,[13285,[13286,[13287],[13288],[13289]]]],[13254],[13255,[13280,[13281,[13282],[13283],[13284]]]],[13256,[13279]],[13257,[13274,[13275,[13276],[13277],[13278]]]],[13258],[13259,[13270,[13271,[13272],[13273]]]],[13260,[13267],[13268],[13269]],[13261,[13262,[13263,[13264],[13265],[13266]]]]],[164,[13245],[13246]],[165],[166],[167],[168],[169,[13236,[13244]],[13237,[13242],[13243]],[13238],[13239],[13240,[13241]]],[170,[13231,[13232,[13233,[13234],[13235]]]]],[171],[172],[173],[174],[175,[13230]],[176],[177,[13229]],[178,[13223,[13224,[13225],[13226],[13227],[13228]]]],[179,[13222]],[180],[181,[13219,[13221]],[13220]],[182],[183,[13216,[13218]],[13217]],[184,[13214],[13215]],[185,[13211,[13212,[13213]]]],[186,[13208,[13210]],[13209]],[187,[13174],[13175,[13207]],[13176,[13203,[13204,[13205],[13206]]]],[13177],[13178,[13200,[13202]],[13201]],[13179,[13194],[13195],[13196],[13197],[13198],[13199]],[13180,[13191,[13193]],[13192]],[13181,[13189],[13190]],[13182,[13185,[13186,[13187],[13188]]]],[13183,[13184]]],[188],[189,[13172],[13173]],[190,[13168,[13169,[13170],[13171]]]],[191,[13166],[13167]],[192,[13163,[13165]],[13164]],[193],[194,[13157,[13158,[13159],[13160],[13161],[13162]]]],[195,[13154,[13156]],[13155]],[196,[13150],[13151],[13152],[13153]],[197,[13146,[13147,[13148],[13149]]]],[198,[13143,[13145]],[13144]],[199,[13140],[13141],[13142]],[200,[13137],[13138,[13139]]],[201],[202,[13131,[13132,[13133],[13134],[13135],[13136]]]],[203,[13127],[13128],[13129],[13130]],[204,[13124,[13126]],[13125]],[205,[13122],[13123]],[206,[13118,[13119,[13120],[13121]]]],[207],[208],[209],[210],[211],[212,[13111,[13112,[13117]],[13113,[13116]],[13114,[13115]]]],[213],[214,[13102,[13103,[13110]],[13104,[13109]],[13105,[13108]],[13106,[13107]]]],[215],[216],[217,[13099,[13101]],[13100]],[218,[13097],[13098]],[219,[13093,[13094,[13095],[13096]]]],[220],[221,[13088,[13089,[13090],[13091],[13092]]]],[222,[13085,[13087]],[13086]],[223,[13082],[13083],[13084]],[224,[13076,[13077,[13078],[13079],[13080],[13081]]]],[225,[13073,[13075]],[13074]],[226,[13071],[13072]],[227,[13069],[13070]],[228,[13065,[13066,[13067],[13068]]]],[229],[230],[231,[13058,[13059,[13060],[13061],[13062],[13063],[13064]]]],[232,[13053,[13057]],[13054,[13055],[13056]]],[233,[13051],[13052]],[234,[13046,[13047,[13048],[13049],[13050]]]],[235,[13045]],[236,[13044]],[237,[13039,[13043]],[13040,[13041],[13042]]],[238,[13035],[13036],[13037],[13038]],[239,[13031,[13032,[13033],[13034]]]],[240],[241,[13024,[13025,[13026],[13027],[13028],[13029],[13030]]]],[242,[13020,[13023]],[13021,[13022]]],[243,[13012],[13013],[13014],[13015],[13016],[13017],[13018],[13019]],[244,[12975],[12976,[13007],[13008],[13009],[13010],[13011]],[12977,[13002,[13003,[13004],[13005],[13006]]]],[12978,[12996],[12997],[12998],[12999],[13000],[13001]],[12979,[12993,[12995]],[12994]],[12980],[12981,[12990,[12992]],[12991]],[12982],[12983,[12989]],[12984,[12985,[12986,[12987],[12988]]]]],[245],[246,[12974]],[247,[12970,[12971,[12972],[12973]]]],[248,[12969]],[249,[12965,[12966,[12967],[12968]]]],[250],[251,[12954,[12955,[12956],[12957],[12958],[12959],[12960],[12961],[12962],[12963],[12964]]]],[252,[12948],[12949],[12950],[12951],[12952],[12953]],[253,[12942,[12943,[12944],[12945],[12946],[12947]]]],[254,[12938],[12939],[12940],[12941]],[255,[12937]],[256,[12933,[12934,[12935],[12936]]]],[257,[12932]],[258,[12929,[12930,[12931]]]],[259,[12928]],[260,[12924,[12925,[12926],[12927]]]],[261,[12923]],[262,[12905,[12906,[12907],[12908],[12909],[12910],[12911],[12912],[12913],[12914],[12915],[12916],[12917],[12918],[12919],[12920],[12921],[12922]]]],[263],[264,[12856],[12857],[12858,[12904]],[12859,[12900,[12901,[12902],[12903]]]],[12860,[12895],[12896],[12897],[12898],[12899]],[12861,[12891,[12892,[12893],[12894]]]],[12862,[12888],[12889],[12890]],[12863,[12884,[12885,[12886],[12887]]]],[12864,[12881],[12882],[12883]],[12865,[12880]],[12866,[12876,[12877,[12878],[12879]]]],[12867,[12875]],[12868,[12871,[12872,[12873],[12874]]]],[12869,[12870]]],[265],[266],[267,[12833],[12834],[12835,[12851],[12852],[12853],[12854],[12855]],[12836],[12837,[12848,[12850]],[12849]],[12838],[12839,[12845,[12847]],[12846]],[12840,[12841],[12842],[12843],[12844]]],[268,[12796],[12797,[12832]],[12798,[12828],[12829],[12830],[12831]],[12799,[12819],[12820],[12821],[12822],[12823],[12824],[12825],[12826],[12827]],[12800,[12816,[12818]],[12817]],[12801,[12811],[12812],[12813],[12814],[12815]],[12802,[12806,[12810]],[12807,[12808],[12809]]],[12803,[12805]],[12804]],[269],[270,[12794],[12795]],[271],[272,[12787],[12788],[12789],[12790],[12791],[12792],[12793]],[273,[12780],[12781],[12782],[12783],[12784],[12785],[12786]],[274,[12773],[12774,[12775,[12776],[12777],[12778],[12779]]]],[275,[12770,[12772]],[12771]],[276,[12766],[12767],[12768],[12769]],[277,[12763,[12765]],[12764]],[278,[12760],[12761],[12762]],[279,[12756,[12759]],[12757,[12758]]],[280,[12752],[12753],[12754],[12755]],[281,[12749,[12751]],[12750]],[282,[12743],[12744],[12745],[12746],[12747],[12748]],[283,[12739,[12742]],[12740,[12741]]],[284,[12690],[12691],[12692,[12737],[12738]],[12693,[12733,[12734,[12735],[12736]]]],[12694,[12724],[12725],[12726],[12727],[12728],[12729],[12730],[12731],[12732]],[12695,[12717],[12718,[12719],[12720,[12723]],[12721,[12722]]]],[12696,[12715],[12716]],[12697,[12711,[12712,[12713],[12714]]]],[12698,[12709],[12710]],[12699,[12707],[12708]],[12700,[12703,[12704,[12705],[12706]]]],[12701,[12702]]],[285,[12629],[12630,[12689]],[12631,[12684],[12685],[12686],[12687],[12688]],[12632,[12680,[12681,[12682],[12683]]]],[12633],[12634,[12676,[12677,[12678],[12679]]]],[12635,[12674],[12675]],[12636,[12671],[12672],[12673]],[12637,[12667,[12668,[12669],[12670]]]],[12638,[12658],[12659,[12660,[12661],[12662],[12663],[12664],[12665],[12666]]]],[12639,[12656],[12657]],[12640,[12652,[12653,[12654],[12655]]]],[12641,[12644],[12645],[12646],[12647],[12648],[12649],[12650],[12651]],[12642,[12643]]],[286,[12616],[12617,[12622],[12623],[12624],[12625],[12626],[12627],[12628]],[12618,[12619],[12620],[12621]]],[287,[12604],[12605,[12612],[12613],[12614],[12615]],[12606,[12608,[12609,[12610],[12611]]]],[12607]],[288],[289,[12602],[12603]],[290,[12544],[12545,[12601]],[12546,[12598,[12600]],[12599]],[12547,[12594],[12595],[12596],[12597]],[12548,[12591,[12593]],[12592]],[12549,[12587],[12588],[12589],[12590]],[12550],[12551,[12582,[12583,[12584],[12585],[12586]]]],[12552,[12578],[12579],[12580],[12581]],[12553,[12573,[12577]],[12574,[12575],[12576]]],[12554,[12572]],[12555,[12567,[12568,[12569],[12570],[12571]]]],[12556,[12564,[12566]],[12565]],[12557,[12561],[12562],[12563]],[12558,[12560]],[12559]],[291],[292,[12534],[12535],[12536],[12537],[12538],[12539],[12540],[12541],[12542],[12543]],[293,[12531,[12533]],[12532]],[294,[12522],[12523],[12524],[12525],[12526],[12527],[12528],[12529],[12530]],[295,[12518,[12519,[12520],[12521]]]],[296,[12514],[12515],[12516],[12517]],[297,[12511,[12513]],[12512]],[298,[12509],[12510]],[299,[12504,[12505,[12506],[12507],[12508]]]],[300,[12501,[12503]],[12502]],[301,[12496],[12497],[12498],[12499],[12500]],[302,[12492,[12493,[12494],[12495]]]],[303,[12489],[12490],[12491]],[304,[12486,[12488]],[12487]],[305],[306,[12481,[12482,[12483],[12484],[12485]]]],[307,[12478],[12479],[12480]],[308,[12473,[12474,[12475],[12476],[12477]]]],[309,[12470,[12472]],[12471]],[310,[12437],[12438],[12439,[12469]],[12440],[12441,[12468]],[12442],[12443,[12465,[12467]],[12466]],[12444],[12445,[12462,[12464]],[12463]],[12446,[12461]],[12447,[12458,[12460]],[12459]],[12448,[12457]],[12449,[12454,[12456]],[12455]],[12450,[12451],[12452],[12453]]],[311,[12397],[12398,[12436]],[12399],[12400],[12401,[12434],[12435]],[12402,[12424,[12425,[12433]],[12426,[12432]],[12427,[12431]],[12428,[12429,[12430]]]]],[12403,[12422],[12423]],[12404,[12419,[12421]],[12420]],[12405],[12406,[12415],[12416],[12417],[12418]],[12407,[12411],[12412],[12413],[12414]],[12408],[12409,[12410]]],[312,[12389],[12390],[12391,[12396]],[12392,[12395]],[12393],[12394]],[313,[12387],[12388]],[314],[315],[316],[317],[318,[12383],[12384],[12385],[12386]],[319,[12378,[12379,[12380,[12381],[12382]]]]],[320],[321],[322],[323,[12376],[12377]],[324],[325],[326,[12338],[12339,[12375]],[12340],[12341,[12371,[12372,[12373],[12374]]]],[12342],[12343,[12367,[12368,[12369],[12370]]]],[12344,[12363],[12364],[12365],[12366]],[12345],[12346,[12359,[12360,[12361],[12362]]]],[12347],[12348,[12354],[12355,[12358]],[12356,[12357]]],[12349,[12350],[12351],[12352],[12353]]],[327,[12292],[12293],[12294,[12332],[12333],[12334,[12337]],[12335,[12336]]],[12295,[12307],[12308,[12330],[12331]],[12309,[12322,[12323,[12324],[12325],[12326],[12327],[12328],[12329]]]],[12310,[12320],[12321]],[12311,[12316,[12317,[12318],[12319]]]],[12312,[12314],[12315]],[12313]],[12296,[12302],[12303],[12304],[12305],[12306]],[12297,[12298],[12299],[12300,[12301]]]],[328,[12270],[12271],[12272,[12291]],[12273,[12287,[12288,[12289],[12290]]]],[12274],[12275,[12283,[12284,[12285],[12286]]]],[12276],[12277,[12281],[12282]],[12278,[12279],[12280]]],[329,[12259],[12260,[12269]],[12261,[12267],[12268]],[12262,[12263],[12264,[12265],[12266]]]],[330],[331],[332,[12257,[12258]]],[333],[334,[12253,[12254,[12255],[12256]]]],[335,[12252]],[336],[337,[12248,[12249,[12250],[12251]]]],[338],[339,[12215],[12216,[12245],[12246],[12247]],[12217,[12241,[12242,[12243],[12244]]]],[12218,[12240]],[12219,[12236,[12237,[12238],[12239]]]],[12220,[12235]],[12221,[12233],[12234]],[12222,[12227,[12228,[12229],[12230],[12231],[12232]]]],[12223],[12224],[12225,[12226]]],[340,[12202],[12203],[12204,[12205],[12206],[12207],[12208,[12214]],[12209,[12211],[12212],[12213]],[12210]]],[341,[12168],[12169,[12201]],[12170,[12196,[12197,[12198],[12199],[12200]]]],[12171,[12189],[12190],[12191],[12192],[12193],[12194],[12195]],[12172,[12185,[12186,[12187],[12188]]]],[12173,[12183],[12184]],[12174,[12182]],[12175,[12178,[12179,[12180],[12181]]]],[12176,[12177]]],[342],[343,[12165],[12166],[12167]],[344,[12157,[12158,[12159],[12160],[12161],[12162],[12163],[12164]]]],[345,[12155],[12156]],[346,[12151,[12152,[12153],[12154]]]],[347,[12148],[12149],[12150]],[348,[12142,[12143,[12144],[12145],[12146],[12147]]]],[349,[12140],[12141]],[350,[12133,[12134,[12135],[12136],[12137],[12138],[12139]]]],[351,[12129],[12130],[12131],[12132]],[352,[12113,[12114,[12115],[12116],[12117],[12118],[12119],[12120],[12121],[12122],[12123],[12124],[12125],[12126],[12127],[12128]]]],[353],[354,[12104,[12105,[12106],[12107],[12108],[12109],[12110],[12111],[12112]]]],[355],[356,[12101],[12102],[12103]],[357,[12093],[12094],[12095],[12096],[12097],[12098],[12099],[12100]],[358,[12084,[12085,[12086],[12087],[12088],[12089],[12090],[12091],[12092]]]],[359,[12083]],[360,[12078,[12079,[12080],[12081],[12082]]]],[361,[12077]],[362,[12073,[12074,[12075],[12076]]]],[363,[12070],[12071],[12072]],[364,[12028],[12029],[12030],[12031],[12032,[12067,[12068,[12069]]]],[12033,[12065],[12066]],[12034],[12035,[12062,[12063,[12064]]]],[12036],[12037,[12059,[12060,[12061]]]],[12038,[12056],[12057],[12058]],[12039],[12040,[12053,[12054,[12055]]]],[12041,[12051],[12052]],[12042,[12050]],[12043,[12045,[12046,[12047],[12048],[12049]]]],[12044]],[365,[11977],[11978,[12025],[12026],[12027]],[11979],[11980,[12020,[12021,[12022],[12023],[12024]]]],[11981,[12017],[12018],[12019]],[11982,[12015],[12016]],[11983,[12012,[12013,[12014]]]],[11984,[12010],[12011]],[11985],[11986,[12007,[12008,[12009]]]],[11987],[11988,[12004,[12005,[12006]]]],[11989,[12003]],[11990,[11998,[11999,[12000],[12001],[12002]]]],[11991],[11992,[11997]],[11993,[11994,[11995,[11996]]]]],[366,[11930],[11931],[11932,[11974,[11976]],[11975]],[11933,[11967],[11968],[11969],[11970],[11971],[11972],[11973]],[11934,[11963,[11964,[11965],[11966]]]],[11935,[11962]],[11936,[11958,[11959,[11960],[11961]]]],[11937,[11955],[11956],[11957]],[11938,[11947,[11948,[11949],[11950],[11951],[11952],[11953],[11954]]]],[11939,[11946]],[11940,[11943,[11944,[11945]]]],[11941,[11942]]],[367],[368],[369,[11920],[11921],[11922,[11929]],[11923,[11926,[11928]],[11927]],[11924,[11925]]],[370,[11878],[11879,[11918],[11919]],[11880,[11915,[11917]],[11916]],[11881,[11903],[11904,[11911],[11912],[11913],[11914]],[11905,[11908,[11910]],[11909]],[11906],[11907]],[11882,[11893],[11894,[11900],[11901],[11902]],[11895,[11897,[11899]],[11898]],[11896]],[11883,[11887],[11888],[11889,[11890],[11891],[11892]]],[11884,[11885],[11886]]],[371,[11862],[11863],[11864,[11877]],[11865,[11873,[11874,[11875],[11876]]]],[11866],[11867,[11869,[11870,[11871],[11872]]]],[11868]],[372,[11854],[11855,[11861]],[11856,[11859],[11860]],[11857],[11858]],[373,[11848],[11849],[11850,[11853]],[11851,[11852]]],[374,[11845],[11846],[11847]],[375],[376],[377],[378],[379,[11835],[11836,[11841],[11842],[11843],[11844]],[11837,[11838,[11840]],[11839]]],[380,[11830,[11831,[11832,[11833],[11834]]]]],[381],[382],[383],[384],[385,[11821],[11822],[11823,[11827,[11829]],[11828]],[11824],[11825],[11826]],[386,[11799],[11800,[11820]],[11801,[11807,[11808,[11819]],[11809,[11818]],[11810,[11817]],[11811,[11816]],[11812,[11815]],[11813,[11814]]]],[11802,[11804,[11806]],[11805]],[11803]],[387,[11776],[11777,[11798]],[11778,[11784,[11785,[11796,[11797]]],[11786,[11794,[11795]]],[11787,[11791,[11792],[11793]]],[11788,[11789,[11790]]]]],[11779,[11781,[11783]],[11782]],[11780]],[388,[11774],[11775]],[389],[390],[391],[392],[393],[394],[395,[11749],[11750,[11773]],[11751,[11772]],[11752,[11768,[11771]],[11769,[11770]]],[11753],[11754,[11765],[11766],[11767]],[11755],[11756,[11762,[11763,[11764]]]],[11757,[11761]],[11758,[11759],[11760]]],[396],[397],[398,[11748]],[399,[11738,[11739,[11740],[11741],[11742],[11743],[11744],[11745],[11746],[11747]]]],[400],[401,[11728,[11729,[11730],[11731],[11732],[11733],[11734],[11735],[11736],[11737]]]],[402],[403,[11722,[11723,[11724],[11725],[11726],[11727]]]],[404],[405,[11716,[11717,[11718],[11719],[11720],[11721]]]],[406],[407,[11712,[11713,[11714],[11715]]]],[408],[409,[11709,[11711]],[11710]],[410],[411,[11705,[11706,[11707],[11708]]]],[412],[413,[11701,[11704]],[11702,[11703]]],[414],[415,[11697,[11698,[11699],[11700]]]],[416],[417,[11693,[11696]],[11694,[11695]]],[418,[11692]],[419,[11689,[11691]],[11690]],[420],[421,[11683,[11684,[11685],[11686],[11687],[11688]]]],[422],[423,[11680,[11682]],[11681]],[424,[11679]],[425,[11675,[11676,[11677],[11678]]]],[426,[11671],[11672],[11673],[11674]],[427,[11670]],[428,[11668],[11669]],[429,[11664,[11665,[11666],[11667]]]],[430,[11661],[11662],[11663]],[431,[11657,[11658,[11659],[11660]]]],[432,[11656]],[433,[11652,[11653,[11654],[11655]]]],[434],[435,[11649,[11651]],[11650]],[436,[11647],[11648]],[437,[11643,[11644,[11645],[11646]]]],[438],[439,[11640,[11642]],[11641]],[440,[11638],[11639]],[441,[11635,[11637]],[11636]],[442],[443],[444,[11634]],[445,[11633]],[446,[11624,[11625,[11626],[11627],[11628],[11629],[11630],[11631],[11632]]]],[447,[11622],[11623]],[448,[11618,[11619,[11620],[11621]]]],[449,[11615],[11616],[11617]],[450,[11608,[11609,[11610],[11611],[11612],[11613],[11614]]]],[451,[11607]],[452,[11598,[11599,[11600],[11601],[11602],[11603],[11604],[11605],[11606]]]],[453],[454,[11595,[11597]],[11596]],[455,[11593],[11594]],[456,[11589,[11590,[11591],[11592]]]],[457,[11588]],[458,[11584,[11585,[11586],[11587]]]],[459,[11581],[11582],[11583]],[460,[11577,[11578,[11579],[11580]]]],[461,[11573],[11574],[11575],[11576]],[462,[11571],[11572]],[463,[11567,[11568,[11569],[11570]]]],[464,[11566]],[465,[11562,[11563,[11564],[11565]]]],[466,[11561]],[467,[11556,[11557,[11558],[11559],[11560]]]],[468],[469,[11550,[11551,[11552],[11553],[11554],[11555]]]],[470],[471,[11547,[11549]],[11548]],[472,[11545],[11546]],[473,[11542,[11544]],[11543]],[474],[475,[11539,[11541]],[11540]],[476],[477],[478],[479,[11529,[11530,[11531],[11532],[11533],[11534],[11535],[11536],[11537],[11538]]]],[480,[11525,[11526,[11527],[11528]]]],[481,[11524]],[482,[11520,[11521,[11522],[11523]]]],[483],[484,[11516,[11517,[11518],[11519]]]],[485,[11514],[11515]],[486,[11513]],[487,[11509,[11510,[11511],[11512]]]],[488],[489,[11506],[11507],[11508]],[490,[11497,[11498,[11499],[11500],[11501],[11502],[11503],[11504],[11505]]]],[491],[492,[11493,[11496]],[11494,[11495]]],[493,[11492]],[494,[11486,[11487,[11488],[11489],[11490],[11491]]]],[495,[11484,[11485]]],[496,[11480,[11483]],[11481,[11482]]],[497,[11477],[11478],[11479]],[498,[11474],[11475],[11476]],[499],[500,[11466,[11467,[11468],[11469],[11470],[11471],[11472],[11473]]]],[501,[11464],[11465]],[502,[11463]],[503,[11459,[11462]],[11460,[11461]]],[504],[505],[506],[507,[11451,[11452,[11453],[11454],[11455],[11456],[11457],[11458]]]],[508,[11449],[11450]],[509,[11445,[11446,[11447],[11448]]]],[510,[11443],[11444]],[511,[11439,[11440,[11441],[11442]]]],[512,[11437],[11438]],[513,[11436]],[514,[11434],[11435]],[515,[11424,[11425,[11426],[11427],[11428],[11429],[11430],[11431],[11432],[11433]]]],[516,[11421],[11422],[11423]],[517,[11417,[11418,[11419],[11420]]]],[518],[519,[11415],[11416]],[520,[11407,[11408,[11409],[11410],[11411],[11412],[11413],[11414]]]],[521,[11406]],[522,[11402,[11403,[11404],[11405]]]],[523],[524,[11399,[11400,[11401]]]],[525,[11397],[11398]],[526],[527,[11396]],[528,[11378],[11379,[11393],[11394],[11395]],[11380,[11389,[11390,[11391],[11392]]]],[11381,[11388]],[11382,[11384,[11385,[11386],[11387]]]],[11383]],[529],[530,[11376],[11377]],[531,[11348,[11375]],[11349,[11371],[11372],[11373],[11374]],[11350,[11367,[11368,[11369],[11370]]]],[11351,[11360],[11361],[11362],[11363],[11364],[11365],[11366]],[11352,[11359]],[11353,[11355,[11356,[11357],[11358]]]],[11354]],[532,[11347]],[533,[11343],[11344],[11345],[11346]],[534,[11340],[11341],[11342]],[535,[11337,[11338,[11339]]]],[536,[11336]],[537,[11334],[11335]],[538,[11330,[11331,[11332],[11333]]]],[539,[11327],[11328],[11329]],[540,[11325,[11326]]],[541,[11323],[11324]],[542,[11322]],[543,[11318,[11319,[11320],[11321]]]],[544,[11317]],[545,[11311,[11312,[11313],[11314],[11315],[11316]]]],[546,[11309],[11310]],[547,[11305,[11306,[11307],[11308]]]],[548,[11304]],[549,[11303]],[550,[11299,[11300,[11301],[11302]]]],[551],[552],[553,[11277],[11278],[11279,[11298]],[11280,[11292,[11293,[11294],[11295],[11296],[11297]]]],[11281],[11282],[11283,[11291]],[11284,[11290]],[11285,[11286,[11287,[11288],[11289]]]]],[554,[11233],[11234],[11235,[11274],[11275],[11276]],[11236,[11270,[11271,[11272],[11273]]]],[11237,[11268],[11269]],[11238],[11239,[11264,[11265,[11266],[11267]]]],[11240,[11261],[11262],[11263]],[11241,[11259],[11260]],[11242],[11243],[11244,[11254,[11255,[11256],[11257],[11258]]]],[11245,[11252],[11253]],[11246,[11248,[11249,[11250],[11251]]]],[11247]],[555],[556],[557,[11190],[11191,[11225],[11226],[11227],[11228],[11229],[11230],[11231],[11232]],[11192,[11222,[11224]],[11223]],[11193,[11219,[11221]],[11220]],[11194],[11195,[11209],[11210],[11211],[11212],[11213],[11214],[11215],[11216],[11217],[11218]],[11196,[11206,[11208]],[11207]],[11197,[11203,[11205]],[11204]],[11198,[11200,[11202]],[11201]],[11199]],[558,[11165],[11166,[11184],[11185],[11186],[11187],[11188],[11189]],[11167,[11181,[11183]],[11182]],[11168,[11176],[11177],[11178],[11179],[11180]],[11169,[11173,[11175]],[11174]],[11170,[11171],[11172]]],[559,[11142],[11143,[11163],[11164]],[11144],[11145,[11160,[11162]],[11161]],[11146,[11159]],[11147,[11155,[11156,[11157],[11158]]]],[11148,[11154]],[11149,[11151,[11153]],[11152]],[11150]],[560,[11126],[11127],[11128],[11129,[11141]],[11130,[11137,[11138,[11139],[11140]]]],[11131],[11132,[11133],[11134],[11135],[11136]]],[561,[11085],[11086,[11125]],[11087,[11120,[11121,[11122],[11123],[11124]]]],[11088,[11119]],[11089,[11115,[11116,[11117],[11118]]]],[11090,[11113],[11114]],[11091,[11109,[11110,[11111],[11112]]]],[11092,[11108]],[11093,[11104,[11105,[11106],[11107]]]],[11094,[11102],[11103]],[11095,[11098,[11099,[11100],[11101]]]],[11096,[11097]]],[562,[11069],[11070,[11084]],[11071,[11080,[11081,[11082],[11083]]]],[11072,[11079]],[11073,[11074],[11075],[11076],[11077],[11078]]],[563,[11045],[11046,[11068]],[11047,[11060,[11061,[11062],[11063],[11064],[11065],[11066],[11067]]]],[11048,[11058],[11059]],[11049,[11051,[11052,[11053],[11054],[11055],[11056],[11057]]]],[11050]],[564,[11036],[11037,[11044]],[11038,[11040,[11041,[11042],[11043]]]],[11039]],[565,[11034],[11035]],[566],[567],[568],[569],[570,[11023],[11024,[11030],[11031],[11032,[11033]]],[11025,[11028,[11029]]],[11026,[11027]]],[571,[11019,[11020,[11021,[11022]]]]],[572],[573],[574,[11018]],[575,[11015],[11016,[11017]]],[576],[577,[11014]],[578,[11011,[11013]],[11012]],[579],[580,[11009,[11010]]],[581],[582,[10990],[10991,[11008]],[10992,[11007]],[10993,[11004,[11006]],[11005]],[10994],[10995,[11001,[11003]],[11002]],[10996,[11000]],[10997,[10998,[10999]]]],[583,[10976],[10977,[10989]],[10978,[10986,[10988]],[10987]],[10979],[10980,[10983,[10985]],[10984]],[10981],[10982]],[584,[10968],[10969],[10970,[10973,[10975]],[10974]],[10971,[10972]]],[585,[10958],[10959],[10960],[10961,[10965,[10967]],[10966]],[10962,[10964]],[10963]],[586],[587],[588,[10946],[10947],[10948,[10956,[10957]]],[10949],[10950],[10951,[10953,[10955]],[10954]],[10952]],[589],[590,[10944],[10945]],[591],[592,[10930,[10931,[10942,[10943]]],[10932,[10941]],[10933,[10940]],[10934,[10939]],[10935,[10938]],[10936,[10937]]]],[593,[10929]],[594],[595,[10867],[10868,[10928]],[10869,[10925,[10927]],[10926]],[10870],[10871,[10924]],[10872,[10905,[10906,[10907],[10908],[10909],[10910],[10911],[10912],[10913],[10914],[10915],[10916],[10917],[10918],[10919],[10920],[10921],[10922],[10923]]]],[10873,[10892,[10893,[10904]],[10894,[10903]],[10895,[10902]],[10896,[10901]],[10897,[10900]],[10898,[10899]]]],[10874],[10875,[10891]],[10876,[10888,[10890]],[10889]],[10877],[10878],[10879,[10885,[10887]],[10886]],[10880],[10881,[10882,[10883,[10884]]]]],[596,[10829],[10830],[10831,[10866]],[10832,[10863,[10865]],[10864]],[10833],[10834,[10860,[10862]],[10861]],[10835,[10859]],[10836,[10856,[10858]],[10857]],[10837],[10838],[10839,[10853,[10855]],[10854]],[10840,[10851],[10852]],[10841,[10850]],[10842,[10849]],[10843],[10844,[10845],[10846,[10847,[10848]]]]],[597],[598],[599,[10824],[10825],[10826],[10827,[10828]]],[600,[10775],[10776],[10777,[10821,[10823]],[10822]],[10778,[10820]],[10779,[10819]],[10780],[10781],[10782],[10783,[10804,[10805,[10806],[10807],[10808],[10809],[10810],[10811],[10812],[10813],[10814],[10815],[10816],[10817],[10818]]]],[10784,[10793,[10794,[10803]],[10795,[10802]],[10796,[10801]],[10797,[10800]],[10798,[10799]]]],[10785],[10786,[10790,[10792]],[10791]],[10787],[10788,[10789]]],[601,[10749],[10750],[10751,[10772],[10773],[10774]],[10752,[10771]],[10753,[10768,[10770]],[10769]],[10754,[10767]],[10755,[10764,[10766]],[10765]],[10756],[10757,[10763]],[10758,[10760,[10762]],[10761]],[10759]],[602],[603],[604,[10748]],[605,[10745,[10747]],[10746]],[606],[607],[608,[10725],[10726],[10727],[10728,[10743,[10744]]],[10729,[10742]],[10730,[10739,[10741]],[10740]],[10731],[10732,[10738]],[10733,[10735,[10737]],[10736]],[10734]],[609,[10713],[10714],[10715],[10716,[10723,[10724]]],[10717,[10722]],[10718,[10719,[10721]],[10720]]],[610,[10699],[10700,[10711],[10712]],[10701],[10702,[10709,[10710]]],[10703,[10708]],[10704,[10705,[10707]],[10706]]],[611,[10675],[10676,[10698]],[10677,[10695,[10697]],[10696]],[10678,[10694]],[10679,[10692,[10693]]],[10680,[10691]],[10681,[10688,[10690]],[10689]],[10682],[10683,[10684,[10685],[10686,[10687]]]]],[612,[10667],[10668],[10669,[10672,[10674]],[10673]],[10670,[10671]]],[613],[614],[615,[10640],[10641,[10665],[10666]],[10642,[10662,[10664]],[10663]],[10643,[10659,[10661]],[10660]],[10644],[10645,[10656,[10658]],[10657]],[10646,[10655]],[10647,[10654]],[10648,[10652],[10653]],[10649,[10650,[10651]]]],[616,[10628],[10629],[10630],[10631,[10637,[10639]],[10638]],[10632],[10633,[10634,[10636]],[10635]]],[617],[618],[619],[620],[621,[10609],[10610,[10627]],[10611,[10624,[10626]],[10625]],[10612],[10613,[10622],[10623]],[10614,[10620],[10621]],[10615,[10616,[10617,[10618],[10619]]]]],[622,[10592],[10593,[10608]],[10594],[10595,[10605,[10607]],[10606]],[10596,[10604]],[10597,[10603]],[10598,[10600,[10602]],[10601]],[10599]],[623],[624,[10590],[10591]],[625],[626,[10588],[10589]],[627],[628,[10584,[10585,[10586],[10587]]]],[629,[10583]],[630,[10581],[10582]],[631,[10573],[10574],[10575],[10576],[10577],[10578],[10579],[10580]],[632],[633,[10569,[10570,[10571],[10572]]]],[634,[10564],[10565],[10566],[10567],[10568]],[635,[10561],[10562],[10563]],[636,[10559,[10560]]],[637,[10555],[10556],[10557],[10558]],[638,[10553,[10554]]],[639,[10550],[10551],[10552]],[640,[10544,[10545,[10546],[10547],[10548],[10549]]]],[641],[642,[10540,[10541,[10542],[10543]]]],[643,[10538],[10539]],[644,[10528],[10529,[10537]],[10530],[10531],[10532,[10534,[10536]],[10535]],[10533]],[645,[10514],[10515],[10516],[10517,[10525,[10527]],[10526]],[10518],[10519],[10520],[10521,[10522,[10524]],[10523]]],[646,[10507],[10508],[10509,[10511,[10513]],[10512]],[10510]],[647,[10497],[10498,[10506]],[10499,[10503,[10505]],[10504]],[10500,[10502]],[10501]],[648,[10478],[10479,[10495],[10496]],[10480],[10481,[10494]],[10482,[10491,[10492,[10493]]]],[10483,[10488],[10489],[10490]],[10484,[10486],[10487]],[10485]],[649,[10476],[10477]],[650,[10456],[10457,[10472],[10473],[10474],[10475]],[10458],[10459,[10461,[10462,[10471]],[10463,[10470]],[10464,[10469]],[10465,[10468]],[10466,[10467]]]],[10460]],[651,[10446],[10447,[10453],[10454],[10455]],[10448,[10450,[10452]],[10451]],[10449]],[652,[10427],[10428],[10429,[10439],[10440],[10441,[10443,[10445]],[10444]],[10442]],[10430,[10431],[10432],[10433,[10436,[10438]],[10437]],[10434],[10435]]],[653,[10370],[10371],[10372,[10415],[10416],[10417,[10424,[10426]],[10425]],[10418],[10419],[10420],[10421,[10423]],[10422]],[10373,[10383],[10384],[10385,[10408],[10409],[10410],[10411],[10412],[10413],[10414]],[10386],[10387,[10405,[10407]],[10406]],[10388,[10403],[10404]],[10389,[10400,[10402]],[10401]],[10390],[10391,[10398],[10399]],[10392,[10393],[10394],[10395],[10396],[10397]]],[10374,[10375],[10376,[10382]],[10377,[10379,[10381]],[10380]],[10378]]],[654],[655],[656],[657],[658],[659,[10355],[10356,[10369]],[10357,[10366,[10368]],[10367]],[10358,[10365]],[10359,[10362,[10364]],[10363]],[10360],[10361]],[660,[10298],[10299],[10300],[10301,[10353],[10354]],[10302,[10350,[10352]],[10351]],[10303,[10349]],[10304],[10305],[10306,[10316,[10317,[10318],[10319],[10320],[10321],[10322],[10323],[10324],[10325],[10326],[10327],[10328],[10329],[10330],[10331],[10332],[10333],[10334],[10335],[10336],[10337],[10338],[10339],[10340],[10341],[10342],[10343],[10344],[10345],[10346],[10347],[10348]]]],[10307],[10308],[10309,[10313,[10315]],[10314]],[10310],[10311,[10312]]],[661,[10295],[10296],[10297]],[662,[10252],[10253],[10254,[10275,[10276,[10277],[10278],[10279],[10280],[10281],[10282],[10283],[10284],[10285],[10286],[10287],[10288],[10289],[10290],[10291],[10292],[10293],[10294]]]],[10255,[10274]],[10256,[10257,[10258,[10259],[10260],[10261],[10262],[10263],[10264],[10265],[10266],[10267],[10268],[10269],[10270],[10271],[10272],[10273]]]]],[663,[10208],[10209],[10210],[10211,[10249,[10251]],[10250]],[10212],[10213],[10214],[10215,[10248]],[10216,[10224,[10225,[10226],[10227],[10228],[10229],[10230],[10231],[10232],[10233],[10234],[10235],[10236],[10237],[10238],[10239],[10240],[10241],[10242],[10243],[10244],[10245],[10246],[10247]]]],[10217,[10223]],[10218,[10220,[10222]],[10221]],[10219]],[664,[10135],[10136],[10137],[10138,[10207]],[10139,[10154,[10155,[10156],[10157],[10158],[10159],[10160],[10161],[10162],[10163],[10164],[10165],[10166],[10167],[10168],[10169],[10170],[10171],[10172],[10173],[10174],[10175],[10176],[10177],[10178],[10179],[10180],[10181],[10182],[10183],[10184],[10185],[10186],[10187],[10188],[10189],[10190],[10191],[10192],[10193],[10194],[10195],[10196],[10197],[10198],[10199],[10200],[10201],[10202],[10203],[10204],[10205],[10206]]]],[10140,[10152],[10153]],[10141,[10149],[10150],[10151]],[10142,[10148]],[10143,[10145,[10147]],[10146]],[10144]],[665,[10129],[10130,[10133],[10134]],[10131,[10132]]],[666,[10127],[10128]],[667],[668],[669],[670],[671,[10099,[10126]],[10100],[10101,[10125]],[10102],[10103],[10104,[10124]],[10105,[10123]],[10106,[10118,[10122]],[10119],[10120,[10121]]],[10107],[10108],[10109,[10115,[10116],[10117]]],[10110],[10111],[10112,[10113],[10114]]],[672,[10094,[10095,[10096,[10097],[10098]]]]],[673],[674],[675],[676],[677,[10092],[10093]],[678,[10055],[10056],[10057,[10091]],[10058,[10087,[10088,[10089],[10090]]]],[10059,[10085],[10086]],[10060,[10079,[10080,[10081],[10082],[10083],[10084]]]],[10061,[10077],[10078]],[10062,[10073,[10074,[10075],[10076]]]],[10063],[10064],[10065,[10066],[10067,[10068],[10069],[10070,[10072]],[10071]]]],[679,[10035],[10036,[10053],[10054]],[10037,[10048,[10049,[10050],[10051],[10052]]]],[10038,[10044],[10045],[10046],[10047]],[10039,[10040,[10041,[10042],[10043]]]]],[680,[9997],[9998],[9999,[10034]],[10000,[10030,[10031,[10032],[10033]]]],[10001,[10029]],[10002,[10025,[10026,[10027],[10028]]]],[10003,[10024]],[10004,[10020,[10021,[10022],[10023]]]],[10005],[10006,[10018],[10019]],[10007,[10014,[10015,[10016],[10017]]]],[10008,[10013]],[10009,[10010],[10011,[10012]]]],[681,[9952],[9953,[9996]],[9954,[9991,[9992,[9993],[9994],[9995]]]],[9955,[9990]],[9956,[9986,[9987,[9988],[9989]]]],[9957,[9984],[9985]],[9958,[9979,[9980,[9981],[9982],[9983]]]],[9959,[9974],[9975],[9976],[9977],[9978]],[9960,[9970,[9971,[9972],[9973]]]],[9961,[9969]],[9962,[9965,[9966,[9967],[9968]]]],[9963,[9964]]],[682],[683],[684,[9914],[9915,[9951]],[9916,[9948,[9950]],[9949]],[9917,[9947]],[9918,[9943,[9944,[9945],[9946]]]],[9919,[9938],[9939],[9940],[9941],[9942]],[9920,[9934,[9935,[9936],[9937]]]],[9921,[9933]],[9922,[9929,[9930,[9931],[9932]]]],[9923,[9924],[9925],[9926],[9927],[9928]]],[685,[9892],[9893,[9912],[9913]],[9894,[9906,[9907,[9908],[9909],[9910],[9911]]]],[9895,[9903],[9904],[9905]],[9896,[9898,[9899,[9900],[9901],[9902]]]],[9897]],[686,[9870],[9871,[9890],[9891]],[9872,[9886,[9887,[9888],[9889]]]],[9873,[9885]],[9874,[9883],[9884]],[9875,[9877,[9878,[9879],[9880],[9881],[9882]]]],[9876]],[687],[688,[9867],[9868],[9869]],[689,[9863,[9864,[9865],[9866]]]],[690,[9862]],[691],[692,[9820],[9821,[9859],[9860],[9861]],[9822,[9856,[9857,[9858]]]],[9823],[9824,[9853,[9854,[9855]]]],[9825,[9851],[9852]],[9826,[9848,[9849,[9850]]]],[9827,[9846],[9847]],[9828,[9843,[9844,[9845]]]],[9829],[9830,[9840,[9841,[9842]]]],[9831,[9837],[9838],[9839]],[9832,[9834,[9835,[9836]]]],[9833]],[693,[9792],[9793,[9818],[9819]],[9794,[9815,[9816,[9817]]]],[9795,[9814]],[9796,[9811,[9812,[9813]]]],[9797],[9798,[9808,[9809,[9810]]]],[9799,[9807]],[9800,[9805],[9806]],[9801,[9802],[9803],[9804]]],[694],[695,[9791]],[696],[697],[698,[9790]],[699,[9786,[9787,[9788],[9789]]]],[700,[9784],[9785]],[701,[9780,[9781,[9782],[9783]]]],[702],[703,[9775,[9776,[9777],[9778],[9779]]]],[704,[9774]],[705,[9770,[9771,[9772],[9773]]]],[706,[9768],[9769]],[707,[9756,[9757,[9758],[9759],[9760],[9761],[9762],[9763],[9764],[9765],[9766],[9767]]]],[708],[709,[9754],[9755]],[710,[9737,[9738,[9739],[9740],[9741],[9742],[9743],[9744],[9745],[9746],[9747],[9748],[9749],[9750],[9751],[9752],[9753]]]],[711,[9736]],[712,[9731,[9732,[9733],[9734],[9735]]]],[713,[9730]],[714,[9699],[9700,[9728],[9729]],[9701],[9702,[9722,[9723,[9724],[9725],[9726],[9727]]]],[9703,[9719],[9720],[9721]],[9704,[9712,[9713,[9714],[9715],[9716],[9717],[9718]]]],[9705,[9711]],[9706,[9707,[9708,[9709],[9710]]]]],[715,[9677],[9678,[9698]],[9679,[9681,[9682,[9683],[9684],[9685],[9686],[9687],[9688],[9689],[9690],[9691],[9692],[9693],[9694],[9695],[9696],[9697]]]],[9680]],[716,[9635],[9636,[9676]],[9637],[9638,[9675]],[9639,[9673],[9674]],[9640,[9671],[9672]],[9641,[9667,[9668,[9669],[9670]]]],[9642,[9663],[9664],[9665],[9666]],[9643,[9657,[9658,[9659],[9660],[9661],[9662]]]],[9644,[9652],[9653],[9654],[9655],[9656]],[9645],[9646,[9648,[9649,[9650],[9651]]]],[9647]],[717],[718],[719,[9615],[9616],[9617,[9631,[9632,[9633],[9634]]]],[9618,[9630]],[9619,[9627,[9628,[9629]]]],[9620,[9626]],[9621,[9623,[9624,[9625]]]],[9622]],[720,[9598],[9599,[9613],[9614]],[9600,[9608,[9609,[9610],[9611],[9612]]]],[9601,[9607]],[9602,[9603,[9604,[9605],[9606]]]]],[721,[9585],[9586,[9597]],[9587,[9593,[9594,[9595],[9596]]]],[9588],[9589,[9590,[9591,[9592]]]]],[722,[9535],[9536,[9583],[9584]],[9537,[9578,[9579,[9580],[9581],[9582]]]],[9538,[9576],[9577]],[9539,[9572,[9573,[9574],[9575]]]],[9540,[9570],[9571]],[9541,[9565,[9566,[9567],[9568],[9569]]]],[9542],[9543,[9564]],[9544],[9545,[9560,[9561,[9562],[9563]]]],[9546],[9547,[9556,[9557,[9558],[9559]]]],[9548,[9554],[9555]],[9549,[9550,[9551,[9552],[9553]]]]],[723,[9533],[9534]],[724],[725],[726,[9482],[9483,[9532]],[9484,[9531]],[9485,[9525,[9526,[9527],[9528],[9529],[9530]]]],[9486,[9524]],[9487,[9523]],[9488,[9519,[9520,[9521],[9522]]]],[9489,[9518]],[9490,[9514,[9515,[9516],[9517]]]],[9491,[9511],[9512],[9513]],[9492,[9510]],[9493,[9508],[9509]],[9494,[9499,[9500,[9501],[9502],[9503],[9504],[9505],[9506],[9507]]]],[9495,[9496],[9497],[9498]]],[727,[9449],[9450,[9479],[9480],[9481]],[9451,[9477],[9478]],[9452,[9473,[9474,[9475],[9476]]]],[9453,[9471],[9472]],[9454,[9470]],[9455,[9456],[9457,[9468],[9469]],[9458,[9466],[9467]],[9459,[9462,[9463,[9464],[9465]]]],[9460,[9461]]]],[728],[729],[730],[731,[9435],[9436],[9437],[9438,[9445,[9446,[9447],[9448]]]],[9439],[9440,[9442],[9443],[9444]],[9441]],[732],[733,[9433],[9434]],[734,[9429],[9430],[9431],[9432]],[735,[9425,[9426,[9427],[9428]]]],[736,[9424]],[737],[738,[9400,[9401,[9402],[9403],[9404],[9405],[9406],[9407],[9408],[9409],[9410],[9411],[9412],[9413],[9414],[9415],[9416],[9417],[9418],[9419],[9420],[9421],[9422],[9423]]]],[739,[9398],[9399]],[740,[9393,[9394,[9395],[9396],[9397]]]],[741,[9392]],[742],[743,[9389,[9390,[9391]]]],[744],[745,[9385,[9386,[9387],[9388]]]],[746],[747,[9381,[9382,[9383],[9384]]]],[748],[749,[9377,[9378,[9379],[9380]]]],[750],[751,[9363],[9364],[9365,[9374,[9375,[9376]]]],[9366],[9367,[9371,[9372,[9373]]]],[9368,[9369],[9370]]],[752,[9321],[9322],[9323,[9340,[9341,[9342],[9343],[9344],[9345],[9346],[9347],[9348],[9349],[9350],[9351],[9352],[9353],[9354],[9355],[9356],[9357],[9358],[9359],[9360],[9361],[9362]]]],[9324],[9325,[9337,[9338,[9339]]]],[9326],[9327,[9329,[9330,[9331],[9332],[9333],[9334],[9335],[9336]]]],[9328]],[753,[9288],[9289,[9320]],[9290,[9317,[9318,[9319]]]],[9291,[9313],[9314],[9315],[9316]],[9292,[9302,[9303,[9304],[9305],[9306],[9307],[9308],[9309],[9310],[9311],[9312]]]],[9293,[9301]],[9294,[9296,[9297,[9298],[9299],[9300]]]],[9295]],[754,[9241],[9242,[9287]],[9243,[9269],[9270,[9283],[9284],[9285],[9286]],[9271,[9278,[9279,[9280],[9281],[9282]]]],[9272,[9276],[9277]],[9273,[9274],[9275]]],[9244,[9258],[9259,[9267],[9268]],[9260,[9263,[9264,[9265],[9266]]]],[9261,[9262]]],[9245,[9246],[9247,[9255],[9256],[9257]],[9248,[9250,[9251,[9252],[9253],[9254]]]],[9249]]],[755],[756,[9239],[9240]],[757,[9169],[9170,[9237],[9238]],[9171],[9172,[9212,[9213,[9214,[9235],[9236]],[9215,[9232,[9233],[9234]]],[9216,[9217,[9228,[9231]],[9229,[9230]]],[9218,[9224,[9227]],[9225,[9226]]],[9219,[9220,[9223]],[9221,[9222]]]]]]],[9173,[9199],[9200,[9211]],[9201],[9202,[9206,[9207,[9208],[9209],[9210]]]],[9203,[9204],[9205]]],[9174,[9185],[9186,[9197],[9198]],[9187,[9196]],[9188,[9192,[9193,[9194],[9195]]]],[9189,[9191]],[9190]],[9175,[9176],[9177,[9183],[9184]],[9178,[9179,[9180,[9181],[9182]]]]]],[758,[9119],[9120],[9121,[9167,[9168]]],[9122,[9164],[9165],[9166]],[9123,[9162,[9163]]],[9124],[9125,[9161]],[9126,[9159,[9160]]],[9127,[9157],[9158]],[9128,[9155,[9156]]],[9129,[9154]],[9130,[9153]],[9131,[9151,[9152]]],[9132,[9149],[9150]],[9133,[9147,[9148]]],[9134,[9145],[9146]],[9135,[9143,[9144]]],[9136,[9142]],[9137,[9138],[9139],[9140],[9141]]],[759],[760,[9118]],[761,[9117]],[762,[9115,[9116]]],[763,[9114]],[764,[9090],[9091,[9106],[9107],[9108],[9109],[9110],[9111],[9112],[9113]],[9092,[9104,[9105]]],[9093,[9102],[9103]],[9094,[9095],[9096],[9097],[9098],[9099],[9100],[9101]]],[765,[9073],[9074,[9089]],[9075,[9088]],[9076,[9086,[9087]]],[9077,[9083],[9084],[9085]],[9078,[9079],[9080],[9081],[9082]]],[766,[9055],[9056,[9071],[9072]],[9057,[9069,[9070]]],[9058,[9066],[9067],[9068]],[9059,[9060],[9061],[9062],[9063],[9064],[9065]]],[767,[9040],[9041,[9054]],[9042,[9043,[9044,[9051,[9052,[9053]]]],[9045,[9048,[9049,[9050]]]],[9046,[9047]]]]],[768,[8993],[8994,[9037],[9038],[9039]],[8995,[9033],[9034],[9035],[9036]],[8996,[9026,[9027,[9031,[9032]]],[9028,[9029,[9030]]]]],[8997,[9025]],[8998,[9023,[9024]]],[8999,[9021],[9022]],[9000,[9019,[9020]]],[9001,[9017],[9018]],[9002,[9016]],[9003,[9014,[9015]]],[9004,[9009],[9010],[9011],[9012],[9013]],[9005,[9006],[9007],[9008]]],[769,[8969],[8970],[8971,[8990],[8991],[8992]],[8972],[8973,[8988,[8989]]],[8974,[8987]],[8975,[8985,[8986]]],[8976,[8984]],[8977,[8982,[8983]]],[8978,[8979],[8980],[8981]]],[770,[8921],[8922,[8965],[8966],[8967],[8968]],[8923,[8937],[8938,[8962],[8963],[8964]],[8939,[8959],[8960],[8961]],[8940,[8957],[8958]],[8941,[8948],[8949],[8950],[8951],[8952],[8953],[8954],[8955],[8956]],[8942,[8946],[8947]],[8943,[8944,[8945]]]],[8924,[8925],[8926,[8932],[8933],[8934],[8935],[8936]],[8927,[8928],[8929],[8930],[8931]]]],[771,[8807],[8808,[8919],[8920]],[8809,[8917],[8918]],[8810,[8811,[8812,[8813,[8912],[8913],[8914],[8915],[8916]],[8814,[8906,[8907],[8908],[8909],[8910],[8911]]],[8815,[8816,[8899,[8904,[8905]]],[8900],[8901],[8902],[8903]],[8817,[8888,[8897,[8898]]],[8889,[8896]],[8890,[8895]],[8891,[8894]],[8892,[8893]]],[8818,[8877,[8886,[8887]]],[8878,[8885]],[8879,[8884]],[8880,[8883]],[8881,[8882]]],[8819,[8865,[8875,[8876]]],[8866,[8874]],[8867,[8873]],[8868,[8872]],[8869,[8870,[8871]]]],[8820,[8854,[8863,[8864]]],[8855,[8862]],[8856,[8861]],[8857,[8860]],[8858,[8859]]],[8821,[8847,[8852,[8853]]],[8848],[8849],[8850],[8851]],[8822,[8836,[8845,[8846]]],[8837,[8844]],[8838,[8843]],[8839,[8842]],[8840,[8841]]],[8823,[8824,[8834,[8835]]],[8825,[8833]],[8826,[8832]],[8827,[8831]],[8828,[8829,[8830]]]]]]]]],[772],[773],[774],[775],[776],[777,[8806]],[778],[779,[8805]],[780,[8798,[8799,[8800],[8801],[8802],[8803],[8804]]]],[781,[8797]],[782,[8785,[8786,[8787],[8788],[8789],[8790],[8791],[8792],[8793],[8794],[8795],[8796]]]],[783,[8784]],[784,[8775,[8776,[8777],[8778],[8779],[8780],[8781],[8782],[8783]]]],[785,[8774]],[786,[8770,[8771,[8772],[8773]]]],[787,[8752],[8753,[8769]],[8754,[8759,[8760,[8761],[8762],[8763],[8764],[8765],[8766],[8767],[8768]]]],[8755,[8758]],[8756,[8757]]],[788,[8739],[8740],[8741,[8749],[8750],[8751]],[8742,[8745,[8746,[8747],[8748]]]],[8743],[8744]],[789],[790],[791,[8738]],[792],[793,[8737]],[794,[8736]],[795,[8730,[8731,[8732],[8733],[8734],[8735]]]],[796,[8729]],[797,[8725,[8726,[8727],[8728]]]],[798,[8724]],[799,[8723]],[800,[8715,[8716,[8717],[8718],[8719],[8720],[8721],[8722]]]],[801,[8713],[8714]],[802,[8712]],[803,[8711]],[804,[8706,[8707,[8708],[8709],[8710]]]],[805],[806,[8703],[8704],[8705]],[807,[8698,[8699,[8700],[8701],[8702]]]],[808,[8697]],[809,[8692,[8693,[8694],[8695],[8696]]]],[810,[8691]],[811,[8687,[8688,[8689],[8690]]]],[812,[8620],[8621],[8622],[8623,[8683,[8684,[8685],[8686]]]],[8624,[8679],[8680],[8681],[8682]],[8625,[8675,[8676,[8677],[8678]]]],[8626],[8627,[8667,[8668,[8669],[8670],[8671],[8672],[8673],[8674]]]],[8628],[8629],[8630,[8665],[8666]],[8631,[8661],[8662],[8663],[8664]],[8632,[8657,[8658,[8659],[8660]]]],[8633],[8634,[8648,[8649,[8650],[8651],[8652],[8653],[8654],[8655],[8656]]]],[8635,[8646],[8647]],[8636,[8642,[8643,[8644],[8645]]]],[8637,[8639],[8640],[8641]],[8638]],[813,[8594],[8595,[8619]],[8596,[8618]],[8597,[8611,[8612,[8613],[8614],[8615],[8616],[8617]]]],[8598],[8599,[8609],[8610]],[8600,[8604,[8605,[8606],[8607],[8608]]]],[8601,[8602],[8603]]],[814,[8558],[8559,[8593]],[8560,[8592]],[8561,[8587,[8588,[8589],[8590],[8591]]]],[8562],[8563,[8585],[8586]],[8564,[8584]],[8565,[8578,[8579,[8580],[8581],[8582],[8583]]]],[8566],[8567,[8574],[8575],[8576],[8577]],[8568,[8569,[8570,[8571],[8572],[8573]]]]],[815],[816],[817,[8557]],[818,[8554,[8556]],[8555]],[819],[820,[8528],[8529,[8552],[8553]],[8530,[8548,[8551]],[8549,[8550]]],[8531,[8545],[8546],[8547]],[8532,[8536,[8537,[8542,[8543],[8544]]],[8538,[8541]],[8539,[8540]]]],[8533,[8534],[8535]]],[821,[8465],[8466],[8467,[8524,[8525,[8526],[8527]]]],[8468,[8516],[8517],[8518],[8519],[8520],[8521],[8522],[8523]],[8469],[8470,[8512,[8515]],[8513,[8514]]],[8471,[8507],[8508],[8509],[8510],[8511]],[8472,[8503,[8504,[8505],[8506]]]],[8473,[8499],[8500],[8501],[8502]],[8474,[8496,[8498]],[8497]],[8475,[8495]],[8476,[8490,[8491,[8492],[8493],[8494]]]],[8477,[8487,[8489]],[8488]],[8478,[8479],[8480],[8481],[8482],[8483],[8484],[8485],[8486]]],[822],[823],[824,[8416],[8417,[8462],[8463],[8464]],[8418,[8459],[8460],[8461]],[8419],[8420],[8421,[8455,[8456,[8457],[8458]]]],[8422,[8453],[8454]],[8423,[8449,[8450,[8451],[8452]]]],[8424],[8425,[8447],[8448]],[8426,[8445],[8446]],[8427],[8428,[8439,[8440,[8441],[8442],[8443],[8444]]]],[8429],[8430,[8431],[8432],[8433],[8434],[8435],[8436],[8437],[8438]]],[825],[826],[827],[828],[829,[8410,[8411,[8412],[8413],[8414],[8415]]]],[830,[8408],[8409]],[831,[8402,[8403,[8404],[8405],[8406],[8407]]]],[832],[833,[8394],[8395],[8396],[8397],[8398],[8399],[8400],[8401]],[834,[8390,[8391,[8392],[8393]]]],[835],[836,[8385,[8386,[8387],[8388],[8389]]]],[837,[8382],[8383],[8384]],[838,[8377,[8378,[8379],[8380],[8381]]]],[839,[8375],[8376]],[840,[8374]],[841,[8370],[8371],[8372],[8373]],[842,[8366,[8367,[8368],[8369]]]],[843,[8364],[8365]],[844,[8360,[8361,[8362],[8363]]]],[845],[846,[8359]],[847,[8357],[8358]],[848],[849],[850,[8356]],[851,[8352,[8353,[8354],[8355]]]],[852,[8351]],[853],[854,[8347,[8348,[8349],[8350]]]],[855],[856,[8345,[8346]]],[857],[858,[8341,[8342,[8343],[8344]]]],[859,[8338],[8339],[8340]],[860,[8325,[8326,[8327],[8328],[8329],[8330],[8331],[8332],[8333],[8334],[8335],[8336],[8337]]]],[861,[8323],[8324]],[862,[8319,[8320,[8321],[8322]]]],[863,[8318]],[864,[8313,[8314,[8315],[8316],[8317]]]],[865,[8311],[8312]],[866,[8307,[8308,[8309],[8310]]]],[867,[8305],[8306]],[868,[8300,[8301,[8302],[8303],[8304]]]],[869,[8299]],[870],[871,[8294,[8295,[8296],[8297],[8298]]]],[872],[873,[8292,[8293]]],[874,[8290],[8291]],[875,[8286,[8287,[8288],[8289]]]],[876],[877,[8281,[8282,[8283],[8284],[8285]]]],[878,[8280]],[879,[8275,[8276,[8277],[8278],[8279]]]],[880,[8274]],[881,[8269,[8270,[8271],[8272],[8273]]]],[882,[8267,[8268]]],[883,[8266]],[884,[8259,[8260,[8261],[8262],[8263],[8264],[8265]]]],[885,[8257],[8258]],[886,[8251,[8252,[8253],[8254],[8255],[8256]]]],[887,[8250]],[888,[8245,[8246,[8247],[8248],[8249]]]],[889,[8244]],[890],[891],[892,[8219],[8220,[8242],[8243]],[8221,[8238,[8239,[8240],[8241]]]],[8222,[8236],[8237]],[8223,[8230],[8231],[8232],[8233],[8234],[8235]],[8224,[8226,[8227,[8228],[8229]]]],[8225]],[893,[8164],[8165,[8217],[8218]],[8166,[8214],[8215],[8216]],[8167,[8208,[8209,[8210],[8211],[8212],[8213]]]],[8168,[8207]],[8169,[8203,[8204,[8205],[8206]]]],[8170,[8202]],[8171,[8198,[8199,[8200],[8201]]]],[8172],[8173,[8194,[8195,[8196],[8197]]]],[8174,[8193]],[8175,[8189,[8190,[8191],[8192]]]],[8176,[8187],[8188]],[8177,[8182,[8183,[8184],[8185],[8186]]]],[8178,[8179],[8180],[8181]]],[894],[895],[896],[897],[898,[8107],[8108],[8109,[8163]],[8110,[8159,[8160,[8161],[8162]]]],[8111],[8112,[8158]],[8113,[8154,[8155,[8156],[8157]]]],[8114,[8153]],[8115,[8149,[8150,[8151],[8152]]]],[8116,[8148]],[8117,[8145,[8146,[8147]]]],[8118,[8143],[8144]],[8119,[8139,[8140,[8141],[8142]]]],[8120,[8138]],[8121,[8136],[8137]],[8122,[8132,[8133,[8134],[8135]]]],[8123],[8124,[8127,[8128,[8129],[8130],[8131]]]],[8125,[8126]]],[899,[8075],[8076],[8077,[8098,[8099,[8100],[8101],[8102],[8103],[8104],[8105],[8106]]]],[8078,[8095],[8096],[8097]],[8079,[8090,[8091,[8092],[8093],[8094]]]],[8080,[8089]],[8081,[8087],[8088]],[8082,[8083,[8084,[8085],[8086]]]]],[900],[901],[902],[903],[904,[8073],[8074]],[905,[8068,[8069,[8070],[8071],[8072]]]],[906,[8064],[8065],[8066],[8067]],[907,[8059,[8060,[8061],[8062],[8063]]]],[908],[909,[8058]],[910,[8054,[8055,[8056],[8057]]]],[911,[8050],[8051],[8052],[8053]],[912,[8045,[8046,[8047],[8048],[8049]]]],[913,[8044]],[914,[8043]],[915,[8039,[8040,[8041],[8042]]]],[916,[8038]],[917,[8033,[8034,[8035],[8036],[8037]]]],[918,[8032]],[919,[8028,[8029,[8030],[8031]]]],[920,[8027]],[921,[8023,[8024,[8025],[8026]]]],[922,[8021],[8022]],[923,[7961],[7962],[7963],[7964,[8020]],[7965,[8019]],[7966],[7967,[8015,[8016,[8017],[8018]]]],[7968,[8013],[8014]],[7969,[8009,[8010,[8011],[8012]]]],[7970,[8008]],[7971,[8001,[8002,[8003],[8004],[8005],[8006],[8007]]]],[7972],[7973,[7997,[7998,[7999],[8000]]]],[7974,[7995],[7996]],[7975,[7991,[7992,[7993],[7994]]]],[7976,[7990]],[7977],[7978,[7986,[7987,[7988],[7989]]]],[7979],[7980,[7982,[7983,[7984],[7985]]]],[7981]],[924,[7936],[7937],[7938,[7957,[7958,[7959],[7960]]]],[7939],[7940,[7954],[7955],[7956]],[7941,[7950,[7951,[7952],[7953]]]],[7942],[7943],[7944,[7946,[7947,[7948],[7949]]]],[7945]],[925],[926],[927],[928],[929,[7932,[7933,[7934],[7935]]]],[930],[931,[7931]],[932,[7927,[7928,[7929],[7930]]]],[933,[7923],[7924],[7925],[7926]],[934],[935,[7922]],[936,[7915,[7916,[7917],[7918],[7919],[7920],[7921]]]],[937],[938,[7898,[7899,[7900],[7901],[7902],[7903],[7904],[7905],[7906],[7907],[7908],[7909],[7910],[7911],[7912],[7913],[7914]]]],[939,[7887,[7888,[7897]],[7889,[7896]],[7890,[7895]],[7891,[7894]],[7892,[7893]]]],[940],[941,[7886]],[942,[7884],[7885]],[943],[944,[7880,[7881,[7882],[7883]]]],[945,[7879]],[946,[7870,[7871,[7872],[7873],[7874],[7875],[7876],[7877],[7878]]]],[947],[948,[7825],[7826],[7827,[7845],[7846,[7869]],[7847],[7848,[7864,[7865,[7866],[7867],[7868]]]],[7849],[7850,[7859,[7860,[7861],[7862],[7863]]]],[7851],[7852,[7854,[7855,[7856],[7857],[7858]]]],[7853]],[7828,[7829],[7830,[7844]],[7831,[7835,[7836,[7837],[7838],[7839],[7840],[7841],[7842],[7843]]]],[7832,[7833],[7834]]]],[949,[7763],[7764],[7765],[7766,[7816,[7817,[7818],[7819],[7820],[7821],[7822],[7823],[7824]]]],[7767,[7815]],[7768,[7807,[7808,[7809],[7810],[7811],[7812],[7813],[7814]]]],[7769],[7770,[7806]],[7771,[7801,[7802,[7803],[7804],[7805]]]],[7772,[7800]],[7773,[7795,[7796,[7797],[7798],[7799]]]],[7774],[7775,[7791,[7792,[7793],[7794]]]],[7776,[7790]],[7777,[7786,[7787,[7788],[7789]]]],[7778,[7782],[7783],[7784],[7785]],[7779,[7781]],[7780]],[950],[951],[952,[7762]],[953,[7759],[7760],[7761]],[954],[955,[7755,[7756,[7757],[7758]]]],[956,[7754]],[957,[7750,[7751,[7752],[7753]]]],[958,[7747],[7748],[7749]],[959,[7746]],[960,[7745]],[961,[7739,[7740,[7741],[7742],[7743],[7744]]]],[962,[7738]],[963],[964,[7734,[7735,[7736],[7737]]]],[965],[966,[7730],[7731],[7732],[7733]],[967,[7726,[7727,[7728],[7729]]]],[968,[7725]],[969,[7721,[7722,[7723],[7724]]]],[970,[7720]],[971,[7719]],[972,[7715,[7716,[7717],[7718]]]],[973,[7714]],[974,[7710,[7711,[7712],[7713]]]],[975],[976,[7706,[7707,[7708],[7709]]]],[977,[7701],[7702],[7703],[7704],[7705]],[978,[7697,[7698,[7699],[7700]]]],[979,[7695],[7696]],[980,[7691,[7692,[7693],[7694]]]],[981,[7690]],[982],[983],[984,[7689]],[985,[7688]],[986,[7687]],[987],[988,[7683,[7684,[7685],[7686]]]],[989],[990,[7681,[7682]]],[991],[992,[7676,[7677,[7678],[7679],[7680]]]],[993,[7674,[7675]]],[994,[7672],[7673]],[995,[7667,[7668,[7669],[7670],[7671]]]],[996],[997,[7663,[7664,[7665],[7666]]]],[998],[999,[7661],[7662]],[1000,[7656,[7657,[7658],[7659],[7660]]]],[1001,[7651,[7652,[7653],[7654],[7655]]]],[1002,[7649,[7650]]],[1003,[7645],[7646],[7647],[7648]],[1004,[7641,[7642,[7643],[7644]]]],[1005,[7639,[7640]]],[1006],[1007],[1008,[7631,[7632,[7633],[7634],[7635],[7636],[7637],[7638]]]],[1009,[7629],[7630]],[1010,[7624,[7625,[7626],[7627],[7628]]]],[1011,[7622],[7623]],[1012,[7618,[7619,[7620],[7621]]]],[1013,[7617]],[1014,[7613,[7614,[7615],[7616]]]],[1015,[7611],[7612]],[1016,[7609,[7610]]],[1017,[7606],[7607],[7608]],[1018,[7602,[7603,[7604],[7605]]]],[1019,[7599],[7600],[7601]],[1020],[1021,[7594,[7595,[7596],[7597],[7598]]]],[1022],[1023],[1024],[1025],[1026,[7582,[7583,[7593]],[7584,[7592]],[7585,[7591]],[7586,[7590]],[7587,[7588,[7589]]]]],[1027],[1028,[7578,[7579,[7580],[7581]]]],[1029,[7576],[7577]],[1030,[7572,[7573,[7574],[7575]]]],[1031,[7570],[7571]],[1032,[7564,[7565,[7566],[7567],[7568],[7569]]]],[1033],[1034,[7563]],[1035,[7562]],[1036,[7552,[7553,[7554],[7555],[7556],[7557],[7558],[7559],[7560],[7561]]]],[1037,[7541,[7542,[7551]],[7543,[7550]],[7544,[7549]],[7545,[7548]],[7546,[7547]]]],[1038,[7540]],[1039,[7502,[7503,[7504,[7538],[7539]],[7505,[7535,[7536],[7537]]],[7506,[7507,[7529,[7533,[7534]]],[7530,[7531,[7532]]]],[7508,[7523,[7527,[7528]]],[7524,[7525,[7526]]]],[7509,[7517,[7521,[7522]]],[7518,[7519,[7520]]]],[7510,[7511,[7515,[7516]]],[7512,[7513,[7514]]]]]]]],[1040,[7500],[7501]],[1041,[7490,[7491,[7498,[7499]]],[7492,[7496,[7497]]],[7493,[7494,[7495]]]]],[1042,[7487],[7488],[7489]],[1043],[1044],[1045,[7479,[7480,[7481],[7482],[7483],[7484],[7485],[7486]]]],[1046,[7468,[7469,[7476],[7477],[7478]],[7470,[7474],[7475]],[7471,[7472],[7473]]]],[1047,[7467]],[1048,[7465,[7466]]],[1049,[7462],[7463],[7464]],[1050],[1051,[7460],[7461]],[1052,[7449,[7450,[7456,[7457],[7458],[7459]]],[7451,[7454,[7455]]],[7452,[7453]]]],[1053],[1054,[7397,[7398,[7399],[7400],[7401],[7402],[7403],[7404],[7405],[7406],[7407],[7408],[7409],[7410],[7411],[7412],[7413],[7414],[7415],[7416],[7417],[7418],[7419],[7420],[7421],[7422],[7423],[7424],[7425],[7426],[7427],[7428],[7429],[7430],[7431],[7432],[7433],[7434],[7435],[7436],[7437],[7438],[7439],[7440],[7441],[7442],[7443],[7444],[7445],[7446],[7447],[7448]]]],[1055,[7384,[7385,[7395],[7396]],[7386,[7393],[7394]],[7387,[7391],[7392]],[7388,[7389],[7390]]]],[1056,[7382],[7383]],[1057,[7378,[7379,[7380],[7381]]]],[1058],[1059,[7374,[7375,[7376],[7377]]]],[1060],[1061,[7372],[7373]],[1062],[1063],[1064],[1065],[1066,[7359,[7370],[7371]],[7360,[7367,[7369]],[7368]],[7361,[7366]],[7362,[7363,[7365]],[7364]]],[1067,[7354,[7355,[7356,[7357],[7358]]]]],[1068,[7353]],[1069],[1070,[7351],[7352]],[1071,[7345,[7346,[7347],[7348],[7349],[7350]]]],[1072],[1073,[7342],[7343],[7344]],[1074,[7339],[7340],[7341]],[1075,[7338]],[1076,[7336],[7337]],[1077,[7333,[7334,[7335]]]],[1078],[1079,[7332]],[1080,[7328,[7329,[7330],[7331]]]],[1081,[7327]],[1082,[7314,[7326]],[7315,[7322],[7323],[7324],[7325]],[7316,[7318,[7319,[7320],[7321]]]],[7317]],[1083,[7293,[7313]],[7294,[7312]],[7295,[7310,[7311]]],[7296,[7308],[7309]],[7297,[7303,[7304,[7305],[7306],[7307]]]],[7298],[7299,[7301,[7302]]],[7300]],[1084,[7279,[7292]],[7280,[7288],[7289],[7290],[7291]],[7281,[7283,[7284,[7285],[7286],[7287]]]],[7282]],[1085,[7263,[7278]],[7264,[7277]],[7265,[7273,[7274,[7275],[7276]]]],[7266,[7272]],[7267,[7268,[7269,[7270],[7271]]]]],[1086,[7246,[7262]],[7247,[7259],[7260],[7261]],[7248,[7257],[7258]],[7249,[7255],[7256]],[7250,[7253,[7254]]],[7251,[7252]]],[1087,[7229,[7245]],[7230],[7231,[7241,[7242,[7243],[7244]]]],[7232,[7240]],[7233,[7236,[7237,[7238],[7239]]]],[7234,[7235]]],[1088,[7187],[7188],[7189,[7216,[7228]],[7217],[7218,[7224,[7225,[7226],[7227]]]],[7219,[7223]],[7220,[7221],[7222]]],[7190,[7191,[7215]],[7192,[7212],[7213],[7214]],[7193],[7194,[7211]],[7195],[7196,[7197],[7198],[7199],[7200],[7201],[7202],[7203],[7204],[7205],[7206],[7207],[7208],[7209],[7210]]]],[1089],[1090,[7186]],[1091,[7185]],[1092,[7182],[7183],[7184]],[1093,[7177,[7178,[7179],[7180],[7181]]]],[1094,[7176]],[1095,[7174,[7175]]],[1096,[7172],[7173]],[1097,[7167,[7168,[7169],[7170],[7171]]]],[1098],[1099,[7162,[7163,[7164],[7165],[7166]]]],[1100,[7158],[7159],[7160],[7161]],[1101,[7149,[7150,[7151],[7152],[7153],[7154],[7155],[7156],[7157]]]],[1102,[7148]],[1103,[7138,[7139,[7140],[7141],[7142],[7143],[7144],[7145],[7146],[7147]]]],[1104],[1105,[7134,[7135,[7136],[7137]]]],[1106],[1107,[7131,[7133]],[7132]],[1108,[7130]],[1109,[7127],[7128],[7129]],[1110,[7122,[7123,[7124],[7125],[7126]]]],[1111],[1112],[1113,[7118,[7119,[7120],[7121]]]],[1114],[1115,[7114,[7115,[7116],[7117]]]],[1116,[7111],[7112],[7113]],[1117,[7042],[7043],[7044,[7085,[7110]],[7086],[7087,[7108],[7109]],[7088,[7104,[7105,[7106],[7107]]]],[7089,[7103]],[7090,[7099,[7100,[7101],[7102]]]],[7091],[7092,[7098]],[7093,[7094,[7095,[7096],[7097]]]]],[7045,[7046,[7084]],[7047],[7048,[7081],[7082],[7083]],[7049,[7077],[7078],[7079],[7080]],[7050,[7074],[7075],[7076]],[7051,[7069,[7070,[7071],[7072],[7073]]]],[7052,[7067],[7068]],[7053,[7063,[7064,[7065],[7066]]]],[7054],[7055,[7059,[7060,[7061],[7062]]]],[7056,[7057],[7058]]]],[1118,[7003],[7004],[7005,[7032,[7041]],[7033,[7040]],[7034,[7036,[7037,[7038],[7039]]]],[7035]],[7006,[7020,[7031]],[7021,[7030]],[7022,[7029]],[7023,[7025,[7026,[7027],[7028]]]],[7024]],[7007,[7008,[7019]],[7009,[7017],[7018]],[7010,[7013,[7014,[7015],[7016]]]],[7011,[7012]]]],[1119],[1120,[7001],[7002]],[1121],[1122],[1123],[1124,[6989],[6990,[7000]],[6991,[6998],[6999]],[6992,[6996,[6997]]],[6993,[6994],[6995]]],[1125],[1126],[1127,[6988]],[1128,[6984,[6985,[6986],[6987]]]],[1129,[6983]],[1130,[6981,[6982]]],[1131,[6979],[6980]],[1132,[6975],[6976],[6977],[6978]],[1133,[6971,[6972,[6973],[6974]]]],[1134,[6970]],[1135,[6966,[6967,[6968],[6969]]]],[1136,[6964],[6965]],[1137,[6963]],[1138,[6959,[6960,[6961],[6962]]]],[1139],[1140,[6958]],[1141,[6952,[6953,[6954],[6955],[6956],[6957]]]],[1142,[6951]],[1143,[6949,[6950]]],[1144],[1145],[1146],[1147,[6948]],[1148,[6941,[6942,[6943],[6944],[6945],[6946],[6947]]]],[1149],[1150,[6934,[6935,[6936],[6937],[6938],[6939],[6940]]]],[1151],[1152,[6931],[6932],[6933]],[1153,[6928,[6930]],[6929]],[1154,[6925,[6927]],[6926]],[1155,[6922],[6923],[6924]],[1156,[6920,[6921]]],[1157],[1158,[6915,[6916,[6917],[6918],[6919]]]],[1159,[6910],[6911],[6912],[6913],[6914]],[1160,[6909]],[1161,[6901,[6902,[6903],[6904],[6905],[6906],[6907],[6908]]]],[1162,[6896],[6897],[6898],[6899],[6900]],[1163,[6890,[6891,[6892],[6893],[6894],[6895]]]],[1164,[6888],[6889]],[1165,[6881,[6882,[6883],[6884],[6885],[6886],[6887]]]],[1166],[1167,[6871,[6872,[6873],[6874],[6875],[6876],[6877],[6878],[6879],[6880]]]],[1168,[6869],[6870]],[1169,[6822],[6823],[6824,[6858,[6868]],[6859,[6867]],[6860,[6866]],[6861,[6864,[6865]]],[6862,[6863]]],[6825,[6826,[6857]],[6827,[6855],[6856]],[6828,[6853],[6854]],[6829,[6843,[6844,[6845],[6846],[6847],[6848],[6849],[6850],[6851],[6852]]]],[6830,[6842]],[6831,[6837,[6838,[6839],[6840],[6841]]]],[6832],[6833,[6835,[6836]]],[6834]]],[1170,[6799],[6800],[6801,[6821]],[6802,[6819,[6820]]],[6803,[6818]],[6804,[6814,[6815,[6816],[6817]]]],[6805,[6813]],[6806,[6809,[6810,[6811],[6812]]]],[6807,[6808]]],[1171],[1172],[1173,[6791],[6792,[6795],[6796],[6797],[6798]],[6793,[6794]]],[1174],[1175],[1176,[6787,[6788,[6789],[6790]]]],[1177,[6774],[6775],[6776,[6784],[6785],[6786]],[6777,[6783]],[6778,[6782]],[6779,[6780],[6781]]],[1178,[6760],[6761,[6772],[6773]],[6762,[6771]],[6763,[6767],[6768],[6769],[6770]],[6764,[6765],[6766]]],[1179,[6737],[6738,[6758],[6759]],[6739,[6752],[6753],[6754],[6755],[6756],[6757]],[6740,[6750],[6751]],[6741,[6748],[6749]],[6742,[6746],[6747]],[6743,[6744],[6745]]],[1180,[6716],[6717],[6718,[6733,[6736]],[6734,[6735]]],[6719,[6726,[6732]],[6727,[6728],[6729],[6730],[6731]]],[6720,[6721,[6725]],[6722,[6723],[6724]]]],[1181],[1182],[1183],[1184],[1185,[6713],[6714],[6715]],[1186,[6706,[6707,[6712]],[6708,[6711]],[6709,[6710]]]],[1187,[6705]],[1188,[6689,[6690,[6691],[6692],[6693],[6694],[6695],[6696],[6697],[6698],[6699],[6700],[6701],[6702],[6703],[6704]]]],[1189],[1190,[6629],[6630],[6631,[6684],[6685],[6686],[6687],[6688]],[6632,[6680,[6681,[6682],[6683]]]],[6633],[6634,[6678],[6679]],[6635,[6674,[6675,[6676],[6677]]]],[6636,[6673]],[6637,[6668,[6669,[6670],[6671],[6672]]]],[6638],[6639,[6642,[6643,[6644],[6645],[6646],[6647],[6648],[6649],[6650],[6651],[6652],[6653],[6654],[6655],[6656],[6657],[6658],[6659],[6660],[6661],[6662],[6663],[6664],[6665],[6666],[6667]]]],[6640,[6641]]],[1191],[1192,[6628]],[1193,[6625],[6626],[6627]],[1194,[6622],[6623],[6624]],[1195,[6620,[6621]]],[1196,[6619]],[1197,[6600,[6601,[6602],[6603],[6604],[6605],[6606],[6607],[6608],[6609],[6610],[6611],[6612],[6613],[6614],[6615],[6616],[6617],[6618]]]],[1198,[6599]],[1199,[6579,[6580,[6581],[6582],[6583],[6584],[6585],[6586],[6587],[6588],[6589],[6590],[6591],[6592],[6593],[6594],[6595],[6596],[6597],[6598]]]],[1200],[1201,[6577],[6578]],[1202,[6572,[6573,[6574],[6575],[6576]]]],[1203,[6571]],[1204,[6526,[6527,[6528],[6529],[6530],[6531],[6532],[6533],[6534],[6535],[6536],[6537],[6538],[6539],[6540],[6541],[6542],[6543],[6544],[6545],[6546],[6547],[6548],[6549],[6550],[6551],[6552],[6553],[6554],[6555],[6556],[6557],[6558],[6559],[6560],[6561],[6562],[6563],[6564],[6565],[6566],[6567],[6568],[6569],[6570]]]],[1205,[6525]],[1206],[1207,[6495],[6496,[6523],[6524]],[6497,[6519,[6520,[6521],[6522]]]],[6498],[6499,[6517,[6518]]],[6500],[6501],[6502,[6515,[6516]]],[6503],[6504,[6513,[6514]]],[6505],[6506,[6512]],[6507,[6510,[6511]]],[6508,[6509]]],[1208],[1209],[1210,[6494]],[1211,[6493]],[1212,[6485,[6486,[6487],[6488],[6489],[6490],[6491],[6492]]]],[1213,[6484]],[1214,[6479,[6480,[6481],[6482],[6483]]]],[1215],[1216,[6474,[6475,[6476],[6477],[6478]]]],[1217,[6472],[6473]],[1218,[6443,[6444,[6445],[6446],[6447],[6448],[6449],[6450],[6451],[6452],[6453],[6454],[6455],[6456],[6457],[6458],[6459],[6460],[6461],[6462],[6463],[6464],[6465],[6466],[6467],[6468],[6469],[6470],[6471]]]],[1219,[6442]],[1220,[6438,[6439,[6440],[6441]]]],[1221],[1222,[6434,[6435,[6436],[6437]]]],[1223],[1224,[6427,[6428,[6429],[6430],[6431],[6432],[6433]]]],[1225],[1226,[6423,[6424,[6425],[6426]]]],[1227,[6422]],[1228],[1229,[6420],[6421]],[1230,[6419]],[1231,[6374,[6375,[6376],[6377],[6378],[6379],[6380],[6381],[6382],[6383],[6384],[6385],[6386],[6387],[6388],[6389],[6390],[6391],[6392],[6393],[6394],[6395],[6396],[6397],[6398],[6399],[6400],[6401],[6402],[6403],[6404],[6405],[6406],[6407],[6408],[6409],[6410],[6411],[6412],[6413],[6414],[6415],[6416],[6417],[6418]]]],[1232],[1233,[6364,[6365,[6366],[6367],[6368],[6369],[6370],[6371],[6372],[6373]]]],[1234,[6363]],[1235,[6362]],[1236,[6360],[6361]],[1237],[1238],[1239],[1240],[1241,[6345,[6350],[6351,[6359]],[6352,[6355,[6358]],[6356,[6357]]],[6353,[6354]]],[6346,[6347],[6348],[6349]]],[1242,[6340,[6341,[6342,[6343],[6344]]]]],[1243],[1244],[1245],[1246],[1247],[1248,[6339]],[1249,[6338]],[1250,[6330,[6337]],[6331,[6336]],[6332,[6334],[6335]],[6333]],[1251,[6294],[6295,[6327],[6328],[6329]],[6296],[6297,[6322,[6323,[6324],[6325],[6326]]]],[6298,[6321]],[6299,[6315,[6316,[6317],[6318],[6319],[6320]]]],[6300,[6314]],[6301,[6309,[6310,[6311],[6312],[6313]]]],[6302],[6303,[6305,[6306,[6307],[6308]]]],[6304]],[1252,[6253],[6254,[6292],[6293]],[6255,[6288,[6289,[6290],[6291]]]],[6256,[6286],[6287]],[6257,[6284],[6285]],[6258,[6280,[6281,[6282],[6283]]]],[6259],[6260,[6276,[6277,[6278],[6279]]]],[6261,[6275]],[6262,[6271,[6272,[6273],[6274]]]],[6263],[6264,[6267,[6268,[6269],[6270]]]],[6265,[6266]]],[1253,[6227],[6228],[6229,[6248,[6249,[6250],[6251],[6252]]]],[6230,[6247]],[6231,[6243,[6244,[6245],[6246]]]],[6232,[6242]],[6233,[6238,[6239,[6240],[6241]]]],[6234,[6235],[6236],[6237]]],[1254,[6185],[6186,[6226]],[6187,[6222,[6223,[6224],[6225]]]],[6188,[6221]],[6189,[6217,[6218,[6219],[6220]]]],[6190,[6216]],[6191,[6212,[6213,[6214],[6215]]]],[6192,[6210],[6211]],[6193,[6206,[6207,[6208],[6209]]]],[6194],[6195,[6204],[6205]],[6196,[6200,[6201,[6202],[6203]]]],[6197,[6198],[6199]]],[1255,[6167],[6168,[6183],[6184]],[6169,[6180],[6181],[6182]],[6170,[6176,[6177,[6178],[6179]]]],[6171,[6174],[6175]],[6172,[6173]]],[1256,[6165],[6166]],[1257,[6153],[6154,[6164]],[6155,[6160,[6161,[6162],[6163]]]],[6156,[6157],[6158],[6159]]],[1258,[6130],[6131,[6152]],[6132,[6150],[6151]],[6133,[6146,[6147,[6148],[6149]]]],[6134,[6141],[6142],[6143],[6144],[6145]],[6135,[6136],[6137],[6138],[6139],[6140]]],[1259,[6070],[6071,[6129]],[6072,[6118],[6119,[6128]],[6120,[6124,[6125,[6126],[6127]]]],[6121,[6122],[6123]]],[6073,[6106],[6107,[6114],[6115],[6116],[6117]],[6108,[6110,[6111,[6112],[6113]]]],[6109]],[6074,[6094],[6095,[6104],[6105]],[6096,[6100,[6101,[6102],[6103]]]],[6097,[6098],[6099]]],[6075,[6076],[6077,[6089],[6090],[6091],[6092],[6093]],[6078,[6087],[6088]],[6079,[6083,[6084,[6085],[6086]]]],[6080,[6081],[6082]]]],[1260,[6056],[6057,[6069]],[6058,[6060,[6061,[6067,[6068]]],[6062,[6063,[6064],[6065],[6066]]]]],[6059]],[1261],[1262],[1263,[6055]],[1264,[6027],[6028],[6029,[6049,[6050,[6051],[6052],[6053],[6054]]]],[6030,[6046],[6047],[6048]],[6031,[6042,[6043,[6044],[6045]]]],[6032,[6041]],[6033,[6040]],[6034],[6035,[6036,[6037,[6038],[6039]]]]],[1265,[5976],[5977],[5978],[5979,[6021,[6022,[6023],[6024],[6025],[6026]]]],[5980,[6020]],[5981,[6019]],[5982,[6015,[6016,[6017],[6018]]]],[5983,[6010],[6011],[6012],[6013],[6014]],[5984,[6009]],[5985,[6002,[6003,[6004],[6005],[6006],[6007],[6008]]]],[5986,[5998],[5999],[6000],[6001]],[5987],[5988,[5997]],[5989,[5993,[5994,[5995],[5996]]]],[5990,[5991],[5992]]],[1266,[5934],[5935,[5975]],[5936,[5971,[5972,[5973],[5974]]]],[5937,[5969],[5970]],[5938,[5964,[5965,[5966],[5967],[5968]]]],[5939,[5962],[5963]],[5940,[5957,[5958,[5959],[5960],[5961]]]],[5941],[5942,[5953,[5954,[5955],[5956]]]],[5943],[5944,[5949,[5950,[5951],[5952]]]],[5945,[5946],[5947],[5948]]],[1267],[1268],[1269,[5932],[5933]],[1270,[5928,[5929,[5930],[5931]]]],[1271],[1272],[1273,[5923,[5924,[5925],[5926],[5927]]]],[1274],[1275,[5918,[5919,[5920],[5921],[5922]]]],[1276,[5917]],[1277,[5916]],[1278,[5908,[5909,[5910],[5911],[5912],[5913],[5914],[5915]]]],[1279],[1280,[5903,[5904,[5905],[5906],[5907]]]],[1281,[5902]],[1282],[1283,[5898,[5899,[5900],[5901]]]],[1284,[5894],[5895],[5896],[5897]],[1285,[5892],[5893]],[1286],[1287],[1288],[1289],[1290,[5891]],[1291,[5855],[5856,[5890]],[5857,[5887],[5888],[5889]],[5858,[5884,[5886]],[5885]],[5859,[5883]],[5860,[5877,[5878,[5879],[5880],[5881],[5882]]]],[5861,[5876]],[5862],[5863,[5872,[5873,[5874],[5875]]]],[5864],[5865,[5868,[5869,[5870],[5871]]]],[5866,[5867]]],[1292],[1293,[5854]],[1294,[5850,[5851,[5852],[5853]]]],[1295,[5848],[5849]],[1296,[5823,[5824,[5825],[5826],[5827],[5828],[5829],[5830],[5831],[5832],[5833],[5834],[5835],[5836],[5837],[5838],[5839],[5840],[5841],[5842],[5843],[5844],[5845],[5846],[5847]]]],[1297,[5821],[5822]],[1298,[5815,[5816,[5817],[5818],[5819],[5820]]]],[1299,[5813],[5814]],[1300,[5806,[5807,[5808],[5809],[5810],[5811],[5812]]]],[1301],[1302,[5805]],[1303,[5803,[5804]]],[1304,[5802]],[1305],[1306,[5753],[5754],[5755,[5796,[5797,[5798],[5799],[5800],[5801]]]],[5756],[5757,[5794],[5795]],[5758,[5789,[5790,[5791],[5792],[5793]]]],[5759],[5760,[5784,[5785,[5786],[5787],[5788]]]],[5761,[5783]],[5762,[5778,[5779,[5780],[5781],[5782]]]],[5763,[5776],[5777]],[5764,[5773,[5775]],[5774]],[5765,[5771],[5772]],[5766,[5768],[5769],[5770]],[5767]],[1307,[5750],[5751],[5752]],[1308],[1309],[1310,[5745,[5746,[5747],[5748],[5749]]]],[1311,[5735],[5736],[5737,[5744]],[5738,[5739,[5740,[5741],[5742],[5743]]]]],[1312,[5712],[5713],[5714,[5731,[5732,[5733],[5734]]]],[5715],[5716],[5717,[5726,[5727,[5728],[5729],[5730]]]],[5718],[5719,[5722,[5723,[5724],[5725]]]],[5720,[5721]]],[1313],[1314],[1315,[5708,[5709,[5710],[5711]]]],[1316],[1317,[5703,[5704,[5705],[5706],[5707]]]],[1318,[5700],[5701],[5702]],[1319,[5696,[5697,[5698],[5699]]]],[1320,[5693],[5694],[5695]],[1321,[5690],[5691],[5692]],[1322,[5659,[5660,[5661],[5662],[5663],[5664],[5665],[5666],[5667],[5668],[5669],[5670],[5671],[5672],[5673],[5674],[5675],[5676],[5677],[5678],[5679],[5680],[5681],[5682],[5683],[5684],[5685],[5686],[5687],[5688],[5689]]]],[1323,[5658]],[1324],[1325,[5653,[5654,[5655],[5656],[5657]]]],[1326,[5652]],[1327,[5651]],[1328,[5647,[5648,[5649],[5650]]]],[1329],[1330,[5643,[5644,[5645],[5646]]]],[1331],[1332,[5639,[5640,[5641],[5642]]]],[1333,[5637],[5638]],[1334,[5632,[5633,[5634],[5635],[5636]]]],[1335],[1336,[5596],[5597],[5598,[5630,[5631]]],[5599,[5629]],[5600,[5627,[5628]]],[5601],[5602,[5622,[5623,[5624],[5625],[5626]]]],[5603],[5604,[5621]],[5605,[5614,[5615,[5616],[5617],[5618],[5619],[5620]]]],[5606,[5612],[5613]],[5607,[5609],[5610],[5611]],[5608]],[1337,[5593],[5594],[5595]],[1338],[1339,[5591],[5592]],[1340],[1341,[5579],[5580],[5581,[5590]],[5582,[5589]],[5583],[5584,[5585,[5586,[5587],[5588]]]]],[1342,[5545,[5578]],[5546,[5577]],[5547,[5573,[5574,[5575],[5576]]]],[5548,[5572]],[5549],[5550,[5567,[5568,[5569],[5570],[5571]]]],[5551,[5566]],[5552,[5565]],[5553,[5558,[5559,[5560],[5561],[5562],[5563],[5564]]]],[5554,[5555],[5556],[5557]]],[1343,[5508,[5544]],[5509],[5510,[5536,[5537,[5538],[5539],[5540],[5541],[5542],[5543]]]],[5511,[5535]],[5512],[5513,[5525,[5526,[5527],[5528],[5529],[5530],[5531],[5532],[5533],[5534]]]],[5514,[5517],[5518],[5519],[5520],[5521],[5522],[5523],[5524]],[5515,[5516]]],[1344,[5486],[5487,[5500,[5501],[5502,[5503,[5504,[5505],[5506],[5507]]]]]],[5488],[5489,[5491,[5492,[5498,[5499]]],[5493,[5497]],[5494,[5495,[5496]]]]],[5490]],[1345,[5429,[5485]],[5430,[5484]],[5431,[5480,[5481,[5482],[5483]]]],[5432,[5479]],[5433,[5474,[5475,[5476],[5477],[5478]]]],[5434],[5435,[5466,[5467,[5471,[5472],[5473]]],[5468,[5469,[5470]]]]],[5436],[5437,[5461,[5462,[5463],[5464],[5465]]]],[5438,[5459],[5460]],[5439,[5453,[5454,[5455],[5456],[5457],[5458]]]],[5440,[5450],[5451],[5452]],[5441],[5442,[5443,[5444,[5449]],[5445,[5448]],[5446,[5447]]]]],[1346,[5428]],[1347,[5427]],[1348,[5423,[5424,[5425],[5426]]]],[1349],[1350,[5419,[5420,[5421],[5422]]]],[1351,[5417],[5418]],[1352],[1353,[5412,[5413,[5416]],[5414,[5415]]]],[1354],[1355,[5405,[5406,[5407],[5408],[5409],[5410],[5411]]]],[1356,[5402],[5403],[5404]],[1357,[5393,[5394,[5395],[5396],[5397],[5398],[5399],[5400],[5401]]]],[1358,[5392]],[1359],[1360,[5389,[5390,[5391]]]],[1361],[1362,[5386,[5388]],[5387]],[1363],[1364],[1365,[5381,[5382,[5383],[5384],[5385]]]],[1366,[5376],[5377],[5378],[5379],[5380]],[1367,[5374],[5375]],[1368],[1369],[1370],[1371,[5372],[5373]],[1372,[5368],[5369],[5370],[5371]],[1373,[5366,[5367]]],[1374],[1375,[5360,[5361,[5362],[5363],[5364],[5365]]]],[1376,[5357],[5358],[5359]],[1377,[5351],[5352],[5353],[5354],[5355],[5356]],[1378,[5346,[5347,[5348],[5349],[5350]]]],[1379,[5345]],[1380,[5343,[5344]]],[1381],[1382,[5341,[5342]]],[1383,[5340]],[1384,[5339]],[1385],[1386,[5334,[5335,[5336],[5337],[5338]]]],[1387,[5333]],[1388,[5332]],[1389,[5327,[5328,[5329],[5330],[5331]]]],[1390],[1391,[5323,[5324,[5325],[5326]]]],[1392],[1393,[5319,[5320,[5321],[5322]]]],[1394],[1395],[1396],[1397,[5315,[5316,[5317],[5318]]]],[1398],[1399,[5311,[5312,[5313],[5314]]]],[1400,[5310]],[1401,[5304,[5305,[5306],[5307],[5308],[5309]]]],[1402,[5303]],[1403,[5301,[5302]]],[1404,[5300]],[1405,[5298,[5299]]],[1406],[1407,[5292,[5293,[5294],[5295],[5296],[5297]]]],[1408,[5289],[5290],[5291]],[1409,[5284,[5285,[5286],[5287],[5288]]]],[1410],[1411,[5279,[5280,[5281],[5282],[5283]]]],[1412,[5226],[5227],[5228,[5276],[5277,[5278]]],[5229,[5230],[5231],[5232,[5272,[5273,[5274],[5275]]]],[5233,[5270,[5271]]],[5234,[5269]],[5235,[5265,[5266,[5267],[5268]]]],[5236,[5262],[5263],[5264]],[5237,[5260],[5261]],[5238,[5256,[5257,[5258],[5259]]]],[5239,[5255]],[5240,[5250,[5251,[5252],[5253],[5254]]]],[5241,[5248],[5249]],[5242,[5244,[5245,[5246],[5247]]]],[5243]]],[1413,[5180],[5181],[5182,[5224,[5225]]],[5183,[5223]],[5184,[5220,[5221,[5222]]]],[5185,[5217],[5218],[5219]],[5186,[5214,[5215,[5216]]]],[5187,[5210],[5211],[5212],[5213]],[5188,[5207,[5208,[5209]]]],[5189],[5190],[5191,[5203,[5204,[5205],[5206]]]],[5192,[5202]],[5193,[5197,[5198,[5199],[5200],[5201]]]],[5194,[5196]],[5195]],[1414],[1415,[5177],[5178],[5179]],[1416,[5175],[5176]],[1417,[5171,[5172,[5173],[5174]]]],[1418,[5170]],[1419,[5168],[5169]],[1420],[1421,[5153,[5154,[5155],[5156],[5157],[5158],[5159],[5160],[5161],[5162],[5163],[5164],[5165],[5166],[5167]]]],[1422,[5150],[5151],[5152]],[1423,[5147,[5148,[5149]]]],[1424],[1425,[5140,[5141,[5142],[5143],[5144],[5145],[5146]]]],[1426,[5139]],[1427,[5136,[5137,[5138]]]],[1428,[5135]],[1429,[5121,[5122,[5123],[5124],[5125],[5126],[5127],[5128],[5129],[5130],[5131],[5132],[5133],[5134]]]],[1430],[1431,[5117,[5118,[5119],[5120]]]],[1432],[1433,[5101,[5102,[5103],[5104],[5105],[5106],[5107],[5108],[5109],[5110],[5111],[5112],[5113],[5114],[5115],[5116]]]],[1434],[1435,[5099,[5100]]],[1436,[5098]],[1437,[5088,[5089,[5090],[5091],[5092],[5093],[5094],[5095],[5096],[5097]]]],[1438,[5087]],[1439,[5078,[5079,[5080],[5081],[5082],[5083],[5084],[5085],[5086]]]],[1440,[5077]],[1441],[1442,[5075,[5076]]],[1443,[5074]],[1444,[5057,[5058,[5059],[5060],[5061],[5062],[5063],[5064],[5065],[5066],[5067],[5068],[5069],[5070],[5071],[5072],[5073]]]],[1445,[5056]],[1446],[1447,[5052,[5053,[5054],[5055]]]],[1448,[5046,[5047],[5048,[5049,[5050,[5051]]]]]],[1449],[1450,[4964,[4965,[4966],[4967],[4968],[4969],[4970],[4971],[4972],[4973],[4974],[4975],[4976],[4977],[4978],[4979],[4980],[4981],[4982],[4983],[4984],[4985],[4986],[4987],[4988],[4989],[4990],[4991],[4992],[4993],[4994],[4995],[4996],[4997],[4998],[4999],[5000],[5001],[5002],[5003],[5004],[5005],[5006],[5007],[5008],[5009],[5010],[5011],[5012],[5013],[5014],[5015],[5016],[5017],[5018],[5019],[5020],[5021],[5022],[5023],[5024],[5025],[5026],[5027],[5028],[5029],[5030],[5031],[5032],[5033],[5034],[5035],[5036],[5037],[5038],[5039],[5040],[5041],[5042],[5043],[5044],[5045]]]],[1451],[1452,[4958,[4959,[4960],[4961],[4962],[4963]]]],[1453,[4956],[4957]],[1454,[4951,[4952,[4953],[4954],[4955]]]],[1455,[4950]],[1456,[4946,[4947,[4948],[4949]]]],[1457,[4945]],[1458,[4939,[4940,[4941],[4942],[4943],[4944]]]],[1459,[4937],[4938]],[1460,[4935],[4936]],[1461],[1462],[1463],[1464],[1465,[4923,[4934]],[4924],[4925],[4926],[4927,[4932],[4933]],[4928,[4930],[4931]],[4929]],[1466,[4918,[4919,[4920,[4921],[4922]]]]],[1467],[1468],[1469],[1470],[1471,[4888],[4889,[4915],[4916],[4917]],[4890],[4891,[4913],[4914]],[4892,[4909,[4910,[4911],[4912]]]],[4893,[4903],[4904],[4905],[4906],[4907],[4908]],[4894,[4895],[4896],[4897],[4898],[4899],[4900],[4901],[4902]]],[1472],[1473,[4885],[4886],[4887]],[1474,[4878,[4879,[4880],[4881],[4882],[4883],[4884]]]],[1475,[4875],[4876],[4877]],[1476,[4870,[4871,[4872],[4873],[4874]]]],[1477,[4867],[4868],[4869]],[1478,[4863,[4864,[4865],[4866]]]],[1479,[4862]],[1480,[4859],[4860],[4861]],[1481,[4855,[4856,[4857],[4858]]]],[1482],[1483,[4849,[4850,[4851],[4852],[4853],[4854]]]],[1484],[1485,[4843,[4844,[4845],[4846],[4847],[4848]]]],[1486],[1487,[4839,[4840,[4841],[4842]]]],[1488],[1489,[4834,[4835,[4836],[4837],[4838]]]],[1490],[1491,[4829,[4830,[4831],[4832],[4833]]]],[1492,[4828]],[1493,[4824,[4825,[4826],[4827]]]],[1494],[1495],[1496,[4820,[4821,[4822],[4823]]]],[1497,[4817],[4818],[4819]],[1498,[4813,[4814,[4815],[4816]]]],[1499],[1500,[4810,[4812]],[4811]],[1501,[4807],[4808],[4809]],[1502,[4802,[4803,[4804],[4805],[4806]]]],[1503,[4799],[4800],[4801]],[1504,[4796],[4797],[4798]],[1505,[4791,[4792,[4793],[4794],[4795]]]],[1506],[1507,[4787,[4788,[4789],[4790]]]],[1508],[1509,[4779,[4780,[4781],[4782],[4783],[4784],[4785],[4786]]]],[1510],[1511,[4774,[4775,[4776],[4777],[4778]]]],[1512,[4770],[4771],[4772],[4773]],[1513,[4764,[4765,[4766],[4767],[4768],[4769]]]],[1514,[4763]],[1515,[4760,[4762]],[4761]],[1516,[4709],[4710],[4711,[4759]],[4712,[4754,[4755,[4756],[4757],[4758]]]],[4713,[4753]],[4714,[4749,[4750,[4751],[4752]]]],[4715,[4747],[4748]],[4716],[4717,[4740,[4741,[4742],[4743],[4744],[4745],[4746]]]],[4718,[4738],[4739]],[4719,[4734,[4735,[4736],[4737]]]],[4720,[4731],[4732],[4733]],[4721,[4727,[4728,[4729],[4730]]]],[4722],[4723,[4724,[4726]],[4725]]],[1517,[4654],[4655],[4656,[4708]],[4657,[4702,[4703,[4704],[4705],[4706],[4707]]]],[4658],[4659,[4697,[4698,[4699],[4700],[4701]]]],[4660,[4695],[4696]],[4661,[4688,[4689,[4690],[4691],[4692],[4693],[4694]]]],[4662,[4687]],[4663,[4681,[4682,[4683],[4684],[4685],[4686]]]],[4664,[4678],[4679],[4680]],[4665,[4667,[4668,[4669],[4670],[4671],[4672],[4673],[4674],[4675],[4676],[4677]]]],[4666]],[1518],[1519,[4652],[4653]],[1520,[4651]],[1521,[4646,[4647,[4648],[4649],[4650]]]],[1522],[1523,[4641,[4642,[4643],[4644],[4645]]]],[1524],[1525,[4637,[4638,[4639],[4640]]]],[1526,[4636]],[1527,[4632,[4633,[4634],[4635]]]],[1528],[1529,[4628,[4629,[4630],[4631]]]],[1530],[1531,[4624,[4625,[4626],[4627]]]],[1532],[1533,[4621,[4623]],[4622]],[1534,[4619],[4620]],[1535,[4581],[4582,[4618]],[4583],[4584,[4614,[4615,[4616],[4617]]]],[4585,[4613]],[4586,[4609,[4610,[4611],[4612]]]],[4587,[4608]],[4588,[4607]],[4589,[4603,[4604,[4605],[4606]]]],[4590],[4591,[4598,[4599,[4600],[4601],[4602]]]],[4592],[4593,[4594,[4595,[4596],[4597]]]]],[1536,[4544],[4545],[4546,[4580]],[4547,[4576,[4577,[4578],[4579]]]],[4548,[4575]],[4549,[4570,[4571,[4572],[4573],[4574]]]],[4550],[4551,[4566,[4567,[4568],[4569]]]],[4552,[4565]],[4553,[4561,[4562,[4563],[4564]]]],[4554],[4555,[4557,[4558,[4559],[4560]]]],[4556]],[1537,[4519],[4520,[4541],[4542],[4543]],[4521,[4536,[4537,[4538],[4539],[4540]]]],[4522,[4532],[4533],[4534],[4535]],[4523,[4528,[4529,[4530],[4531]]]],[4524,[4525],[4526],[4527]]],[1538],[1539],[1540,[4515,[4516,[4517],[4518]]]],[1541,[4514]],[1542,[4507,[4508,[4509],[4510],[4511],[4512],[4513]]]],[1543],[1544,[4503,[4504,[4505],[4506]]]],[1545,[4502]],[1546,[4498,[4499,[4500],[4501]]]],[1547],[1548,[4491,[4492,[4493],[4494],[4495],[4496],[4497]]]],[1549],[1550,[4487,[4488,[4489],[4490]]]],[1551],[1552,[4483,[4484,[4485],[4486]]]],[1553],[1554,[4481],[4482]],[1555,[4477,[4478,[4479],[4480]]]],[1556],[1557,[4473,[4474,[4475],[4476]]]],[1558],[1559,[4472]],[1560,[4471]],[1561,[4467,[4468,[4469],[4470]]]],[1562,[4463],[4464],[4465],[4466]],[1563,[4462]],[1564],[1565],[1566,[4458,[4459,[4460],[4461]]]],[1567,[4456],[4457]],[1568,[4450,[4451,[4452],[4453],[4454],[4455]]]],[1569,[4445],[4446],[4447],[4448],[4449]],[1570,[4441],[4442],[4443],[4444]],[1571,[4435,[4436,[4437],[4438],[4439],[4440]]]],[1572,[4434]],[1573,[4433]],[1574,[4431,[4432]]],[1575,[4428],[4429],[4430]],[1576,[4424,[4425,[4426],[4427]]]],[1577],[1578,[4419,[4420,[4421],[4422],[4423]]]],[1579,[4417],[4418]],[1580,[4415],[4416]],[1581,[4408,[4409,[4410],[4411],[4412],[4413],[4414]]]],[1582],[1583,[4406,[4407]]],[1584,[4405]],[1585,[4398,[4399,[4400],[4401],[4402],[4403],[4404]]]],[1586],[1587,[4372],[4373,[4397]],[4374,[4395],[4396]],[4375,[4391,[4392,[4393],[4394]]]],[4376,[4389],[4390]],[4377,[4382,[4383,[4384],[4385],[4386],[4387],[4388]]]],[4378,[4379],[4380],[4381]]],[1588,[4355],[4356],[4357,[4368,[4369,[4370],[4371]]]],[4358,[4365],[4366],[4367]],[4359],[4360,[4361,[4362,[4363],[4364]]]]],[1589],[1590],[1591],[1592,[4354]],[1593,[4352,[4353]]],[1594,[4351]],[1595,[4347,[4348,[4349],[4350]]]],[1596,[4344],[4345],[4346]],[1597,[4342,[4343]]],[1598],[1599,[4340,[4341]]],[1600,[4337],[4338],[4339]],[1601,[4335,[4336]]],[1602],[1603,[4331,[4332,[4333],[4334]]]],[1604,[4329],[4330]],[1605,[4327,[4328]]],[1606],[1607,[4325,[4326]]],[1608],[1609,[4323,[4324]]],[1610,[4321],[4322]],[1611,[4319,[4320]]],[1612],[1613,[4317,[4318]]],[1614],[1615,[4315,[4316]]],[1616,[4314]],[1617],[1618],[1619,[4258],[4259,[4310],[4311],[4312],[4313]],[4260,[4276],[4277,[4307],[4308],[4309]],[4278,[4302,[4303,[4304],[4305],[4306]]]],[4279,[4298],[4299],[4300],[4301]],[4280],[4281,[4292],[4293],[4294],[4295],[4296],[4297]],[4282,[4290,[4291]]],[4283,[4288],[4289]],[4284],[4285,[4286,[4287]]]],[4261,[4262],[4263],[4264,[4274,[4275]]],[4265,[4272],[4273]],[4266,[4270,[4271]]],[4267,[4268],[4269]]]],[1620,[4214],[4215,[4254],[4255],[4256],[4257]],[4216,[4230],[4231,[4253]],[4232,[4248,[4249,[4250],[4251],[4252]]]],[4233,[4246],[4247]],[4234,[4244,[4245]]],[4235,[4242],[4243]],[4236,[4240],[4241]],[4237,[4238,[4239]]]],[4217,[4218],[4219,[4229]],[4220,[4227,[4228]]],[4221,[4226]],[4222,[4224,[4225]]],[4223]]],[1621,[4210],[4211,[4212],[4213]]],[1622],[1623],[1624,[4172],[4173,[4209]],[4174],[4175,[4205,[4206,[4207],[4208]]]],[4176,[4203],[4204]],[4177,[4202]],[4178,[4198,[4199,[4200],[4201]]]],[4179,[4195],[4196],[4197]],[4180,[4190,[4191,[4192],[4193],[4194]]]],[4181,[4185],[4186],[4187],[4188],[4189]],[4182,[4183],[4184]]],[1625],[1626],[1627],[1628,[4168,[4169,[4170],[4171]]]],[1629,[4167]],[1630,[4162,[4163,[4164],[4165],[4166]]]],[1631],[1632,[4158],[4159],[4160],[4161]],[1633,[4154,[4155,[4156],[4157]]]],[1634,[4153]],[1635,[4149,[4150,[4151],[4152]]]],[1636,[4148]],[1637,[4143,[4144,[4145],[4146],[4147]]]],[1638,[4140],[4141],[4142]],[1639,[4135,[4136,[4137],[4138],[4139]]]],[1640,[4132],[4133],[4134]],[1641,[4128,[4129,[4130],[4131]]]],[1642],[1643],[1644,[4127]],[1645],[1646,[4126]],[1647],[1648,[4119,[4120,[4121],[4122],[4123],[4124],[4125]]]],[1649],[1650,[4113,[4114,[4115],[4116],[4117],[4118]]]],[1651,[4112]],[1652,[4108,[4109,[4110],[4111]]]],[1653,[4107]],[1654,[4103,[4104,[4105],[4106]]]],[1655,[4102]],[1656,[4099],[4100],[4101]],[1657,[4093,[4094,[4095],[4096],[4097],[4098]]]],[1658,[4089],[4090],[4091],[4092]],[1659,[4085,[4086,[4087],[4088]]]],[1660],[1661,[4081,[4082,[4083],[4084]]]],[1662,[4078],[4079],[4080]],[1663,[4072,[4073,[4074],[4075],[4076],[4077]]]],[1664,[4069],[4070],[4071]],[1665,[4062],[4063],[4064],[4065],[4066],[4067],[4068]],[1666,[4060],[4061]],[1667,[4054,[4055,[4056],[4057],[4058],[4059]]]],[1668],[1669,[4050,[4051,[4052],[4053]]]],[1670,[4048],[4049]],[1671,[4043,[4044,[4045],[4046],[4047]]]],[1672],[1673,[4042]],[1674,[4015],[4016],[4017,[4037,[4041]],[4038],[4039],[4040]],[4018,[4034,[4036]],[4035]],[4019,[4031,[4033]],[4032]],[4020,[4029,[4030]]],[4021,[4026,[4028]],[4027]],[4022,[4023,[4025]],[4024]]],[1675,[3986],[3987],[3988,[4009,[4014]],[4010],[4011],[4012],[4013]],[3989,[4006,[4008]],[4007]],[3990,[4003,[4005]],[4004]],[3991,[4001,[4002]]],[3992,[3998,[4000]],[3999]],[3993,[3994,[3997]],[3995],[3996]]],[1676,[3964],[3965,[3984],[3985]],[3966,[3973,[3982],[3983]],[3974],[3975],[3976],[3977],[3978],[3979],[3980],[3981]],[3967,[3971,[3972]]],[3968,[3969,[3970]]]],[1677,[3937],[3938,[3962],[3963]],[3939,[3960,[3961]]],[3940,[3958,[3959]]],[3941,[3956,[3957]]],[3942,[3954,[3955]]],[3943,[3952,[3953]]],[3944,[3950,[3951]]],[3945,[3946],[3947,[3949]],[3948]]],[1678,[3917],[3918,[3933],[3934,[3936]],[3935]],[3919,[3931,[3932]]],[3920,[3925,[3930]],[3926,[3929]],[3927],[3928]],[3921,[3922,[3924]],[3923]]],[1679,[3880],[3881,[3912,[3916]],[3913],[3914],[3915]],[3882,[3908,[3911]],[3909],[3910]],[3883,[3902,[3907]],[3903,[3906]],[3904],[3905]],[3884,[3900,[3901]]],[3885,[3887,[3888,[3899]],[3889,[3898]],[3890,[3897]],[3891,[3896]],[3892,[3895]],[3893,[3894]]]],[3886]],[1680,[3828],[3829,[3879]],[3830,[3873,[3874,[3878]],[3875,[3876,[3877]]]]],[3831,[3871,[3872]]],[3832,[3867,[3868,[3869],[3870]]]],[3833,[3865,[3866]]],[3834,[3860,[3861,[3862],[3863],[3864]]]],[3835,[3858,[3859]]],[3836,[3853,[3854,[3855],[3856],[3857]]]],[3837,[3851,[3852]]],[3838,[3847,[3848,[3849],[3850]]]],[3839,[3845,[3846]]],[3840,[3841,[3842,[3843],[3844]]]]],[1681,[3795],[3796,[3821,[3827]],[3822],[3823],[3824],[3825],[3826]],[3797,[3816,[3820]],[3817],[3818],[3819]],[3798,[3813,[3815]],[3814]],[3799,[3811,[3812]]],[3800,[3809,[3810]]],[3801,[3802,[3803,[3804],[3805],[3806],[3807],[3808]]]]],[1682,[3792],[3793],[3794]],[1683],[1684],[1685],[1686],[1687,[3790,[3791]]],[1688,[3785,[3786,[3787,[3788],[3789]]]]],[1689,[3784]],[1690],[1691],[1692],[1693,[3736,[3782],[3783]],[3737,[3780],[3781]],[3738,[3777],[3778],[3779]],[3739,[3776]],[3740,[3772,[3773,[3774],[3775]]]],[3741,[3769],[3770],[3771]],[3742,[3765,[3768]],[3766,[3767]]],[3743,[3764]],[3744,[3763]],[3745,[3759,[3760,[3761],[3762]]]],[3746],[3747,[3755,[3758]],[3756,[3757]]],[3748],[3749],[3750,[3754]],[3751,[3752],[3753]]],[1694],[1695,[3735]],[1696,[3732,[3734]],[3733]],[1697,[3729,[3731]],[3730]],[1698],[1699,[3720,[3721,[3728]],[3722,[3727]],[3723,[3726]],[3724,[3725]]]],[1700,[3718,[3719]]],[1701,[3712],[3713,[3716],[3717]],[3714],[3715]],[1702,[3687],[3688,[3711]],[3689],[3690,[3708,[3710]],[3709]],[3691],[3692,[3705,[3707]],[3706]],[3693],[3694],[3695,[3697,[3698,[3702,[3703],[3704]]],[3699,[3700,[3701]]]]],[3696]],[1703,[3685],[3686]],[1704,[3681],[3682,[3683],[3684]]],[1705,[3664],[3665],[3666,[3680]],[3667,[3677,[3679]],[3678]],[3668,[3675],[3676]],[3669,[3672,[3674]],[3673]],[3670,[3671]]],[1706,[3657],[3658],[3659,[3661,[3663]],[3662]],[3660]],[1707,[3613],[3614],[3615,[3655],[3656]],[3616,[3652,[3653,[3654]]]],[3617],[3618,[3648,[3649,[3650],[3651]]]],[3619,[3647]],[3620,[3643],[3644],[3645],[3646]],[3621,[3640,[3641,[3642]]]],[3622,[3632],[3633],[3634],[3635],[3636],[3637],[3638],[3639]],[3623,[3627,[3631]],[3628,[3629],[3630]]],[3624,[3625],[3626]]],[1708,[3584],[3585,[3611],[3612]],[3586,[3607,[3608,[3609],[3610]]]],[3587],[3588,[3606]],[3589,[3603,[3604,[3605]]]],[3590],[3591,[3599,[3602]],[3600,[3601]]],[3592,[3597],[3598]],[3593,[3594,[3596]],[3595]]],[1709,[3559],[3560,[3582],[3583]],[3561,[3579,[3581]],[3580]],[3562,[3577],[3578]],[3563,[3573,[3574,[3575],[3576]]]],[3564,[3571],[3572]],[3565,[3568,[3569,[3570]]]],[3566,[3567]]],[1710,[3557],[3558]],[1711],[1712],[1713],[1714],[1715,[3554],[3555,[3556]]],[1716,[3548,[3549,[3550,[3551],[3552],[3553]]]]],[1717],[1718],[1719,[3543],[3544],[3545],[3546],[3547]],[1720],[1721,[3542]],[1722],[1723,[3526,[3527,[3528],[3529],[3530],[3531],[3532],[3533],[3534],[3535],[3536],[3537],[3538],[3539],[3540],[3541]]]],[1724,[3521],[3522],[3523],[3524],[3525]],[1725,[3514],[3515],[3516],[3517],[3518],[3519],[3520]],[1726,[3513]],[1727],[1728,[3502,[3503,[3511,[3512]]],[3504,[3510]],[3505,[3508,[3509]]],[3506,[3507]]]],[1729,[3501]],[1730,[3488,[3489,[3490],[3491],[3492],[3493],[3494],[3495],[3496],[3497],[3498],[3499],[3500]]]],[1731,[3486],[3487]],[1732,[3457,[3458,[3459],[3460],[3461],[3462],[3463],[3464],[3465],[3466],[3467],[3468],[3469],[3470],[3471],[3472],[3473],[3474],[3475],[3476],[3477],[3478],[3479],[3480],[3481],[3482],[3483],[3484],[3485]]]],[1733,[3438,[3439,[3456]],[3440,[3454],[3455]],[3441,[3453]],[3442,[3452]],[3443,[3451]],[3444,[3450]],[3445,[3449]],[3446,[3447],[3448]]]],[1734,[3437]],[1735,[3387],[3388],[3389,[3436]],[3390,[3426,[3427,[3428],[3429],[3430],[3431],[3432],[3433],[3434],[3435]]]],[3391,[3425]],[3392,[3416,[3417,[3424]],[3418,[3423]],[3419,[3422]],[3420,[3421]]]],[3393,[3414],[3415]],[3394,[3401,[3402,[3403],[3404],[3405],[3406],[3407],[3408],[3409],[3410],[3411],[3412],[3413]]]],[3395,[3399],[3400]],[3396,[3397],[3398]]],[1736,[3350],[3351,[3386]],[3352,[3376],[3377,[3385]],[3378,[3380,[3381,[3382],[3383],[3384]]]],[3379]],[3353,[3367],[3368,[3375]],[3369,[3371,[3372,[3373],[3374]]]],[3370]],[3354,[3355],[3356,[3366]],[3357,[3358,[3359,[3360],[3361],[3362],[3363],[3364],[3365]]]]]],[1737,[3346],[3347,[3348],[3349]]],[1738],[1739,[3345]],[1740,[3321],[3322,[3344]],[3323,[3333,[3334,[3335],[3336],[3337],[3338],[3339],[3340],[3341],[3342],[3343]]]],[3324,[3331],[3332]],[3325,[3330]],[3326,[3327,[3328,[3329]]]]],[1741],[1742],[1743,[3319],[3320]],[1744,[3309,[3310,[3311],[3312],[3313],[3314],[3315],[3316],[3317],[3318]]]],[1745,[3306],[3307],[3308]],[1746,[3305]],[1747,[3287,[3288,[3289],[3290],[3291],[3292],[3293],[3294],[3295],[3296],[3297],[3298],[3299],[3300],[3301],[3302],[3303],[3304]]]],[1748],[1749,[3281],[3282],[3283],[3284],[3285],[3286]],[1750,[3278],[3279],[3280]],[1751,[3274],[3275],[3276],[3277]],[1752,[3270],[3271],[3272],[3273]],[1753,[3269]],[1754,[3265],[3266],[3267],[3268]],[1755,[3228],[3229,[3264]],[3230,[3259,[3260,[3261],[3262],[3263]]]],[3231,[3257],[3258]],[3232,[3246,[3247,[3248],[3249],[3250],[3251],[3252],[3253],[3254],[3255],[3256]]]],[3233,[3243],[3244],[3245]],[3234,[3235],[3236],[3237],[3238],[3239],[3240],[3241],[3242]]],[1756,[3215],[3216],[3217,[3218,[3219,[3226,[3227]]],[3220,[3224,[3225]]],[3221,[3222,[3223]]]]]],[1757],[1758],[1759],[1760],[1761,[3212],[3213],[3214]],[1762,[3207,[3208,[3209,[3210],[3211]]]]],[1763],[1764],[1765,[3174],[3175,[3205],[3206]],[3176,[3187],[3188],[3189,[3204]],[3190,[3203]],[3191,[3202]],[3192,[3199],[3200],[3201]],[3193,[3198]],[3194,[3197]],[3195,[3196]]],[3177,[3178],[3179,[3185],[3186]],[3180,[3181],[3182],[3183],[3184]]]],[1766,[3138],[3139],[3140,[3163],[3164,[3173]],[3165,[3172]],[3166,[3171]],[3167,[3170]],[3168,[3169]]],[3141,[3142],[3143,[3157],[3158],[3159],[3160],[3161],[3162]],[3144,[3156]],[3145,[3155]],[3146,[3153],[3154]],[3147,[3152]],[3148,[3150],[3151]],[3149]]],[1767],[1768],[1769,[3123],[3124,[3135],[3136],[3137]],[3125],[3126,[3133],[3134]],[3127,[3132]],[3128,[3131]],[3129,[3130]]],[1770,[3116],[3117,[3122]],[3118,[3119],[3120],[3121]]],[1771,[3092],[3093,[3112],[3113],[3114],[3115]],[3094,[3110],[3111]],[3095,[3108],[3109]],[3096,[3106],[3107]],[3097,[3101],[3102],[3103],[3104],[3105]],[3098,[3099],[3100]]],[1772,[3086],[3087,[3090],[3091]],[3088,[3089]]],[1773,[3065],[3066,[3084],[3085]],[3067,[3080],[3081],[3082],[3083]],[3068,[3078],[3079]],[3069,[3076],[3077]],[3070,[3074],[3075]],[3071,[3072],[3073]]],[1774,[3048],[3049,[3061],[3062],[3063],[3064]],[3050,[3058],[3059],[3060]],[3051,[3057]],[3052,[3053],[3054],[3055],[3056]]],[1775,[3035],[3036,[3046],[3047]],[3037,[3043],[3044],[3045]],[3038,[3039],[3040],[3041],[3042]]],[1776,[3030],[3031,[3034]],[3032,[3033]]],[1777,[3024],[3025,[3029]],[3026,[3027],[3028]]],[1778],[1779],[1780,[3011],[3012,[3023]],[3013,[3019],[3020],[3021],[3022]],[3014,[3017],[3018]],[3015,[3016]]],[1781,[2994],[2995,[3010]],[2996,[3008],[3009]],[2997,[3006],[3007]],[2998,[3004],[3005]],[2999,[3002],[3003]],[3000,[3001]]],[1782,[2975],[2976,[2993]],[2977,[2989],[2990],[2991],[2992]],[2978,[2987],[2988]],[2979,[2984],[2985],[2986]],[2980,[2983]],[2981,[2982]]],[1783,[2969],[2970,[2974]],[2971,[2972],[2973]]],[1784,[2932],[2933,[2968]],[2934],[2935,[2964],[2965],[2966],[2967]],[2936,[2961],[2962],[2963]],[2937,[2956],[2957],[2958],[2959],[2960]],[2938,[2950],[2951],[2952],[2953],[2954],[2955]],[2939,[2947],[2948],[2949]],[2940,[2945],[2946]],[2941,[2942],[2943],[2944]]],[1785,[2927],[2928,[2931]],[2929,[2930]]],[1786,[2917],[2918,[2926]],[2919,[2924],[2925]],[2920,[2921],[2922],[2923]]],[1787],[1788],[1789,[2902],[2903,[2916]],[2904,[2914],[2915]],[2905,[2913]],[2906,[2911],[2912]],[2907,[2908],[2909],[2910]]],[1790,[2887],[2888,[2899],[2900],[2901]],[2889,[2897],[2898]],[2890,[2896]],[2891,[2895]],[2892,[2893],[2894]]],[1791,[2862],[2863,[2886]],[2864,[2879],[2880],[2881],[2882],[2883],[2884],[2885]],[2865,[2877],[2878]],[2866,[2875],[2876]],[2867,[2873],[2874]],[2868,[2871],[2872]],[2869,[2870]]],[1792,[2853],[2854,[2859],[2860],[2861]],[2855,[2858]],[2856,[2857]]],[1793,[2847],[2848,[2852]],[2849,[2850],[2851]]],[1794,[2838],[2839,[2842],[2843],[2844],[2845],[2846]],[2840,[2841]]],[1795,[2810],[2811,[2828],[2829,[2837]],[2830,[2836]],[2831,[2835]],[2832,[2833],[2834]]],[2812,[2821],[2822,[2825],[2826],[2827]],[2823,[2824]]],[2813,[2814],[2815,[2820]],[2816,[2817],[2818],[2819]]]],[1796,[2790],[2791],[2792,[2805],[2806,[2809]],[2807,[2808]]],[2793,[2800],[2801,[2804]],[2802,[2803]]],[2794,[2795],[2796,[2799]],[2797,[2798]]]],[1797,[2758],[2759],[2760,[2784],[2785,[2789]],[2786,[2787],[2788]]],[2761,[2769],[2770,[2781],[2782],[2783]],[2771,[2780]],[2772,[2778],[2779]],[2773,[2777]],[2774,[2775],[2776]]],[2762,[2763],[2764,[2767],[2768]],[2765,[2766]]]],[1798,[2705],[2706],[2707,[2752],[2753,[2756],[2757]],[2754,[2755]]],[2708,[2738],[2739,[2751]],[2740,[2746,[2750]],[2747],[2748],[2749]],[2741,[2744],[2745]],[2742,[2743]]],[2709,[2732],[2733,[2737]],[2734,[2735],[2736]]],[2710,[2726],[2727,[2728],[2729],[2730],[2731]]],[2711,[2719],[2720,[2724],[2725]],[2721,[2722],[2723]]],[2712,[2713],[2714,[2718]],[2715,[2716],[2717]]]],[1799,[2691],[2692],[2693,[2700],[2701,[2704]],[2702,[2703]]],[2694,[2695],[2696,[2699]],[2697,[2698]]]],[1800,[2655],[2656],[2657,[2686],[2687,[2690]],[2688,[2689]]],[2658,[2681],[2682,[2685]],[2683,[2684]]],[2659,[2672],[2673,[2680]],[2674,[2677],[2678],[2679]],[2675,[2676]]],[2660,[2661],[2662,[2671]],[2663,[2667],[2668],[2669],[2670]],[2664,[2665],[2666]]]],[1801,[2640],[2641],[2642,[2653],[2654]],[2643,[2649],[2650],[2651],[2652]],[2644,[2647],[2648]],[2645,[2646]]],[1802],[1803],[1804],[1805],[1806,[2639]],[1807,[2638]],[1808,[2637]],[1809,[2636]],[1810,[2635]],[1811,[2583],[2584,[2585,[2627],[2628,[2629,[2634]],[2630,[2633]],[2631,[2632]]]],[2586,[2626]],[2587,[2614],[2615,[2616,[2625]],[2617,[2624]],[2618,[2623]],[2619,[2622]],[2620,[2621]]]],[2588,[2613]],[2589,[2603],[2604,[2605,[2612]],[2606,[2611]],[2607,[2610]],[2608,[2609]]]],[2590,[2595],[2596,[2597,[2602]],[2598,[2601]],[2599,[2600]]]],[2591,[2594]],[2592,[2593]]]],[1812,[2501],[2502,[2503,[2577],[2578,[2579,[2582]],[2580,[2581]]]],[2504,[2555],[2556,[2557,[2576]],[2558,[2575]],[2559,[2574]],[2560,[2573]],[2561,[2572]],[2562,[2571]],[2563,[2570]],[2564,[2569]],[2565,[2568]],[2566,[2567]]]],[2505,[2551],[2552,[2553,[2554]]]],[2506,[2545],[2546,[2547,[2550]],[2548,[2549]]]],[2507,[2531],[2532,[2533,[2544]],[2534,[2543]],[2535,[2542]],[2536,[2541]],[2537,[2540]],[2538,[2539]]]],[2508,[2513],[2514,[2515,[2530]],[2516,[2529]],[2517,[2528]],[2518,[2527]],[2519,[2526]],[2520,[2525]],[2521,[2524]],[2522,[2523]]]],[2509,[2512]],[2510,[2511]]]],[1813,[2448],[2449,[2450,[2495],[2496,[2497,[2500]],[2498,[2499]]]],[2451,[2487],[2488,[2489,[2494]],[2490,[2493]],[2491,[2492]]]],[2452,[2486]],[2453,[2480],[2481,[2482,[2485]],[2483,[2484]]]],[2454,[2470],[2471,[2472,[2479]],[2473,[2478]],[2474,[2477]],[2475,[2476]]]],[2455,[2458],[2459,[2460,[2469]],[2461,[2468]],[2462,[2467]],[2463,[2466]],[2464,[2465]]]],[2456,[2457]]]],[1814,[2403],[2404,[2405,[2438],[2439,[2440,[2447]],[2441,[2446]],[2442,[2445]],[2443,[2444]]]],[2406,[2432],[2433,[2434,[2437]],[2435,[2436]]]],[2407,[2431]],[2408,[2430]],[2409,[2429]],[2410,[2428]],[2411,[2427]],[2412,[2417],[2418,[2419,[2426]],[2420,[2425]],[2421,[2424]],[2422,[2423]]]],[2413,[2416]],[2414,[2415]]]],[1815,[2352],[2353,[2354,[2393],[2394,[2395,[2402]],[2396,[2401]],[2397,[2400]],[2398,[2399]]]],[2355,[2379],[2380,[2381,[2392]],[2382,[2391]],[2383,[2390]],[2384,[2389]],[2385,[2388]],[2386,[2387]]]],[2356,[2359],[2360,[2361,[2378]],[2362,[2377]],[2363,[2376]],[2364,[2375]],[2365,[2374]],[2366,[2373]],[2367,[2372]],[2368,[2371]],[2369,[2370]]]],[2357,[2358]]]],[1816,[2277],[2278,[2279,[2342],[2343,[2344,[2351]],[2345,[2350]],[2346,[2349]],[2347,[2348]]]],[2280,[2332],[2333,[2334,[2341]],[2335,[2340]],[2336,[2339]],[2337,[2338]]]],[2281,[2308],[2309,[2310,[2331]],[2311,[2330]],[2312,[2329]],[2313,[2328]],[2314,[2327]],[2315,[2326]],[2316,[2325]],[2317,[2324]],[2318,[2323]],[2319,[2322]],[2320,[2321]]]],[2282,[2300],[2301,[2302,[2307]],[2303,[2306]],[2304,[2305]]]],[2283,[2286],[2287,[2288,[2299]],[2289,[2298]],[2290,[2297]],[2291,[2296]],[2292,[2295]],[2293,[2294]]]],[2284,[2285]]]],[1817,[2146],[2147,[2148,[2263],[2264,[2265,[2276]],[2266,[2275]],[2267,[2274]],[2268,[2273]],[2269,[2272]],[2270,[2271]]]],[2149,[2257],[2258,[2259,[2262]],[2260,[2261]]]],[2150,[2247],[2248,[2249,[2256]],[2250,[2255]],[2251,[2254]],[2252,[2253]]]],[2151,[2235],[2236,[2237,[2246]],[2238,[2245]],[2239,[2244]],[2240,[2243]],[2241,[2242]]]],[2152,[2229],[2230,[2231,[2234]],[2232,[2233]]]],[2153,[2215],[2216,[2217,[2228]],[2218,[2227]],[2219,[2226]],[2220,[2225]],[2221,[2224]],[2222,[2223]]]],[2154,[2199],[2200,[2201,[2214]],[2202,[2213]],[2203,[2212]],[2204,[2211]],[2205,[2210]],[2206,[2209]],[2207,[2208]]]],[2155,[2191],[2192,[2193,[2198]],[2194,[2197]],[2195,[2196]]]],[2156,[2190]],[2157,[2184],[2185,[2186,[2189]],[2187,[2188]]]],[2158,[2172],[2173,[2174,[2183]],[2175,[2182]],[2176,[2181]],[2177,[2180]],[2178,[2179]]]],[2159,[2171]],[2160,[2170]],[2161,[2164],[2165,[2166,[2169]],[2167,[2168]]]],[2162,[2163]]]],[1818,[2102],[2103,[2104,[2134],[2135,[2136,[2145]],[2137,[2144]],[2138,[2143]],[2139,[2142]],[2140,[2141]]]],[2105,[2124],[2125,[2126,[2133]],[2127,[2132]],[2128,[2131]],[2129,[2130]]]],[2106,[2116],[2117,[2118,[2123]],[2119,[2122]],[2120,[2121]]]],[2107,[2110],[2111,[2112,[2115]],[2113,[2114]]]],[2108,[2109]]]],[1819,[2074],[2075,[2076,[2092],[2093,[2094,[2101]],[2095,[2100]],[2096,[2099]],[2097,[2098]]]],[2077,[2080],[2081,[2082,[2091]],[2083,[2090]],[2084,[2089]],[2085,[2088]],[2086,[2087]]]],[2078,[2079]]]],[1820,[2004],[2005,[2006,[2073]],[2007,[2065],[2066,[2067,[2072]],[2068,[2071]],[2069,[2070]]]],[2008,[2057],[2058,[2059,[2064]],[2060,[2063]],[2061,[2062]]]],[2009,[2056]],[2010,[2050],[2051,[2052,[2055]],[2053,[2054]]]],[2011,[2042],[2043,[2044,[2049]],[2045,[2048]],[2046,[2047]]]],[2012,[2034],[2035,[2036,[2041]],[2037,[2040]],[2038,[2039]]]],[2013,[2016],[2017,[2018,[2033]],[2019,[2032]],[2020,[2031]],[2021,[2030]],[2022,[2029]],[2023,[2028]],[2024,[2027]],[2025,[2026]]]],[2014,[2015]]]],[1821,[1981],[1982,[1983,[1996],[1997,[1998,[2003]],[1999,[2002]],[2000,[2001]]]],[1984,[1995]],[1985,[1994]],[1986,[1993]],[1987,[1992]],[1988,[1991]],[1989,[1990]]]],[1822,[1957],[1958,[1959,[1980]],[1960,[1972],[1973,[1974,[1979]],[1975,[1978]],[1976,[1977]]]],[1961,[1962],[1963,[1964,[1971]],[1965,[1970]],[1966,[1969]],[1967,[1968]]]]]],[1823,[1826],[1827,[1828,[1951],[1952,[1953,[1956]],[1954,[1955]]]],[1829,[1945],[1946,[1947,[1950]],[1948,[1949]]]],[1830,[1925],[1926,[1927,[1944]],[1928,[1943]],[1929,[1942]],[1930,[1941]],[1931,[1940]],[1932,[1939]],[1933,[1938]],[1934,[1937]],[1935,[1936]]]],[1831,[1909],[1910,[1911,[1924]],[1912,[1923]],[1913,[1922]],[1914,[1921]],[1915,[1920]],[1916,[1919]],[1917,[1918]]]],[1832,[1895],[1896,[1897,[1908]],[1898,[1907]],[1899,[1906]],[1900,[1905]],[1901,[1904]],[1902,[1903]]]],[1833,[1887],[1888,[1889,[1894]],[1890,[1893]],[1891,[1892]]]],[1834,[1879],[1880,[1881,[1886]],[1882,[1885]],[1883,[1884]]]],[1835,[1871],[1872,[1873,[1878]],[1874,[1877]],[1875,[1876]]]],[1836,[1857],[1858,[1859,[1870]],[1860,[1869]],[1861,[1868]],[1862,[1867]],[1863,[1866]],[1864,[1865]]]],[1837,[1851],[1852,[1853,[1856]],[1854,[1855]]]],[1838,[1841],[1842,[1843,[1850]],[1844,[1849]],[1845,[1848]],[1846,[1847]]]],[1839,[1840]]]],[1824,[1825]]]],"tag_map":[{"a":[["lang","en"],["lang","en",1]],"n":"html"},{"x":"\n    ","n":"head","l":"\n  "},{"a":[["class","calibre"],["type","cover"],["aid","0"],["id","calibre_generated_inline_toc"]],"x":"\n\n","n":"body"},{"a":[["src","kindle:flow:0005?mime=image/svg+xml"]],"n":"img","l":"\n\n  \n    "},{"x":"许可证","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    \n  "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_许可证"],["title","许可证"],["type","chapter"],["aid","UGI1"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Scott Chacon 序","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    \n  "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_scott_chacon_序"],["title","Scott Chacon 序"],["type","chapter"],["aid","1T141"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Ben Straub 序","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    \n  "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_ben_straub_序"],["title","Ben Straub 序"],["type","chapter"],["aid","2RHM1"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"献辞","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    \n  "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_献辞"],["title","献辞"],["type","chapter"],["aid","3Q281"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"引言","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    \n  "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_引言"],["title","引言"],["type","chapter"],["aid","4OIQ1"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"起步","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch01-introduction"],["title","起步"],["type","chapter"],["aid","5N3C1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","5N3C2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","abstract pcalibre1 pcalibre"],["type","preamble"],["aid","5N3C7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","关于版本控制"],["aid","5N3C9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 简史"],["aid","5N3D5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_git_基础"],["aid","5N3DP"]],"x":"Git 基础","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3DQ"]],"x":"那么，简单地说，Git 究竟是怎样的一个系统呢？\n请注意接下来的内容非常重要，若你理解了 Git 的思想和基本工作原理，用起来就会知其所以然，游刃有余。\n在开始学习 Git 的时候，请努力分清你对其它版本管理系统的已有认识，如 Subversion 和 Perforce 等；这么做能帮助你使用工具时避免发生混淆。\nGit 在保存和对待各种信息的时候与其它版本控制系统有很大差异，尽管操作起来的命令形式非常相近，理解这些差异将有助于防止你使用中的困惑。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","直接记录快照，而非差异比较"],["aid","5N3DR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","近乎所有操作都是本地执行"],["aid","5N3E8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 保证完整性"],["aid","5N3ED"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 一般只添加数据"],["aid","5N3EL"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","三种状态"],["aid","5N3EQ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","命令行"],["aid","5N3FF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_安装_git"],["aid","5N3FM"]],"x":"安装 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3FN"]],"x":"在你开始使用 Git 前，需要将它安装在你的计算机上。\n即便已经安装，最好将它升级到最新的版本。\n你可以通过软件包或者其它安装程序来安装，或者下载源码编译安装。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","5N3FO"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在 Linux 上安装"],["aid","5N3FS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在 Mac 上安装"],["aid","5N3GC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在 Windows 上安装"],["aid","5N3GN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","从源代码安装"],["aid","5N3GU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","初次运行 Git 前的配置"],["aid","5N3I5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","获取帮助"],["aid","5N3KE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","5N3L1"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Git 基础","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch02-git-basics"],["title","Git 基础"],["type","chapter"],["aid","6LJU1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","6LJU2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","abstract pcalibre1 pcalibre"],["type","preamble"],["aid","6LJU8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","获取 Git 仓库"],["aid","6LJUA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_记录每次更新到仓库"],["aid","6LK03"]],"x":"记录每次更新到仓库","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK04"]],"x":"现在我们手上有了一个真实项目的 Git 仓库，并从这个仓库中取出了所有文件的工作拷贝。\n接下来，对这些文件做些修改，在完成了一个阶段的目标之后，提交本次更新到仓库。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK05"]],"x":"请记住，你工作目录下的每一个文件都不外乎这两种状态：已跟踪或未跟踪。\n已跟踪的文件是指那些被纳入了版本控制的文件，在上一次快照中有它们的记录，在工作一段时间后，它们的状态可能处于未修改，已修改或已放入暂存区。\n工作目录中除已跟踪文件以外的所有其它文件都属于未跟踪文件，它们既不存在于上次快照的记录中，也没有放入暂存区。\n初次克隆某个仓库的时候，工作目录中的所有文件都属于已跟踪文件，并处于未修改状态。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK06"]],"x":"编辑过某些文件之后，由于自上次提交后你对它们做了修改，Git 将它们标记为已修改文件。\n我们逐步将这些修改过的文件放入暂存区，然后提交所有暂存了的修改，如此反复。所以使用 Git 时文件的生命周期如下：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","6LK07"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","检查当前文件状态"],["aid","6LK0A"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","跟踪新文件"],["aid","6LK10"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","暂存已修改文件"],["aid","6LK1L"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","状态简览"],["aid","6LK32"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","忽略文件"],["aid","6LK3O"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_diff_staged"],["aid","6LK58"]],"x":"查看已暂存和未暂存的修改","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK59"]],"x":"如果 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK5F"]],"x":"假如再次修改 README 文件后暂存，然后编辑 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK5I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK5N"]],"x":"要查看尚未暂存的文件更新了哪些部分，不加参数直接输入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK5P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK5U"]],"x":"此命令比较的是工作目录中当前文件和暂存区域快照之间的差异，\n也就是修改之后还没有暂存起来的变化内容。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK5V"]],"x":"若要查看已暂存的将要添加到下次提交里的内容，可以用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK62"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK67"]],"x":"请注意，git diff 本身只显示尚未暂存的改动，而不是自上次提交以来所做的所有改动。\n所以有时候你一下子暂存了所有更新过的文件后，运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK69"]],"x":"像之前说的，暂存 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK6C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK6K"]],"x":"现在运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK6M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK6T"]],"x":"然后用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK6V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note: Git Diff 的插件版本"],["type","note"],["aid","6LK74"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提交更新"],["aid","6LK7B"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","跳过使用暂存区域"],["aid","6LK8E"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","移除文件"],["aid","6LK8T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","移动文件"],["aid","6LKAJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_viewing_history"],["aid","6LKBH"]],"x":"查看提交历史","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKBI"]],"x":"在提交了若干更新，又或者克隆了某个项目之后，你也许想回顾下提交历史。\n完成这个任务最简单而又有效的工具是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKBK"]],"x":"接下来的例子会用我专门用于演示的 simplegit 项目，\n运行下面的命令获取该项目源代码：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKBL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKBP"]],"x":"然后在此项目中运行 git log，应该会看到下面的输出：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKBQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKBV"]],"x":"默认不用任何参数的话，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKC1"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKC3"]],"x":"一个常用的选项是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKC6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKCB"]],"x":"该选项除了显示基本信息之外，还附带了每次 commit 的变化。\n当进行代码审查，或者快速浏览某个搭档提交的 commit 所带来的变化的时候，这个参数就非常有用了。\n你也可以为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKCE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKCJ"]],"x":"正如你所看到的，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKCL"]],"x":"另外一个常用的选项是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKCR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKD0"]],"x":"但最有意思的是 format，可以定制要显示的记录格式。\n这样的输出对后期提取分析格外有用 — 因为你知道输出的格式不会随着 Git 的更新而发生改变：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKD1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKD7"]],"n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LKDA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKDC"]],"x":"你一定奇怪 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKDG"]],"x":"当 oneline 或 format 与另一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKDJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKDP"]],"x":"这种输出类型会在我们下一章学完分支与合并以后变得更加有趣。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKDQ"]],"x":"以上只是简单介绍了一些 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LKDU"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_限制输出长度"],["aid","6LKE1"]],"x":"限制输出长度","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKE2"]],"x":"除了定制输出格式的选项之外，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKE7"]],"x":"另外还有按照时间作限制的选项，比如 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKEA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKEF"]],"x":"这个命令可以在多种格式下工作，比如说具体的某一天 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKEI"]],"x":"还可以给出若干搜索条件，列出符合的提交。\n用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKEM"]],"x":"另一个非常有用的筛选选项是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKEO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKET"]],"x":"最后一个很实用的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKEV"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LKF2"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKF4"]],"x":"来看一个实际的例子，如果要查看 Git 仓库中，2008 年 10 月期间，Junio Hamano 提交的但未合并的测试文件，可以用下面的查询命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKF5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKFE"]],"x":"在近 40000 条提交中，上面的输出仅列出了符合条件的 6 条记录。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_undoing"],["aid","6LKFG"]],"x":"撤消操作","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKFH"]],"x":"在任何一个阶段，你都有可能想要撤消某些操作。\n这里，我们将会学习几个撤消你所做修改的基本工具。\n注意，有些撤消操作是不可逆的。\n这是在使用 Git 的过程中，会因为操作失误而导致之前的工作丢失的少有的几个地方之一。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKFI"]],"x":"有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了。\n此时，可以运行带有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKFK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKFP"]],"x":"这个命令会将暂存区中的文件提交。\n如果自上次提交以来你还未做任何修改（例如，在上次提交后马上执行了此命令），那么快照会保持不变，而你所修改的只是提交信息。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKFQ"]],"x":"文本编辑器启动后，可以看到之前的提交信息。\n编辑后保存会覆盖原来的提交信息。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKFR"]],"x":"例如，你提交后发现忘记了暂存某些需要的修改，可以像下面这样操作：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKFS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKG4"]],"x":"最终你只会有一个提交 - 第二次提交将代替第一次提交的结果。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","取消暂存的文件"],["aid","6LKG5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","撤消对文件的修改"],["aid","6LKH6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_remote_repos"],["aid","6LKI2"]],"x":"远程仓库的使用","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKI3"]],"x":"为了能在任意 Git 项目上协作，你需要知道如何管理自己的远程仓库。\n远程仓库是指托管在因特网或其他网络中的你的项目的版本库。\n你可以有好几个远程仓库，通常有些仓库对你只读，有些则可以读写。\n与他人协作涉及管理远程仓库以及根据需要推送或拉取数据。\n管理远程仓库包括了解如何添加远程仓库、移除无效的远程仓库、管理不同的远程分支并定义它们是否被跟踪等等。\n在本节中，我们将介绍一部分远程管理的技能。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","查看远程仓库"],["aid","6LKI4"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","添加远程仓库"],["aid","6LKJ0"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","从远程仓库中抓取与拉取"],["aid","6LKJM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","推送到远程仓库"],["aid","6LKK8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","查看远程仓库"],["aid","6LKKK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","远程仓库的移除与重命名"],["aid","6LKL9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_tagging"],["aid","6LKM2"]],"x":"打标签","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKM3"]],"x":"\n像其他版本控制系统（VCS）一样，Git 可以给历史中的某一个提交打上标签，以示重要。\n比较有代表性的是人们会使用这个功能来标记发布结点（v1.0 等等）。\n在本节中，你将会学习如何列出已有的标签、如何创建新标签、以及不同类型的标签分别是什么。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","列出标签"],["aid","6LKM4"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","创建标签"],["aid","6LKML"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","附注标签"],["aid","6LKMQ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","轻量标签"],["aid","6LKNG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","后期打标签"],["aid","6LKO3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","共享标签"],["aid","6LKOO"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","删除标签"],["aid","6LKPB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","检出标签"],["aid","6LKPR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 别名"],["aid","6LKQF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","6LKS5"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Git 分支","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch03-git-branching"],["title","Git 分支"],["type","chapter"],["aid","7K4G1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","7K4G2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4G8"]],"x":"\n几乎所有的版本控制系统都以某种形式支持分支。\n使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。\n在很多版本控制系统中，这是一个略微低效的过程——常常需要完全创建一个源代码目录的副本。对于大项目来说，这样的过程会耗费很多时间。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4G9"]],"x":"有人把 Git 的分支模型称为它的`‘必杀技特性’'，也正因为这一特性，使得 Git 从众多版本控制系统中脱颖而出。\n为何 Git 的分支模型如此出众呢？\nGit 处理分支的方式可谓是难以置信的轻量，创建新分支这一操作几乎能在瞬间完成，并且在不同分支之间的切换操作也是一样便捷。\n与许多其它版本控制系统不同，Git 鼓励在工作流程中频繁地使用分支与合并，哪怕一天之内进行许多次。\n理解和精通这一特性，你便会意识到 Git 是如此的强大而又独特，并且从此真正改变你的开发方式。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_branches_overview"],["aid","7K4GB"]],"x":"分支简介","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4GC"]],"x":"为了真正理解 Git 处理分支的方式，我们需要回顾一下 Git 是如何保存数据的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4GD"]],"x":"或许你还记得 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4GF"]],"x":"在进行提交操作时，Git 会保存一个提交对象（commit object）。知道了 Git 保存数据的方式，我们可以很自然的想到——该提交对象会包含一个指向暂存内容快照的指针。\n但不仅仅是这样，该提交对象还包含了作者的姓名和邮箱、提交时输入的信息以及指向它的父对象的指针。首次提交产生的提交对象没有父对象，普通提交操作产生的提交对象有一个父对象，而由多个分支合并产生的提交对象有多个父对象，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4GG"]],"x":"为了更加形象地说明，我们假设现在有一个工作目录，里面包含了三个将要被暂存和提交的文件。\n暂存操作会为每一个文件计算校验和（使用我们在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4GI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4GP"]],"x":"当使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4GR"]],"x":"现在，Git 仓库中有五个对象：三个 blob 对象（保存着文件快照）、一个树对象（记录着目录结构和 blob 对象索引）以及一个提交对象（包含着指向前述树对象的指针和所有提交信息）。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4GS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4GV"]],"x":"做些修改后再次提交，那么这次产生的提交对象会包含一个指向上次提交对象（父对象）的指针。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4H0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4H3"]],"x":"Git 的分支，其实本质上仅仅是指向提交对象的可变指针。\nGit 的默认分支名字是 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","7K4H6"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4HA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支创建"],["aid","7K4HD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_switching_branches"],["aid","7K4IF"]],"x":"分支切换","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4IG"]],"x":"\n要切换到一个已存在的分支，你需要使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4IJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4IO"]],"x":"这样 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4IR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4IU"]],"x":"那么，这样的实现方式会给我们带来什么好处呢？\n现在不妨再提交一次：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4IV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4J6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4J9"]],"x":"如图所示，你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4JE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4JJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4JM"]],"x":"这条命令做了两件事。\n一是使 HEAD 指回 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note: 分支切换会改变你工作目录中的文件"],["type","note"],["aid","7K4JQ"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4JU"]],"x":"我们不妨再稍微做些修改并提交：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4JV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4K6"]],"x":"现在，这个项目的提交历史已经产生了分叉（参见 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rdivergent_history"],["aid","7K4KB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4KE"]],"x":"你可以简单地使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4KH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4KM"]],"x":"由于 Git 的分支实质上仅是包含所指对象校验和（长度为 40 的 SHA-1 值字符串）的文件，所以它的创建和销毁都异常高效。\n创建一个新分支就相当于往一个文件中写入 41 个字节（40 个字符和 1 个换行符），如此的简单能不快吗？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4KN"]],"x":"这与过去大多数版本控制系统形成了鲜明的对比，它们在创建分支时，将所有的项目文件都复制一遍，并保存到一个特定的目录。\n完成这样繁琐的过程通常需要好几秒钟，有时甚至需要好几分钟。所需时间的长短，完全取决于项目的规模。而在 Git 中，任何规模的项目都能在瞬间创建新分支。\n同时，由于每次提交都会记录父对象，所以寻找恰当的合并基础（译注：即共同祖先）也是同样的简单和高效。\n这些高效的特性使得 Git 鼓励开发人员频繁地创建和使用分支。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4KO"]],"x":"接下来，让我们看看你为什么应该这样做。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_分支的新建与合并"],["aid","7K4KQ"]],"x":"分支的新建与合并","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4KR"]],"x":"让我们来看一个简单的分支新建与分支合并的例子，实际工作中你可能会用到类似的工作流。\n你将经历如下步骤：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4KS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4L4"]],"x":"正在此时，你突然接到一个电话说有个很严重的问题需要紧急修补。\n你将按照如下方式来处理：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4L5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_basic_branching"],["aid","7K4LG"]],"x":"新建分支","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4LH"]],"x":"\n首先，我们假设你正在你的项目上工作，并且已经有一些提交。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4LI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4LL"]],"x":"现在，你已经决定要解决你的公司使用的问题追踪系统中的 #53 问题。\n想要新建一个分支并同时切换到那个分支上，你可以运行一个带有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4LO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4LT"]],"x":"它是下面两条命令的简写：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4LU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4M4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4M7"]],"x":"你继续在 #53 问题上工作，并且做了一些提交。\n在此过程中，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4MB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4MI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4ML"]],"x":"现在你接到那个电话，有个紧急问题等待你来解决。\n有了 Git 的帮助，你不必把这个紧急问题和 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4MO"]],"x":"但是，在你这么做之前，要留意你的工作目录和暂存区里那些还没有被提交的修改，它可能会和你即将检出的分支产生冲突从而阻止 Git 切换到该分支。\n最好的方法是，在你切换分支之前，保持好一个干净的状态。\n有一些方法可以绕过这个问题（即，保存进度（stashing） 和 修补提交（commit amending）），我们会在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4MR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4N0"]],"x":"这个时候，你的工作目录和你在开始 #53 问题之前一模一样，现在你可以专心修复紧急问题了。\n请牢记：当你切换分支的时候，Git 会重置你的工作目录，使其看起来像回到了你在那个分支上最后一次提交的样子。\nGit 会自动添加、删除、修改文件以确保此时你的工作目录和这个分支最后一次提交时的样子一模一样。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4N1"]],"x":"接下来，你要修复这个紧急问题。\n让我们建立一个针对该紧急问题的分支（hotfix branch），在该分支上工作直到问题解决：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4N2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4NA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4NF"]],"x":"你可以运行你的测试，确保你的修改是正确的，然后将其合并回你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4NI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4NO"]],"x":"在合并的时候，你应该注意到了\"快进（fast-forward）\"这个词。\n由于当前 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4NQ"]],"x":"现在，最新的修改已经在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4NS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4O1"]],"x":"关于这个紧急问题的解决方案发布之后，你准备回到被打断之前时的工作中。\n然而，你应该先删除 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4O6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4OB"]],"x":"现在你可以切换回你正在工作的分支继续你的工作，也就是针对 #53 问题的那个分支（iss53 分支）。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4OC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4OK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4OO"]],"x":"你在 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支的合并"],["aid","7K4P1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_basic_merge_conflicts"],["aid","7K4Q6"]],"x":"遇到冲突时的分支合并","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4Q7"]],"x":"\n有时候合并操作不会如此顺利。\n如果你在两个不同的分支中，对同一个文件的同一个部分进行了不同的修改，Git 就没法干净的合并它们。\n如果你对 #53 问题的修改和有关 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4Q9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4QE"]],"x":"此时 Git 做了合并，但是没有自动地创建一个新的合并提交。\nGit 会暂停下来，等待你去解决合并产生的冲突。\n你可以在合并冲突后的任意时刻使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4QG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4QL"]],"x":"任何因包含合并冲突而有待解决的文件，都会以未合并状态标识出来。\nGit 会在有冲突的文件中加入标准的冲突解决标记，这样你可以打开这些包含冲突的文件然后手动解决冲突。\n出现冲突的文件会包含一些特殊区段，看起来像下面这个样子：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4QM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4R2"]],"x":"这表示 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4R9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4RG"]],"x":"上述的冲突解决方案仅保留了其中一个分支的修改，并且 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4RL"]],"x":"如果你想使用图形化工具来解决冲突，你可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4RN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4RS"]],"x":"如果你想使用除默认工具（在这里 Git 使用 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","7K4RU"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4S2"]],"x":"等你退出合并工具之后，Git 会询问刚才的合并是否成功。\n如果你回答是，Git 会暂存那些文件以表明冲突已解决：\n你可以再次运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4S4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4S9"]],"x":"如果你对结果感到满意，并且确定之前有冲突的的文件都已经暂存了，这时你可以输入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4SB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4SU"]],"x":"如果你觉得上述的信息不够充分，不能完全体现分支合并的过程，你可以修改上述信息，添加一些细节给未来检视这个合并的读者一些帮助，告诉他们你是如何解决合并冲突的，以及理由是什么。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支管理"],["aid","7K4SV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_分支开发工作流"],["aid","7K4UI"]],"x":"分支开发工作流","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4UJ"]],"x":"现在你已经学会新建和合并分支，那么你可以或者应该用它来做些什么呢？\n在本节，我们会介绍一些常见的利用分支进行开发的工作流程。而正是由于分支管理的便捷，才衍生出这些典型的工作模式，你可以根据项目实际情况选择一种用用看。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","长期分支"],["aid","7K4UK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","特性分支"],["aid","7K4VA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_remote_branches"],["aid","7K50F"]],"x":"远程分支","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K50G"]],"x":"\n远程引用是对远程仓库的引用（指针），包括分支、标签等等。\n你可以通过 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K50J"]],"x":"远程跟踪分支是远程分支状态的引用。\n它们是你不能移动的本地引用，当你做任何网络通信操作时，它们会自动移动。\n远程跟踪分支像是你上次连接到远程仓库时，那些分支所处状态的书签。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K50K"]],"x":"它们以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K50S"]],"x":"这可能有一点儿难以理解，让我们来看一个例子。\n假设你的网络里有一个在 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note: “origin” 并无特殊含义"],["type","note"],["aid","7K514"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K51C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K51F"]],"x":"如果你在本地的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K51K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K51N"]],"x":"如果要同步你的工作，运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K51R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K51V"]],"x":"为了演示有多个远程仓库与远程分支的情况，我们假定你有另一个内部 Git 服务器，仅用于你的 sprint 小组的开发工作。\n这个服务器位于 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K524"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K527"]],"x":"现在，可以运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K52E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","推送"],["aid","7K52I"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","跟踪分支"],["aid","7K544"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","拉取"],["aid","7K562"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","删除远程分支"],["aid","7K56G"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_rebasing"],["aid","7K56U"]],"x":"变基","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K56V"]],"x":"\n在 Git 中整合来自不同分支的修改主要有两种方法：","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","变基的基本操作"],["aid","7K572"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_更有趣的变基例子"],["aid","7K58Q"]],"x":"更有趣的变基例子","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K58R"]],"x":"在对两个分支进行变基时，所生成的“重放”并不一定要在目标分支上应用，你也可以指定另外的一个分支进行应用。\n就像 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rrbdiag_e"],["aid","7K596"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K599"]],"x":"假设你希望将 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K59J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K59O"]],"x":"以上命令的意思是：“取出 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K59T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5A0"]],"x":"现在可以快进合并 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K5A3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rrbdiag_g"],["aid","7K5A9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5AC"]],"x":"接下来你决定将 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K5AI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5AN"]],"x":"如图 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rrbdiag_h"],["aid","7K5AR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5AU"]],"x":"然后就可以快进合并主分支 master 了：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K5AV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5B5"]],"x":"至此，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K5B9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rrbdiag_i"],["aid","7K5BF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","变基的风险"],["aid","7K5BI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","用变基解决变基"],["aid","7K5CG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","变基 vs. 合并"],["aid","7K5DO"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","7K5E1"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"服务器上的 Git","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch04-git-server"],["title","服务器上的 Git"],["type","chapter"],["aid","8IL21"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","8IL22"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL28"]],"x":"\n到目前为止，你应该已经有办法使用 Git 来完成日常工作。\n然而，为了使用 Git 协作功能，你还需要有远程的 Git 仓库。\n尽管在技术上你可以从个人仓库进行推送（push）和拉取（pull）来修改内容，但不鼓励使用这种方法，因为一不留心就很容易弄混其他人的进度。\n此外，你希望你的合作者们即使在你的电脑未联机时亦能存取仓库 — 拥有一个更可靠的公用仓库十分有用。\n因此，与他人合作的最佳方法即是建立一个你与合作者们都有权利访问，且可从那里推送和拉取资料的共用仓库。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL29"]],"x":"架设一台 Git 服务器并不难。\n首先，选择你希望服务器使用的通讯协议。\n在本章第一节将介绍可用的协议以及各自优缺点。\n下面一节将解释使用那些协议的典型设置及如何在你的服务器上运行。\n最后，如果你不介意托管你的代码在其他人的服务器，且不想经历设置与维护自己服务器的麻烦，可以试试我们介绍的几个仓库托管服务。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL2A"]],"x":"如果你对架设自己的服务器没兴趣，可以跳到本章最后一节去看看如何申请一个代码托管服务的帐户然后继续下一章，我们会在那里讨论分散式源码控制环境的林林总总。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL2B"]],"x":"一个远程仓库通常只是一个裸仓库（","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_协议"],["aid","8IL2F"]],"x":"协议","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL2G"]],"x":"Git 可以使用四种主要的协议来传输资料：本地协议（Local），HTTP 协议，SSH（Secure Shell）协议及 Git 协议。\n在此，我们将会讨论那些协议及哪些情形应该使用（或避免使用）他们。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","本地协议"],["aid","8IL2H"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","HTTP 协议"],["aid","8IL3O"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SSH 协议"],["aid","8IL57"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 协议"],["aid","8IL5U"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_on_the_server"],["aid","8IL6B"]],"x":"在服务器上搭建 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL6C"]],"x":"现在我们将讨论如何在你自己的服务器上搭建 Git 服务来运行这些协议。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","8IL6D"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL6G"]],"x":"在开始架设 Git 服务器前，需要把现有仓库导出为裸仓库——即一个不包含当前工作目录的仓库。\n这通常是很简单的。\n为了通过克隆你的仓库来创建一个新的裸仓库，你需要在克隆命令后加上 `--bare`选项\n按照惯例，裸仓库目录名以 .git 结尾，就像这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL6H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL6M"]],"x":"现在，你的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL6O"]],"x":"整体上效果大致相当于","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL6P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL6U"]],"x":"虽然在配置文件中有若干不同，但是对于你的目的来说，这两种方式都是一样的。\n它只取出 Git 仓库自身，不要工作目录，然后特别为它单独创建一个目录。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","把裸仓库放到服务器上"],["aid","8IL6V"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","小型安装"],["aid","8IL81"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","生成 SSH 公钥"],["aid","8IL8F"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_setting_up_server"],["aid","8IL9J"]],"x":"配置服务器","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL9K"]],"x":"我们来看看如何配置服务器端的 SSH 访问。\n本例中，我们将使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL9O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILA1"]],"x":"接着，我们需要为系统用户 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILA4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILA9"]],"x":"将这些公钥加入系统用户 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILAD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILAK"]],"x":"现在我们来为开发者新建一个空仓库。可以借助带 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILAN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILAV"]],"x":"接着，John、Josie 或者 Jessica 中的任意一人可以将他们项目的最初版本推送到这个仓库中，他只需将此仓库设置为项目的远程仓库并向其推送分支。\n请注意，每添加一个新项目，都需要有人登录服务器取得 shell，并创建一个裸仓库。\n我们假定这个设置了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILB4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILBL"]],"x":"此时，其他开发者可以克隆此仓库，并推回各自的改动，步骤很简单：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILBM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILC0"]],"x":"通过这种方法，你可以快速搭建一个具有读写权限、面向多个开发者的 Git 服务器。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILC1"]],"x":"需要注意的是，目前所有（获得授权的）开发者用户都能以系统用户 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILC5"]],"x":"借助一个名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILCE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILCO"]],"x":"现在你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILCQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILD0"]],"x":"这样，用户 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILD2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILD7"]],"x":"现在，网络相关的 Git 命令依然能够正常工作，但是开发者用户已经无法得到一个普通 shell 了。\n正如输出信息所提示的，你也可以在 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 守护进程"],["aid","8ILDB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Smart HTTP"],["aid","8ILEM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","GitWeb"],["aid","8ILGA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_gitlab"],["aid","8ILHQ"]],"x":"GitLab","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILHR"]],"x":"\n虽然 GitWeb 相当简单。\n但如果你正在寻找一个更现代，功能更全的 Git 服务器，这里有几个开源的解决方案可供你选择安装。\n因为 GitLab 是其中最出名的一个，我们将它作为示例并讨论它的安装和使用。\n这比 GitWeb 要复杂的多并且需要更多的维护，但它的确是一个功能更全的选择。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","安装"],["aid","8ILHS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","管理"],["aid","8ILI6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","基本用途"],["aid","8ILJE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","一起工作"],["aid","8ILJV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","第三方托管的选择"],["aid","8ILK8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","8ILKF"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"分布式 Git","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch05-distributed-git"],["title","分布式 Git"],["type","chapter"],["aid","9H5K1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","9H5K2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5K8"]],"x":"\n你现在拥有了一个远程 Git 版本库，能为所有开发者共享代码提供服务，在一个本地工作流程下，你也已经熟悉了基本 Git 命令。你现在可以学习如何利用 Git 提供的一些分布式工作流程了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5K9"]],"x":"这一章中，你将会学习如何作为贡献者或整合者，在一个分布式协作的环境中使用 Git。\n你会学习为一个项目成功地贡献代码，并接触一些最佳实践方式，让你和项目的维护者能轻松地完成这个过程。另外，你也会学到如何管理有很多开发者提交贡献的项目。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_分布式工作流程"],["aid","9H5KB"]],"x":"分布式工作流程","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5KC"]],"x":"\n同传统的集中式版本控制系统（CVCS）不同，Git 的分布式特性使得开发者间的协作变得更加灵活多样。\n在集中式系统中，每个开发者就像是连接在集线器上的节点，彼此的工作方式大体相像。\n而在 Git 中，每个开发者同时扮演着节点和集线器的角色——也就是说，每个开发者既可以将自己的代码贡献到其他的仓库中，同时也能维护自己的公开仓库，让其他人可以在其基础上工作并贡献代码。\n由此，Git 的分布式协作可以为你的项目和团队衍生出种种不同的工作流程，接下来的章节会介绍几种利用了 Git 的这种灵活性的常见应用方式。\n我们将讨论每种方式的优点以及可能的缺点；你可以选择使用其中的某一种，或者将它们的特性混合搭配使用。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","集中式工作流"],["aid","9H5KD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","集成管理者工作流"],["aid","9H5KM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","司令官与副官工作流"],["aid","9H5LC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作流程总结"],["aid","9H5M3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_contributing_project"],["aid","9H5M7"]],"x":"向一个项目贡献","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5M8"]],"x":"\n描述如何向一个项目贡献的主要困难在于完成贡献有很多不同的方式。\n因为 Git 非常灵活，人们可以通过不同的方式来一起工作，所以描述应该如何贡献并不是非常准确 - 每一个项目都有一点儿不同。\n影响因素包括活跃贡献者的数量、选择的工作流程、提交权限与可能包含的外部贡献方法。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5M9"]],"x":"第一个影响因素是活跃贡献者的数量 - 积极地向这个项目贡献代码的用户数量以及他们的贡献频率。\n在许多情况下，你可能会有两三个开发者一天提交几次，对于不活跃的项目可能更少。\n对于大一些的公司或项目，开发者的数量可能会是上千，每天都有成百上千次提交。\n这很重要，因为随着开发者越来越多，在确保你的代码能干净地应用或轻松地合并时会遇到更多问题。\n提交的改动可能表现为过时的，也可能在你正在做改动或者等待改动被批准应用时被合并入的工作严重损坏。\n如何保证代码始终是最新的，并且提交始终是有效的？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MA"]],"x":"下一个影响因素是项目使用的工作流程。\n它是中心化的吗，即每一个开发者都对主线代码有相同的写入权限？\n项目是否有一个检查所有补丁的维护者或整合者？\n是否所有的补丁是同行评审后批准的？\n你是否参与了那个过程？\n是否存在副官系统，你必须先将你的工作提交到上面？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MB"]],"x":"下一个问题是提交权限。\n是否有项目的写权限会使向项目贡献所需的流程有极大的不同。\n如果没有写权限，项目会选择何种方式接受贡献的工作？\n是否甚至有一个如何贡献的规范？\n你一次贡献多少工作？\n你多久贡献一次？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MC"]],"x":"所有这些问题都会影响实际如何向一个项目贡献，以及对你来说哪些工作流程更适合或者可用。\n我们将会由浅入深，通过一系列用例来讲述其中的每一个方面；从这些例子应该能够建立实际中你需要的特定工作流程。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提交准则"],["aid","9H5MD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_private_team"],["aid","9H5N7"]],"x":"私有小型团队","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5N8"]],"x":"\n你可能会遇到的最简单的配置是有一两个其他开发者的私有项目。\n“私有” 在这个上下文中，意味着闭源 - 不可以从外面的世界中访问到。\n你和其他的开发者都有仓库的推送权限。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5N9"]],"x":"在这个环境下，可以采用一个类似使用 Subversion 或其他集中式的系统时会使用的工作流程。\n依然可以得到像离线提交、非常容易地新建分支与合并分支等高级功能，但是工作流程可以是很简单的；主要的区别是合并发生在客户端这边而不是在提交时发生在服务器那边。\n让我们看看当两个开发者在一个共享仓库中一起工作时会是什么样子。\n第一个开发者，John，克隆了仓库，做了改动，然后本地提交。\n（为了缩短这些例子长度，协议信息已被替换为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5NB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5NM"]],"x":"第二个开发者，Jessica，做了同样的事情 - 克隆仓库并提交了一个改动：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5NN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5O2"]],"x":"现在，Jessica 把她的工作推送到服务器上：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5O3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5OA"]],"x":"John 也尝试推送他的改动：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5OB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5OI"]],"x":"不允许 John 推送是因为在同一时间 Jessica 已经推送了。\n如果之前习惯于用 Subversion 那么理解这点特别重要，因为你会注意到两个开发者并没有编辑同一个文件。\n尽管 Subversion 会对编辑的不同文件在服务器上自动进行一次合并，但 Git 要求你在本地合并提交。\nJohn 必须抓取 Jessica 的改动并合并它们，才能被允许推送。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5OJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5OO"]],"x":"在这个时候，John 的本地仓库看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5OP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5OS"]],"x":"John 有一个引用指向 Jessica 推送上去的改动，但是他必须将它们合并入自己的工作中之后才能被允许推送。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5OT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5P2"]],"x":"合并进行地很顺利 - John 的提交历史现在看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5P3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5P7"]],"x":"现在，John 可以测试代码，确保它依然正常工作，然后他可以把合并的新工作推送到服务器上：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5P8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5PD"]],"x":"最终，John 的提交历史看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5PE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5PI"]],"x":"在此期间，Jessica 在一个特性分支上工作。\n她创建了一个称作 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5PK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5PN"]],"x":"Jessica 想要与 John 同步，所以她进行了抓取操作：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5PO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5PV"]],"x":"那会同时拉取 John 推送的工作。\nJessica 的历史现在看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5Q0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5Q3"]],"x":"Jessica 认为她的特性分支已经准备好了，但是她想要知道必须合并什么进入她的工作才能推送。\n她运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5Q5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5QA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5QF"]],"x":"目前，我们可以从输出中看到有一个 John 生成的但是 Jessica 还没有合并入的提交。\n如果她合并 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5QH"]],"x":"现在，Jessica 可以合并她的特性工作到她的 master 分支，合并 John 的工作（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5QK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5QP"]],"x":"她既可以先合并 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5QT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5R2"]],"x":"没有发生问题；如你所见它是一次简单的快进。\n现在 Jessica 合并入 John 的工作（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5R4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5R9"]],"x":"每一个文件都干净地合并了，Jessica 的历史看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5RA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5RD"]],"x":"现在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5RG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5RL"]],"x":"每一个开发者都提交了几次并成功地合并了其他人的工作。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5RM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5RP"]],"x":"这是一个最简单的工作流程。\n你通常在一个特性分支工作一会儿，当它准备好整合时合并回你的 master 分支。\n当想要共享工作时，将其合并回你自己的 master 分支，如果有改动的话然后抓取并合并 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5RS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_私有管理团队"],["aid","9H5S0"]],"x":"私有管理团队","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5S1"]],"x":"\n在接下来的情形中，你会看到大型私有团队中贡献者的角色。\n在你将学习到的这种工作环境中，小组基于特性进行协作，这些团队的贡献将会由其他人整合。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5S2"]],"x":"让我们假设 John 与 Jessica 在一个特性上工作，同时 Jessica 与 Josie 在第二个特性上工作。\n在本例中，公司使用了一种整合-管理者工作流程，独立小组的工作只能被特定的工程师整合，主仓库的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5S4"]],"x":"因为 Jessica 在两个特性上工作，并且平行地与两个不同的开发者协作，让我们跟随她的工作流程。\n假设她已经克隆了仓库，首先决定在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5S6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5SG"]],"x":"在这个时候，她需要将工作共享给 John，所以她推送了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5SJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5SO"]],"x":"Jessica 向 John 发邮件告诉他已经推送了一些工作到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5SS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5T4"]],"x":"现在，Jessica 在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5T6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5TG"]],"x":"Jessica 的仓库看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5TH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5TK"]],"x":"她准备好推送工作了，但是一封来自 Josie 的邮件告知一些初始工作已经被推送到服务器上的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5TN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5TS"]],"x":"Jessica 现在可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5TU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5U3"]],"x":"有点儿问题 - 她需要将在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5U7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5UC"]],"x":"这称作一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5UH"]],"x":"紧接着，John 发邮件给 Jessica 说他已经推送了一些改动到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5UK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5UP"]],"x":"然后，通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5UR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5V0"]],"x":"最终，她合并 John 的工作到她自己的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5V2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5V8"]],"x":"Jessica 想要轻微调整一些东西，所以她再次提交然后将其推送回服务器：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5V9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5VG"]],"x":"Jessica 的提交历史现在看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5VH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5VK"]],"x":"Jessica、Josie 与 John 通知整合者在服务器上的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5VN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5VQ"]],"x":"许多团队切换到 Git 是因为这一允许多个团队并行工作、并在之后合并不同工作的能力。\n团队中更小一些的子小组可以通过远程分支协作而不必影响或妨碍整个团队的能力是 Git 的一个巨大优势。\n在这儿看到的工作流程顺序类似这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5VR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_public_project"],["aid","9H5VV"]],"x":"派生的公开项目","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H600"]],"x":"\n向公开项目做贡献有一点儿不同。\n因为没有权限直接更新项目的分支，你必须用其他办法将工作给维护者。\n第一个例子描述在支持简单派生的 Git 托管上使用派生来做贡献。\n许多托管站点支持这个功能（包括 GitHub、BitBucket、Google Code、repo.or.cz 等等），许多项目维护者期望这种风格的贡献。\n下一节会讨论偏好通过邮件接受贡献补丁的项目。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H601"]],"x":"首先，你可能想要克隆主仓库，为计划贡献的补丁或补丁序列创建一个特性分支，然后在那儿做工作。\n顺序看起来基本像这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H602"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","9H60D"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H60I"]],"x":"当你的分支工作完成后准备将其贡献回维护者，去原始项目中然后点击 “Fork” 按钮，创建一份自己的可写的项目派生仓库。\n然后需要添加这个新仓库 URL 为第二个远程仓库，在本例中称作 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H60K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H60P"]],"x":"然后需要推送工作到上面。\n相对于合并到主分支再推送上去，推送你正在工作的特性分支到仓库上更简单。\n原因是工作如果不被接受或者是被拣选的，就不必回退你的 master 分支。\n如果维护者合并、变基或拣选你的工作，不管怎样你最终会通过拉取他们的仓库找回来你的工作。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H60Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H60V"]],"x":"\n当工作已经被推送到你的派生后，你需要通知维护者。\n这通常被称作一个拉取请求（pull request），你既可以通过网站生成它 - GitHub 有它自己的 Pull Request 机制，我们将会在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H612"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H614"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H619"]],"x":"这个输出可以被发送给维护者 - 它告诉他们工作是从哪个分支开始、归纳的提交与从哪里拉入这些工作。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H61A"]],"x":"在一个你不是维护者的项目上，通常有一个总是跟踪 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H61E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H61O"]],"x":"现在，每一个特性都保存在一个贮藏库中 - 类似于补丁队列 - 可以重写、变基与修改而不会让特性互相干涉或互相依赖，像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H61P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H61T"]],"x":"假设项目维护者已经拉取了一串其他补丁，然后尝试拉取你的第一个分支，但是没有干净地合并。\n在这种情况下，可以尝试变基那个分支到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H61V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H626"]],"x":"这样会重写你的历史，现在看起来像是 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rpsp_b"],["aid","9H629"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H62D"]],"x":"因为你将分支变基了，所以必须为推送命令指定 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H62H"]],"x":"让我们看一个更有可能的情况：维护者看到了你的第二个分支上的工作并且很喜欢其中的概念，但是想要你修改一下实现的细节。\n你也可以利用这次机会将工作基于项目现在的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H62L"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H62M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H62V"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H632"]],"x":"现在你可以给维护者发送一条消息，表示你已经做了要求的修改然后他们可以在你的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H634"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_project_over_email"],["aid","9H639"]],"x":"通过邮件的公开项目","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H63A"]],"x":"\n许多项目建立了接受补丁的流程 - 需要检查每一个项目的特定规则，因为它们之间有区别。\n因为有几个历史悠久的、大型的项目会通过一个开发者的邮件列表接受补丁，现在我们将会通过一个例子来演示。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H63B"]],"x":"工作流程与之前的用例是类似的 - 你为工作的每一个补丁序列创建特性分支。\n区别是如何提交它们到项目中。\n生成每一个提交序列的电子邮件版本然后邮寄它们到开发者邮件列表，而不是派生项目然后推送到你自己的可写版本。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H63C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H63L"]],"x":"\n现在有两个提交要发送到邮件列表。\n使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H63O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H63T"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H640"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H645"]],"x":"也可以编辑这些补丁文件为邮件列表添加更多不想要在提交信息中显示出来的信息。\n如果在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H648"]],"x":"为了将其邮寄到邮件列表，你既可以将文件粘贴进电子邮件客户端，也可以通过命令行程序发送它。\n粘贴文本经常会发生格式化问题，特别是那些不会合适地保留换行符与其他空白的 “更聪明的” 客户端。\n幸运的是，Git 提供了一个工具帮助你通过 IMAP 发送正确格式化的补丁，这可能对你更容易些。\n我们将会演示如何通过 Gmail 发送一个补丁，它正好是我们所知最好的邮件代理；可以在之前提到的 Git 源代码中的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H64A"]],"x":"\n首先，需要在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H64D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H64O"]],"x":"如果 IMAP 服务器不使用 SSL，最后两行可能没有必要，host 的值会是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H64S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H651"]],"x":"在这个时候，你应该能够到 Drafts 文件夹中，修改收件人字段为想要发送补丁的邮件列表，可能需要抄送给维护者或负责那个部分的人，然后发送。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H652"]],"x":"你也可以通过一个 SMTP 服务器发送补丁。\n同之前一样，你可以通过一系列的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H655"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H65E"]],"x":"当这完成后，你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H65G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H65L"]],"x":"然后，对于正在发送的每一个补丁，Git 会吐出这样的一串日志信息：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H65M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","9H65Q"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_维护项目"],["aid","9H65U"]],"x":"维护项目","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H65V"]],"x":"\n除了如何有效地参与一个项目的贡献之外，你可能也需要了解如何维护项目。\n这包含接受并应用别人使用 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在特性分支中工作"],["aid","9H661"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_patches_from_email"],["aid","9H66L"]],"x":"应用来自邮件的补丁","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H66M"]],"x":"\n如果你通过电子邮件收到了一个需要整合进入项目的补丁，你需要将其应用到特性分支中进行评估。\n有两种应用该种补丁的方法：使用 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使用 apply 命令应用补丁"],["aid","9H66P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_git_am"],["aid","9H67N"]],"x":"使用 ","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H67P"]],"x":"\n如果补丁的贡献者也是一个 Git 用户，并且其能熟练使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H67U"]],"x":"要应用一个由 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H682"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H686"]],"x":"这其实就是你前面看到的 format-patch 命令输出的开始几行。\n而同时它也是有效的 mbox 电子邮件格式。\n如果有人使用 git send-email 命令将补丁以电子邮件的形式发送给你，你便可以将它下载为 mbox 格式的文件，之后将 git am 命令指向该文件，它会应用其中包含的所有补丁。\n如果你所使用的邮件客户端能够同时将多封邮件保存为 mbox 格式的文件，你甚至能够将一系列补丁打包为单个 mbox 文件，并利用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H688"]],"x":"然而，如果贡献者将 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H68B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H68G"]],"x":"你会看到补丁被顺利地应用，并且为你自动创建了一个新的提交。\n其中的作者信息来自于电子邮件头部的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H68K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H68N"]],"x":"其中 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H68Q"]],"x":"但是，有时候无法顺利地应用补丁。\n这也许是因为你的主分支和创建补丁的分支相差较多，也有可能是因为这个补丁依赖于其他你尚未应用的补丁。\n这种情况下，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H68S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H691"]],"x":"该命令将会在所有出现问题的文件内加入冲突标记，就和发生冲突的合并或变基操作一样。\n而你解决问题的手段很大程度上也是一样的——即手动编辑那些文件来解决冲突，暂存新的文件，之后运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H693"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H69A"]],"x":"如果你希望 Git 能够尝试以更加智能的方式解决冲突，你可以对其传递 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H69D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H69I"]],"x":"比如上面这种情况，我在之前已经应用过同样的补丁。\n如果没有 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H69K"]],"x":"如果你正在利用一个 mbox 文件应用多个补丁，也可以在交互模式下运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H69M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H69R"]],"x":"这在你保存的补丁较多时很好用，因为你可以在应用之前查看忘掉内容的补丁，并且跳过已经应用过的补丁。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H69S"]],"x":"当与你的特性相关的所有补丁都被应用并提交到分支中之后，你就可以选择是否以及如何将其整合到更长期的分支中去了。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","检出远程分支"],["aid","9H69T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","确定引入了哪些东西"],["aid","9H6AK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_将贡献的工作整合进来"],["aid","9H6C2"]],"x":"将贡献的工作整合进来","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6C3"]],"x":"\n当特性分支中所有的工作都已经准备好整合进入更靠近主线的分支时，接下来的问题就是如何进行整合了。\n此外，还有一个问题是，你想使用怎样的总体工作流来维护你的项目？\n你的选择有很多，我们会介绍其中的一部分。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并工作流"],["aid","9H6C4"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","大项目合并工作流"],["aid","9H6DB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","变基与拣选工作流"],["aid","9H6E3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Rerere"],["aid","9H6EP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","为发布打标签"],["aid","9H6FA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","生成一个构建号"],["aid","9H6GK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","准备一次发布"],["aid","9H6H5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","制作提交简报"],["aid","9H6HU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","9H6I8"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"GitHub","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch06-github"],["title","GitHub"],["type","chapter"],["aid","AFM61"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","AFM62"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM67"]],"x":"\nGitHub 是最大的 Git 版本库托管商，是成千上万的开发者和项目能够合作进行的中心。\n大部分 Git 版本库都托管在 GitHub，很多开源项目使用 GitHub 实现 Git 托管、问题追踪、代码审查以及其它事情。\n所以，尽管这不是 Git 开源项目的直接部分，但如果想要专业地使用 Git，你将不可避免地与 GitHub 打交道，所以这依然是一个绝好的学习机会。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM68"]],"x":"本章将讨论如何高效地使用 GitHub。\n我们将学习如何注册和管理账户、创建和使用 Git 版本库、向已有项目贡献的通用流程以及如何接受别人向你自己项目的贡献、GitHub 的编程接口和很多能够让这些操作更简单的小提示。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM69"]],"x":"如果你对如何使用 GitHub 托管自己的项目，或者与已经托管在 GitHub 上面的项目进行合作没有兴趣，可以直接跳到 ","n":"p","l":"\n"},{"a":[["class","admonition1 pcalibre1 pcalibre9"],["title","Warning: 接口的改变"],["type","warning"],["aid","AFM6B"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_账户的创建和配置"],["aid","AFM6G"]],"x":"账户的创建和配置","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM6H"]],"x":"\n你所需要做的第一件事是创建一个免费账户。\n直接访问 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM6J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM6M"]],"x":"你将看到的下一个页面是升级计划的价格页面，目前我们可以直接忽略这个页面。\nGitHub 会给你提供的邮件地址发送一封验证邮件。\n尽快到你的邮箱进行验证，这是非常重要的（我们会在后面了解到这点）。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","AFM6N"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM6Q"]],"x":"点击屏幕左上角的 Octocat 图标，你将来到控制面板页面。\n现在，你已经做好了使用 GitHub 的准备工作。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SSH 访问"],["aid","AFM6R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","头像"],["aid","AFM7D"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","邮件地址"],["aid","AFM7Q"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","两步验证"],["aid","AFM82"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_对项目做出贡献"],["aid","AFM8D"]],"x":"对项目做出贡献","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8E"]],"x":"账户已经建立好了，现在我们来了解一些能帮助你对现有的项目做出贡献的知识。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","派生（Fork）项目"],["aid","AFM8F"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_github_flow"],["aid","AFM8S"]],"x":"GitHub 流程","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8T"]],"x":"\nGitHub 设计了一个以合并请求为中心的特殊合作流程。\n它基于我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM90"]],"x":"流程通常如下：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM91"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM9G"]],"x":"这基本和 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM9I"]],"x":"现在我们来看一个使用这个流程的例子。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","创建合并请求"],["aid","AFM9J"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","利用合并请求"],["aid","AFMBF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_合并请求的进阶用法"],["aid","AFMCJ"]],"x":"合并请求的进阶用法","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCK"]],"x":"目前，我们学到了如何在 GitHub 平台对一个项目进行最基础的贡献。现在我们会教给你一些小技巧，让你可以更加有效率地使用合并请求。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","将合并请求制作成补丁"],["aid","AFMCL"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","与上游保持同步"],["aid","AFMCR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","参考"],["aid","AFMEB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_markdown"],["aid","AFMF4"]],"x":"Markdown","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMF5"]],"x":"对于在 GitHub 中绝大多数文本框中能够做到的事，引用其他议题只是个开始。在议题和合并请求的描述，评论和代码评论还有其他地方，都可以使用“GitHub 风格的 Markdown”。Markdown 可以让你输入纯文本，但是渲染出丰富的内容。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMF6"]],"x":"查看 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_example_markdown"],["aid","AFMF8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_github_风格的_markdown"],["aid","AFMFC"]],"x":"GitHub 风格的 Markdown","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMFD"]],"x":"GitHub 风格的 Markdown 增加了一些基础的 Markdown 中做不到的东西。它在创建合并请求和议题中的评论和描述时十分有用。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","任务列表"],["aid","AFMFE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","摘录代码"],["aid","AFMG1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","引用"],["aid","AFMGD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","表情符号（Emoji）"],["aid","AFMGR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","图片"],["aid","AFMHI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_maintaining_gh_project"],["aid","AFMHR"]],"x":"维护项目","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMHS"]],"x":"现在我们可以很方便地向一个项目贡献内容，来看一下另一个方面的内容：创建、维护和管理你自己的项目。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","创建新的版本库"],["aid","AFMHT"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","添加合作者"],["aid","AFMIM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_管理合并请求"],["aid","AFMJ2"]],"x":"管理合并请求","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJ3"]],"x":"现在你有一个包含一些代码的项目，可能还有几个有推送权限的合作者，下面来看当你收到合并请求时该做什么。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJ4"]],"x":"合并请求可以来自仓库副本的一个分支，或者同一仓库的另一个分支。\n唯一的区别是 fork 过来的通常是和你不能互相推送的人，而内部的推送通常都可以互相访问。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJ5"]],"x":"作为例子，假设你是 “tonychacon” ，你创建了一个名为 “fade” 的 Arduino 项目.","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","邮件通知"],["aid","AFMJ6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在合并请求上进行合作"],["aid","AFMJP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_pr_refs"],["aid","AFMKA"]],"x":"合并请求引用","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMKB"]],"x":"如果你正在处理 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMKE"]],"x":"实际上 GitHub 在服务器上把合并请求分支视为一种 “假分支”。\n默认情况下你克隆时不会得到它们，但它们还是隐式地存在，你可以很容易地访问到它们。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMKF"]],"x":"为了展示这个，我们要用到一个叫做 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMKI"]],"x":"如果在我们之前用过的 “blink” 版本库上使用这个命令，我们会得到一个版本库里所有的分支，标签和其它引用（reference）的列表。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMKJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMKO"]],"x":"当然，如果你在你自己的版本库或其它你想检查的远程版本库中使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMKQ"]],"x":"如果版本库在 GitHub 上并且有打开的合并请求，你会得到一些以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMKT"]],"x":"每个合并请求有两个引用 - 其中以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFML6"]],"x":"现在，你可以像直接抓取引用一样抓取那些分支或提交。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFML7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMLC"]],"x":"这告诉 Git： “连接到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMLI"]],"x":"还有一种方法可以抓取 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMLM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMLP"]],"x":"以 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMLU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMM1"]],"x":"最后一行告诉 Git： “所有看起来像 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMM5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMMC"]],"x":"现在所有的合并请求在本地像分支一样展现，它们是只读的，当你执行抓取时它们也会更新。\n这让在本地测试合并请求中的代码变得超级简单：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMMD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMMI"]],"x":"你的鹰眼系统会发现在 refspec 的 remote 部分的结尾有个 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并请求之上的合并请求"],["aid","AFMML"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提醒和通知"],["aid","AFMMV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","通知页面"],["aid","AFMNC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","网页通知"],["aid","AFMNJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","邮件通知"],["aid","AFMNT"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","特殊文件"],["aid","AFMOH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","README"],["aid","AFMOK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","贡献 CONTRIBUTING"],["aid","AFMP9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","项目管理"],["aid","AFMPJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","管理组织"],["aid","AFMQ5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_脚本_github"],["aid","AFMRS"]],"x":"脚本 GitHub","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMRT"]],"x":"所以现在我们已经介绍了 GitHub 的大部分功能与工作流程，但是任意一个小组或项目都会去自定义，因为他们想要创造或扩展想要整合的服务。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMRU"]],"x":"对我们来说很幸运的是，GitHub 在许多方面都真的很方便 Hack。\n在本节中我们将会介绍如何使用 GitHub 钩子系统与 API 接口，使 GitHub 按照我们的设想来工作。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_钩子"],["aid","AFMS0"]],"x":"钩子","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMS1"]],"x":"GitHub 仓库管理中的钩子与服务区块是 GitHub 与外部系统交互最简单的方式。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","服务"],["aid","AFMS2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","钩子"],["aid","AFMSG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","GitHub API"],["aid","AFMU8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","基本用途"],["aid","AFMUC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在一个问题上评论"],["aid","AFMVO"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","修改 Pull Request 的状态"],["aid","AFN13"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Octokit"],["aid","AFN3C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","AFN3J"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Git 工具","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch07-git-tools"],["title","Git 工具"],["type","chapter"],["aid","BE6O1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","BE6O2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6O8"]],"x":"现在，你已经学习了管理或者维护 Git 仓库、实现代码控制所需的大多数日常命令和工作流程。\n你已经尝试了跟踪和提交文件的基本操作，并且发挥了暂存区和轻量级的分支及合并的威力。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6O9"]],"x":"接下来你将学习一些 Git 的强大功能，这些功能你可能并不会在日常操作中使用，但在某些时候你可能会需要。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_revision_selection"],["aid","BE6OB"]],"x":"选择修订版本","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6OC"]],"x":"Git 允许你通过几种方法来指明特定的或者一定范围内的提交。\n了解它们并不是必需的，但是了解一下总没坏处。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","单个修订版本"],["aid","BE6OD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","简短的 SHA-1"],["aid","BE6OG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支引用"],["aid","BE6PM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","引用日志"],["aid","BE6QB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","祖先引用"],["aid","BE6RI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_commit_ranges"],["aid","BE6T1"]],"x":"提交区间","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6T2"]],"x":"你已经学会如何单次的提交，现在来看看如何指明一定区间的提交。\n当你有很多分支时，这对管理你的分支时十分有用，你可以用提交区间来解决 “这个分支还有哪些提交尚未合并到主分支？” 的问题","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","双点"],["aid","BE6T3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","多点"],["aid","BE6U9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","三点"],["aid","BE6V0"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_interactive_staging"],["aid","BE6VO"]],"x":"交互式暂存","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6VP"]],"x":"Git 自带的一些脚本可以使在命令行下工作更容易。\n本节的几个交互命令可以帮助你将文件的特定部分组合成提交。\n当你修改一组文件后，希望这些改动能放到若干提交而不是混杂在一起成为一个提交时，这几个工具会非常有用。\n通过这种方式，可以确保提交是逻辑上独立的变更集，同时也会使其他开发者在与你工作时很容易地审核。\n如果运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6VT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE702"]],"x":"可以看到这个命令以非常不同的视图显示了暂存区 - 基本上与 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE704"]],"x":"在这块区域后是命令区域。\n在这里你可以做一些工作，包括暂存文件、取消暂存文件、暂存文件的一部分、添加未被追踪的文件、查看暂存内容的区别。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","暂存与取消暂存文件"],["aid","BE705"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","暂存补丁"],["aid","BE71G"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_stashing"],["aid","BE72E"]],"x":"储藏与清理","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE72F"]],"x":"有时，当你在项目的一部分上已经工作一段时间后，所有东西都进入了混乱的状态，而这时你想要切换到另一个分支做一点别的事情。\n问题是，你不想仅仅因为过会儿回到这一点而为做了一半的工作创建一次提交。\n针对这个问题的答案是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE72H"]],"x":"储藏会处理工作目录的脏的状态 - 即，修改的跟踪文件与暂存改动 - 然后将未完成的修改保存到一个栈上，而你可以在任何时候重新应用这些改动。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_储藏工作"],["aid","BE72J"]],"x":"储藏工作","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE72K"]],"x":"为了演示，进入项目并改动几个文件，然后可能暂存其中的一个改动。\n如果运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE72M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE72R"]],"x":"现在想要切换分支，但是还不想要提交之前的工作；所以储藏修改。\n将新的储藏推送到栈上，运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE72U"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE733"]],"x":"工作目录是干净的了：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE734"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE73A"]],"x":"在这时，你能够轻易地切换分支并在其他地方工作；你的修改被存储在栈上。\n要查看储藏的东西，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE73C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE73H"]],"x":"在本例中，有两个之前做的储藏，所以你接触到了三个不同的储藏工作。\n可以通过原来 stash 命令的帮助提示中的命令将你刚刚储藏的工作重新应用：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE73K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE741"]],"x":"可以看到 Git 重新修改了当你保存储藏时撤消的文件。\n在本例中，当尝试应用储藏时有一个干净的工作目录，并且尝试将它应用在保存它时所在的分支；但是有一个干净的工作目录与应用在同一分支并不是成功应用储藏的充分必要条件。\n可以在一个分支上保存一个储藏，切换到另一个分支，然后尝试重新应用这些修改。\n当应用储藏时工作目录中也可以有修改与未提交的文件 - 如果有任何东西不能干净地应用，Git 会产生合并冲突。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE742"]],"x":"文件的改动被重新应用了，但是之前暂存的文件却没有重新暂存。\n想要那样的话，必须使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE745"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE74N"]],"x":"应用选项只会尝试应用暂存的工作 - 在堆栈上还有它。\n可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE74P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE74V"]],"x":"也可以运行 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","创造性的储藏"],["aid","BE751"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","从储藏创建一个分支"],["aid","BE761"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","清理工作目录"],["aid","BE76O"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_signing"],["aid","BE784"]],"x":"签署工作","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE785"]],"x":"Git 虽然是密码级安全的，但它不是万无一失的。\n如果你从因特网上的其他人那里拿取工作，并且想要验证提交是不是真正地来自于可信来源，Git 提供了几种通过 GPG 来签署和验证工作的方式。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","GPG 介绍"],["aid","BE786"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","签署标签"],["aid","BE78R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","验证标签"],["aid","BE79D"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","签署提交"],["aid","BE79R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","每个人必须签署"],["aid","BE7BE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_searching"],["aid","BE7BI"]],"x":"搜索","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7BJ"]],"x":"无论仓库里的代码量有多少，你经常需要查找一个函数是在哪里调用或者定义的，或者一个方法的变更历史。\nGit 提供了两个有用的工具来快速地从它的数据库中浏览代码和提交。\n我们来简单的看一下。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git Grep"],["aid","BE7BK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 日志搜索"],["aid","BE7D8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_rewriting_history"],["aid","BE7EB"]],"x":"重写历史","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7EC"]],"x":"许多时候，在使用 Git 时，可能会因为某些原因想要修正提交历史。\nGit 很棒的一点是它允许你在最后时刻做决定。\n你可以在将暂存区内容提交前决定哪些文件进入提交，可以通过 stash 命令来决定不与某些内容工作，也可以重写已经发生的提交就像它们以另一种方式发生的一样。\n这可能涉及改变提交的顺序，改变提交中的信息或修改文件，将提交压缩或是拆分，或完全地移除提交 - 在将你的工作成果与他人共享之前。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7ED"]],"x":"在本节中，你可以学到如何完成这些非常有用的工作，这样在与他人分享你的工作成果时你的提交历史将如你所愿地展示出来。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","修改最后一次提交"],["aid","BE7EE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_changing_multiple"],["aid","BE7EU"]],"x":"修改多个提交信息","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7EV"]],"x":"为了修改在提交历史中较远的提交，必须使用更复杂的工具。\nGit 没有一个改变历史工具，但是可以使用变基工具来变基一系列提交，基于它们原来的 HEAD 而不是将其移动到另一个新的上面。\n通过交互式变基工具，可以在任何想要修改的提交后停止，然后修改信息、添加文件或做任何想做的事情。\n可以通过给 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7F2"]],"x":"例如，如果想要修改最近三次提交信息，或者那组提交中的任意一个提交信息，将想要修改的最近一次提交的父提交作为参数传递给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7F7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7FC"]],"x":"再次记住这是一个变基命令 - 在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7FE"]],"x":"运行这个命令会在文本编辑器上给你一个提交的列表，看起来像下面这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7FF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7G8"]],"x":"需要重点注意的是相对于正常使用的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7GB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7GH"]],"x":"注意其中的反序显示。\n交互式变基给你一个它将会运行的脚本。\n它将会从你在命令行中指定的提交（","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7GJ"]],"x":"你需要修改脚本来让它停留在你想修改的变更上。\n要达到这个目的，你只要将你想修改的每一次提交前面的 ‘pick’ 改为 ‘edit’。\n例如，只想修改第三次提交信息，可以像下面这样修改文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7GK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7GO"]],"x":"当保存并退出编辑器时，Git 将你带回到列表中的最后一次提交，把你送回命令行并提示以下信息：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7GP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7GU"]],"x":"这些指令准确地告诉你该做什么。\n输入","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7GV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7H4"]],"x":"修改提交信息，然后退出编辑器。\n然后，运行","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7H5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7HA"]],"x":"这个命令将会自动地应用另外两个提交，然后就完成了。\n如果需要将不止一处的 pick 改为 edit，需要在每一个修改为 edit 的提交上重复这些步骤。\n每一次，Git 将会停止，让你修正提交，然后继续直到完成。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","重新排序提交"],["aid","BE7HB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","压缩提交"],["aid","BE7HQ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","拆分提交"],["aid","BE7J5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","核武器级选项：filter-branch"],["aid","BE7K7"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_reset"],["aid","BE7LO"]],"x":"重置揭密","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7LP"]],"x":"在继续了解更专业的工具前，我们先讨论一下 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","三棵树"],["aid","BE7LS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作流程"],["aid","BE7NB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_重置的作用"],["aid","BE7OO"]],"x":"重置的作用","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7OP"]],"x":"在以下情景中观察 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7OR"]],"x":"为了演示这些例子，假设我们再次修改了 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7OT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7OV"]],"x":"让我们跟着 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","第 1 步：移动 HEAD"],["aid","BE7P1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","第 2 步：更新索引（--mixed）"],["aid","BE7PP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","第 3 步：更新工作目录（--hard）"],["aid","BE7QA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","回顾"],["aid","BE7QS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","通过路径来重置"],["aid","BE7RC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","压缩"],["aid","BE7SP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","检出"],["aid","BE7TF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","BE7UV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_advanced_merging"],["aid","BE7VA"]],"x":"高级合并","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7VB"]],"x":"在 Git 中合并是相当容易的。\n因为 Git 使多次合并另一个分支变得很容易，这意味着你可以有一个始终保持最新的长期分支，经常解决小的冲突，比在一系列提交后解决一个巨大的冲突要好。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7VC"]],"x":"然而，有时也会有棘手的冲突。\n不像其他的版本控制系统，Git 并不会尝试过于聪明的合并冲突解决方案。\nGit 的哲学是聪明地决定无歧义的合并方案，但是如果有冲突，它不会尝试智能地自动解决它。\n因此，如果很久之后才合并两个分叉的分支，你可能会撞上一些问题。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7VD"]],"x":"在本节中，我们将会仔细查看那些问题是什么以及 Git 给了我们什么工具来帮助我们处理这些更难办的情形。我们也会了解你可以做的不同的、非标准类型的合并，也会看到如何后退到合并之前。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_合并冲突"],["aid","BE7VF"]],"x":"合并冲突","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7VG"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7VI"]],"x":"首先，在做一次可能有冲突的合并前尽可能保证工作目录是干净的。\n如果你有正在做的工作，要么提交到一个临时分支要么储藏它。\n这使你可以撤消在这里尝试做的*任何事情*。\n如果在你尝试一次合并时工作目录中有未保存的改动，下面的这些技巧可能会使你丢失那些工作。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7VJ"]],"x":"让我们通过一个非常简单的例子来了解一下。\n我们有一个超级简单的打印 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7VL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7VT"]],"x":"在我们的仓库中，创建一个名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7VV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE80C"]],"x":"现在我们切换回我们的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE80E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE80O"]],"x":"现在我们尝试合并入我们的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE80Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","中断一次合并"],["aid","BE80V"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","忽略空白"],["aid","BE81I"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_manual_remerge"],["aid","BE821"]],"x":"手动文件再合并","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE822"]],"x":"虽然 Git 对空白的预处理做得很好，还有很多其他类型的修改，Git 也许无法自动处理，但是脚本可以处理它们。\n例如，假设 Git 无法处理空白修改因此我们需要手动处理。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE823"]],"x":"我们真正想要做的是对将要合并入的文件在真正合并前运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE825"]],"x":"首先，我们进入到了合并冲突状态。\n然后我们想要我的版本的文件，他们的版本的文件（从我们将要合并入的分支）和共同的版本的文件（从分支叉开时的位置）的拷贝。\n然后我们想要修复任何一边的文件，并且为这个单独的文件重试一次合并。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE826"]],"x":"获得这三个文件版本实际上相当容易。\nGit 在索引中存储了所有这些版本，在 “stages” 下每一个都有一个数字与它们关联。\nStage 1 是它们共同的祖先版本，stage 2 是你的版本，stage 3 来自于 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE828"]],"x":"通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE82A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE82H"]],"x":"如果你想要更专业一点，也可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE82J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE82O"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE82Q"]],"x":"既然在我们的工作目录中已经有这所有三个阶段的内容，我们可以手工修复它们来修复空白问题，然后使用鲜为人知的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE82S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE835"]],"x":"在这时我们已经漂亮地合并了那个文件。\n实际上，这比使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE838"]],"x":"如果你想要在最终提交前看一下我们这边与另一边之间实际的修改，你可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE83A"]],"x":"要在合并前比较结果与在你的分支上的内容，换一句话说，看看合并引入了什么，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE83C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE83I"]],"x":"这里我们可以很容易地看到在我们的分支上发生了什么，在这次合并中我们实际引入到这个文件的改动，是修改了其中一行。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE83J"]],"x":"如果我们想要查看合并的结果与他们那边有什么不同，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE83N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE83T"]],"x":"最终，你可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE83V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE845"]],"x":"在这时我们可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE847"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","检出冲突"],["aid","BE84C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并日志"],["aid","BE86G"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","组合式差异格式"],["aid","BE87B"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_undoing_merges"],["aid","BE88H"]],"x":"撤消合并","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE88I"]],"x":"虽然你已经知道如何创建一个合并提交，但有时出错是在所难免的。\n使用 Git 最棒的一件事情是犯错是可以的，因为有可能（大多数情况下都很容易）修复它们。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE88J"]],"x":"合并提交并无不同。\n假设现在在一个特性分支上工作，不小心将其合并到 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE88L"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE88O"]],"x":"有两种方法来解决这个问题，这取决于你想要的结果是什么。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","修复引用"],["aid","BE88P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","还原提交"],["aid","BE89J"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_其他类型的合并"],["aid","BE8BH"]],"x":"其他类型的合并","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8BI"]],"x":"到目前为止我们介绍的都是通过一个叫作 “recursive” 的合并策略来正常处理的两个分支的正常合并。\n然而还有其他方式来合并两个分支到一起。\n让我们来快速介绍其中的几个。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","我们的或他们的偏好"],["aid","BE8BJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_subtree_merge"],["aid","BE8D6"]],"x":"子树合并","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8D7"]],"x":"子树合并的思想是你有两个项目，并且其中一个映射到另一个项目的一个子目录，或者反过来也行。\n当你执行一个子树合并时，Git 通常可以自动计算出其中一个是另外一个的子树从而实现正确的合并。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8D8"]],"x":"我们来看一个例子如何将一个项目加入到一个已存在的项目中，然后将第二个项目的代码合并到第一个项目的子目录中。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8D9"]],"x":"首先，我们将 Rack 应用添加到你的项目里。\n我们把 Rack 项目作为一个远程的引用添加到我们的项目里，然后检出到它自己的分支。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8DA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8DH"]],"x":"现在在我们的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8DK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8DR"]],"x":"这个是一个比较奇怪的概念。\n并不是仓库中的所有分支都是必须属于同一个项目的分支.\n这并不常见，因为没啥用，但是却是在不同分支里包含两条完全不同提交历史的最简单的方法。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8DS"]],"x":"在这个例子中，我们希望将 Rack 项目拉到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8E5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8EA"]],"x":"当我们提交时，那个子目录中拥有所有 Rack 项目的文件 —— 就像我们直接从压缩包里复制出来的一样。\n有趣的是你可以很容易地将一个分支的变更合并到另一个分支里。\n所以，当 Rack 项目有更新时，我们可以切换到那个分支来拉取上游的变更。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8EB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8EH"]],"x":"接着，我们可以将这些变更合并回我们的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8EL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8ER"]],"x":"Rack 项目中所有的改动都被合并了，等待被提交到本地。\n你也可以用相反的方法——在 master 分支上的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8EU"]],"x":"这给我们提供了一种类似子模块工作流的工作方式，但是它并不需要用到子模块（有关子模块的内容我们会在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8F0"]],"x":"另外一个有点奇怪的地方是，当你想查看 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8F5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8FA"]],"x":"或者，将你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8FD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_rerere"],["aid","BE8FJ"]],"x":"Rerere","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8FK"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8FM"]],"x":"有几种情形下这个功能会非常有用。\n在文档中提到的一个例子是如果你想要保证一个长期分支会干净地合并，但是又不想要一串中间的合并提交。\n将 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8FP"]],"x":"可以将同样的策略用在维持一个变基的分支时，这样就不用每次解决同样的变基冲突了。\n或者你将一个分支合并并修复了一堆冲突后想要用变基来替代合并 - 你可能并不想要再次解决相同的冲突。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8FQ"]],"x":"另一个情形是当你偶尔将一堆正在改进的特性分支合并到一个可测试的头时，就像 Git 项目自身经常做的。\n如果测试失败，你可以倒回合并之前然后在去除导致测试失败的那个特性分支后重做合并，而不用再次重新解决所有的冲突。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8FR"]],"x":"为了启用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8FT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8G2"]],"x":"也通过在特定的仓库中创建 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8G4"]],"x":"现在我们看一个简单的例子，类似之前的那个。\n假设有一个像这样的文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8G5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8GA"]],"x":"在一个分支中修改单词 “hello” 为 “hola”，然后在另一个分支中修改 “world” 为 “mundo”，就像之前一样。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE8GB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8GD"]],"x":"当合并两个分支到一起时，我们将会得到一个合并冲突：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8GE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8GJ"]],"x":"你会注意到那个新行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8GN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8H5"]],"x":"然而，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8H8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8HD"]],"x":"并且 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8HF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8HL"]],"x":"同样（这并不是真的与 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8HO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8HT"]],"x":"现在可以通过改为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8I0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8I6"]],"x":"所以从本质上说，当 Git 看到一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8I8"]],"x":"现在我们可以将它标记为已解决并提交它：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8I9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8IF"]],"x":"可以看到它 \"Recorded resolution for FILE\"。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE8IG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8II"]],"x":"现在，让我们撤消那个合并然后将它变基到 master 分支顶部来替代它。可以通过使用之前在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8IL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8IQ"]],"x":"我们的合并被撤消了。\n现在让我们变基特性分支。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8IR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8J1"]],"x":"现在，正像我们期望的一样，得到了相同的合并冲突，但是看一下 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8J3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8J9"]],"x":"同样，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8JB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE8JH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8JJ"]],"x":"也可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8JL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8JT"]],"x":"我们将会在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8K0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8K7"]],"x":"我们通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8K9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8KF"]],"x":"所以，如果做了很多次重新合并，或者想要一个特性分支始终与你的 master 分支保持最新但却不想要一大堆合并，或者经常变基，打开 ","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_使用_git_调试"],["aid","BE8KI"]],"x":"使用 Git 调试","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8KJ"]],"x":"Git 也提供了两个工具来辅助你调试项目中的问题。\n由于 Git 被设计成适用于几乎所有类型的项目，这些工具是比较通用的，但它们可以在出现问题的时候帮助你找到 bug 或者错误。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","文件标注"],["aid","BE8KK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","二分查找"],["aid","BE8LE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_submodules"],["aid","BE8N7"]],"x":"子模块","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8N8"]],"x":"有种情况我们经常会遇到：某个工作中的项目需要包含并使用另一个项目。\n也许是第三方库，或者你独立开发的，用于多个父项目的库。\n现在问题来了：你想要把它们当做两个独立的项目，同时又想在一个项目中使用另一个。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8N9"]],"x":"我们举一个例子。\n假设你正在开发一个网站然后创建了 Atom 订阅。\n你决定使用一个库，而不是写自己的 Atom 生成代码。\n你可能不得不通过 CPAN 安装或 Ruby gem 来包含共享库中的代码，或者将源代码直接拷贝到自己的项目中。\n如果将这个库包含进来，那么无论用何种方式都很难定制它，部署则更加困难，因为你必须确保每一个客户端都包含该库。\n如果将代码复制到自己的项目中，那么你做的任何自定义修改都会使合并上游的改动变得困难。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8NA"]],"x":"Git 通过子模块来解决这个问题。\n子模块允许你将一个 Git 仓库作为另一个 Git 仓库的子目录。\n它能让你将另一个仓库克隆到自己的项目中，同时还保持提交的独立。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","开始使用子模块"],["aid","BE8NB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","克隆含有子模块的项目"],["aid","BE8P5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_在包含子模块的项目上工作"],["aid","BE8Q7"]],"x":"在包含子模块的项目上工作","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8Q8"]],"x":"现在我们有一份包含子模块的项目副本，我们将会同时在主项目和子模块项目上与队员协作。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_拉取上游修改"],["aid","BE8QA"]],"x":"拉取上游修改","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8QB"]],"x":"在项目中使用子模块的最简模型，就是只使用子项目并不时地获取更新，而并不在你的检出中进行任何更改。\n我们来看一个简单的例子。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8QC"]],"x":"如果想要在子模块中查看新工作，可以进入到目录中运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8QF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8QL"]],"x":"如果你现在返回到主项目并运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8QQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8R0"]],"x":"如果在此时提交，那么你会将子模块锁定为其他人更新时的新代码。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8R1"]],"x":"如果你不想在子目录中手动抓取与合并，那么还有种更容易的方式。\n运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8R3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8R8"]],"x":"此命令默认会假定你想要更新并检出子模块仓库的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8RD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8RJ"]],"x":"如果不用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8RL"]],"x":"这时我们运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8RN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8RS"]],"x":"如果你设置了配置选项 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8RU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8S4"]],"x":"这时如果运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8S6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8SB"]],"x":"这非常有趣，因为我们可以直接看到将要提交到子模块中的提交日志。\n提交之后，你也可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8SD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8SI"]],"x":"当运行 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在子模块上工作"],["aid","BE8SL"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","发布子模块改动"],["aid","BE8UI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_合并子模块改动"],["aid","BE8VD"]],"x":"合并子模块改动","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8VE"]],"x":"如果你其他人同时改动了一个子模块引用，那么可能会遇到一些问题。\n也就是说，如果子模块的历史已经分叉并且在父项目中分别提交到了分叉的分支上，那么你需要做一些工作来修复它。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8VF"]],"x":"如果一个提交是另一个的直接祖先（一个快进式合并），那么 Git 会简单地选择之后的提交来合并，这样没什么问题。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8VG"]],"x":"不过，Git 甚至不会尝试去进行一次简单的合并。\n如果子模块提交已经分叉且需要合并，那你会得到类似下面的信息：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8VH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8VM"]],"x":"所以本质上 Git 在这里指出了子模块历史中的两个分支记录点已经分叉并且需要合并。\n它将其解释为 “merge following commits not found”（未找到接下来需要合并的提交），虽然这有点令人困惑，不过之后我们会解释为什么是这样。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8VN"]],"x":"为了解决这个问题，你需要弄清楚子模块应该处于哪种状态。\n奇怪的是，Git 并不会给你多少能帮你摆脱困境的信息，甚至连两边提交历史中的 SHA-1 值都没有。\n幸运的是，这很容易解决。\n如果你运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8VP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8VU"]],"x":"所以，在本例中，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE903"]],"x":"来自另一边的提交的 SHA-1 值比较重要。\n它是需要你来合并解决的。\n你可以尝试直接通过 SHA-1 合并，也可以为它创建一个分支然后尝试合并。\n我们建议后者，哪怕只是为了一个更漂亮的合并提交信息。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE904"]],"x":"所以，我们将会进入子模块目录，基于 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE906"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE90E"]],"x":"我们在这儿得到了一个真正的合并冲突，所以如果想要解决并提交它，那么只需简单地通过结果来更新主项目。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE90F"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE911"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE91D"]],"x":"这可能会让你有点儿困惑，但它确实不难。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE91E"]],"x":"有趣的是，Git 还能处理另一种情况。\n如果子模块目录中存在着这样一个合并提交，它的历史中包含了的","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE91G"]],"x":"这就是为什么前面的错误信息是 “merge following commits not found”，因为它不能 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE91J"]],"x":"如果它找到了一个可以接受的合并提交，你会看到类似下面的信息：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE91K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE91P"]],"x":"它会建议你更新索引，就像你运行了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE91R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE925"]],"x":"这些命令完成了同一件事，但是通过这种方式你至少可以验证工作是否有效，以及当你在完成时可以确保子模块目录中有你的代码。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","子模块技巧"],["aid","BE926"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","子模块的问题"],["aid","BE93K"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_bundling"],["aid","BE95K"]],"x":"打包","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE95L"]],"x":"虽然我们已经了解了网络传输 Git 数据的常用方法（如 HTTP，SSH 等），但还有另外一种不太常见却又十分有用的方式。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE95M"]],"x":"Git 可以将它的数据 “打包” 到一个文件中。\n这在许多场景中都很有用。\n有可能你的网络中断了，但你又希望将你的提交传给你的合作者们。\n可能你不在办公网中并且出于安全考虑没有给你接入内网的权限。\n可能你的无线、有线网卡坏掉了。\n可能你现在没有共享服务器的权限，你又希望通过邮件将更新发送给别人，却不希望通过 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE95O"]],"x":"这些情况下 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE95S"]],"x":"来看看一个简单的例子。\n假设你有一个包含两个提交的仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE95T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE962"]],"x":"如果你想把这个仓库发送给其他人但你没有其他仓库的权限，或者就是懒得新建一个仓库，你就可以用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE964"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE969"]],"x":"然后你就会有一个名为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE96D"]],"x":"你可以将这个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE96F"]],"x":"另一方面，假设别人传给你一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE96H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE96O"]],"x":"如果你在打包时没有包含 HEAD 引用，你还需要在命令后指定一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE96Q"]],"x":"现在假设你提交了 3 个修订，并且要用邮件或者U盘将新的提交放在一个包里传回去。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE96R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE970"]],"x":"首先我们需要确认我们希望被打包的提交区间。\n和网络协议不太一样，网络协议会自动计算出所需传输的最小数据集，而我们需要手动计算。\n当然你可以像上面那样将整个仓库打包，但最好仅仅打包变更的部分 —— 就是我们刚刚在本地做的 3 个提交。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE971"]],"x":"为了实现这个目标，你需要计算出差别。\n就像我们在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE976"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE97B"]],"x":"这样就获取到我们希望被打包的提交列表，让我们将这些提交打包。\n我们可以用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE97D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE97I"]],"x":"现在在我们的目录下会有一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE97K"]],"x":"当她拿到这个包时，她可以在导入到仓库之前查看这个包里包含了什么内容。\n","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE97M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE97R"]],"x":"如果打包工具仅仅把最后两个提交打包，而不是三个，原始的仓库是无法导入这个包的，因为这个包缺失了必要的提交记录。这时候 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE97T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE982"]],"x":"而我们的第一个包是合法的，所以我们可以从这个包里提取出提交。\n如果你想查看这边包里可以导入哪些分支，同样有一个命令可以列出这些顶端：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE983"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE988"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE98E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE98J"]],"x":"可以看到我们已经将提交导入到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE98M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE98R"]],"x":"因此，当你在没有合适的网络或者可共享仓库的情况下，","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_replace"],["aid","BE98U"]],"x":"替换","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE98V"]],"x":"Git 对象是不可改变的，但它提供一种有趣的方式来用其他对象假装替换数据库中的 Git 对象。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE990"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE992"]],"x":"例如，你有一个大型的代码历史并想把自己的仓库分成一个短的历史和一个更大更长久的历史，短历史供新的开发者使用，后者给喜欢数据挖掘的人使用。\n你可以通过用新仓库中最早的提交 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE994"]],"x":"让我们来试试吧。\n首先获取一个已经存在的仓库，并将其分成两个仓库，一个是最近的仓库，一个是历史版本的仓库，然后我们将看到如何在不更改仓库 SHA 值的情况下通过 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE996"]],"x":"我们将使用一个拥有 5 个提交的简单仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE997"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE99C"]],"x":"我们想将其分成拆分成两条历史。\n第一个到第四个提交的作为第一个历史版本。\n第四、第五个提交的作为最近的第二个历史版本。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE99D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE99F"]],"x":"创建历史版本的历史很容易，我们可以只将一个历史中的分支推送到一个新的远程仓库的 master 分支。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE99G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE99M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE99O"]],"x":"现在我们可以把这个新的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE99R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9A1"]],"x":"这样一来，我们的历史版本就发布了。\n稍难的部分则是删减我们最近的历史来让它变得更小。\n我们需要一个重叠以便于用一个相等的提交来替换另一个提交，这样一来，我们将截断到第四、五个提交。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9A2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9A7"]],"x":"在这种情况下，创建一个能够指导扩展历史的基础提交是很有用的。\n这样一来，如果其他的开发者想要修改第一次提交或者其他操作时就知道要做些什么，因此，接下来我们要做的是用命令创建一个最初的提交对象，然后将剩下的提交（第四、第五个提交）变基到它的上面。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9A8"]],"x":"为了这么做，我们需要选择一个点去拆分，对于我们而言是第三个提交（SHA 是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9AB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","BE9AH"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE9AN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9AP"]],"x":"现在我们已经有一个基础提交了，我们可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9AU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE9B3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9B5"]],"x":"我们已经用基础提交重写了最近的历史，基础提交包括如何重新组成整个历史的说明。\n我们可以将新历史推送到新项目中，当其他人克隆这个仓库时，他们仅能看到最近两次提交以及一个包含上述说明的基础提交。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9B6"]],"x":"现在我们将以想获得整个历史的人的身份来初次克隆这个项目。\n在克隆这个截断后的仓库后为了得到历史数据，需要添加第二个远程的历史版本库并对其做获取操作：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9B7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9BG"]],"x":"现在，协作者在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9BJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9BP"]],"x":"为了合并它们，你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9BS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9C1"]],"x":"现在，查看 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9C3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9C8"]],"x":"很酷，是不是？不用改变上游的 SHA-1 我们就能用一个提交来替换历史中的所有不同的提交，并且所有的工具（","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE9CB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9CD"]],"x":"有趣的是，即使是使用了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9CH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9CM"]],"x":"请记住，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9CQ"]],"x":"另一个有趣的事情是数据将会以以下引用显示：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9CR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9D1"]],"x":"这意味着我们可以轻而易举的和其他人分享替换，因为我们可以将替换推送到服务器中并且其他人可以轻松地下载。\n也许在历史移植情况下不是很有用（既然每个人都乐意下载最新版本和历史版本，为何还要拆分他们呢？），但在其他情况下仍然很有用。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_credential_caching"],["aid","BE9D3"]],"x":"凭证存储","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9D4"]],"x":"\n\n如果你使用的是 SSH 方式连接远端，并且设置了一个没有口令的密钥，这样就可以在不输入用户名和密码的情况下安全地传输数据。\n然而，这对 HTTP 协议来说是不可能的 —— 每一个连接都是需要用户名和密码的。\n这在使用双重认证的情况下会更麻烦，因为你需要输入一个随机生成并且毫无规律的 token 作为密码。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9D5"]],"x":"幸运的是，Git 拥有一个凭证系统来处理这个事情。\n下面有一些 Git 的选项：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9D6"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9DJ"]],"x":"你可以设置 Git 的配置来选择上述的一种方式","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9DK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9DP"]],"x":"部分辅助工具有一些选项。\n“store” 模式可以接受一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9DS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9E1"]],"x":"Git 甚至允许你配置多个辅助工具。\n当查找特定服务器的凭证时，Git 会按顺序查询，并且在找到第一个回答时停止查询。\n当保存凭证时，Git 会将用户名和密码发送给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9E4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_底层实现"],["aid","BE9EC"]],"x":"底层实现","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9ED"]],"x":"这些是如何实现的呢？\nGit 凭证辅助工具系统的命令是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9EF"]],"x":"举一个例子更容易理解。\n我们假设已经配置好一个凭证辅助工具，这个辅助工具保存了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9EH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9ES"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9F8"]],"x":"凭证系统实际调用的程序和 Git 本身是分开的；具体是哪一个以及如何调用与 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9FA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9FC"]],"x":"上面描述的辅助工具可以被称做 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9FF"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9FQ"]],"x":"对于 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9FU"]],"x":"如果辅助工具没有任何有用的信息，它可以直接退出而不需要输出任何东西，但如果它有这些信息，它在提供的信息后面增加它所拥有的信息。\n这些输出会被视为一系列的赋值语句；每一个提供的数据都会将 Git 已有的数据替换掉。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9FV"]],"x":"这有一个和上面一样的例子，但是跳过了 git-credential 这一步，直接到 git-credential-store:","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9G0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9G9"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9GL"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9GN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9GQ"]],"x":"仅仅是一系列包含凭证信息URL组成的行。\n","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_自定义凭证缓存"],["aid","BE9GV"]],"x":"自定义凭证缓存","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9H0"]],"x":"已经知道 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9H3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9HF"]],"x":"我们再一次使用 Ruby 来编写这个扩展，但只要 Git 能够执行最终的程序，任何语言都是可以的。\n这是我们的凭证辅助工具的完整代码：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9HG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9J5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9JJ"]],"x":"我们把这个辅助工具保存为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9JM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9JR"]],"x":"由于这个的名字是 “git-” 开头，所以我们可以在配置值中使用简便的语法：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE9JS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9K1"]],"x":"正如你看到的，扩展这个系统是相当简单的，并且可以为你和你的团队解决一些常见问题。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","BE9K2"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"自定义 Git","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch08-customizing-git"],["title","自定义 Git"],["type","chapter"],["aid","CCNA1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","CCNA2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","abstract pcalibre1 pcalibre"],["type","preamble"],["aid","CCNA8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_config"],["aid","CCNAB"]],"x":"配置 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNAC"]],"x":"\n你在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNAF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNAM"]],"x":"现在，你会了解到许多更有趣的选项，并用类似的方式来定制 Git。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNAN"]],"x":"首先，快速回忆下：Git 使用一系列配置文件来保存你自定义的行为。\n它首先会查找 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNAR"]],"x":"接下来 Git 会查找每个用户的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNAV"]],"x":"最后 Git 会查找你正在操作的版本库所对应的 Git 目录下的配置文件（","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNB1"]],"x":"以上三个层次中每层的配置（系统、全局、本地）都会覆盖掉上一层次的配置，所以 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","CCNB4"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_客户端基本配置"],["aid","CCNB9"]],"x":"客户端基本配置","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNBA"]],"x":"Git 能够识别的配置项分为两大类：客户端和服务器端。\n其中大部分属于客户端配置 —— 可以依你个人的工作偏好进行配置。\n尽管 Git 支持的选项 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNBC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNBH"]],"x":"这个命令列出了所有可用的选项，以及与之相关的介绍。\n你也可以在 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","core.editor"],["aid","CCNBJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","commit.template"],["aid","CCNC1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","core.pager"],["aid","CCNCN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","user.signingkey"],["aid","CCND6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","core.excludesfile"],["aid","CCNDN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","help.autocorrect"],["aid","CCNE9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 中的着色"],["aid","CCNER"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_external_merge_tools"],["aid","CCNG7"]],"x":"外部的合并与比较工具","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNG8"]],"x":"\n虽然 Git 自己内置了一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNGA"]],"x":"P4Merge 可以在所有主流平台上运行，所以安装上应该没有什么困难。\n在这个例子中，我们使用的路径名可以直接应用在 Mac 和 Linux 上；在 Windows 上，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNGC"]],"x":"首先， 从 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNGG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNGM"]],"x":"包装 diff 命令的脚本首先确保传递了七个参数过来，随后把其中两个转发给包装了 merge 的脚本。\n默认情况下， Git 传递以下参数给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNGO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNGR"]],"x":"由于你仅仅需要 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNGU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNH4"]],"x":"你也需要确保这些脚本具有可执行权限：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNH5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNHB"]],"x":"现在你可以修改配置文件来使用你自定义的合并和比较工具了。\n这将涉及许多自定义设置：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNHG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNHQ"]],"x":"或编辑你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNHS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNI7"]],"x":"待一切设置妥当后，如果你像这样运行 diff 命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNI8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNID"]],"x":"Git 将启动 P4Merge，而不是在命令行输出比较的结果，就像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","CCNIE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNIH"]],"x":"如果你尝试合并两个分支，随后遇到了合并冲突，运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNIJ"]],"x":"设置包装脚本的好处在于大大降低了改变 diff 和 merge 工具的工作量。\n举个例子，想把 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNIN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNIT"]],"x":"现在，Git 将使用 KDiff3 作为查看比较和解决合并冲突的工具。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNIU"]],"x":"Git 预设了许多其他的合并和解决冲突的工具，无需特别的设置你就能用上它们。\n要想看到它支持的工具列表，试一下这个：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNIV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNJ4"]],"x":"如果你不想用到 KDiff3 的所有功能，只是想用它来合并，那么 kdiff3 正符合你的要求，运行：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNJ5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNJA"]],"x":"如果运行了以上命令，而没有设置 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","格式化与多余的空白字符"],["aid","CCNJE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","服务器端配置"],["aid","CCNLK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_git_属性"],["aid","CCNMT"]],"x":"Git 属性","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNMU"]],"x":"\n你也可以针对特定的路径配置某些设置项，这样 Git 就只对特定的子目录或子文件集运用它们。\n这些基于路径的设置项被称为 Git 属性，可以在你的目录下的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNN1"]],"x":"通过使用属性，你可以对项目中的文件或目录单独定义不同的合并策略，让 Git 知道怎样比较非文本文件，或者让 Git 在提交或检出前过滤内容。\n在本节，你将学习到一些能在自己的项目中用到的属性，并看到几个实际的例子。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_二进制文件"],["aid","CCNN3"]],"x":"二进制文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNN4"]],"x":"\n你可以用 Git 属性让 Git 知道哪些是二进制文件（以防它没有识别出来），并指示其如何处理这些文件。\n例如，一些文本文件是由机器产生的，没有办法进行比较，但是一些二进制文件可以比较。\n你将了解到怎样让 Git 区分这些文件。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","识别二进制文件"],["aid","CCNN5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_比较二进制文件"],["aid","CCNNJ"]],"x":"比较二进制文件","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNNK"]],"x":"你也可以使用 Git 属性来有效地比较两个二进制文件。\n秘诀在于，告诉 Git 怎么把你的二进制文件转化为文本格式，从而能够使用普通的 diff 方式进行对比。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNNL"]],"x":"首先，让我们尝试用这个技术解决世人最头疼的问题之一：对 Microsoft Word 文档进行版本控制。\n大家都知道，Microsoft Word 几乎是世上最难缠的编辑器，尽管如此，大家还是在用它。\n如果想对 Word 文档进行版本控制，你可以把文件加入到 Git 库中，每次修改后提交即可。但这样做有什么实际意义呢？\n毕竟运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNNN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNNS"]],"x":"除了检出之后睁大眼睛逐行扫描，就真的没有办法直接比较两个不同版本的 Word 文档吗？\nGit 属性能很好地解决此问题。\n把下面这行文本加到你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNNU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNO1"]],"x":"这告诉 Git 当你尝试查看包含变更的比较结果时，所有匹配 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNO4"]],"x":"首先，你需要安装 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNO9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNOE"]],"x":"别忘了用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNOG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNOL"]],"x":"现在如果在两个快照之间进行比较，Git 就会对那些以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNOO"]],"x":"作为例子，我把本书的第一章另存为 Word 文件，并提交到 Git 版本库。\n接着，往其中加入一个新的段落。\n运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNOQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNOV"]],"x":"Git 成功地挑出了我们添加的那句话“Testing: 1, 2, 3.”，一字不差。\n还算不上完美——格式上的变动显示不出来——但已经足够了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNP0"]],"x":"你还能用这个方法比较图像文件。\n其中一个办法是，在比较时对图像文件运用一个过滤器，提炼出 EXIF 信息——这是在大部分图像格式中都有记录的一种元数据。\n如果你下载并安装了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNP2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNP9"]],"x":"如果在项目中替换了一个图像文件，运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNPB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNPE"]],"x":"你一眼就能看出文件大小和图像尺寸发生了变化。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_keyword_expansion"],["aid","CCNPG"]],"x":"关键字展开","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNPH"]],"x":"\nSVN 或 CVS 风格的关键字展开（keyword expansion）功能经常会被习惯于上述系统的开发者使用到。\n在 Git 中，这项功能有一个主要问题，就是你无法利用它往文件中加入其关联提交的相关信息，因为 Git 总是先对文件做校验和运算（译者注：Git 中提交对象的校验依赖于文件的校验和，而 Git 属性针对特定文件或路径，因此基于 Git 属性的关键字展开无法仅根据文件反推出对应的提交）。\n不过，我们可以在检出某个文件后对其注入文本，并在再次提交前删除这些文本。\nGit 属性提供了两种方法来达到这一目的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNPI"]],"x":"一种方法是，你可以把文件所对应数据对象的 SHA-1 校验和自动注入到文件中的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNPK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNPS"]],"x":"当你下次检出文件时，Git 将注入数据对象的 SHA-1 校验和：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNPT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNQ5"]],"x":"然而，这个结果的用途比较有限。\n如果用过 CVS 或 Subversion 的关键字替换功能，我们会想加上一个时间戳信息——光有 SHA-1 校验和用途不大，它仅仅是个随机字符串，你无法凭字面值来区分不同 SHA-1 时间上的先后。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNQ6"]],"x":"因此 Git 属性提供了另一种方法：我们可以编写自己的过滤器来实现文件提交或检出时的关键字替换。\n一个过滤器由“clean”和“smudge”两个子过滤器组成。\n在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rfilters_a"],["aid","CCNQA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rfilters_b"],["aid","CCNQD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNQG"]],"x":"在（Git 源码中）实现这个特性的原始提交信息里给出了一个简单的例子：在提交前，用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNQK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNQN"]],"x":"然后，通过以下配置，让 Git 知道“indent”过滤器在 smudge 和 clean 时分别该做什么：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNQO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNQU"]],"x":"在这个例子中，当你暂存 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNR4"]],"x":"另一个有趣的例子是实现 RCS 风格的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNR6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNRF"]],"x":"这个脚本从 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNRL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNRS"]],"x":"这段 Perl 代码会删除 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNRV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNS7"]],"x":"提交该文件，并再次检出，你会发现关键字如期被替换了：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNS8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNSJ"]],"x":"自定义过滤器真的很强大。\n不过你需要注意的是，因为 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","导出版本库"],["aid","CCNSM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并策略"],["aid","CCNU6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_hooks"],["aid","CCNUV"]],"x":"Git 钩子","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNV0"]],"x":"\n和其它版本控制系统一样，Git 能在特定的重要动作发生时触发自定义脚本。\n有两组这样的钩子：客户端的和服务器端的。\n客户端钩子由诸如提交和合并这样的操作所调用，而服务器端钩子作用于诸如接收被推送的提交这样的联网操作。\n你可以随心所欲地运用这些钩子。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","安装一个钩子"],["aid","CCNV1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_客户端钩子"],["aid","CCNVB"]],"x":"客户端钩子","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNVC"]],"x":"客户端钩子分为很多种。\n下面把它们分为：提交工作流钩子、电子邮件工作流钩子和其它钩子。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","CCNVD"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提交工作流钩子"],["aid","CCNVI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","电子邮件工作流钩子"],["aid","CCO00"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","其它客户端钩子"],["aid","CCO0F"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","服务器端钩子"],["aid","CCO17"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_an_example_git_enforced_policy"],["aid","CCO1U"]],"x":"使用强制策略的一个例子","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO1V"]],"x":"\n在本节中，你将应用前面学到的知识建立这样一个 Git 工作流程：检查提交信息的格式，并且指定只能由特定用户修改项目中特定的子目录。\n你将编写一个客户端脚本来提示开发人员他们的推送是否会被拒绝，以及一个服务器端脚本来实际执行这些策略。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO20"]],"x":"我们待会展示的脚本是用 Ruby 写的，部分是由于我习惯用它写脚本，另外也因为 Ruby 简单易懂，即便你没写过它也能看明白。\n不过任何其他语言也一样适用。所有 Git 自带的示例钩子脚本都是用 Perl 或 Bash 写的，所以你能从它们中找到相当多的这两种语言的钩子示例。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_服务器端钩子_2"],["aid","CCO22"]],"x":"服务器端钩子","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO23"]],"x":"所有服务器端的工作都将在你的 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","CCO27"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO2F"]],"x":"如果推送是通过 SSH 进行的，还可以获知进行此次推送的用户的信息。\n如果你允许所有操作都通过公匙授权的单一帐号（比如“git”）进行，就有必要通过一个 shell 包装脚本依据公匙来判断用户的身份，并且相应地设定环境变量来表示该用户的身份。\n下面就假设 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO2H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO32"]],"x":"是的，我们这里用的都是全局变量。\n请勿在此吐槽——这样做只是为了方便展示而已。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","指定特殊的提交信息格式"],["aid","CCO33"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_指定基于用户的访问权限控制列表_acl_系统"],["aid","CCO51"]],"x":"指定基于用户的访问权限控制列表（ACL）系统","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO52"]],"x":"假设你需要添加一个使用访问权限控制列表的机制，来指定哪些用户对项目的哪些部分有推送权限。\n某些用户具有全部的访问权，其他人只对某些子目录或者特定的文件具有推送权限。\n为了实现这一点，你要把相关的规则写入位于服务器原始 Git 仓库的 acl 文件中。\n你还需要让 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO54"]],"x":"先从写一个 ACL 文件开始吧。\n这里使用的格式和 CVS 的 ACL 机制十分类似：它由若干行构成，第一项内容是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO58"]],"x":"在本例中，你会有几个管理员，一些对 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO5C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO5F"]],"x":"首先把这些数据读入你要用到的数据结构里。\n在本例中，为保持简洁，我们暂时只实现 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO5H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO65"]],"x":"对于之前给出的 ACL 规则文件，这个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO67"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO6S"]],"x":"既然拿到了用户权限的数据，接下来你需要找出提交都修改了哪些路径，从而才能保证推送者对所有这些路径都有权限。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO6T"]],"x":"使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO70"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO76"]],"x":"使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO78"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO8M"]],"x":"通过 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO8O"]],"x":"现在你的用户没法推送带有不正确的提交信息的内容，也不能在准许他们访问范围之外的位置做出修改。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","测试一下"],["aid","CCO8P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_客户端钩子_2"],["aid","CCO9P"]],"x":"客户端钩子","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO9Q"]],"x":"这种方法的缺点在于，用户推送的提交遭到拒绝后无法避免的抱怨。\n辛辛苦苦写成的代码在最后时刻惨遭拒绝是十分让人沮丧且具有迷惑性的；更可怜的是他们不得不修改提交历史来解决问题，这个方法并不能让每一个人满意。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO9R"]],"x":"逃离这种两难境地的法宝是给用户一些客户端的钩子，在他们犯错的时候给以警告。\n然后呢，用户们就能趁问题尚未变得更难修复，在提交前消除这个隐患。\n由于钩子本身不跟随克隆的项目副本分发，所以你必须通过其他途径把这些钩子分发到用户的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO9T"]],"x":"首先，你应该在每次提交前核查你的提交信息，这样才能确保服务器不会因为不合条件的提交信息而拒绝你的更改。\n为了达到这个目的，你可以增加 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO9V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOA8"]],"x":"如果这个脚本位于正确的位置 (","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOAA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOAG"]],"x":"在这个示例中，提交没有成功。\n然而如果你的提交注释信息是符合要求的，Git 会允许你提交：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOAH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOAN"]],"x":"接下来我们要保证没有修改到 ACL 允许范围之外的文件。\n假如你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOAQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOBO"]],"x":"这和服务器端的脚本几乎一样，除了两个重要区别。\n第一，ACL 文件的位置不同，因为这个脚本在当前工作目录运行，而非 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOBQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOBV"]],"x":"修改成：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOC0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOC5"]],"x":"另一个重要区别是获取被修改文件列表的方式。\n在服务器端的时候使用了查看提交纪录的方式，可是目前的提交都还没被记录下来呢，所以这个列表只能从暂存区域获取。\n和原来的","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOC6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOCE"]],"x":"不同，现在要用","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOCF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOCK"]],"x":"不同的就只有这两个——除此之外，该脚本完全相同。\n有一点要注意的是，它假定在本地运行的用户和推送到远程服务器端的相同。\n如果这二者不一样，则需要手动设置一下 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOCM"]],"x":"在这里，我们还可以确保推送内容中不包含非快进（non-fast-forward）的引用。\n出现一个不是快进（fast-forward）的引用有两种情形，要么是在某个已经推送过的提交上作变基，要么是从本地推送一个错误的分支到远程分支上。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOCN"]],"x":"假定为了执行这个策略，你已经在服务器上配置好了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOCQ"]],"x":"下面是一个检查这个问题的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOCS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOEA"]],"x":"这个脚本利用了一个第六章“修订版本选择”一节中不曾提到的语法。通过运行这个命令可以获得一系列之前推送过的提交：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCOEB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOEM"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOEO"]],"x":"这个解决方案主要的问题在于它有可能很慢而且常常没有必要——只要你不用 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","CCOEQ"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Git 与其他系统","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch09-git-and-other-scms"],["title","Git 与其他系统"],["type","chapter"],["aid","DB7S1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","DB7S2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7S8"]],"x":"现实并不总是尽如人意。\n通常，你不能立刻就把接触到的每一个项目都切换到 Git。\n有时候你被困在使用其他 VCS 的项目中，却希望使用 Git。\n在本章的第一部分我们将会了解到，怎样在你的那些托管在不同系统的项目上使用 Git 客户端。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7S9"]],"x":"在某些时候，你可能想要将已有项目转换到 Git。\n本章的第二部分涵盖了从几个特定系统将你的项目迁移至 Git 的方法，即使没有预先构建好的导入工具，我们也有办法手动导入。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_作为客户端的_git"],["aid","DB7SB"]],"x":"作为客户端的 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7SC"]],"x":"\nGit 为开发者提供了如此优秀的体验，许多人已经找到了在他们的工作站上使用 Git 的方法，即使他们团队其余的人使用的是完全不同的 VCS。\n有许多这种可用的适配器，它们被叫做 “桥接”。\n下面我们将要介绍几个很可能会在实际中用到的桥接。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_svn"],["aid","DB7SE"]],"x":"Git 与 Subversion","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7SF"]],"x":"\n很大一部分开源项目与相当多的企业项目使用 Subversion 来管理它们的源代码。\n而且在大多数时间里，它已经是开源项目VCS选择的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7SH"]],"x":"\nGit 中最棒的特性就是有一个与 Subversion 的双向桥接，它被称作 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git svn"],["aid","DB7SJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","设置"],["aid","DB7SS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","开始"],["aid","DB7U1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提交回 Subversion"],["aid","DB7VB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","拉取新改动"],["aid","DB806"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 分支问题"],["aid","DB81H"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Subversion 分支"],["aid","DB824"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","创建一个新的 SVN 分支"],["aid","DB827"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","切换活动分支"],["aid","DB82K"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Subversion 命令"],["aid","DB83C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git-Svn 总结"],["aid","DB859"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_与_mercurial"],["aid","DB85P"]],"x":"Git 与 Mercurial","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB85Q"]],"x":"\n\nDVCS 的宇宙里不只有 Git。\n实际上，在这个空间里有许多其他的系统。对于如何正确地进行分布式版本管理，每一个系统都有自己的视角。\n除了 Git，最流行的就是 Mercurial，并且它们两个在很多方面都很相似。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB85R"]],"x":"好消息是，如果你更喜欢 Git 的客户端行为但是工作在源代码由 Mercurial 控制的项目中，有一种使用 Git 作为 Mercurial 托管仓库的客户端的方法。\n由于 Git 与服务器仓库是使用远程交互的，那么由远程助手实现的桥接方法就不会让人很惊讶。\n这个项目的名字是 git-remote-hg，可以在 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git-remote-hg"],["aid","DB85T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","开始"],["aid","DB86Q"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作流程"],["aid","DB88E"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_分支与书签"],["aid","DB89Q"]],"x":"分支与书签","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB89R"]],"x":"Git 只有一种类型的分支：当提交生成时移动的一个引用。\n在 Mercurial 中，这种类型的引用叫作 “bookmark”，它的行为非常类似于 Git 分支。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB89S"]],"x":"Mercurial 的 “branch” 概念则更重量级一些。\n变更集生成时的分支会记录 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB89V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8A4"]],"x":"注意开头为 “branch” 的那行。\nGit 无法真正地模拟这种行为（并且也不需要这样做；两种类型的分支都可以表达为 Git 的一个引用），但是 git-remote-hg 需要了解其中的区别，因为 Mercurial 关心。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8A5"]],"x":"创建 Mercurial 书签与创建 Git 分支一样容易。\n在 Git 这边：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8A6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8AC"]],"x":"这就是所要做的全部。\n在 Mercurial 这边，它看起来像这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8AD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8AJ"]],"x":"注意在修订版本 5 上的新 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8AL"]],"x":"你也可以工作在一个 “重量级” 的 Mercurial branch：只需要在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8AN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8B0"]],"x":"下面是 Mercurial 这边的样子：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8B1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8B7"]],"x":"分支名字 “permanent” 记录在序号 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8B9"]],"x":"在 Git 这边，对于其中任何一种风格的分支的工作都是相同的：仅仅是正常做的检出、提交、抓取、合并、拉取与推送。\n还有需要知道的一件事情是 Mercurial 不支持重写历史，只允许添加历史。\n下面是我们的 Mercurial 仓库在交互式的变基与强制推送后的样子：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8BA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8BF"]],"x":"变更集 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Mercurial 总结"],["aid","DB8BK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_与_perforce"],["aid","DB8BO"]],"x":"Git 与 Perforce","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8BP"]],"x":"\n\n在企业环境中 Perforce 是非常流行的版本管理系统。\n它大概起始于 1995 年，这使它成为了本章中介绍的最古老的系统。\n就其本身而言，它设计时带有当时时代的局限性；它假定你始终连接到一个单独的中央服务器，本地磁盘只保存一个版本。\n诚然，它的功能与限制适合几个特定的问题，但实际上，在很多情况下，将使用 Perforce 的项目换做使用 Git 会更好。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8BQ"]],"x":"如果你决定混合使用 Perforce 与 Git 这里有两种选择。\n第一个我们要介绍的是 Perforce 官方制作的 “Git Fusion” 桥接，它可以将 Perforce 仓库中的子树表示为一个可读写的 Git 仓库。\n第二个是 git-p4，一个客户端桥接允许你将 Git 作为 Perforce 的客户端使用，而不用在 Perforce 服务器上做任何重新的配置。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_p4_git_fusion"],["aid","DB8BS"]],"x":"Git Fusion","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8BT"]],"x":"\nPerforce 提供了一个叫作 Git Fusion 的产品（可在 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","设置"],["aid","DB8BV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_fusion_配置"],["aid","DB8D4"]],"x":"Fusion 配置","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8D5"]],"x":"一旦安装了 Git Fusion，你会想要调整配置。\n使用你最爱的 Perforce 客户端做这件事实际上相当容易；只需要映射 Perforce 服务器上的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8D7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8DC"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8DF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8E9"]],"x":"这里我们并不会深入介绍这些选项的含义，但是要注意这是一个 INI 格式的文本文件，就像 Git 的配置。\n这个文件指定了全局选项，但它可以被仓库特定的配置文件覆盖，像是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8EC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8EJ"]],"x":"这是一个 Perforce 分支与一个 Git 分支的映射。\n这个区块可以被命名成你喜欢的名字，只要保证名字是唯一的即可。\n","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8EM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8EU"]],"x":"通过这种方式，如果正常工作空间映射包含对目录结构的修改，可以将其复制为一个 Git 仓库。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8EV"]],"x":"最后一个我们讨论的文件是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8F1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8F4"]],"x":"每一行的格式都是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8F6"]],"x":"最后两行从创建的 Git 提交中掩盖了 Bob 与 Joe 的真实名字与邮箱地址。\n当你想要将一个内部项目开源，但不想将你的雇员目录公布到全世界时这很不错。\n注意邮箱地址与全名需要是唯一的，除非想要所有的 Git 提交都属于一个虚构的作者。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作流程"],["aid","DB8F7"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git-Fusion 总结"],["aid","DB8GO"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_git_p4"],["aid","DB8GT"]],"x":"Git-p4","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8GU"]],"x":"\nGit-p4 是 Git 与 Perforce 之间的双向桥接。\n它完全运行在你的 Git 仓库内，所以你不需要任何访问 Perforce 服务器的权限（当然除了用户验证）。\nGit-p4 并不像 Git Fusion 一样灵活或完整，但是它允许你在无需修改服务器环境的情况下，做大部分想做的事情。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","DB8GV"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","设置"],["aid","DB8H5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","开始"],["aid","DB8HG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_工作流程_3"],["aid","DB8I9"]],"x":"工作流程","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8IA"]],"x":"好了，让我们开始一些工作。\n假设你已经在一个非常重要的功能上做了一些工作，然后准备好将它展示给团队中的其他人。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8IB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8IG"]],"x":"我们已经生成了两次新提交并已准备好推送它们到 Perforce 服务器。\n让我们检查一下今天其他人是否做了一些工作：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8IH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8IN"]],"x":"看起来他们做了，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8IR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8J0"]],"x":"从输出中可能大概得知，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8J4"]],"x":"现在我们的历史再次是线性的，我们准备好我们的改动贡献回 Perforce。\n","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8J8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8K8"]],"x":"除了结尾 git-p4 给我们的帮助性的提示，其它的与你运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8KA"]],"x":"Git-p4 帮助性地将 Git 的提交注释导入到 Perforce 变更集的内容，这样所有我们必须做的就是保存并退出，两次（每次一个提交）。\n这会使 shell 输出看起来像这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8KB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8KH"]],"x":"结果恰如我们只是做了一次 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8KJ"]],"x":"注意在这个过程中每一个 Git 提交都会被转化为一个 Perforce 变更集；如果想要将它们压缩成为一个单独的提交，可以在运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8KL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8KQ"]],"x":"当尝试提交一次合并提交时会发生什么？\n让我们尝试一下。\n这是我们可能会遇到的一种情形：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8KR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8L0"]],"x":"Git 与 Perforce 历史在 775a46f 后分叉了。\nGit 这边有两次提交，然后一次与 Perforce 头部的合并提交，还有另一个提交。\n我们将会尝试提交这些到 Perforce 那边单独的变更集之上。\n让我们看看如果尝试这样提交会发生什么：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8L1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8L6"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8L9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8LF"]],"x":"我们的历史变成线性了，就像在提交前刚刚变基过（实际上也是这样）。\n这意味着你可以在 Git 这边自由地创建、工作、扔掉与合并分支而不用害怕你的历史会变得与 Perforce 不兼容。\n如果你可以变基它，你就可以将它贡献到 Perforce 服务器。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支"],["aid","DB8LG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 与 Perforce 总结"],["aid","DB8ML"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_与_tfs"],["aid","DB8MQ"]],"x":"Git 与 TFS","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8MR"]],"x":"\n\nGit 在 Windows 开发者当中变得流行起来，如果你正在 Windows 上编写代码并且正在使用 Microsoft 的 Team Foundation Server (TFS)，这会是个好机会。\nTFS 是一个包含工作项目检测与跟踪、支持 Scrum 与其他流程管理方法、代码审核、版本控制的协作套件。\n这里有一点困惑：","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8MU"]],"x":"如果发现你的团队在使用 TFVC 但是你更愿意使用 Git 作为版本控制客户端，这里为你准备了一个项目。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","选择哪个工具"],["aid","DB8MV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使用：git-tf"],["aid","DB8NC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使用：git-tfs"],["aid","DB8OF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git-tf[s] 工作流程"],["aid","DB8PL"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作流程：git-tf"],["aid","DB8QC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_工作流程_code_class_literal_git_tfs_code"],["aid","DB8S7"]],"x":"工作流程：","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8S9"]],"x":"让我们使用 git-tfs 来走一遍同样的情景。\n这是我们在 Git 仓库中 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8SB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8SG"]],"x":"让我们看一下在我们工作时有没有人完成一些其它的工作：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8SH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8SM"]],"x":"是的，那说明我们的同事增加了一个新的 TFVC 变更集，显示为新的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8SP"]],"x":"与 git-tf 相同，我们有两种基础选项来解决这个分叉历史问题：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB8SQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8T0"]],"x":"在本例中，我们将要做一个 “深” 检入，也就是说每一个 Git 提交会变成一个 TFVC 变更集，所以我们想要变基。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8T1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8T9"]],"x":"现在已经准备好通过检入我们的代码到 TFVC 服务器来完成贡献。\n我们这里将会使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8TD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8TN"]],"x":"注意在每次成功检入到 TFVC 服务器后，git-tfs 是如何将剩余的工作变基到服务器上。\n这是因为它将 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8TP"]],"x":"TFS 有许多与它的版本管理系统整合的功能，比如工作项目、指定审核者、封闭检入等等。\n仅仅通过命令行工具使用这些功能来工作是很笨重的，但是幸运的是 git-tfs 允许你轻松地运行一个图形化的检入工具：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8TQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8TU"]],"x":"它看起来有点像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","DB8TV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8U2"]],"x":"对 TFS 用户来说这看起来很熟悉，因为它就是从 Visual Studio 中运行的同一个窗口。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8U3"]],"x":"Git-tfs 同样允许你从你的 Git 仓库控制 TFVC 分支。\n如同这个例子，让我们创建一个：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8U4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8UA"]],"x":"在 TFVC 中创建一个分支意味着增加一个使分支存在的变更集，这会映射为一个 Git 提交。\n也要注意的是 git-tfs ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 与 TFS 总结"],["aid","DB8UG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_migrating"],["aid","DB8UK"]],"x":"迁移到 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8UL"]],"x":"\n如果你现在有一个正在使用其他 VCS 的代码库，但是你已经决定开始使用 Git，必须通过某种方式将你的项目迁移至 Git。\n这一部分会介绍一些通用系统的导入器，然后演示如何开发你自己定制的导入器。\n你将会学习如何从几个大型专业应用的 SCM 系统中导入数据，不仅因为它们是大多数想要转换的用户正在使用的系统，也因为获取针对它们的高质量工具很容易。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_subversion"],["aid","DB8UN"]],"x":"Subversion","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8UO"]],"x":"\n\n如果你阅读过前面关于 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8UR"]],"x":"然而，导入并不完美；因为花费太长时间了，你可能早已用其他方法完成导入操作。\n导入产生的第一个问题就是作者信息。\n在 Subversion 中，每一个人提交时都需要在系统中有一个用户，它会被记录在提交信息内。\n在之前章节的例子中几个地方显示了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8V0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8V3"]],"x":"为了获得 SVN 使用的作者名字列表，可以运行这个：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8V4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8VB"]],"x":"这会将日志输出为 XML 格式，然后保留作者信息行、去除重复、去除 XML 标记。\n（很显然这只会在安装了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8VF"]],"x":"你可以将此文件提供给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8VM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8VS"]],"x":"现在在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8VU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB901"]],"x":"反而它们看起来像是这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB902"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB905"]],"x":"不仅是 Author 字段更好看了，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB907"]],"x":"之后，你应当做一些导入后的清理工作。\n第一步，你应当清理 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB909"]],"x":"为了将标签变为合适的 Git 标签，运行","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB90A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB90G"]],"x":"这会使原来在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB90I"]],"x":"接下来，将 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB90K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB90Q"]],"x":"现在所有的旧分支都是真正的 Git 分支，并且所有的旧标签都是真正的 Git 标签。\n最后一件要做的事情是，将你的新 Git 服务器添加为远程仓库并推送到上面。\n下面是一个将你的服务器添加为远程仓库的例子：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB90R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB910"]],"x":"因为想要上传所有分支与标签，你现在可以运行：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB911"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB916"]],"x":"通过以上漂亮、干净地导入操作，你的所有分支与标签都应该在新 Git 服务器上。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_mercurial"],["aid","DB918"]],"x":"Mercurial","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB919"]],"x":"\n因为 Mercurial 与 Git 在表示版本时有着非常相似的模型，也因为 Git 拥有更加强大的灵活性，将一个仓库从 Mercurial 转换到 Git 是相当直接的，使用一个叫作“hg-fast-export”的工具，需要从这里拷贝一份：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB91A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB91F"]],"x":"转换的第一步就是要先得到想要转换的 Mercurial 仓库的完整克隆：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB91G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB91L"]],"x":"下一步就是创建一个作者映射文件。\nMercurial 对放入到变更集作者字段的内容比 Git 更宽容一些，所以这是一个清理的好机会。\n只需要用到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB91N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB91U"]],"x":"这会花费几秒钟，具体要看项目提交历史有多少，最终 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB920"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB923"]],"x":"在这个例子中，同一个人（Bob）使用不同的名字创建变更集，其中一个实际上是正确的，另一个完全不符合 Git 提交的规范。\nHg-fast-export 通过向我们想要修改的行尾添加 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB925"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB928"]],"x":"下一步是创建一个新的 Git 仓库，然后运行导出脚本：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB929"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB92G"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB92K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB92Q"]],"x":"那看起来非常好。\n所有 Mercurial 标签都已被转换成 Git 标签，Mercurial 分支与书签都被转换成 Git 分支。\n现在已经准备好将仓库推送到新的服务器那边：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB92R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Perforce"],["aid","DB931"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","TFS"],["aid","DB94N"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_custom_importer"],["aid","DB967"]],"x":"一个自定义的导入器","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB968"]],"x":"\n\n如果你的系统不是上述中的任何一个，你需要在线查找一个导入器 - 针对许多其他系统有很多高质量的导入器，包括 CVS、Clear Case、Visual Source Safe，甚至是一个档案目录。\n如果没有一个工具适合你，需要一个不知名的工具，或者需要更大自由度的自定义导入过程，应当使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB96C"]],"x":"为了快速演示，我们会写一个简单的导入器。\n假设你在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB96F"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB96K"]],"x":"为了导入一个 Git 目录，需要了解 Git 如何存储它的数据。\n你可能记得，Git 在底层存储指向内容快照的提交对象的链表。\n所有要做的就是告诉 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB96M"]],"x":"如同我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB96P"]],"x":"现在开始，需要进入目标目录中并识别每一个子目录，每一个都是你要导入为提交的快照。\n要进入到每个子目录中并为导出它打印必要的命令。\n基本主循环像这个样子：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB96Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB97A"]],"x":"在每个目录内运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB97E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB97I"]],"x":"可以创建一个目录的数组并使用索引做为标记，因为标记必须是一个整数。\n方法类似这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB97J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB97R"]],"x":"既然有一个整数代表你的提交，那还要给提交元数据一个日期。\n因为目录名字表达了日期，所以你将会从中解析出日期。\n你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB97T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB981"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB983"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB98I"]],"x":"那会返回每一个目录日期的整数。\n最后一项每个提交需要的元数据是提交者信息，它将会被硬编码在全局变量中：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB98J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB98O"]],"x":"现在准备开始为你的导入器打印出提交数据。\n初始信息声明定义了一个提交对象与它所在的分支，紧接着一个你生成的标记、提交者信息与提交信息、然后是一个之前的提交，如果它存在的话。\n代码看起来像这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB98P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB99A"]],"x":"我们将硬编码时区信息（-0700），因为这样很容易。\n如果从其他系统导入，必须指定为一个偏移的时区。\n提交信息必须指定为特殊的格式：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB99B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB99E"]],"x":"这个格式包括文本数据、将要读取数据的大小、一个换行符、最终的数据。\n因为之后还需要为文件内容指定相同的数据格式，你需要创建一个帮助函数，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB99G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB99R"]],"x":"剩下的工作就是指定每一个快照的文件内容。\n这很轻松，因为每一个目录都是一个快照 - 可以在目录中的每一个文件内容后打印 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB99T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9A7"]],"x":"注意：因为大多数系统认为他们的版本是从一个提交变化到另一个提交，fast-import 也可以为每一个提交执行命令来指定哪些文件是添加的、删除的或修改的与新内容是哪些。\n可以计算快照间的不同并只提供这些数据，但是这样做会很复杂 - 也可以把所有数据给 Git 然后让它为你指出来。\n如果这更适合你的数据，查阅 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9A9"]],"x":"这种列出新文件内容或用新内容指定修改文件的格式如同下面的内容：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9AA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9AD"]],"x":"这里，644 是模式（如果你有可执行文件，反而你需要检测并指定 755），inline 表示将会立即把内容放在本行之后。\n你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9AF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9B1"]],"x":"可以重用之前定义的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9B3"]],"x":"最后一件你需要做的是返回当前的标记以便它可以传给下一个迭代：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9B4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","DB9B9"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9BG"]],"x":"就是这样。\n这是全部的脚本：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9BH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9E4"]],"x":"如果运行这个脚本，你会得到类似下面的内容：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9E5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9EC"]],"x":"为了运行导入器，将这些输出用管道重定向到你想要导入的 Git 目录中的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9EF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9EL"]],"x":"正如你所看到的，当它成功完成时，它会给你一串关于它完成内容的统计。\n这本例中，一共导入了 13 个对象、4 次提交到 1 个分支。\n现在，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9EN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9ES"]],"x":"做得很好 - 一个漂亮、干净的 Git 仓库。\n要注意的一点是并没有检出任何东西 - 一开始你的工作目录内并没有任何文件。\n为了得到他们，你必须将分支重置到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9EU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9F5"]],"x":"可以通过 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","DB9F8"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Git 内部原理","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","ch10-git-internals"],["title","Git 内部原理"],["type","chapter"],["aid","E9OE1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","E9OE2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OE8"]],"x":"无论是从之前的章节直接跳到本章，还是读完了其余章节一直到这——你都将在本章见识到 Git 的内部工作原理和实现方式。\n我们发现学习这部分内容对于理解 Git 的用途和强大至关重要。不过也有人认为这些内容对于初学者而言可能难以理解且过于复杂。\n因此我们把这部分内容放在最后一章，在学习过程中可以先阅读这部分，也可以晚点阅读这部分，这取决于你自己。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OE9"]],"x":"无论如何，既然已经读到了这里，就让我们开始吧。\n首先要弄明白一点，从根本上来讲 Git 是一个内容寻址（content-addressable）文件系统，并在此之上提供了一个版本控制系统的用户界面。\n马上你就会学到这意味着什么。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OEA"]],"x":"早期的 Git（主要是 1.5 之前的版本）的用户界面要比现在复杂的多，因为它更侧重于作为一个文件系统，而不是一个打磨过的版本控制系统。\n不时会有一些陈词滥调抱怨早期那个晦涩复杂的 Git 用户界面；不过最近几年来，它已经被改进到不输于任何其他版本控制系统地清晰易用了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OEB"]],"x":"内容寻址文件系统层是一套相当酷的东西，所以在本章我们会先讲解这部分内容。随后我们会学习传输机制和版本库管理任务——你迟早会和它们打交道。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","底层命令和高层命令"],["aid","E9OEC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_objects"],["aid","E9OFC"]],"x":"Git 对象","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OFD"]],"x":"Git 是一个内容寻址文件系统。\n看起来很酷，\n但这是什么意思呢？\n这意味着，Git 的核心部分是一个简单的键值对数据库（key-value data store）。\n你可以向该数据库插入任意类型的内容，它会返回一个键值，通过该键值可以在任意时刻再次检索（retrieve）该内容。\n可以通过底层命令 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OFH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OFP"]],"x":"可以看到 Git 对 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OFT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OG3"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OG7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OGC"]],"x":"可以在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OGE"]],"x":"可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OGI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OGN"]],"x":"至此，你已经掌握了如何向 Git 中存入内容，以及如何将它们取出。\n我们同样可以将这些操作应用于文件中的内容。\n例如，可以对一个文件进行简单的版本控制。\n首先，创建一个新文件并将其内容存入数据库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OGO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OGV"]],"x":"接着，向文件里写入新内容，并再次将其存入数据库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OH0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OH7"]],"x":"数据库记录下了该文件的两个不同版本，当然之前我们存入的第一条内容也还在：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OH8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OHD"]],"x":"现在可以把文件内容恢复到第一个版本：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OHE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OHK"]],"x":"或者第二个版本：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OHL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OHR"]],"x":"然而，记住文件的每一个版本所对应的 SHA-1 值并不现实；另一个问题是，在这个（简单的版本控制）系统中，文件名并没有被保存——我们仅保存了文件的内容。\n上述类型的对象我们称之为数据对象（blob object）。\n利用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OHT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_tree_objects"],["aid","E9OI3"]],"x":"树对象","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OI4"]],"x":"接下来要探讨的对象类型是树对象（tree object），它能解决文件名保存的问题，也允许我们将多个文件组织到一起。\nGit 以一种类似于 UNIX 文件系统的方式存储内容，但作了些许简化。\n所有内容均以树对象和数据对象的形式存储，其中树对象对应了 UNIX 中的目录项，数据对象则大致上对应了 inodes 或文件内容。\n一个树对象包含了一条或多条树对象记录（tree entry），每条记录含有一个指向数据对象或者子树对象的 SHA-1 指针，以及相应的模式、类型、文件名信息。\n例如，某项目当前对应的最新树对象可能是这样的：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OI5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OIA"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OIE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OIJ"]],"x":"从概念上讲，Git 内部存储的数据有点像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","E9OIK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OIN"]],"x":"你可以轻松创建自己的树对象。\n通常，Git 根据某一时刻暂存区（即 index 区域，下同）所表示的状态创建并记录一个对应的树对象，如此重复便可依次记录（某个时间段内）一系列的树对象。\n因此，为创建一个树对象，首先需要通过暂存一些文件来创建一个暂存区。\n可以通过底层命令 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OIR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OJ1"]],"x":"本例中，我们指定的文件模式为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OJ5"]],"x":"现在，可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OJ9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OJF"]],"x":"不妨验证一下它确实是一个树对象：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OJG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OJL"]],"x":"接着我们来创建一个新的树对象，它包括 test.txt 文件的第二个版本，以及一个新的文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OJM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OJV"]],"x":"暂存区现在包含了 test.txt 文件的新版本，和一个新文件：new.txt。\n记录下这个目录树（将当前暂存区的状态记录为一个树对象），然后观察它的结构：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OK0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OK6"]],"x":"我们注意到，新的树对象包含两条文件记录，同时 test.txt 的 SHA-1 值（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OKB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OKI"]],"x":"如果基于这个新的树对象创建一个工作目录，你会发现工作目录的根目录包含两个文件以及一个名为 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","E9OKK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提交对象"],["aid","E9OKN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","对象存储"],["aid","E9OMA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_refs"],["aid","E9OO3"]],"x":"Git 引用","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OO4"]],"x":"我们可以借助类似于 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OO7"]],"x":"在 Git 里，这样的文件被称为“引用（references，或缩写为 refs）”；你可以在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OO9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OOF"]],"x":"若要创建一个新引用来帮助记忆最新提交所在的位置，从技术上讲我们只需简单地做如下操作：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OOG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OOM"]],"x":"现在，你就可以在 Git 命令中使用这个刚创建的新引用来代替 SHA-1 值了：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OON"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OOS"]],"x":"我们不提倡直接编辑引用文件。\n如果想更新某个引用，Git 提供了一个更加安全的命令 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OOU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OP3"]],"x":"这基本就是 Git 分支的本质：一个指向某一系列提交之首的指针或引用。\n若想在第二个提交上创建一个分支，可以这么做：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OP4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OP9"]],"x":"这个分支将只包含从第二个提交开始往前追溯的记录：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OPA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OPF"]],"x":"至此，我们的 Git 数据库从概念上看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","E9OPG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OPJ"]],"x":"当运行类似于 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","HEAD 引用"],["aid","E9OPM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","标签引用"],["aid","E9OQT"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","远程引用"],["aid","E9OS3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_包文件"],["aid","E9OSU"]],"x":"包文件","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OSV"]],"x":"让我们重新回到示例 Git 版本库的对象数据库。\n目前为止，可以看到有 11 个对象——4 个数据对象、3 个树对象、3 个提交对象和 1 个标签对象：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OT0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OT5"]],"x":"Git 使用 zlib 压缩这些文件的内容，而且我们并没有存储太多东西，所以上文中的文件一共只占用了 925 字节。\n接下来，我们会指引你添加一些大文件到版本库中，以此展示 Git 的一个很有趣的功能。\n为了便于展示，我们要把之前在 Grit 库中用到过的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OT7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OTF"]],"x":"如果你查看生成的树对象，可以看到 repo.rb 文件对应的数据对象的 SHA-1 值：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OTG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OTL"]],"x":"接下来你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OTN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OTS"]],"x":"现在，稍微修改这个文件，然后看看会发生什么：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OTT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OU5"]],"x":"查看这个提交生成的树对象，你会看到一些有趣的东西：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OU6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OUB"]],"x":"repo.rb 对应一个与之前完全不同的数据对象，这意味着，虽然你只是在一个 400 行的文件后面加入一行新内容，Git 也会用一个全新的对象来存储新的文件内容：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OUC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OUH"]],"x":"你的磁盘上现在有两个几乎完全相同、大小均为 22K 的对象。\n如果 Git 只完整保存其中一个，再保存另一个对象与之前版本的差异内容，岂不更好？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OUI"]],"x":"事实上 Git 可以那样做。\nGit 最初向磁盘中存储对象时所使用的格式被称为“松散（loose）”对象格式。\n但是，Git 会时不时地将多个这些对象打包成一个称为“包文件（packfile）”的二进制文件，以节省空间和提高效率。\n当版本库中有太多的松散对象，或者你手动执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OUL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OUQ"]],"x":"这个时候再查看 objects 目录，你会发现大部分的对象都不见了，与此同时出现了一对新文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OUR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OV0"]],"x":"仍保留着的几个对象是未被任何提交记录引用的数据对象——在此例中是你之前创建的“what is up, doc?”和“test content”这两个示例数据对象。\n因为你从没将它们添加至任何提交记录中，所以 Git 认为它们是悬空（dangling）的，不会将它们打包进新生成的包文件中。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OV1"]],"x":"剩下的文件是新创建的包文件和一个索引。\n包文件包含了刚才从文件系统中移除的所有对象的内容。\n索引文件包含了包文件的偏移信息，我们通过索引文件就可以快速定位任意一个指定对象。\n有意思的是运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OV3"]],"x":"Git 是如何做到这点的？\nGit 打包对象时，会查找命名及大小相近的文件，并只保存文件不同版本之间的差异内容。\n你可以查看包文件，观察它是如何节省空间的。\n","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OV5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OVA"]],"x":"此处，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OVF"]],"x":"最妙之处是你可以随时重新打包。\nGit 时常会自动对仓库进行重新打包以节省空间。当然你也可以随时手动执行 ","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_refspec"],["aid","E9OVI"]],"x":"引用规格","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OVJ"]],"x":"纵观全书，我们已经使用过一些诸如远程分支到本地引用的简单映射方式，但这种映射可以更复杂。\n假设你添加了这样一个远程版本库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OVK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OVP"]],"x":"上述命令会在你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OVS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P03"]],"x":"引用规格的格式由一个可选的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P09"]],"x":"默认情况下，引用规格由 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P0E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P0L"]],"x":"上面的三个命令作用相同，因为 Git 会把它们都扩展成 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P0N"]],"x":"如果想让 Git 每次只拉取远程的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P0P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P0S"]],"x":"这仅是针对该远程版本库的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P10"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P15"]],"x":"你也可以指定多个引用规格。\n在命令行中，你可以按照如下的方式拉取多个分支：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P16"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P1C"]],"x":"在这个例子中，对 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P1F"]],"x":"你也可以在配置文件中指定多个用于获取操作的引用规格。\n如果想在每次获取时都包括 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P1I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P1Q"]],"x":"我们不能在模式中使用部分通配符，所以像下面这样的引用规格是不合法的：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P1R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P1U"]],"x":"但我们可以使用命名空间（或目录）来达到类似目的。\n假设你有一个 QA 团队，他们推送了一系列分支，同时你只想要获取 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P20"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P28"]],"x":"如果项目的工作流很复杂，有 QA 团队推送分支、开发人员推送分支、集成团队推送并且在远程分支上展开协作，你就可以像这样（在本地）为这些分支创建各自的命名空间，非常方便。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","引用规格推送"],["aid","E9P29"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","删除引用"],["aid","E9P34"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_传输协议"],["aid","E9P3N"]],"x":"传输协议","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P3O"]],"x":"Git 可以通过两种主要的方式在版本库之间传输数据：“哑（dumb）”协议和“智能（smart）”协议。\n本节将会带你快速浏览这两种协议的运作方式。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_哑协议"],["aid","E9P3Q"]],"x":"哑协议","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P3R"]],"x":"如果你正在架设一个基于 HTTP 协议的只读版本库，一般而言这种情况下使用的就是哑协议。\n这个协议之所以被称为“哑”协议，是因为在传输过程中，服务端不需要有针对 Git 特有的代码；抓取过程是一系列 HTTP 的 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","E9P3T"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P40"]],"x":"让我们通过 simplegit 版本库来看看 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P42"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P47"]],"x":"它做的第一件事就是拉取 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P4B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P4E"]],"x":"现在，你得到了一个远程引用和 SHA-1 值的列表。\n接下来，你要确定 HEAD 引用是什么，这样你就知道在完成后应该被检出到工作目录的内容：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P4F"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P4I"]],"x":"这说明在完成抓取后，你需要检出 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P4M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P4P"]],"x":"你取回了一个对象——这是一个在服务端以松散格式保存的对象，是你通过使用静态 HTTP GET 请求获取的。\n你可以使用 zlib 解压缩它，去除其头部，查看提交记录的内容：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P4Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P4V"]],"x":"接下来，你还要再获取两个对象，一个是树对象 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P52"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P55"]],"x":"这样就取得了你的下一个提交对象。\n再抓取树对象：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P56"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P59"]],"x":"噢——看起来这个树对象在服务端并不以松散格式对象存在，所以你得到了一个 404 响应，代表在 HTTP 服务端没有找到该对象。\n这有好几个可能的原因——这个对象可能在替代版本库里面，或者在包文件里面。\nGit 会首先检查所有列出的替代版本库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P5A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P5D"]],"x":"如果这返回了一个包含替代版本库 URL 的列表，那么 Git 就会去那些地址检查松散格式对象和文件——这是一种能让派生项目共享对象以节省磁盘的好方法。\n然而，在这个例子中，没有列出可用的替代版本库。所以你所需要的对象肯定在某个包文件中。\n要检查服务端有哪些可用的包文件，你需要获取 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P5G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P5J"]],"x":"服务端只有一个包文件，所以你要的对象显然就在里面。但是你要先检查它的索引文件以确认。\n即使服务端有多个包文件，这也是很有用的，因为这样你就可以知道你所需要的对象是在哪一个包文件里面：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P5K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P5N"]],"x":"现在你有这个包文件的索引，你可以查看你要的对象是否在里面——因为索引文件列出了这个包文件所包含的所有对象的 SHA-1 值，和该对象存在于包文件中的偏移量。\n你的对象就在这里，接下来就是获取整个包文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P5O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P5R"]],"x":"现在你也有了你的树对象，你可以继续在提交记录上漫游。\n它们全部都在这个你刚下载的包文件里面，所以你不用继续向服务端请求更多下载了。\nGit 会将开始时下载的 HEAD 引用所指向的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_智能协议"],["aid","E9P5U"]],"x":"智能协议","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P5V"]],"x":"哑协议虽然很简单但效率略低，且它不能从客户端向服务端发送数据。\n智能协议是更常用的传送数据的方法，但它需要在服务端运行一个进程，而这也是 Git 的智能之处——它可以读取本地数据，理解客户端有什么和需要什么，并为它生成合适的包文件。\n总共有两组进程用于传输数据，它们分别负责上传和下载数据。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","上传数据"],["aid","E9P60"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","下载数据"],["aid","E9P7P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","协议总结"],["aid","E9P96"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_维护与数据恢复"],["aid","E9P9C"]],"x":"维护与数据恢复","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P9D"]],"x":"有的时候，你需要对仓库进行清理 - 使它的结构变得更紧凑，或是对导入的仓库进行清理，或是恢复丢失的内容。\n这个小节将会介绍这些情况中的一部分。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","维护"],["aid","E9P9E"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_data_recovery"],["aid","E9PAM"]],"x":"数据恢复","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PAN"]],"x":"在你使用 Git 的时候，你可能会意外丢失一次提交。\n通常这是因为你强制删除了正在工作的分支，但是最后却发现你还需要这个分支；亦或者硬重置了一个分支，放弃了你想要的提交。\n如果这些事情已经发生，该如何找回你的提交呢？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PAO"]],"x":"下面的例子将硬重置你的测试仓库中的 master 分支到一个旧的提交，以此来恢复丢失的提交。\n首先，让我们看看你的仓库现在在什么地方：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PAP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PAU"]],"x":"现在，我们将 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PB0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PB6"]],"x":"现在顶部的两个提交已经丢失了 - 没有分支指向这些提交。\n你需要找出最后一次提交的 SHA-1 然后增加一个指向它的分支。\n窍门就是找到最后一次的提交的 SHA-1 - 但是估计你记不起来了，对吗？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PB7"]],"x":"最方便，也是最常用的方法，是使用一个名叫 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PBC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PBH"]],"x":"这里可以看到我们已经检出的两次提交，然而并没有足够多的信息。\n为了使显示的信息更加有用，我们可以执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PBJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PBO"]],"x":"看起来下面的那个就是你丢失的提交，你可以通过创建一个新的分支指向这个提交来恢复它。\n例如，你可以创建一个名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PBQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PC0"]],"x":"不错，现在有一个名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PC4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PCA"]],"x":"由于引用日志数据存放在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PCE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PCJ"]],"x":"在这个例子中，你可以在 “dangling commit” 后看到你丢失的提交。\n现在你可以用和之前相同的方法恢复这个提交，也就是添加一个指向这个提交的分支。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_removing_objects"],["aid","E9PCL"]],"x":"移除对象","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PCM"]],"x":"Git 有很多很棒的功能，但是其中一个特性会导致问题，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PCO"]],"x":"当你迁移 Subversion 或 Perforce 仓库到 Git 的时候，这会是一个严重的问题。\n因为这些版本控制系统并不下载所有的历史文件，所以这种文件所带来的问题比较少。\n如果你从其他的版本控制系统迁移到 Git 时发现仓库比预期的大得多，那么你就需要找到并移除这些大文件。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PCP"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PCR"]],"x":"为了演示，我们将添加一个大文件到测试仓库中，并在下一次提交中删除它，现在我们需要找到它，并将它从仓库中永久删除。\n首先，添加一个大文件到仓库中：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PCS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PD4"]],"x":"哎呀 - 其实这个项目并不需要这个巨大的压缩文件。\n现在我们将它移除：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PD5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PDC"]],"x":"现在，我们执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PDE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PDJ"]],"x":"你也可以执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PDL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PDQ"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PDS"]],"x":"首先你必须找到它。\n在本例中，你已经知道是哪个文件了。\n但是假设你不知道；该如何找出哪个文件或哪些文件占用了如此多的空间？\n如果你执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PE0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PE7"]],"x":"你可以看到这个大对象出现在返回结果的最底部：占用 5MB 空间。\n为了找出具体是哪个文件，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PEC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PEH"]],"x":"现在，你只需要从过去所有的树中移除这个文件。\n使用以下命令可以轻松地查看哪些提交对这个文件产生改动：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PEI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PEN"]],"x":"现在，你必须重写 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PER"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PF2"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PF6"]],"x":"你必须使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PFE"]],"x":"你的历史中将不再包含对那个文件的引用。\n不过，你的引用日志和你在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PFH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PFO"]],"x":"让我们看看你省了多少空间。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PFP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PFU"]],"x":"打包的仓库大小下降到了 8K，比 5MB 好很多。\n可以从 size 的值看出，这个大文件还在你的松散对象中，并没有消失；但是它不会在推送或接下来的克隆中出现，这才是最重要的。\n如果真的想要删除它，可以通过有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PG1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_环境变量"],["aid","E9PG8"]],"x":"环境变量","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PG9"]],"x":"Git 总是在一个 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","全局行为"],["aid","E9PGB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","版本库位置"],["aid","E9PH7"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","路径规则"],["aid","E9PI5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提交"],["aid","E9PIS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","网络"],["aid","E9PJO"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","比较和合并"],["aid","E9PKD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","调试"],["aid","E9PLJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","其它"],["aid","E9PN8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","E9POA"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"其它环境中的 Git","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_其它环境中的_git"],["title","其它环境中的 Git"],["type","chapter"],["aid","F8901"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","F8902"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","abstract pcalibre1 pcalibre"],["type","preamble"],["aid","F8908"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_图形界面"],["aid","F890B"]],"x":"图形界面","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F890C"]],"x":"\nGit 的原生环境是终端。\n在那里，你可以体验到最新的功能，也只有在那里，你才能尽情发挥 Git 的全部能力。\n但是对于某些任务而言，纯文本并不是最佳的选择；有时候你确实需要一个可视化的展示方式，而且有些用户更习惯那种能点击的界面。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F890D"]],"x":"有一点请注意，不同的界面是为不同的工作流程设计的。\n一些客户端的作者为了支持某种他认为高效的工作流程，经过精心挑选，只显示了 Git 功能的一个子集。\n每种工具都有其特定的目的和意义，从这个角度来看，不能说某种工具比其它的`‘更好’'。\n还有请注意，没有什么事情是图形界面客户端可以做而命令行客户端不能做的；命令行始终是你可以完全操控仓库并发挥出全部力量的地方。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","gitk 和 git-gui"],["aid","F890E"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_mac_和_windows_上的_github_客户端"],["aid","F891U"]],"x":"Mac 和 Windows 上的 GitHub 客户端","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F891V"]],"x":"\nGitHub 发布了两个面向工作流程的 Git 客户端：Windows 版，和 Mac 版。\n它们很好的展示了一个面向工作流程的工具应该是什么样子——专注于提升那些常用的功能及其协作的可用性，而不是实现 Git 的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F8921"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F8924"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8927"]],"x":"我们在设计的时候就努力将二者的外观和操作体验都保持一致，因此本章会把他们当做同一个产品来介绍。\n我们并不会详细地介绍该工具的每一个功能（因为它们本身也有文档），但请快速了解一下 “变更” 窗口（你大部分时间都会花在使用该窗口上）的以下几点：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8928"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","F892I"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","安装"],["aid","F892L"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","推荐的工作流程"],["aid","F892S"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","小结"],["aid","F893K"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","其它图形界面"],["aid","F893N"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Visual Studio 中的 Git"],["aid","F893S"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Eclipse 中的 Git"],["aid","F894C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Bash 中的 Git"],["aid","F894J"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Zsh 中的 Git"],["aid","F895V"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Powershell 中的 Git"],["aid","F896R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","总结"],["aid","F897K"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"将 Git 嵌入你的应用","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_将_git_嵌入你的应用"],["title","将 Git 嵌入你的应用"],["type","chapter"],["aid","G6PI1"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","G6PI2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PI9"]],"x":"假设你的应用程序的目标人群是开发者，如果它能够被整合进一些源码控制的功能，那真真是极好的。\n甚至对于一个例如文档编辑器之类的不是为开发者而设计的应用程序，它们也可能从版本控制系统中受益，并且 Git 的实现方式在很多情况下都表现得非常出色。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PIA"]],"x":"如果你想将 Git 整合进你的应用程序的话，一般来说你有三种可能的选择：启动一个 shell 来使用 Git 的命令行工具；使用 Libgit2；或者使用 JGit。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","命令行 Git 方式"],["aid","G6PIB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_libgit2"],["aid","G6PII"]],"x":"Libgit2","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PIJ"]],"x":"©\n另外一种可以供你使用的是 Libgit2。\nLibgit2 是一个 Git 的非依赖性的工具，它致力于为其他程序使用 Git 提供更好的 API。\n你可以在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PIL"]],"x":"首先，让我们来看一下 C API 长啥样。\n这是一个旋风式旅行。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PIM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PJ7"]],"x":"前两行打开一个 Git 版本库。\n这个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PJD"]],"x":"第二段代码使用了一种 rev-parse 语法（要了解更多，请看 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PJL"]],"x":"下一段展示了如何访问一个提交的详情。\n最后一行使用了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PJN"]],"x":"从这个例子中，我们可以看到一些模式：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","G6PJO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PK4"]],"x":"\n最后一点意味着你应该不会在使用 Libgit2 时编写 C 语言程序。\n但幸运的是，有许多可用的各种语言的绑定，能让你在特定的语言和环境中更加容易的操作 Git 版本库。\n我们来看一下下面这个用 Libgit2 的 Ruby 绑定写成的例子，它叫 Rugged，你可以在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PK6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PKK"]],"x":"你可以发现，代码看起来更加清晰了。\n首先， Rugged 使用异常机制，它可以抛出类似于 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PKN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","G6PLL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PM9"]],"x":"Ruby 的代码很好很简洁，另一方面因为 Libgit2 做了大量工作，所以代码运行起来其实速度也不赖。\n如果你不是一个 Ruby 程序员，我们在 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","高级功能"],["aid","G6PMB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","其它绑定"],["aid","G6PNU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","扩展阅读"],["aid","G6PP4"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_jgit"],["aid","G6PPA"]],"x":"JGit","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PPB"]],"x":"\n如果你想在一个 Java 程序中使用 Git ，有一个功能齐全的 Git 库，那就是 JGit 。\nJGit 是一个用 Java 写成的功能相对健全的 Git 的实现，它在 Java 社区中被广泛使用。\nJGit 项目由 Eclipse 维护，它的主页在 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","起步"],["aid","G6PPD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_底层命令"],["aid","G6PQ7"]],"x":"底层命令","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PQ8"]],"x":"JGit 的 API 有两种基本的层次：底层命令和高层命令。\n这个两个术语都来自 Git ，并且 JGit 也被按照相同的方式粗略地划分：高层 API 是一个面向普通用户级别功能的友好的前端（一系列普通用户使用 Git 命令行工具时可能用到的东西），底层 API 则直接作用于低级的仓库对象。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PQ9"]],"x":"大多数 JGit 会话会以 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PQC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PQN"]],"x":"无论你的程序是否知道仓库的确切位置，builder 中的那个流畅的 API 都可以提供给它寻找仓库所需所有信息。\n它可以使用环境变量 （","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PQR"]],"x":"当你拥有一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PQT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PRG"]],"x":"这里完成了一大堆事情，所以我们还是一次理解一段的好。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PRH"]],"x":"第一行获取一个指向 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PRO"]],"x":"第二行获得以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PRS"]],"x":"接下来两行展示了如何装载一个对象的原始内容。\n在这个例子中，我们调用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PS1"]],"x":"接下来几行展现了如何创建一个新的分支。\n我们创建一个 RefUpdate 实例，配置一些参数，然后调用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PS6"]],"x":"最后一个例子展示了如何从 Git 配置文件中获取 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PS8"]],"x":"这只是底层 API 的冰山一角，另外还有许多可以使用的方法和类。\n还有一个没有放在这里说明的，就是 JGit 是用异常机制来处理错误的。\nJGit API 有时使用标准的 Java 异常（例如 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","高层命令"],["aid","G6PSD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","拓展阅读"],["aid","G6PTJ"]],"x":"\n","n":"section","l":"\n\n\n  \n    "},{"x":"Git 命令","n":"title","l":"\n    "},{"a":[["type","text/javascript"]],"x":"\ndocument.addEventListener('DOMContentLoaded', function(event, reader) {\n  if (!(reader = navigator.epubReadingSystem)) {\n    if (navigator.userAgent.indexOf(' calibre/') &gt;= 0) reader = { name: 'calibre-desktop' };\n    else if (window.parent == window || !(reader = window.parent.navigator.epubReadingSystem)) return;\n  }\n  document.body.setAttribute('class', reader.name.toLowerCase().replace(/ /g, '-'));\n});\n","n":"script","l":"\n    "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0002?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n  \n"},{"a":[["class","chapter pcalibre1 pcalibre"],["id","_git_命令"],["title","Git 命令"],["type","chapter"],["aid","H5A41"]],"x":"\n","n":"section","l":"\n\n\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","H5A42"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A48"]],"x":"在这一整本书里我们介绍了大量的 Git 命令，并尽可能的通过讲故事的的方式来介绍它们，慢慢的介绍了越来越多的命令。\n但是这导致这些命令的示例用法都散落在在全书的各处。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A49"]],"x":"在此附录中，我们会将本书中所提到过的命令都过一遍，并根据其用途大致的分类。\n我们会大致地讨论每个命的作用，指出其在本书中哪些章节使用过。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","设置与配置"],["aid","H5A4A"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","获取与创建项目"],["aid","H5A5C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_快照基础"],["aid","H5A6I"]],"x":"快照基础","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6J"]],"x":"对于基本的暂存内容及提交到你的历史记录中的工作流，只有少数基本的命令。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git add"],["aid","H5A6K"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git status"],["aid","H5A74"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git diff"],["aid","H5A7C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git difftool"],["aid","H5A85"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git commit"],["aid","H5A8C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git reset"],["aid","H5A92"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git rm"],["aid","H5A9K"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git mv"],["aid","H5AA2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git clean"],["aid","H5AA8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_分支与合并"],["aid","H5AAG"]],"x":"分支与合并","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AAH"]],"x":"Git 有几个实现大部的分支及合并功能的实用命令。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git branch"],["aid","H5AAI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git checkout"],["aid","H5AB0"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git merge"],["aid","H5ABI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git mergetool"],["aid","H5AC6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git log"],["aid","H5ACD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git stash"],["aid","H5ADJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git tag"],["aid","H5ADP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_项目分享与更新"],["aid","H5AE5"]],"x":"项目分享与更新","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AE6"]],"x":"在 Git 中没有多少访问网络的命令，几乎所以的命令都是在操作本地的数据库。\n当你想要分享你的工作，或者从其他地方拉取变更时，这有几个处理远程仓库的命令。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git fetch"],["aid","H5AE7"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git pull"],["aid","H5AEN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git push"],["aid","H5AF7"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git remote"],["aid","H5AG1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git archive"],["aid","H5AGB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git submodule"],["aid","H5AGI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","检查与比较"],["aid","H5AGS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","调试"],["aid","H5AHP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","补丁"],["aid","H5AIE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","邮件"],["aid","H5AJF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","外部系统"],["aid","H5AL5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","管理"],["aid","H5ALK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","底层命令"],["aid","H5AMP"]],"x":"\n","n":"section","l":"\n\n\n\n  "},{"x":"Table of Contents","n":"title","l":"\n  "},{"a":[["href","kindle:flow:0004?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n\n\n\n"},{"a":[["aid","I3QM2"]],"x":"\n\t","n":"ul","l":"\n\n\n"},{"a":[["aid","I3QM1"]],"x":"Table of Contents","n":"h2","l":"\n"},{"a":[["aid","I3QM3"]],"n":"li","l":"\n"},{"a":[["aid","I3QM5"]],"n":"li","l":"\n"},{"a":[["aid","I3QM7"]],"n":"li","l":"\n"},{"a":[["aid","I3QM9"]],"n":"li","l":"\n"},{"a":[["aid","I3QMB"]],"n":"li","l":"\n"},{"a":[["aid","I3QMD"]],"n":"li","l":"\n"},{"a":[["aid","I3QO2"]],"n":"li","l":"\n"},{"a":[["aid","I3QQL"]],"n":"li","l":"\n"},{"a":[["aid","I3QSB"]],"n":"li","l":"\n"},{"a":[["aid","I3QTP"]],"n":"li","l":"\n"},{"a":[["aid","I3QVD"]],"n":"li","l":"\n"},{"a":[["aid","I3R1P"]],"n":"li","l":"\n"},{"a":[["aid","I3R5T"]],"n":"li","l":"\n"},{"a":[["aid","I3R7A"]],"n":"li","l":"\n"},{"a":[["aid","I3R87"]],"n":"li","l":"\n"},{"a":[["aid","I3RAE"]],"n":"li","l":"\n"},{"a":[["aid","I3RB6"]],"n":"li","l":"\n"},{"a":[["aid","I3RBV"]],"n":"li","l":"\n@page {\n    margin-bottom: 5pt;\n    margin-left: 0;\n    margin-right: 0;\n    margin-top: 5pt\n    }\n@font-face {\n    src: url(kindle:embed:006A);\n    font-family: \"SimHei\";\n    panose-1: 2 1 6 9 6 1 1 1 1 1\n    }@page {\n    margin-bottom: 5pt;\n    margin-top: 5pt\n    }\n@font-face {\n    font-family: \"Noto Serif\";\n    font-style: normal;\n    font-weight: normal;\n    src: url(kindle:embed:0067)\n    }\n@font-face {\n    font-family: \"Noto Serif\";\n    font-style: italic;\n    font-weight: normal;\n    src: url(kindle:embed:006F)\n    }\n@font-face {\n    font-family: \"Noto Serif\";\n    font-style: normal;\n    font-weight: bold;\n    src: url(kindle:embed:006E)\n    }\n@font-face {\n    font-family: \"Noto Serif\";\n    font-style: italic;\n    font-weight: bold;\n    src: url(kindle:embed:0068)\n    }\n@font-face {\n    font-family: \"M+ 1p\";\n    font-style: normal;\n    font-weight: 400;\n    src: url(kindle:embed:006C)\n    }\n@font-face {\n    font-family: \"M+ 1p\";\n    font-style: normal;\n    font-weight: 200;\n    src: url(kindle:embed:006D)\n    }\n@font-face {\n    font-family: \"M+ 1p\";\n    font-style: normal;\n    font-weight: 700;\n    src: url(kindle:embed:0069)\n    }\n@font-face {\n    font-family: \"M+ 1mn\";\n    font-style: normal;\n    font-weight: normal;\n    src: url(kindle:embed:0063)\n    }\n@font-face {\n    font-family: \"M+ 1mn\";\n    font-style: italic;\n    font-weight: normal;\n    /* actually the M+ 1mn light font repurposed using FontForge to stand-in for Italic */\n    src: url(kindle:embed:0065)\n    }\n@font-face {\n    font-family: \"M+ 1mn\";\n    font-style: normal;\n    font-weight: bold;\n    /* actually the M+ 1mn medium font repurposed using FontForge to stand-in for Bold */\n    src: url(kindle:embed:0064)\n    }\n@font-face {\n    font-family: \"M+ 1mn\";\n    font-style: italic;\n    font-weight: bold;\n    /* actually the M+ 1mn bold font repurposed using FontForge to stand-in for Bold Italic */\n    src: url(kindle:embed:006B)\n    }\n@font-face {\n    font-family: \"FontAwesome\";\n    font-style: normal;\n    font-weight: normal;\n    src: url(kindle:embed:0062)\n    }\n@font-face {\n    font-family: \"FontIcons\";\n    font-style: normal;\n    font-weight: normal;\n    src: url(kindle:embed:0066)\n    }\n@font-face {\n    src: url(kindle:embed:006A);\n    font-family: \"SimHei\";\n    panose-1: 2 1 6 9 6 1 1 1 1 1\n    }.abstract {\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-indent: 2em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 1.5em\n    }\n.admonition {\n    -webkit-column-break-inside: avoid;\n    background: none;\n    background-color: #FFF0D4;\n    border-bottom-width: 0;\n    border-right-width: 0;\n    border-top-width: 0;\n    box-sizing: border-box;\n    display: block;\n    page-break-inside: avoid;\n    border-left: #FFC14F solid 0;\n    padding: 0;\n    margin: 1.5em 2em\n    }\n.admonition1 {\n    -webkit-column-break-inside: avoid;\n    background: none;\n    background-color: #F1CECE;\n    border-bottom-width: 0;\n    border-right-width: 0;\n    border-top-width: 0;\n    box-sizing: border-box;\n    display: block;\n    page-break-inside: avoid;\n    border-left: #C83737 solid 0;\n    padding: 0;\n    margin: 1.5em 2em\n    }\n.admonition2 {\n    -webkit-column-break-inside: avoid;\n    background: none;\n    background-color: #D0D0CF;\n    border-bottom-width: 0;\n    border-right-width: 0;\n    border-top-width: 0;\n    box-sizing: border-box;\n    display: block;\n    page-break-inside: avoid;\n    border-left: #40403E solid 0;\n    padding: 0;\n    margin: 1.5em 2em\n    }\n.admonition3 {\n    -webkit-column-break-inside: avoid;\n    background: none;\n    background-color: #FCD9CA;\n    border-bottom-width: 0;\n    border-right-width: 0;\n    border-top-width: 0;\n    box-sizing: border-box;\n    display: block;\n    page-break-inside: avoid;\n    border-left: #F2642A solid 0;\n    padding: 0;\n    margin: 1.5em 2em\n    }\n.arabic {\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-size: 1em;\n    line-height: 1.2;\n    list-style-type: decimal;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0 0 0 1.75em\n    }\n.calibre {\n    display: block;\n    font-family: \"SimHei\", monospace;\n    font-size: 1em;\n    line-height: 1.2;\n    text-align: center;\n    padding: 0;\n    margin: 0 5pt\n    }\n.calibre1 {\n    background-color: #FFF;\n    box-sizing: border-box;\n    display: block;\n    font-family: \"SimHei\", monospace;\n    font-size: 1em;\n    line-height: 1.2;\n    text-rendering: optimizeSpeed;\n    padding: 0;\n    margin: 0 5pt\n    }\n.calibre2 {\n    box-sizing: border-box;\n    font-weight: inherit\n    }\n.calibre3 {\n    -webkit-font-feature-settings: \"kern\";\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    line-height: 1.6;\n    orphans: 2;\n    text-align: justify;\n    text-indent: 2em;\n    vertical-align: baseline;\n    widows: 2;\n    padding: 0;\n    margin: 1em 0\n    }\n.calibre4 {\n    box-sizing: border-box;\n    font-size: 1em;\n    font-style: italic\n    }\n.calibre5 {\n    -webkit-font-feature-settings: \"kern\";\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    color: #666665;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    line-height: 1.75;\n    orphans: 2;\n    text-align: justify;\n    text-indent: 2em;\n    vertical-align: baseline;\n    widows: 2;\n    padding: 0;\n    margin: 1em 0\n    }\n.calibre6 {\n    -webkit-column-break-after: avoid;\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"M+ 1p\", sans-serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1.375em;\n    font-weight: 400;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: avoid;\n    page-break-inside: avoid;\n    text-align: left;\n    vertical-align: baseline;\n    word-spacing: -0.075em;\n    word-wrap: break-word;\n    padding: 0;\n    margin: 1em 0 -0.3333em\n    }\n.calibre7 {\n    -webkit-column-break-after: avoid;\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"M+ 1p\", sans-serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1.125em;\n    font-weight: 400;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: avoid;\n    page-break-inside: avoid;\n    text-align: left;\n    vertical-align: baseline;\n    word-wrap: break-word;\n    padding: 0;\n    margin: 0.84em 0 -0.5em\n    }\n.calibre8 {\n    box-sizing: border-box;\n    display: block;\n    height: auto;\n    max-width: 100%;\n    width: auto;\n    border: currentColor none 0;\n    margin: 0 auto\n    }\n.calibre9 {\n    -webkit-column-break-after: auto;\n    -webkit-font-feature-settings: \"kern\";\n    box-sizing: border-box;\n    color: #666665;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 0.875em;\n    font-style: italic;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: auto;\n    page-break-inside: avoid;\n    text-align: left;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0.2em 0 0\n    }\n.calibre10 {\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-size: 1em;\n    line-height: 1.2;\n    list-style-type: none;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0 0 0 1em\n    }\n.calibre11 {\n    -webkit-font-feature-settings: \"kern\";\n    box-sizing: border-box;\n    color: #333332;\n    display: list-item;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    line-height: 1.6;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0.4em 0 0\n    }\n.calibre12 {\n    box-sizing: border-box;\n    font-size: 1em;\n    font-weight: bold\n    }\n.calibre13 {\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #191918;\n    font-family: \"M+ 1mn\", monospace;\n    font-size: 1em;\n    line-height: 1.2\n    }\n.calibre14 {\n    box-sizing: border-box;\n    font-size: 1em;\n    line-height: 1.2\n    }\n.calibre15 {\n    box-sizing: border-box;\n    font-size: 1em;\n    font-weight: bold;\n    line-height: 1.2\n    }\n.calibre16 {\n    box-sizing: border-box;\n    font-size: 1em;\n    font-style: italic;\n    font-weight: bold;\n    line-height: 1.2\n    }\n.calibre17 {\n    box-sizing: border-box;\n    font-size: 1em;\n    font-style: italic;\n    line-height: 1.2\n    }\n.calibre18 {\n    -webkit-column-break-after: avoid;\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    float: left;\n    font-family: \"M+ 1p\", sans-serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    font-weight: 400;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: avoid;\n    page-break-inside: avoid;\n    text-align: center;\n    vertical-align: baseline;\n    width: 100%;\n    word-spacing: -0.075em;\n    word-wrap: break-word;\n    padding: 0;\n    margin: -1.25em 0 0\n    }\n.calibre19 {\n    -webkit-column-break-after: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    box-sizing: border-box;\n    color: #666665;\n    display: table-caption;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 0.875em;\n    font-style: italic;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: avoid;\n    page-break-inside: avoid;\n    text-align: left;\n    vertical-align: baseline;\n    padding: 0 0 0.1em 0.1em;\n    margin: 0\n    }\n.calibre20 {\n    box-sizing: border-box;\n    display: table-column-group\n    }\n.calibre21 {\n    box-sizing: border-box;\n    display: table-column\n    }\n.calibre22 {\n    box-sizing: border-box;\n    display: table-header-group;\n    font-size: 0.75em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0\n    }\n.calibre23 {\n    box-sizing: border-box;\n    display: table-row;\n    font-size: 1em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0\n    }\n.calibre24 {\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    box-sizing: border-box;\n    color: #333332;\n    display: table-cell;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    font-weight: bold;\n    line-height: 1.2;\n    page-break-inside: avoid;\n    text-align: left;\n    vertical-align: top;\n    border-bottom: #80807F solid 1px;\n    padding: 0.5em 0.5em 1em 0.1em;\n    margin: 0\n    }\n.calibre25 {\n    box-sizing: border-box;\n    display: table-row-group;\n    font-size: 0.75em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0\n    }\n.calibre26 {\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    box-sizing: border-box;\n    color: #333332;\n    display: table-cell;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    line-height: 1.2;\n    page-break-inside: avoid;\n    text-align: left;\n    vertical-align: top;\n    border-top: #80807F solid 1px;\n    border-right: #80807F solid 0;\n    border-bottom: #80807F solid 0;\n    border-left: #80807F solid 0;\n    padding: 0.5em 0.5em 1em 0.1em;\n    margin: 0\n    }\n.calibre27 {\n    -webkit-font-feature-settings: \"kern\";\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    line-height: 1.6;\n    orphans: 2;\n    text-align: left;\n    text-indent: 2em;\n    vertical-align: baseline;\n    widows: 2;\n    padding: 0;\n    margin: 1em 0\n    }\n.calibre28 {\n    box-sizing: border-box;\n    font-size: 1em;\n    line-height: 1.2;\n    border: #F00 solid 1px\n    }\n.calibre29 {\n    -webkit-column-break-after: avoid;\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #4F4F4C;\n    display: block;\n    font-family: \"M+ 1p\", sans-serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1.125em;\n    font-weight: 200;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: avoid;\n    page-break-inside: avoid;\n    text-align: left;\n    vertical-align: baseline;\n    word-wrap: break-word;\n    padding: 0;\n    margin: 0.875em 0 -0.625em\n    }\n.calibre30 {\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-size: 0.75em;\n    list-style-type: none;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0 0 0 1.5em\n    }\n.calibre31 {\n    -webkit-font-feature-settings: \"kern\";\n    box-sizing: border-box;\n    color: #333332;\n    display: list-item;\n    font-family: \"Noto Serif\", serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1em;\n    line-height: 1.6;\n    text-align: left;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0.4em 0 0\n    }\n.calibre32 {\n    -webkit-column-break-after: avoid;\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #666665;\n    display: block;\n    font-family: \"M+ 1p\", sans-serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 0.875em;\n    font-weight: 700;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: avoid;\n    page-break-inside: avoid;\n    text-align: left;\n    text-transform: uppercase;\n    vertical-align: baseline;\n    word-wrap: break-word;\n    padding: 0;\n    margin: 1.11em 0 -0.972em\n    }\n.calibre33 {\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-size: 1em;\n    line-height: 1.2;\n    list-style-type: none;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0 0 0 1.75em\n    }\n.calibre34 {\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-family: \"Noto Serif\", serif;\n    font-size: 1em;\n    list-style-type: none;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0 0 0 1.75em\n    }\n.chapter {\n    box-sizing: border-box;\n    display: block\n    }\n.chapter-header {\n    border-bottom: #666665 solid 1px;\n    border-top: 0;\n    box-sizing: border-box;\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-indent: 2em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 0\n    }\n.chapter-title {\n    -webkit-column-break-after: avoid;\n    -webkit-column-break-inside: avoid;\n    -webkit-font-feature-settings: \"kern\";\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #666665;\n    display: block;\n    font-family: \"M+ 1p\", sans-serif;\n    font-feature-settings: \"kern\";\n    font-kerning: normal;\n    font-size: 1.125em;\n    font-weight: 200;\n    letter-spacing: -0.01em;\n    line-height: 1.2;\n    page-break-after: avoid;\n    page-break-inside: avoid;\n    text-align: left;\n    text-transform: uppercase;\n    vertical-align: baseline;\n    word-spacing: -0.075em;\n    word-wrap: break-word;\n    padding: 0 0 0.8333em;\n    margin: 3.5em 0 0\n    }\n.content {\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    text-indent: 2em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 0\n    }\n.content1 {\n    background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 42.5%, #FFC14F 45%, #FFC14F 55%, rgba(255, 255, 255, 0) 57.5%);\n    background-position: 0 bottom;\n    background-repeat: no-repeat;\n    background-size: 100% 1px;\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    display: block;\n    font-size: 0.875em;\n    line-height: 1.2;\n    text-indent: 2em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 0\n    }\n.content2 {\n    background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 42.5%, #C83737 45%, #C83737 55%, rgba(255, 255, 255, 0) 57.5%);\n    background-position: 0 bottom;\n    background-repeat: no-repeat;\n    background-size: 100% 1px;\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    display: block;\n    font-size: 0.875em;\n    line-height: 1.2;\n    text-indent: 2em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 0\n    }\n.content3 {\n    background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 42.5%, #40403E 45%, #40403E 55%, rgba(255, 255, 255, 0) 57.5%);\n    background-position: 0 bottom;\n    background-repeat: no-repeat;\n    background-size: 100% 1px;\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    display: block;\n    font-size: 0.875em;\n    line-height: 1.2;\n    text-indent: 2em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 0\n    }\n.content4 {\n    background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 42.5%, #F2642A 45%, #F2642A 55%, rgba(255, 255, 255, 0) 57.5%);\n    background-position: 0 bottom;\n    background-repeat: no-repeat;\n    background-size: 100% 1px;\n    border-bottom: 0;\n    border-top: 0;\n    box-sizing: border-box;\n    display: block;\n    font-size: 0.875em;\n    line-height: 1.2;\n    text-indent: 2em;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 0\n    }\n.conum {\n    box-sizing: border-box;\n    color: #468C54;\n    font-family: \"M+ 1mn\", monospace;\n    font-style: normal\n    }\n.conum1 {\n    box-sizing: border-box;\n    color: #468C54;\n    display: block;\n    float: left;\n    font-family: \"M+ 1mn\", monospace;\n    font-style: normal;\n    margin-left: -1.25em;\n    width: 1.25em\n    }\n.image {\n    -webkit-column-break-inside: avoid;\n    box-sizing: border-box;\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    page-break-inside: avoid;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 1em 0 0\n    }\n.link {\n    background: transparent;\n    box-sizing: border-box;\n    font-size: 1em\n    }\n.listing {\n    box-sizing: border-box;\n    display: block;\n    font-size: 1em;\n    line-height: 1.2;\n    vertical-align: baseline;\n    padding: 0;\n    margin: 0.75em 0 0\n    }\n.literal {\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #191918;\n    font-family: \"M+ 1mn\", monospace;\n    font-size: 1em;\n    word-wrap: break-word\n    }\n.literal1 {\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: #191918;\n    font-family: \"M+ 1mn\", monospace;\n    font-size: 1em;\n    line-height: 1.2;\n    word-wrap: break-word\n    }\n.literal2 {\n    -webkit-hyphens: none;\n    box-sizing: border-box;\n    color: inherit;\n    font-family: \"M+ 1mn\", monospace;\n    font-size: 1em;\n    line-height: 1.2;\n    word-wrap: break-word\n    }\n.principal {\n    box-sizing: border-box;\n    display: block;\n    font-size: 1em;\n    text-align: justify\n    }\n.screen {\n    -webkit-hyphens: none;\n    background-color: rgba(0, 0, 0, 0.05);\n    box-sizing: border-box;\n    color: #191918;\n    display: block;\n    font-family: \"M+ 1mn\", monospace;\n    font-size: 0.875em;\n    line-height: 1.2;\n    orphans: 3;\n    overflow-wrap: break-word;\n    text-align: left;\n    vertical-align: baseline;\n    white-space: pre-wrap;\n    widows: 3;\n    border-top: #DCDCDE solid 1px;\n    border-right: #DCDCDE solid 1px;\n    padding: 0.5rem 0.75rem;\n    margin: 1em 0 0\n    }\n.source {\n    -webkit-hyphens: none;\n    background-color: rgba(0, 0, 0, 0.05);\n    box-sizing: border-box;\n    color: #191918;\n    display: block;\n    font-family: \"M+ 1mn\", monospace;\n    font-size: 0.875em;\n    line-height: 1.2;\n    orphans: 3;\n    overflow-wrap: break-word;\n    text-align: left;\n    vertical-align: baseline;\n    white-space: pre-wrap;\n    widows: 3;\n    border-top: #DCDCDE solid 1px;\n    border-right: #DCDCDE solid 1px;\n    padding: 0.5rem 0.75rem;\n    margin: 0\n    }\n.source1 {\n    -webkit-hyphens: none;\n    background-color: rgba(0, 0, 0, 0.05);\n    box-sizing: border-box;\n    color: #191918;\n    display: block;\n    font-family: \"M+ 1mn\", monospace;\n    font-size: 0.85714em;\n    line-height: 1.2;\n    orphans: 3;\n    overflow-wrap: break-word;\n    text-align: left;\n    vertical-align: baseline;\n    white-space: pre-wrap;\n    widows: 3;\n    border-top: #DCDCDE solid 1px;\n    border-right: #DCDCDE solid 1px;\n    padding: 0.5rem 0.75rem;\n    margin: 0\n    }\n.subtitle {\n    box-sizing: border-box;\n    color: #333332;\n    display: block;\n    font-size: 1.33333em;\n    font-weight: 400;\n    line-height: 1.2;\n    margin: 0 0 0 0.75em\n    }\n.table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    box-sizing: border-box;\n    display: table;\n    font-size: 1em;\n    line-height: 1.2;\n    text-indent: 0;\n    vertical-align: baseline;\n    width: 100%;\n    border-top: #80807F solid 1px;\n    border-right: #80807F solid 0;\n    border-bottom: #80807F solid 1px;\n    border-left: #80807F solid 0;\n    padding: 0;\n    margin: 0\n    }\n.pcalibre3:visited {\n    -webkit-text-fill-color: #666665;\n    color: #666665\n    }\n.pcalibre4:link {\n    -webkit-text-fill-color: #333332;\n    background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, #666665 5%, #666665 95%, rgba(255, 255, 255, 0) 100%);\n    background-position: 0 1.2em;\n    background-repeat: no-repeat;\n    background-size: 100% 1px;\n    color: #333332;\n    text-decoration: none;\n    border-bottom: currentColor none medium\n    }\n.pcalibre10:before {\n    box-sizing: border-box;\n    color: #40403E;\n    content: \"\";\n    display: block;\n    font-family: \"FontAwesome\";\n    font-size: 2em;\n    line-height: 1;\n    margin-bottom: -0.25em;\n    margin-left: -0.5em;\n    text-align: center;\n    text-shadow: 0 1px 1px rgba(102, 102, 101, 0.15);\n    width: 1em\n    }\n.pcalibre11:before {\n    box-sizing: border-box;\n    color: #F2642A;\n    content: \"\";\n    display: block;\n    font-family: \"FontAwesome\";\n    font-size: 2em;\n    line-height: 1;\n    margin-bottom: -0.25em;\n    margin-left: -0.5em;\n    text-align: center;\n    text-shadow: 0 1px 1px rgba(102, 102, 101, 0.15);\n    width: 1em\n    }\n.pcalibre7:before {\n    box-sizing: border-box;\n    color: #666665;\n    content: \"▪\";\n    display: block;\n    float: left;\n    margin-left: -1em;\n    margin-top: -0.05em;\n    padding-left: 0.25em;\n    width: 0\n    }\n.pcalibre8:before {\n    box-sizing: border-box;\n    color: #FFC14F;\n    content: \"\";\n    display: block;\n    font-family: \"FontAwesome\";\n    font-size: 2em;\n    line-height: 1;\n    margin-bottom: -0.25em;\n    margin-left: -0.5em;\n    text-align: center;\n    text-shadow: 0 1px 1px rgba(102, 102, 101, 0.15);\n    width: 1em\n    }\n.pcalibre9:before {\n    box-sizing: border-box;\n    color: #C83737;\n    content: \"\";\n    display: block;\n    font-family: \"FontAwesome\";\n    font-size: 2em;\n    line-height: 1;\n    margin-bottom: -0.25em;\n    margin-left: -0.5em;\n    text-align: center;\n    text-shadow: 0 1px 1px rgba(102, 102, 101, 0.15);\n    width: 1em\n    }\n.pcalibre:before {\n    box-sizing: border-box\n    }\n.pcalibre6:first-line {\n    -webkit-font-feature-settings: \"kern\" off;\n    font-feature-settings: \"kern\" off;\n    font-kerning: none;\n    font-weight: bold;\n    text-rendering: optimizeSpeed\n    }\n.pcalibre1:after {\n    box-sizing: border-box\n    }\n.pcalibre5:hover {\n    outline: 0\n    }\n.pcalibre2:active {\n    outline: 0\n    }\nli {\n    list-style-type: none\n    }\na {\n    text-decoration: none\n    }\na:hover {\n    color: red\n    }\n@font-face {\n    src: url(kindle:embed:006A);\n    font-family: \"SimHei\";\n    panose-1: 2 1 6 9 6 1 1 1 1 1\n    }\nbody {\n    font-family: \"SimHei\", monospace\n    }\n"},{"s":2,"a":[["version","1.1"],["width","100%"],["height","100%"],["viewBox","0 0 1050 1600"],["preserveAspectRatio","xMidYMid meet"]],"x":"\n","n":"svg"},{"s":2,"a":[["width","1050"],["height","1600"],["href","kindle:embed:004T?mime=image/jpeg",3]],"n":"image","l":"\n"},{"a":[["href","kindle:pos:fid:00AA:off:0000000000"],["aid","I3RC0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 命令","n":"a","l":"\n"},{"a":[["aid","I3RC1"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3RC2"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RC9"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RCG"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RD5"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RDM"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RE5"]],"n":"li","l":"\n\t"},{"a":[["aid","I3REE"]],"n":"li","l":"\n\t"},{"a":[["aid","I3REN"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RF0"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RFF"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RFM"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RG1"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:00AN:off:000000002E"],["aid","I3RG2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"底层命令","n":"a"},{"a":[["href","kindle:pos:fid:00AM:off:00000001RC"],["aid","I3RFN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"管理","n":"a","l":"\n\t"},{"a":[["aid","I3RFO"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RFP"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RFR"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RFT"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RFV"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AM:off:00000004QJ"],["aid","I3RG0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git filter-branch","n":"a"},{"a":[["href","kindle:pos:fid:00AM:off:00000003M6"],["aid","I3RFU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git reflog","n":"a"},{"a":[["href","kindle:pos:fid:00AM:off:00000002VS"],["aid","I3RFS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git fsck","n":"a"},{"a":[["href","kindle:pos:fid:00AM:off:000000026F"],["aid","I3RFQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git gc","n":"a"},{"a":[["href","kindle:pos:fid:00AM:off:000000002E"],["aid","I3RFG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"外部系统","n":"a","l":"\n\t"},{"a":[["aid","I3RFH"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RFI"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RFK"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AM:off:000000012R"],["aid","I3RFL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git fast-import","n":"a"},{"a":[["href","kindle:pos:fid:00AM:off:00000000BB"],["aid","I3RFJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git svn","n":"a"},{"a":[["href","kindle:pos:fid:00AL:off:0000000028"],["aid","I3RF1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"邮件","n":"a","l":"\n\t"},{"a":[["aid","I3RF2"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RF3"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RF5"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RF7"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RF9"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RFB"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RFD"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AL:off:00000005GU"],["aid","I3RFE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git request-pull","n":"a"},{"a":[["href","kindle:pos:fid:00AL:off:00000004MI"],["aid","I3RFC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git send-email","n":"a"},{"a":[["href","kindle:pos:fid:00AL:off:00000003TV"],["aid","I3RFA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git imap-send","n":"a"},{"a":[["href","kindle:pos:fid:00AL:off:0000000337"],["aid","I3RF8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git format-patch","n":"a"},{"a":[["href","kindle:pos:fid:00AL:off:00000001AB"],["aid","I3RF6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git am","n":"a"},{"a":[["href","kindle:pos:fid:00AL:off:00000000F2"],["aid","I3RF4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git apply","n":"a"},{"a":[["href","kindle:pos:fid:00AK:off:0000000028"],["aid","I3REO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"补丁","n":"a","l":"\n\t"},{"a":[["aid","I3REP"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3REQ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RES"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3REU"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AK:off:00000003B9"],["aid","I3REV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git revert","n":"a"},{"a":[["href","kindle:pos:fid:00AK:off:00000001BL"],["aid","I3RET"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git rebase","n":"a"},{"a":[["href","kindle:pos:fid:00AK:off:00000000ET"],["aid","I3RER"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git cherry-pick","n":"a"},{"a":[["href","kindle:pos:fid:00AJ:off:00000003RQ"],["aid","I3REF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"调试","n":"a","l":"\n\t"},{"a":[["aid","I3REG"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3REH"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3REJ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3REL"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AJ:off:00000005M5"],["aid","I3REM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git grep","n":"a"},{"a":[["href","kindle:pos:fid:00AJ:off:00000004TM"],["aid","I3REK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git blame","n":"a"},{"a":[["href","kindle:pos:fid:00AJ:off:0000000465"],["aid","I3REI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git bisect","n":"a"},{"a":[["href","kindle:pos:fid:00AJ:off:000000002H"],["aid","I3RE6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检查与比较","n":"a","l":"\n\t"},{"a":[["aid","I3RE7"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RE8"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3REA"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3REC"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AJ:off:00000002O9"],["aid","I3RED"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git describe","n":"a"},{"a":[["href","kindle:pos:fid:00AJ:off:00000001P5"],["aid","I3REB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git shortlog","n":"a"},{"a":[["href","kindle:pos:fid:00AJ:off:000000007Q"],["aid","I3RE9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git show","n":"a"},{"a":[["href","kindle:pos:fid:00AH:off:0000000000"],["aid","I3RDN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"项目分享与更新","n":"a","l":"\n\t"},{"a":[["aid","I3RDO"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RDP"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDR"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDT"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDV"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RE1"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RE3"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AI:off:000000064F"],["aid","I3RE4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git submodule","n":"a"},{"a":[["href","kindle:pos:fid:00AI:off:00000005BV"],["aid","I3RE2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git archive","n":"a"},{"a":[["href","kindle:pos:fid:00AI:off:000000042T"],["aid","I3RE0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git remote","n":"a"},{"a":[["href","kindle:pos:fid:00AI:off:000000002A"],["aid","I3RDU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git push","n":"a"},{"a":[["href","kindle:pos:fid:00AH:off:00000002LT"],["aid","I3RDS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git pull","n":"a"},{"a":[["href","kindle:pos:fid:00AH:off:00000000E9"],["aid","I3RDQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git fetch","n":"a"},{"a":[["href","kindle:pos:fid:00AF:off:0000000000"],["aid","I3RD6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支与合并","n":"a","l":"\n\t"},{"a":[["aid","I3RD7"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RD8"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDA"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDC"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDE"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDG"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDI"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RDK"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AG:off:00000005QS"],["aid","I3RDL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git tag","n":"a"},{"a":[["href","kindle:pos:fid:00AG:off:0000000546"],["aid","I3RDJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git stash","n":"a"},{"a":[["href","kindle:pos:fid:00AG:off:0000000029"],["aid","I3RDH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git log","n":"a"},{"a":[["href","kindle:pos:fid:00AF:off:00000006UQ"],["aid","I3RDF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git mergetool","n":"a"},{"a":[["href","kindle:pos:fid:00AF:off:00000004BL"],["aid","I3RDD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git merge","n":"a"},{"a":[["href","kindle:pos:fid:00AF:off:000000028L"],["aid","I3RDB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git checkout","n":"a"},{"a":[["href","kindle:pos:fid:00AF:off:0000000096"],["aid","I3RD9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git branch","n":"a"},{"a":[["href","kindle:pos:fid:00AC:off:0000000000"],["aid","I3RCH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"快照基础","n":"a","l":"\n\t"},{"a":[["aid","I3RCI"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RCJ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RCL"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RCN"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RCP"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RCR"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RCT"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RCV"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RD1"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RD3"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AE:off:000000002B"],["aid","I3RD4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git clean","n":"a"},{"a":[["href","kindle:pos:fid:00AD:off:00000006IO"],["aid","I3RD2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git mv","n":"a"},{"a":[["href","kindle:pos:fid:00AD:off:00000004V4"],["aid","I3RD0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git rm","n":"a"},{"a":[["href","kindle:pos:fid:00AD:off:00000002OL"],["aid","I3RCU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git reset","n":"a"},{"a":[["href","kindle:pos:fid:00AD:off:000000002C"],["aid","I3RCS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git commit","n":"a"},{"a":[["href","kindle:pos:fid:00AC:off:00000006QE"],["aid","I3RCQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git difftool","n":"a"},{"a":[["href","kindle:pos:fid:00AC:off:00000003MQ"],["aid","I3RCO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git diff","n":"a"},{"a":[["href","kindle:pos:fid:00AC:off:00000002IU"],["aid","I3RCM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git status","n":"a"},{"a":[["href","kindle:pos:fid:00AC:off:00000000A3"],["aid","I3RCK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git add","n":"a"},{"a":[["href","kindle:pos:fid:00AB:off:000000002N"],["aid","I3RCA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"获取与创建项目","n":"a","l":"\n\t"},{"a":[["aid","I3RCB"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RCC"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RCE"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AB:off:0000000271"],["aid","I3RCF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git clone","n":"a"},{"a":[["href","kindle:pos:fid:00AB:off:00000000FF"],["aid","I3RCD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git init","n":"a"},{"a":[["href","kindle:pos:fid:00AA:off:00000000VJ"],["aid","I3RC3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"设置与配置","n":"a","l":"\n\t"},{"a":[["aid","I3RC4"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RC5"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RC7"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00AA:off:00000004EJ"],["aid","I3RC8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git help","n":"a"},{"a":[["href","kindle:pos:fid:00AA:off:00000001F3"],["aid","I3RC6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"git config","n":"a"},{"a":[["href","kindle:pos:fid:00A1:off:0000000000"],["aid","I3RB7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"将 Git 嵌入你的应用","n":"a","l":"\n"},{"a":[["aid","I3RB8"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3RB9"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RBB"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RBK"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:00A6:off:0000000000"],["aid","I3RBL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"JGit","n":"a","l":"\n\t"},{"a":[["aid","I3RBM"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RBN"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RBP"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RBR"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RBT"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00A9:off:00000003M9"],["aid","I3RBU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"拓展阅读","n":"a"},{"a":[["href","kindle:pos:fid:00A9:off:000000002E"],["aid","I3RBS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"高层命令","n":"a"},{"a":[["href","kindle:pos:fid:00A7:off:0000000000"],["aid","I3RBQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"底层命令","n":"a"},{"a":[["href","kindle:pos:fid:00A6:off:00000000JD"],["aid","I3RBO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"起步","n":"a"},{"a":[["href","kindle:pos:fid:00A2:off:0000000000"],["aid","I3RBC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Libgit2","n":"a","l":"\n\t"},{"a":[["aid","I3RBD"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RBE"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RBG"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RBI"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:00A5:off:00000004FF"],["aid","I3RBJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"扩展阅读","n":"a"},{"a":[["href","kindle:pos:fid:00A5:off:000000002E"],["aid","I3RBH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"其它绑定","n":"a"},{"a":[["href","kindle:pos:fid:00A4:off:000000002E"],["aid","I3RBF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"高级功能","n":"a"},{"a":[["href","kindle:pos:fid:00A1:off:0000000151"],["aid","I3RBA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"命令行 Git 方式","n":"a"},{"a":[["href","kindle:pos:fid:009P:off:0000000000"],["aid","I3RAF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"其它环境中的 Git","n":"a","l":"\n"},{"a":[["aid","I3RAG"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3RAH"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RAQ"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RAS"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RAU"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RB0"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RB2"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RB4"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:00A0:off:000000071R"],["aid","I3RB5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:00A0:off:0000000418"],["aid","I3RB3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Powershell 中的 Git","n":"a"},{"a":[["href","kindle:pos:fid:00A0:off:000000002G"],["aid","I3RB1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Zsh 中的 Git","n":"a"},{"a":[["href","kindle:pos:fid:009V:off:000000002H"],["aid","I3RAV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Bash 中的 Git","n":"a"},{"a":[["href","kindle:pos:fid:009U:off:0000000378"],["aid","I3RAT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Eclipse 中的 Git","n":"a"},{"a":[["href","kindle:pos:fid:009U:off:000000002Q"],["aid","I3RAR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Visual Studio 中的 Git","n":"a"},{"a":[["href","kindle:pos:fid:009Q:off:0000000000"],["aid","I3RAI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"图形界面","n":"a","l":"\n\t"},{"a":[["aid","I3RAJ"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3RAK"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RAM"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RAO"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:009T:off:000000002K"],["aid","I3RAP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"其它图形界面","n":"a"},{"a":[["href","kindle:pos:fid:009R:off:0000000000"],["aid","I3RAN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Mac 和 Windows 上的 GitHub 客户端","n":"a"},{"a":[["href","kindle:pos:fid:009Q:off:000000013D"],["aid","I3RAL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"gitk 和 git-gui","n":"a"},{"a":[["href","kindle:pos:fid:008Q:off:0000000000"],["aid","I3R88"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":"\n"},{"a":[["aid","I3R89"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3R8A"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R8C"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R8L"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R8U"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R90"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R97"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R9G"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R9P"]],"n":"li","l":"\n\t"},{"a":[["aid","I3RAC"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:009O:off:0000000028"],["aid","I3RAD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:009J:off:0000000000"],["aid","I3R9Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"环境变量","n":"a","l":"\n\t"},{"a":[["aid","I3R9R"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R9S"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R9U"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RA0"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RA2"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RA4"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RA6"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RA8"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3RAA"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:009N:off:0000000028"],["aid","I3RAB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"其它","n":"a"},{"a":[["href","kindle:pos:fid:009M:off:0000000028"],["aid","I3RA9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"调试","n":"a"},{"a":[["href","kindle:pos:fid:009L:off:000000002H"],["aid","I3RA7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"比较和合并","n":"a"},{"a":[["href","kindle:pos:fid:009K:off:00000004K1"],["aid","I3RA5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"网络","n":"a"},{"a":[["href","kindle:pos:fid:009K:off:000000028A"],["aid","I3RA3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交","n":"a"},{"a":[["href","kindle:pos:fid:009K:off:000000002E"],["aid","I3RA1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"路径规则","n":"a"},{"a":[["href","kindle:pos:fid:009J:off:000000038D"],["aid","I3R9V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"版本库位置","n":"a"},{"a":[["href","kindle:pos:fid:009J:off:00000000I9"],["aid","I3R9T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"全局行为","n":"a"},{"a":[["href","kindle:pos:fid:009E:off:0000000000"],["aid","I3R9H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"维护与数据恢复","n":"a","l":"\n\t"},{"a":[["aid","I3R9I"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R9J"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R9L"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R9N"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:009H:off:0000000000"],["aid","I3R9O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"移除对象","n":"a"},{"a":[["href","kindle:pos:fid:009F:off:0000000000"],["aid","I3R9M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"数据恢复","n":"a"},{"a":[["href","kindle:pos:fid:009E:off:00000000DO"],["aid","I3R9K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"维护","n":"a"},{"a":[["href","kindle:pos:fid:0098:off:0000000000"],["aid","I3R98"],["target","_blank"],["rel","noopener noreferrer"]],"x":"传输协议","n":"a","l":"\n\t"},{"a":[["aid","I3R99"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R9A"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R9C"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R9E"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:009D:off:000000002E"],["aid","I3R9F"],["target","_blank"],["rel","noopener noreferrer"]],"x":"协议总结","n":"a"},{"a":[["href","kindle:pos:fid:009B:off:0000000000"],["aid","I3R9D"],["target","_blank"],["rel","noopener noreferrer"]],"x":"智能协议","n":"a"},{"a":[["href","kindle:pos:fid:0099:off:0000000000"],["aid","I3R9B"],["target","_blank"],["rel","noopener noreferrer"]],"x":"哑协议","n":"a"},{"a":[["href","kindle:pos:fid:0096:off:0000000000"],["aid","I3R91"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用规格","n":"a","l":"\n\t"},{"a":[["aid","I3R92"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R93"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R95"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0097:off:00000003F4"],["aid","I3R96"],["target","_blank"],["rel","noopener noreferrer"]],"x":"删除引用","n":"a"},{"a":[["href","kindle:pos:fid:0097:off:000000010U"],["aid","I3R94"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用规格推送","n":"a"},{"a":[["href","kindle:pos:fid:0094:off:0000000000"],["aid","I3R8V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"包文件","n":"a"},{"a":[["href","kindle:pos:fid:0091:off:0000000000"],["aid","I3R8M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 引用","n":"a","l":"\n\t"},{"a":[["aid","I3R8N"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R8O"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R8Q"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R8S"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0093:off:00000004LQ"],["aid","I3R8T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"远程引用","n":"a"},{"a":[["href","kindle:pos:fid:0093:off:000000002E"],["aid","I3R8R"],["target","_blank"],["rel","noopener noreferrer"]],"x":"标签引用","n":"a"},{"a":[["href","kindle:pos:fid:0092:off:000000002D"],["aid","I3R8P"],["target","_blank"],["rel","noopener noreferrer"]],"x":"HEAD 引用","n":"a"},{"a":[["href","kindle:pos:fid:008R:off:0000000000"],["aid","I3R8D"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 对象","n":"a","l":"\n\t"},{"a":[["aid","I3R8E"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R8F"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R8H"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R8J"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0090:off:000000002E"],["aid","I3R8K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"对象存储","n":"a"},{"a":[["href","kindle:pos:fid:008V:off:000000002E"],["aid","I3R8I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交对象","n":"a"},{"a":[["href","kindle:pos:fid:008T:off:0000000000"],["aid","I3R8G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"树对象","n":"a"},{"a":[["href","kindle:pos:fid:008Q:off:000000020F"],["aid","I3R8B"],["target","_blank"],["rel","noopener noreferrer"]],"x":"底层命令和高层命令","n":"a"},{"a":[["href","kindle:pos:fid:007B:off:0000000000"],["aid","I3R7B"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 与其他系统","n":"a","l":"\n"},{"a":[["aid","I3R7C"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3R7D"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R7O"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R85"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:008P:off:0000000028"],["aid","I3R86"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:008D:off:0000000000"],["aid","I3R7P"],["target","_blank"],["rel","noopener noreferrer"]],"x":"迁移到 Git","n":"a","l":"\n\t"},{"a":[["aid","I3R7Q"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R7R"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R7T"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R7V"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R81"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R83"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:008K:off:0000000000"],["aid","I3R84"],["target","_blank"],["rel","noopener noreferrer"]],"x":"一个自定义的导入器","n":"a"},{"a":[["href","kindle:pos:fid:008J:off:0000000025"],["aid","I3R82"],["target","_blank"],["rel","noopener noreferrer"]],"x":"TFS","n":"a"},{"a":[["href","kindle:pos:fid:008I:off:000000002A"],["aid","I3R80"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Perforce","n":"a"},{"a":[["href","kindle:pos:fid:008G:off:0000000000"],["aid","I3R7U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Mercurial","n":"a"},{"a":[["href","kindle:pos:fid:008E:off:0000000000"],["aid","I3R7S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Subversion","n":"a"},{"a":[["href","kindle:pos:fid:007C:off:0000000000"],["aid","I3R7E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"作为客户端的 Git","n":"a","l":"\n\t"},{"a":[["aid","I3R7F"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R7G"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R7I"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R7K"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R7M"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0086:off:0000000000"],["aid","I3R7N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 与 TFS","n":"a"},{"a":[["href","kindle:pos:fid:007R:off:0000000000"],["aid","I3R7L"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 与 Perforce","n":"a"},{"a":[["href","kindle:pos:fid:007L:off:0000000000"],["aid","I3R7J"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 与 Mercurial","n":"a"},{"a":[["href","kindle:pos:fid:007D:off:0000000000"],["aid","I3R7H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 与 Subversion","n":"a"},{"a":[["href","kindle:pos:fid:006E:off:0000000000"],["aid","I3R5U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"自定义 Git","n":"a","l":"\n"},{"a":[["aid","I3R5V"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3R60"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R6D"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R6O"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R71"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R78"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:007A:off:0000000028"],["aid","I3R79"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:0072:off:0000000000"],["aid","I3R72"],["target","_blank"],["rel","noopener noreferrer"]],"x":"使用强制策略的一个例子","n":"a","l":"\n\t"},{"a":[["aid","I3R73"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R74"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R76"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0078:off:0000000000"],["aid","I3R77"],["target","_blank"],["rel","noopener noreferrer"]],"x":"客户端钩子","n":"a"},{"a":[["href","kindle:pos:fid:0073:off:0000000000"],["aid","I3R75"],["target","_blank"],["rel","noopener noreferrer"]],"x":"服务器端钩子","n":"a"},{"a":[["href","kindle:pos:fid:006U:off:0000000000"],["aid","I3R6P"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 钩子","n":"a","l":"\n\t"},{"a":[["aid","I3R6Q"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R6R"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R6T"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R6V"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0071:off:000000002K"],["aid","I3R70"],["target","_blank"],["rel","noopener noreferrer"]],"x":"服务器端钩子","n":"a"},{"a":[["href","kindle:pos:fid:006V:off:0000000000"],["aid","I3R6U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"客户端钩子","n":"a"},{"a":[["href","kindle:pos:fid:006U:off:00000000I8"],["aid","I3R6S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"安装一个钩子","n":"a"},{"a":[["href","kindle:pos:fid:006N:off:0000000000"],["aid","I3R6E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 属性","n":"a","l":"\n\t"},{"a":[["aid","I3R6F"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R6G"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R6I"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R6K"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R6M"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:006T:off:00000005B9"],["aid","I3R6N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并策略","n":"a"},{"a":[["href","kindle:pos:fid:006T:off:000000002H"],["aid","I3R6L"],["target","_blank"],["rel","noopener noreferrer"]],"x":"导出版本库","n":"a"},{"a":[["href","kindle:pos:fid:006R:off:0000000000"],["aid","I3R6J"],["target","_blank"],["rel","noopener noreferrer"]],"x":"关键字展开","n":"a"},{"a":[["href","kindle:pos:fid:006O:off:0000000000"],["aid","I3R6H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"二进制文件","n":"a"},{"a":[["href","kindle:pos:fid:006F:off:0000000000"],["aid","I3R61"],["target","_blank"],["rel","noopener noreferrer"]],"x":"配置 Git","n":"a","l":"\n\t"},{"a":[["aid","I3R62"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R63"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R65"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R67"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R69"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R6B"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:006M:off:000000002K"],["aid","I3R6C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"服务器端配置","n":"a"},{"a":[["href","kindle:pos:fid:006L:off:0000000033"],["aid","I3R6A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"格式化与多余的空白字符","n":"a"},{"a":[["href","kindle:pos:fid:006J:off:0000000000"],["aid","I3R68"],["target","_blank"],["rel","noopener noreferrer"]],"x":"外部的合并与比较工具","n":"a"},{"a":[["href","kindle:pos:fid:006I:off:000000002I"],["aid","I3R66"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 中的着色","n":"a"},{"a":[["href","kindle:pos:fid:006G:off:0000000000"],["aid","I3R64"],["target","_blank"],["rel","noopener noreferrer"]],"x":"客户端基本配置","n":"a"},{"a":[["href","kindle:pos:fid:0048:off:0000000000"],["aid","I3R1Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 工具","n":"a","l":"\n"},{"a":[["aid","I3R1R"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3R1S"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R2B"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R2I"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R2T"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R3A"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R3H"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R40"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R4H"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R4Q"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R4S"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R53"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R5G"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R5I"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R5K"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R5R"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:006D:off:0000000028"],["aid","I3R5S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:0068:off:0000000000"],["aid","I3R5L"],["target","_blank"],["rel","noopener noreferrer"]],"x":"凭证存储","n":"a","l":"\n\t"},{"a":[["aid","I3R5M"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R5N"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R5P"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:006B:off:0000000000"],["aid","I3R5Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"自定义凭证缓存","n":"a"},{"a":[["href","kindle:pos:fid:0069:off:0000000000"],["aid","I3R5O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"底层实现","n":"a"},{"a":[["href","kindle:pos:fid:0065:off:0000000000"],["aid","I3R5J"],["target","_blank"],["rel","noopener noreferrer"]],"x":"替换","n":"a"},{"a":[["href","kindle:pos:fid:0063:off:0000000000"],["aid","I3R5H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"打包","n":"a"},{"a":[["href","kindle:pos:fid:005N:off:0000000000"],["aid","I3R54"],["target","_blank"],["rel","noopener noreferrer"]],"x":"子模块","n":"a","l":"\n\t"},{"a":[["aid","I3R55"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R56"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R58"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R5A"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R5C"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R5E"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0062:off:000000002K"],["aid","I3R5F"],["target","_blank"],["rel","noopener noreferrer"]],"x":"子模块的问题","n":"a"},{"a":[["href","kindle:pos:fid:0061:off:000000002H"],["aid","I3R5D"],["target","_blank"],["rel","noopener noreferrer"]],"x":"子模块技巧","n":"a"},{"a":[["href","kindle:pos:fid:005Q:off:0000000000"],["aid","I3R5B"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在包含子模块的项目上工作","n":"a"},{"a":[["href","kindle:pos:fid:005P:off:0000000030"],["aid","I3R59"],["target","_blank"],["rel","noopener noreferrer"]],"x":"克隆含有子模块的项目","n":"a"},{"a":[["href","kindle:pos:fid:005O:off:000000002N"],["aid","I3R57"],["target","_blank"],["rel","noopener noreferrer"]],"x":"开始使用子模块","n":"a"},{"a":[["href","kindle:pos:fid:005L:off:0000000000"],["aid","I3R4T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"使用 Git 调试","n":"a","l":"\n\t"},{"a":[["aid","I3R4U"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R4V"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R51"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:005M:off:000000002E"],["aid","I3R52"],["target","_blank"],["rel","noopener noreferrer"]],"x":"二分查找","n":"a"},{"a":[["href","kindle:pos:fid:005L:off:00000000EM"],["aid","I3R50"],["target","_blank"],["rel","noopener noreferrer"]],"x":"文件标注","n":"a"},{"a":[["href","kindle:pos:fid:005I:off:0000000000"],["aid","I3R4R"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Rerere","n":"a"},{"a":[["href","kindle:pos:fid:0056:off:0000000000"],["aid","I3R4I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"高级合并","n":"a","l":"\n\t"},{"a":[["aid","I3R4J"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R4K"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R4M"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R4O"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:005F:off:0000000000"],["aid","I3R4P"],["target","_blank"],["rel","noopener noreferrer"]],"x":"其他类型的合并","n":"a"},{"a":[["href","kindle:pos:fid:005D:off:0000000000"],["aid","I3R4N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"撤消合并","n":"a"},{"a":[["href","kindle:pos:fid:0057:off:0000000000"],["aid","I3R4L"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并冲突","n":"a"},{"a":[["href","kindle:pos:fid:004V:off:0000000000"],["aid","I3R41"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重置揭密","n":"a","l":"\n\t"},{"a":[["aid","I3R42"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R43"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R45"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R47"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R49"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R4B"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R4D"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R4F"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0055:off:0000000028"],["aid","I3R4G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:0054:off:0000000028"],["aid","I3R4E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检出","n":"a"},{"a":[["href","kindle:pos:fid:0053:off:000000051A"],["aid","I3R4C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"压缩","n":"a"},{"a":[["href","kindle:pos:fid:0053:off:000000002N"],["aid","I3R4A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通过路径来重置","n":"a"},{"a":[["href","kindle:pos:fid:0051:off:0000000000"],["aid","I3R48"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重置的作用","n":"a"},{"a":[["href","kindle:pos:fid:0050:off:000000002E"],["aid","I3R46"],["target","_blank"],["rel","noopener noreferrer"]],"x":"工作流程","n":"a"},{"a":[["href","kindle:pos:fid:004V:off:00000000K7"],["aid","I3R44"],["target","_blank"],["rel","noopener noreferrer"]],"x":"三棵树","n":"a"},{"a":[["href","kindle:pos:fid:004P:off:0000000000"],["aid","I3R3I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重写历史","n":"a","l":"\n\t"},{"a":[["aid","I3R3J"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R3K"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R3M"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R3O"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R3Q"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R3S"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R3U"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:004U:off:0000000034"],["aid","I3R3V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"核武器级选项：filter-branch","n":"a"},{"a":[["href","kindle:pos:fid:004T:off:000000002E"],["aid","I3R3T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"拆分提交","n":"a"},{"a":[["href","kindle:pos:fid:004S:off:00000001L7"],["aid","I3R3R"],["target","_blank"],["rel","noopener noreferrer"]],"x":"压缩提交","n":"a"},{"a":[["href","kindle:pos:fid:004S:off:000000002K"],["aid","I3R3P"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重新排序提交","n":"a"},{"a":[["href","kindle:pos:fid:004Q:off:0000000000"],["aid","I3R3N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"修改多个提交信息","n":"a"},{"a":[["href","kindle:pos:fid:004P:off:00000000VT"],["aid","I3R3L"],["target","_blank"],["rel","noopener noreferrer"]],"x":"修改最后一次提交","n":"a"},{"a":[["href","kindle:pos:fid:004N:off:0000000000"],["aid","I3R3B"],["target","_blank"],["rel","noopener noreferrer"]],"x":"搜索","n":"a","l":"\n\t"},{"a":[["aid","I3R3C"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R3D"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R3F"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:004O:off:000000002I"],["aid","I3R3G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 日志搜索","n":"a"},{"a":[["href","kindle:pos:fid:004N:off:00000000EU"],["aid","I3R3E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git Grep","n":"a"},{"a":[["href","kindle:pos:fid:004L:off:0000000000"],["aid","I3R2U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署工作","n":"a","l":"\n\t"},{"a":[["aid","I3R2V"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R30"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R32"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R34"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R36"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R38"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:004M:off:00000005RN"],["aid","I3R39"],["target","_blank"],["rel","noopener noreferrer"]],"x":"每个人必须签署","n":"a"},{"a":[["href","kindle:pos:fid:004M:off:000000002E"],["aid","I3R37"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署提交","n":"a"},{"a":[["href","kindle:pos:fid:004L:off:00000004JI"],["aid","I3R35"],["target","_blank"],["rel","noopener noreferrer"]],"x":"验证标签","n":"a"},{"a":[["href","kindle:pos:fid:004L:off:00000002B2"],["aid","I3R33"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署标签","n":"a"},{"a":[["href","kindle:pos:fid:004L:off:00000000EN"],["aid","I3R31"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GPG 介绍","n":"a"},{"a":[["href","kindle:pos:fid:004G:off:0000000000"],["aid","I3R2J"],["target","_blank"],["rel","noopener noreferrer"]],"x":"储藏与清理","n":"a","l":"\n\t"},{"a":[["aid","I3R2K"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R2L"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R2N"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R2P"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R2R"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:004K:off:000000002K"],["aid","I3R2S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"清理工作目录","n":"a"},{"a":[["href","kindle:pos:fid:004J:off:00000003NJ"],["aid","I3R2Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从储藏创建一个分支","n":"a"},{"a":[["href","kindle:pos:fid:004J:off:000000002K"],["aid","I3R2O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"创造性的储藏","n":"a"},{"a":[["href","kindle:pos:fid:004H:off:0000000000"],["aid","I3R2M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"储藏工作","n":"a"},{"a":[["href","kindle:pos:fid:004E:off:0000000000"],["aid","I3R2C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"交互式暂存","n":"a","l":"\n\t"},{"a":[["aid","I3R2D"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R2E"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R2G"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:004F:off:000000002E"],["aid","I3R2H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"暂存补丁","n":"a"},{"a":[["href","kindle:pos:fid:004E:off:000000025P"],["aid","I3R2F"],["target","_blank"],["rel","noopener noreferrer"]],"x":"暂存与取消暂存文件","n":"a"},{"a":[["href","kindle:pos:fid:0049:off:0000000000"],["aid","I3R1T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"选择修订版本","n":"a","l":"\n\t"},{"a":[["aid","I3R1U"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R1V"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R21"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R23"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R25"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R27"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R29"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:004C:off:0000000000"],["aid","I3R2A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交区间","n":"a"},{"a":[["href","kindle:pos:fid:004B:off:000000002E"],["aid","I3R28"],["target","_blank"],["rel","noopener noreferrer"]],"x":"祖先引用","n":"a"},{"a":[["href","kindle:pos:fid:004A:off:00000002CJ"],["aid","I3R26"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用日志","n":"a"},{"a":[["href","kindle:pos:fid:004A:off:000000002E"],["aid","I3R24"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支引用","n":"a"},{"a":[["href","kindle:pos:fid:0049:off:00000000PL"],["aid","I3R22"],["target","_blank"],["rel","noopener noreferrer"]],"x":"简短的 SHA-1","n":"a"},{"a":[["href","kindle:pos:fid:0049:off:00000000C7"],["aid","I3R20"],["target","_blank"],["rel","noopener noreferrer"]],"x":"单个修订版本","n":"a"},{"a":[["href","kindle:pos:fid:003A:off:0000000000"],["aid","I3QVE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitHub","n":"a","l":"\n"},{"a":[["aid","I3QVF"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3QVG"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QVR"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R06"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R0V"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R18"]],"n":"li","l":"\n\t"},{"a":[["aid","I3R1N"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:0047:off:0000000028"],["aid","I3R1O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:0040:off:0000000000"],["aid","I3R19"],["target","_blank"],["rel","noopener noreferrer"]],"x":"脚本 GitHub","n":"a","l":"\n\t"},{"a":[["aid","I3R1A"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R1B"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R1D"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R1F"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R1H"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R1J"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R1L"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0046:off:0000000029"],["aid","I3R1M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Octokit","n":"a"},{"a":[["href","kindle:pos:fid:0045:off:000000002V"],["aid","I3R1K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"修改 Pull Request 的状态","n":"a"},{"a":[["href","kindle:pos:fid:0044:off:000000002Q"],["aid","I3R1I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在一个问题上评论","n":"a"},{"a":[["href","kindle:pos:fid:0043:off:00000000SE"],["aid","I3R1G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"基本用途","n":"a"},{"a":[["href","kindle:pos:fid:0043:off:000000002C"],["aid","I3R1E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitHub API","n":"a"},{"a":[["href","kindle:pos:fid:0041:off:0000000000"],["aid","I3R1C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"钩子","n":"a"},{"a":[["href","kindle:pos:fid:003V:off:000000002E"],["aid","I3R10"],["target","_blank"],["rel","noopener noreferrer"]],"x":"管理组织","n":"a","l":"\n\t"},{"a":[["aid","I3R11"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R12"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R14"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R16"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:003V:off:00000006U8"],["aid","I3R17"],["target","_blank"],["rel","noopener noreferrer"]],"x":"审计日志","n":"a"},{"a":[["href","kindle:pos:fid:003V:off:00000002SK"],["aid","I3R15"],["target","_blank"],["rel","noopener noreferrer"]],"x":"团队","n":"a"},{"a":[["href","kindle:pos:fid:003V:off:00000000P9"],["aid","I3R13"],["target","_blank"],["rel","noopener noreferrer"]],"x":"组织的基本知识","n":"a"},{"a":[["href","kindle:pos:fid:003N:off:0000000000"],["aid","I3R07"],["target","_blank"],["rel","noopener noreferrer"]],"x":"维护项目","n":"a","l":"\n\t"},{"a":[["aid","I3R08"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3R09"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0B"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0D"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0F"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0H"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0J"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0L"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0N"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0P"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0R"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R0T"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:003U:off:000000002E"],["aid","I3R0U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"项目管理","n":"a"},{"a":[["href","kindle:pos:fid:003T:off:00000005KT"],["aid","I3R0S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"贡献 CONTRIBUTING","n":"a"},{"a":[["href","kindle:pos:fid:003T:off:00000003OP"],["aid","I3R0Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"README","n":"a"},{"a":[["href","kindle:pos:fid:003T:off:00000003FF"],["aid","I3R0O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"特殊文件","n":"a"},{"a":[["href","kindle:pos:fid:003T:off:000000002E"],["aid","I3R0M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"邮件通知","n":"a"},{"a":[["href","kindle:pos:fid:003S:off:0000000357"],["aid","I3R0K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"网页通知","n":"a"},{"a":[["href","kindle:pos:fid:003S:off:000000025D"],["aid","I3R0I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通知页面","n":"a"},{"a":[["href","kindle:pos:fid:003S:off:000000002H"],["aid","I3R0G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提醒和通知","n":"a"},{"a":[["href","kindle:pos:fid:003O:off:0000000000"],["aid","I3R0E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"管理合并请求","n":"a"},{"a":[["href","kindle:pos:fid:003N:off:0000000443"],["aid","I3R0C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"添加合作者","n":"a"},{"a":[["href","kindle:pos:fid:003N:off:00000000C3"],["aid","I3R0A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"创建新的版本库","n":"a"},{"a":[["href","kindle:pos:fid:003D:off:0000000000"],["aid","I3QVS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"对项目做出贡献","n":"a","l":"\n\t"},{"a":[["aid","I3QVT"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QVU"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R00"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R02"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3R04"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:003K:off:0000000000"],["aid","I3R05"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Markdown","n":"a"},{"a":[["href","kindle:pos:fid:003H:off:0000000000"],["aid","I3R03"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并请求的进阶用法","n":"a"},{"a":[["href","kindle:pos:fid:003E:off:0000000000"],["aid","I3R01"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitHub 流程","n":"a"},{"a":[["href","kindle:pos:fid:003D:off:00000000B7"],["aid","I3QVV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"派生（Fork）项目","n":"a"},{"a":[["href","kindle:pos:fid:003B:off:0000000000"],["aid","I3QVH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"账户的创建和配置","n":"a","l":"\n\t"},{"a":[["aid","I3QVI"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QVJ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QVL"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QVN"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QVP"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:003C:off:000000002E"],["aid","I3QVQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"两步验证","n":"a"},{"a":[["href","kindle:pos:fid:003B:off:000000061R"],["aid","I3QVO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"邮件地址","n":"a"},{"a":[["href","kindle:pos:fid:003B:off:00000004C0"],["aid","I3QVM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"头像","n":"a"},{"a":[["href","kindle:pos:fid:003B:off:00000001RP"],["aid","I3QVK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"SSH 访问","n":"a"},{"a":[["href","kindle:pos:fid:002F:off:0000000000"],["aid","I3QTQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分布式 Git","n":"a","l":"\n"},{"a":[["aid","I3QTR"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3QTS"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QU7"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QUM"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QVB"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:0039:off:0000000028"],["aid","I3QVC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:002U:off:0000000000"],["aid","I3QUN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"维护项目","n":"a","l":"\n\t"},{"a":[["aid","I3QUO"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QUP"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUR"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUT"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUV"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QV1"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QV3"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QV5"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QV7"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QV9"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0038:off:00000002C3"],["aid","I3QVA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"制作提交简报","n":"a"},{"a":[["href","kindle:pos:fid:0038:off:000000002K"],["aid","I3QV8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"准备一次发布","n":"a"},{"a":[["href","kindle:pos:fid:0037:off:00000004SD"],["aid","I3QV6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"生成一个构建号","n":"a"},{"a":[["href","kindle:pos:fid:0037:off:000000002K"],["aid","I3QV4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"为发布打标签","n":"a"},{"a":[["href","kindle:pos:fid:0034:off:0000000000"],["aid","I3QV2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"将贡献的工作整合进来","n":"a"},{"a":[["href","kindle:pos:fid:0033:off:000000002T"],["aid","I3QV0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"确定引入了哪些东西","n":"a"},{"a":[["href","kindle:pos:fid:0032:off:000000002K"],["aid","I3QUU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检出远程分支","n":"a"},{"a":[["href","kindle:pos:fid:002V:off:0000000000"],["aid","I3QUS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"应用来自邮件的补丁","n":"a"},{"a":[["href","kindle:pos:fid:002U:off:00000000MD"],["aid","I3QUQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在特性分支中工作","n":"a"},{"a":[["href","kindle:pos:fid:002I:off:0000000000"],["aid","I3QU8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"向一个项目贡献","n":"a","l":"\n\t"},{"a":[["aid","I3QU9"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QUA"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUC"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUE"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUG"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUI"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QUK"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:002T:off:0000000028"],["aid","I3QUL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:002R:off:0000000000"],["aid","I3QUJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通过邮件的公开项目","n":"a"},{"a":[["href","kindle:pos:fid:002P:off:0000000000"],["aid","I3QUH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"派生的公开项目","n":"a"},{"a":[["href","kindle:pos:fid:002N:off:0000000000"],["aid","I3QUF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"私有管理团队","n":"a"},{"a":[["href","kindle:pos:fid:002K:off:0000000000"],["aid","I3QUD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"私有小型团队","n":"a"},{"a":[["href","kindle:pos:fid:002J:off:000000002E"],["aid","I3QUB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交准则","n":"a"},{"a":[["href","kindle:pos:fid:002G:off:0000000000"],["aid","I3QTT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分布式工作流程","n":"a","l":"\n\t"},{"a":[["aid","I3QTU"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QTV"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QU1"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QU3"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QU5"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:002H:off:000000032L"],["aid","I3QU6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"工作流程总结","n":"a"},{"a":[["href","kindle:pos:fid:002H:off:000000002T"],["aid","I3QU4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"司令官与副官工作流","n":"a"},{"a":[["href","kindle:pos:fid:002G:off:00000003DG"],["aid","I3QU2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"集成管理者工作流","n":"a"},{"a":[["href","kindle:pos:fid:002G:off:000000012H"],["aid","I3QU0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"集中式工作流","n":"a"},{"a":[["href","kindle:pos:fid:001V:off:0000000000"],["aid","I3QSC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"服务器上的 Git","n":"a","l":"\n"},{"a":[["aid","I3QSD"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3QSE"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QSP"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QT0"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QT2"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QT4"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QT6"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QT8"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QTA"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QTL"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QTN"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:002E:off:00000001IG"],["aid","I3QTO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:002E:off:000000002Q"],["aid","I3QTM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"第三方托管的选择","n":"a"},{"a":[["href","kindle:pos:fid:002B:off:0000000000"],["aid","I3QTB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitLab","n":"a","l":"\n\t"},{"a":[["aid","I3QTC"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QTD"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QTF"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QTH"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QTJ"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:002D:off:000000026I"],["aid","I3QTK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"一起工作","n":"a"},{"a":[["href","kindle:pos:fid:002D:off:000000002E"],["aid","I3QTI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"基本用途","n":"a"},{"a":[["href","kindle:pos:fid:002C:off:0000000028"],["aid","I3QTG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"管理","n":"a"},{"a":[["href","kindle:pos:fid:002B:off:00000000I1"],["aid","I3QTE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"安装","n":"a"},{"a":[["href","kindle:pos:fid:002A:off:0000000028"],["aid","I3QT9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitWeb","n":"a"},{"a":[["href","kindle:pos:fid:0029:off:000000002C"],["aid","I3QT7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Smart HTTP","n":"a"},{"a":[["href","kindle:pos:fid:0028:off:000000002I"],["aid","I3QT5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 守护进程","n":"a"},{"a":[["href","kindle:pos:fid:0026:off:0000000000"],["aid","I3QT3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"配置服务器","n":"a"},{"a":[["href","kindle:pos:fid:0025:off:000000002J"],["aid","I3QT1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"生成 SSH 公钥","n":"a"},{"a":[["href","kindle:pos:fid:0023:off:0000000000"],["aid","I3QSQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在服务器上搭建 Git","n":"a","l":"\n\t"},{"a":[["aid","I3QSR"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QSS"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QSU"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0024:off:000000002E"],["aid","I3QSV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"小型安装","n":"a"},{"a":[["href","kindle:pos:fid:0023:off:00000002IR"],["aid","I3QST"],["target","_blank"],["rel","noopener noreferrer"]],"x":"把裸仓库放到服务器上","n":"a"},{"a":[["href","kindle:pos:fid:0020:off:0000000000"],["aid","I3QSF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"协议","n":"a","l":"\n\t"},{"a":[["aid","I3QSG"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QSH"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QSJ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QSL"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QSN"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0022:off:00000002U3"],["aid","I3QSO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 协议","n":"a"},{"a":[["href","kindle:pos:fid:0022:off:000000002C"],["aid","I3QSM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"SSH 协议","n":"a"},{"a":[["href","kindle:pos:fid:0021:off:000000002D"],["aid","I3QSK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"HTTP 协议","n":"a"},{"a":[["href","kindle:pos:fid:0020:off:00000000DV"],["aid","I3QSI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"本地协议","n":"a"},{"a":[["href","kindle:pos:fid:0017:off:0000000000"],["aid","I3QQM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":"\n"},{"a":[["aid","I3QQN"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3QQO"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QQV"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QR8"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QRA"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QRH"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QRS"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QS9"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:001U:off:0000000028"],["aid","I3QSA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:001P:off:0000000000"],["aid","I3QRT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基","n":"a","l":"\n\t"},{"a":[["aid","I3QRU"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QRV"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QS1"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QS3"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QS5"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QS7"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:001T:off:00000005IH"],["aid","I3QS8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基 vs. 合并","n":"a"},{"a":[["href","kindle:pos:fid:001T:off:000000002N"],["aid","I3QS6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"用变基解决变基","n":"a"},{"a":[["href","kindle:pos:fid:001S:off:000000002H"],["aid","I3QS4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基的风险","n":"a"},{"a":[["href","kindle:pos:fid:001Q:off:0000000000"],["aid","I3QS2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"更有趣的变基例子","n":"a"},{"a":[["href","kindle:pos:fid:001P:off:00000000IU"],["aid","I3QS0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基的基本操作","n":"a"},{"a":[["href","kindle:pos:fid:001L:off:0000000000"],["aid","I3QRI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"远程分支","n":"a","l":"\n\t"},{"a":[["aid","I3QRJ"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QRK"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QRM"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QRO"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QRQ"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:001O:off:00000001JL"],["aid","I3QRR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"删除远程分支","n":"a"},{"a":[["href","kindle:pos:fid:001O:off:0000000028"],["aid","I3QRP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"拉取","n":"a"},{"a":[["href","kindle:pos:fid:001N:off:000000002E"],["aid","I3QRN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"跟踪分支","n":"a"},{"a":[["href","kindle:pos:fid:001M:off:00000000FN"],["aid","I3QRL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"推送","n":"a"},{"a":[["href","kindle:pos:fid:001J:off:0000000000"],["aid","I3QRB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支开发工作流","n":"a","l":"\n\t"},{"a":[["aid","I3QRC"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QRD"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QRF"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:001K:off:000000002E"],["aid","I3QRG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"特性分支","n":"a"},{"a":[["href","kindle:pos:fid:001J:off:00000000HJ"],["aid","I3QRE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"长期分支","n":"a"},{"a":[["href","kindle:pos:fid:001I:off:000000002E"],["aid","I3QR9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支管理","n":"a"},{"a":[["href","kindle:pos:fid:001C:off:0000000000"],["aid","I3QR0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支的新建与合并","n":"a","l":"\n\t"},{"a":[["aid","I3QR1"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QR2"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QR4"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QR6"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:001G:off:0000000000"],["aid","I3QR7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"遇到冲突时的分支合并","n":"a"},{"a":[["href","kindle:pos:fid:001F:off:000000002H"],["aid","I3QR5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支的合并","n":"a"},{"a":[["href","kindle:pos:fid:001D:off:0000000000"],["aid","I3QR3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"新建分支","n":"a"},{"a":[["href","kindle:pos:fid:0018:off:0000000000"],["aid","I3QQP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支简介","n":"a","l":"\n\t"},{"a":[["aid","I3QQQ"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QQR"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQT"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:001A:off:0000000000"],["aid","I3QQU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支切换","n":"a"},{"a":[["href","kindle:pos:fid:0019:off:000000002E"],["aid","I3QQS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支创建","n":"a"},{"a":[["href","kindle:pos:fid:000F:off:0000000000"],["aid","I3QO3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 基础","n":"a","l":"\n"},{"a":[["aid","I3QO4"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3QO5"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QOC"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QP3"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QP8"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QPF"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QPU"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QQH"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QQJ"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:0016:off:0000000584"],["aid","I3QQK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:0016:off:000000002C"],["aid","I3QQI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 别名","n":"a"},{"a":[["href","kindle:pos:fid:0013:off:0000000000"],["aid","I3QPV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"打标签","n":"a","l":"\n\t"},{"a":[["aid","I3QQ0"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QQ1"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQ3"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQ5"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQ7"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQ9"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQB"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQD"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QQF"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0015:off:000000002E"],["aid","I3QQG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检出标签","n":"a"},{"a":[["href","kindle:pos:fid:0014:off:00000004VF"],["aid","I3QQE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"删除标签","n":"a"},{"a":[["href","kindle:pos:fid:0014:off:00000002NH"],["aid","I3QQC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"共享标签","n":"a"},{"a":[["href","kindle:pos:fid:0014:off:000000002H"],["aid","I3QQA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"后期打标签","n":"a"},{"a":[["href","kindle:pos:fid:0013:off:000000057M"],["aid","I3QQ8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"轻量标签","n":"a"},{"a":[["href","kindle:pos:fid:0013:off:000000032F"],["aid","I3QQ6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"附注标签","n":"a"},{"a":[["href","kindle:pos:fid:0013:off:000000022J"],["aid","I3QQ4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"创建标签","n":"a"},{"a":[["href","kindle:pos:fid:0013:off:00000000HF"],["aid","I3QQ2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"列出标签","n":"a"},{"a":[["href","kindle:pos:fid:0010:off:0000000000"],["aid","I3QPG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"远程仓库的使用","n":"a","l":"\n\t"},{"a":[["aid","I3QPH"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QPI"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QPK"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QPM"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QPO"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QPQ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QPS"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0012:off:0000000033"],["aid","I3QPT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"远程仓库的移除与重命名","n":"a"},{"a":[["href","kindle:pos:fid:0011:off:000000044J"],["aid","I3QPR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看远程仓库","n":"a"},{"a":[["href","kindle:pos:fid:0011:off:00000002GS"],["aid","I3QPP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"推送到远程仓库","n":"a"},{"a":[["href","kindle:pos:fid:0011:off:0000000033"],["aid","I3QPN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从远程仓库中抓取与拉取","n":"a"},{"a":[["href","kindle:pos:fid:0010:off:00000004CO"],["aid","I3QPL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"添加远程仓库","n":"a"},{"a":[["href","kindle:pos:fid:0010:off:00000000PA"],["aid","I3QPJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看远程仓库","n":"a"},{"a":[["href","kindle:pos:fid:000U:off:0000000000"],["aid","I3QP9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"撤消操作","n":"a","l":"\n\t"},{"a":[["aid","I3QPA"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QPB"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QPD"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:000V:off:000000002Q"],["aid","I3QPE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"撤消对文件的修改","n":"a"},{"a":[["href","kindle:pos:fid:000U:off:00000002DF"],["aid","I3QPC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"取消暂存的文件","n":"a"},{"a":[["href","kindle:pos:fid:000P:off:0000000000"],["aid","I3QP4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看提交历史","n":"a","l":"\n\t"},{"a":[["aid","I3QP5"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QP6"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:000S:off:0000000000"],["aid","I3QP7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"限制输出长度","n":"a"},{"a":[["href","kindle:pos:fid:000H:off:0000000000"],["aid","I3QOD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"记录每次更新到仓库","n":"a","l":"\n\t"},{"a":[["aid","I3QOE"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QOF"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOH"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOJ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOL"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QON"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOP"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOR"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOT"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOV"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QP1"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:000O:off:000000002E"],["aid","I3QP2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"移动文件","n":"a"},{"a":[["href","kindle:pos:fid:000N:off:000000002E"],["aid","I3QP0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"移除文件","n":"a"},{"a":[["href","kindle:pos:fid:000M:off:00000004OH"],["aid","I3QOU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"跳过使用暂存区域","n":"a"},{"a":[["href","kindle:pos:fid:000M:off:000000002E"],["aid","I3QOS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交更新","n":"a"},{"a":[["href","kindle:pos:fid:000K:off:0000000000"],["aid","I3QOQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看已暂存和未暂存的修改","n":"a"},{"a":[["href","kindle:pos:fid:000J:off:000000002E"],["aid","I3QOO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"忽略文件","n":"a"},{"a":[["href","kindle:pos:fid:000I:off:00000005DH"],["aid","I3QOM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"状态简览","n":"a"},{"a":[["href","kindle:pos:fid:000I:off:000000002N"],["aid","I3QOK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"暂存已修改文件","n":"a"},{"a":[["href","kindle:pos:fid:000H:off:00000004RF"],["aid","I3QOI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"跟踪新文件","n":"a"},{"a":[["href","kindle:pos:fid:000H:off:00000001PK"],["aid","I3QOG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检查当前文件状态","n":"a"},{"a":[["href","kindle:pos:fid:000G:off:000000002J"],["aid","I3QO6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"获取 Git 仓库","n":"a","l":"\n\t"},{"a":[["aid","I3QO7"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QO8"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QOA"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:000G:off:000000033M"],["aid","I3QOB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"克隆现有的仓库","n":"a"},{"a":[["href","kindle:pos:fid:000G:off:00000000G5"],["aid","I3QO9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在现有目录中初始化仓库","n":"a"},{"a":[["href","kindle:pos:fid:0006:off:0000000000"],["aid","I3QME"],["target","_blank"],["rel","noopener noreferrer"]],"x":"起步","n":"a","l":"\n"},{"a":[["aid","I3QMF"]],"x":"\n\t","n":"ul","l":"\n"},{"a":[["aid","I3QMG"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QMP"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QMR"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QN8"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QNA"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QNL"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QNU"]],"n":"li","l":"\n\t"},{"a":[["aid","I3QO0"]],"n":"li","l":"\n\t"},{"a":[["href","kindle:pos:fid:000E:off:00000001PC"],["aid","I3QO1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"总结","n":"a"},{"a":[["href","kindle:pos:fid:000E:off:000000002E"],["aid","I3QNV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"获取帮助","n":"a"},{"a":[["href","kindle:pos:fid:000D:off:000000002V"],["aid","I3QNM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"初次运行 Git 前的配置","n":"a","l":"\n\t"},{"a":[["aid","I3QNN"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QNO"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QNQ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QNS"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:000D:off:000000061B"],["aid","I3QNT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检查配置信息","n":"a"},{"a":[["href","kindle:pos:fid:000D:off:00000004I1"],["aid","I3QNR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"文本编辑器","n":"a"},{"a":[["href","kindle:pos:fid:000D:off:00000002V2"],["aid","I3QNP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"用户信息","n":"a"},{"a":[["href","kindle:pos:fid:000B:off:0000000000"],["aid","I3QNB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"安装 Git","n":"a","l":"\n\t"},{"a":[["aid","I3QNC"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QND"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QNF"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QNH"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QNJ"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:000C:off:000000002K"],["aid","I3QNK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从源代码安装","n":"a"},{"a":[["href","kindle:pos:fid:000B:off:000000046S"],["aid","I3QNI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在 Windows 上安装","n":"a"},{"a":[["href","kindle:pos:fid:000B:off:00000002HL"],["aid","I3QNG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在 Mac 上安装","n":"a"},{"a":[["href","kindle:pos:fid:000B:off:000000010Q"],["aid","I3QNE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在 Linux 上安装","n":"a"},{"a":[["href","kindle:pos:fid:000A:off:000000002B"],["aid","I3QN9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"命令行","n":"a"},{"a":[["href","kindle:pos:fid:0008:off:0000000000"],["aid","I3QMS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 基础","n":"a","l":"\n\t"},{"a":[["aid","I3QMT"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QMU"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QN0"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QN2"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QN4"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QN6"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0009:off:000000002E"],["aid","I3QN7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"三种状态","n":"a"},{"a":[["href","kindle:pos:fid:0008:off:00000006FO"],["aid","I3QN5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 一般只添加数据","n":"a"},{"a":[["href","kindle:pos:fid:0008:off:000000055D"],["aid","I3QN3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 保证完整性","n":"a"},{"a":[["href","kindle:pos:fid:0008:off:00000003BP"],["aid","I3QN1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"近乎所有操作都是本地执行","n":"a"},{"a":[["href","kindle:pos:fid:0008:off:00000000Q6"],["aid","I3QMV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"直接记录快照，而非差异比较","n":"a"},{"a":[["href","kindle:pos:fid:0007:off:000000002C"],["aid","I3QMQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 简史","n":"a"},{"a":[["href","kindle:pos:fid:0006:off:00000000RR"],["aid","I3QMH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"关于版本控制","n":"a","l":"\n\t"},{"a":[["aid","I3QMI"]],"x":"\n\t\t","n":"ul","l":"\n\t"},{"a":[["aid","I3QMJ"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QML"]],"n":"li","l":"\n\t\t"},{"a":[["aid","I3QMN"]],"n":"li","l":"\n\t\t"},{"a":[["href","kindle:pos:fid:0006:off:00000005V1"],["aid","I3QMO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分布式版本控制系统","n":"a"},{"a":[["href","kindle:pos:fid:0006:off:00000003QQ"],["aid","I3QMM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"集中化的版本控制系统","n":"a"},{"a":[["href","kindle:pos:fid:0006:off:000000027H"],["aid","I3QMK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"本地版本控制系统","n":"a"},{"a":[["href","kindle:pos:fid:0005:off:0000000000"],["aid","I3QMC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引言","n":"a"},{"a":[["href","kindle:pos:fid:0004:off:0000000000"],["aid","I3QMA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"献辞","n":"a"},{"a":[["href","kindle:pos:fid:0003:off:0000000000"],["aid","I3QM8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Ben Straub 序","n":"a"},{"a":[["href","kindle:pos:fid:0002:off:0000000000"],["aid","I3QM6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Scott Chacon 序","n":"a"},{"a":[["href","kindle:pos:fid:0001:off:0000000000"],["aid","I3QM4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"许可证","n":"a"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_底层命令"],["aid","H5AMQ"]],"x":"底层命令","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AMR"]],"x":"在本书中我们也遇到了不少底层的命令。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AMS"]],"x":"我们遇到的第一个底层命令是在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AMV"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AN4"]],"x":"我们同样在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AN7"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["id","xref--ch10-git-internals"],["aid","H5AN8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" 一章中对大部分的底层命令进行了介绍，这差不多正是这一章的重点所在。\n我们尽量避免了在本书的其他部分使用这些命令。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004A:off:000000002E"],["id","xref--ch07-git-tools--r_branch_references"],["aid","H5AN5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支引用","n":"a","l":" 一节中提到了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AN6"]],"x":"rev-parse","n":"code","l":" 命令，它可以接受任意字符串，并将其转成一个对象的 SHA-1 值。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0059:off:0000000000"],["aid","H5AN0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"手动文件再合并","n":"a","l":"、 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005I:off:0000000000"],["aid","H5AN1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Rerere","n":"a","l":" 及 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004V:off:00000004FM"],["id","xref--ch07-git-tools--r_the_index"],["aid","H5AN2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"索引","n":"a","l":" 章节中使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AN3"]],"x":"ls-files","n":"code","l":" 来查看暂存区的更原始的样子。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003P:off:0000000000"],["aid","H5AMT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并请求引用","n":"a","l":" 中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AMU"]],"x":"ls-remote","n":"code","l":" 命令。我们用它来查看服务端的原始引用。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_管理"],["aid","H5ALL"]],"x":"管理","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALM"]],"x":"如果你正在管理一个 Git 仓库，或者需要通过一个复杂的方法来修复某些东西，Git 提供了一些管理命令来帮助你。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git gc"],["aid","H5ALN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git fsck"],["aid","H5ALT"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git reflog"],["aid","H5AM3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git filter-branch"],["aid","H5AMD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_filter_branch"],["aid","H5AME"]],"x":"git filter-branch","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AMF"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AMH"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AMM"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008I:off:0000000186"],["id","xref--ch09-git-and-other-scms--r_git_p4"],["aid","H5AMN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git-p4","n":"a","l":" 和 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008J:off:0000000025"],["id","xref--ch09-git-and-other-scms--r_git_tfs"],["aid","H5AMO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"TFS","n":"a","l":" 的章节中我们使用它来修复已经导入的外部仓库。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004U:off:00000000UA"],["id","xref--ch07-git-tools--r_removing_file_every_commit"],["aid","H5AMI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从每一个提交移除一个文件","n":"a","l":" 一节中，我们解释了此命令，并探究了其他几个选项，例如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AMJ"]],"x":"--commit-filter","n":"code","l":"，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AMK"]],"x":"--subdirectory-filter","n":"code","l":" 及 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AML"]],"x":"--tree-filter","n":"code","l":" 。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AMG"]],"x":"git filter-branch","n":"code","l":" 命令用来根据某些规则来重写大量的提交记录，例如从任何地方删除文件，或者通过过滤一个仓库中的一个单独的子目录以提取出一个项目。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_reflog"],["aid","H5AM4"]],"x":"git reflog","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AM5"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AM7"]],"x":"我们主要在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AMB"]],"x":"我们同样在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:009F:off:0000000000"],["aid","H5AMC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"数据恢复","n":"a","l":" 一节中研究了一个恢复丢失的分支的实例。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004A:off:00000002CJ"],["aid","H5AM8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用日志","n":"a","l":" 一节中提到了此命令，并在展示了一般用法，及如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AM9"]],"x":"git log -g","n":"code","l":" 来通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AMA"]],"x":"git log","n":"code","l":" 的输出来查看同样的信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AM6"]],"x":"git reflog","n":"code","l":" 命令分析你所有分支的头指针的日志来查找出你在重写历史上可能丢失的提交。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_fsck"],["aid","H5ALU"]],"x":"git fsck","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALV"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AM1"]],"x":"我们只在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:009F:off:0000000000"],["id","xref--ch10-git-internals--r_data_recovery"],["aid","H5AM2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"数据恢复","n":"a","l":" 这一节中快速使用了一次此命令来搜索所有的悬空对象（dangling object）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AM0"]],"x":"git fsck","n":"code","l":" 命令用来检查内部数据库的问题或者不一致性。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_gc"],["aid","H5ALO"]],"x":"git gc","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALP"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALR"]],"x":"此命令一般在背后为你工作，虽然你可以手动执行它-如果你想的话。\n我们在","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:009E:off:00000000DO"],["id","xref--ch10-git-internals--r_git_gc"],["aid","H5ALS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"维护","n":"a","l":" 一节中研究此命令的几个示例。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ALQ"]],"x":"git gc","n":"code","l":" 命令在你的仓库中执行 “garbage collection” ，删除数据库中不需要的文件和将其他文件打包成一种更有效的格式。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_外部系统"],["aid","H5AL6"]],"x":"外部系统","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AL7"]],"x":"Git 有一些可以与其他的版本控制系统集成的命令。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git svn"],["aid","H5AL8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git fast-import"],["aid","H5ALE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_fast_import"],["aid","H5ALF"]],"x":"git fast-import","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALG"]],"x":"对于其他版本控制系统或者从其他任何的格式导入，你可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALI"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008K:off:0000000000"],["id","xref--ch09-git-and-other-scms--r_custom_importer"],["aid","H5ALJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"一个自定义的导入器","n":"a","l":" 一节中深入讲解了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ALH"]],"x":"git fast-import","n":"code","l":" 快速地将其他格式映射到 Git 可以轻松记录的格式。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_svn"],["aid","H5AL9"]],"x":"git svn","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ALC"]],"n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:007D:off:0000000000"],["id","xref--ch09-git-and-other-scms--r_git_svn"],["aid","H5ALD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 与 Subversion","n":"a","l":" 一章深入讲解了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ALB"]],"x":"git svn","n":"code","l":" 可以使 Git 作为一个客户端来与 Subversion 版本控制系统通信。\n这意味着你可以使用 Git 来检出内容，或者提交到 Subversion 服务器。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_邮件"],["aid","H5AJG"]],"x":"邮件","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJH"]],"x":"很多 Git 项目，包括 Git 本身，基本是通过邮件列表来维护的。\n从方便地生成邮件补丁到从一个邮箱中应用这些补丁,Git 都有工具来让这些操作变得简单。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git apply"],["aid","H5AJI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git am"],["aid","H5AJP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git format-patch"],["aid","H5AK8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git imap-send"],["aid","H5AKF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git send-email"],["aid","H5AKM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git request-pull"],["aid","H5AKU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_request_pull"],["aid","H5AKV"]],"x":"git request-pull","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AL0"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AL2"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002P:off:0000000000"],["aid","H5AL3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"派生的公开项目","n":"a","l":" 一节中演示了如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AL4"]],"x":"git request-pull","n":"code","l":" 来生成一个推送消息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AL1"]],"x":"git request-pull","n":"code","l":" 命令只是简单的用来生成一个可通过邮件发送给某个人的示例信息体。\n如果你在公共服务器上有一个分支，并且想让别人知道如何集成这些变更，而不用通过邮件发送补丁，你就可以执行此命令的输出发送给这个你想拉取变更的人。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_send_email"],["aid","H5AKN"]],"x":"git send-email","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AKO"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AKR"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002R:off:0000000000"],["aid","H5AKS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通过邮件的公开项目","n":"a","l":" 一节中研究了一个使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKT"]],"x":"git send-email","n":"code","l":" 工具发送补丁来为一个项目做贡献的示例。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKP"]],"x":"git send-mail","n":"code","l":" 命令用来通过邮件发送那些使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKQ"]],"x":"git format-patch","n":"code","l":" 生成的补丁。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_imap_send"],["aid","H5AKG"]],"x":"git imap-send","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AKH"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKI"]],"x":"git imap-send","n":"code","l":" 将一个由 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKJ"]],"x":"git format-patch","n":"code","l":" 生成的邮箱上传至 IMAP 草稿文件夹。\n我们在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002R:off:0000000000"],["aid","H5AKK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通过邮件的公开项目","n":"a","l":" 一节中见过一个通过使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKL"]],"x":"git imap-send","n":"code","l":" 工具向一个项目发送补丁进行贡献的例子。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_format_patch"],["aid","H5AK9"]],"x":"git format-patch","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AKA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AKC"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002R:off:0000000000"],["id","xref--ch05-distributed-git--r_project_over_email"],["aid","H5AKD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通过邮件的公开项目","n":"a","l":" 一节中研究了一个使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKE"]],"x":"git format-patch","n":"code","l":" 工具为一个项目做贡献的示例。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AKB"]],"x":"git format-patch","n":"code","l":" 命令用来以 mbox 的格式来生成一系列的补丁以便你可以发送到一个邮件列表中。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_am"],["aid","H5AJQ"]],"x":"git am","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJR"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJT"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AK3"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AK6"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003O:off:00000000PH"],["id","xref--ch06-github--r_email_notifications"],["aid","H5AK7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"邮件通知","n":"a","l":" 一节中我们也将用此命令来应用 格式化的 GitHub的推送请求的变更。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006V:off:00000003HA"],["id","xref--ch08-customizing-git--r_email_hooks"],["aid","H5AK4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"电子邮件工作流钩子","n":"a","l":" 也提到了几条 hooks，你可以用来辅助与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AK5"]],"x":"git am","n":"code","l":" 相关工作流。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0030:off:0000000000"],["id","xref--ch05-distributed-git--r_git_am"],["aid","H5AJU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"使用 ","n":"a","l":" 命令中提到了它的用法及工作流，包括使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AK0"]],"x":"--resolved","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AK1"]],"x":"-i","n":"code","l":" 及 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AK2"]],"x":"-3","n":"code","l":" 选项。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJV"]],"x":"am","n":"code","l":" 命令应用补丁"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJS"]],"x":"git am","n":"code","l":" 命令用来应用来自邮箱的补丁。特别是那些被 mbox 格式化过的。\n这对于通过邮件接受补丁并将他们轻松地应用到你的项目中很有用。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_apply"],["aid","H5AJJ"]],"x":"git apply","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJK"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJN"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002V:off:0000000000"],["id","xref--ch05-distributed-git--r_patches_from_email"],["aid","H5AJO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"应用来自邮件的补丁","n":"a","l":" 一节中演示了它的使用及什么环境下你可能会用到它。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJL"]],"x":"git apply","n":"code","l":" 命令应用一个通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJM"]],"x":"git diff","n":"code","l":" 或者甚至使用 GNU diff 命令创建的补丁。\n它跟补丁命令做了差不多的工作，但还是有一些小小的差别。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_补丁"],["aid","H5AIF"]],"x":"补丁","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AIG"]],"x":"Git 中的一些命令是以引入的变更即提交这样的概念为中心的，这样一系列的提交，就是一系列的补丁。\n这些命令以这样的方式来管理你的分支。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git cherry-pick"],["aid","H5AIH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git rebase"],["aid","H5AIO"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git revert"],["aid","H5AJ8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_revert"],["aid","H5AJ9"]],"x":"git revert","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJD"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005E:off:000000002E"],["id","xref--ch07-git-tools--r_reverse_commit"],["aid","H5AJE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"还原提交","n":"a","l":" 一节中使用此命令来撤销一个合并提交。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJB"]],"x":"git revert","n":"code","l":" 命令本质上就是一个逆向的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJC"]],"x":"git cherry-pick","n":"code","l":" 操作。\n它将你提交中的变更的以完全相反的方式的应用到一个新创建的提交中，本质上就是撤销或者倒转。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_rebase"],["aid","H5AIP"]],"x":"git rebase","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AIQ"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AIU"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJ0"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJ3"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AJ5"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004Q:off:0000000000"],["id","xref--ch07-git-tools--r_changing_multiple"],["aid","H5AJ6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"修改多个提交信息","n":"a","l":" 一节中，我们也结合 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJ7"]],"x":"-i","n":"code","l":" 选项将其用于交互式的脚本模式。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005I:off:0000000000"],["id","xref--ch07-git-tools--r_rerere"],["aid","H5AJ4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Rerere","n":"a","l":" 一节中，我们研究了在变基时遇到的合并冲突的问题。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0065:off:0000000000"],["id","xref--ch07-git-tools--r_replace"],["aid","H5AJ1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"替换","n":"a","l":" 中我们在一个分离历史记录到两个单独的仓库的示例中实践了此命令，同时使用了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AJ2"]],"x":"--onto","n":"code","l":" 选项。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001P:off:0000000000"],["aid","H5AIV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基","n":"a","l":" 一章中详细提到了此命令，包括与已经公开的分支的变基所涉及的协作问题。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AIR"]],"x":"git rebase","n":"code","l":" 命令基本是是一个自动化的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AIS"]],"x":"cherry-pick","n":"code","l":" 命令。\n它计算出一系列的提交，然后再以它们在其他地方以同样的顺序一个一个的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AIT"]],"x":"cherry-picks","n":"code","l":" 出它们。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_cherry_pick"],["aid","H5AII"]],"x":"git cherry-pick","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AIJ"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AIL"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0035:off:00000003EO"],["id","xref--ch05-distributed-git--r_rebase_cherry_pick"],["aid","H5AIM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基与拣选工作流","n":"a","l":" 一节中描述和演示了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AIN"]],"x":"Cherry picking","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AIK"]],"x":"git cherry-pick","n":"code","l":" 命令用来获得在单个提交中引入的变更，然后尝试将作为一个新的提交引入到你当前分支上。\n从一个分支单独一个或者两个提交而不是合并整个分支的所有变更是非常有用的。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_调试"],["aid","H5AHQ"]],"x":"调试","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AHR"]],"x":"Git 有一些命令可以用来帮你调试你代码中的问题。\n包括找出是什么时候，是谁引入的变更。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git bisect"],["aid","H5AHS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git blame"],["aid","H5AI2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git grep"],["aid","H5AI8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_grep"],["aid","H5AI9"]],"x":"git grep","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AIA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AIC"]],"x":"只有 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004N:off:00000000EU"],["id","xref--ch07-git-tools--r_git_grep"],["aid","H5AID"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git Grep","n":"a","l":" 的章节中与提到此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AIB"]],"x":"git grep","n":"code","l":" 命令可以帮助在源代码中，甚至是你项目的老版本中的任意文件中查找任何字符串或者正则表达式。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_blame"],["aid","H5AI3"]],"x":"git blame","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AI4"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AI6"]],"x":"只有 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005L:off:00000000EM"],["id","xref--ch07-git-tools--r_file_annotation"],["aid","H5AI7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"文件标注","n":"a","l":" 一节有中提到此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AI5"]],"x":"git blame","n":"code","l":" 命令标注任何文件的行，指出文件的每一行的最后的变更的提交及谁是那一个提交的作者。\n当你要找那个人去询问关于这块特殊代码的信息时这会很有用。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_bisect"],["aid","H5AHT"]],"x":"git bisect","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AHU"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AI0"]],"x":"仅在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005M:off:000000002E"],["id","xref--ch07-git-tools--r_binary_search"],["aid","H5AI1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"二分查找","n":"a","l":" 一节中完整的介绍了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AHV"]],"x":"git bisect","n":"code","l":" 工具是一个非常有用的调试工具，它通过自动进行一个二分查找来找到哪一个特定的提交是导致 bug 或者问题的第一个提交。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_检查与比较"],["aid","H5AGT"]],"x":"检查与比较","n":"h2","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git show"],["aid","H5AGU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git shortlog"],["aid","H5AH9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git describe"],["aid","H5AHH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_describe"],["aid","H5AHI"]],"x":"git describe","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AHJ"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AHL"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0037:off:00000004SD"],["id","xref--ch05-distributed-git--r_build_number"],["aid","H5AHM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"生成一个构建号","n":"a","l":" 及 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0038:off:000000002K"],["aid","H5AHN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"准备一次发布","n":"a","l":" 章节中使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AHO"]],"x":"git describe","n":"code","l":" 命令来获得一个字符串来命名我们发布的文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AHK"]],"x":"git describe","n":"code","l":" 命令用来接受任何可以解析成一个提交的东西，然后生成一个人类可读的字符串且不可变。\n这是一种获得一个提交的描述的方式，它跟一个提交的 SHA-1 值一样是无歧义，但是更具可读性。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_shortlog"],["aid","H5AHA"]],"x":"git shortlog","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AHB"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AHF"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0038:off:00000002C3"],["id","xref--ch05-distributed-git--r_the_shortlog"],["aid","H5AHG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"制作提交简报","n":"a","l":" 一节中展示了如何使用此命令来创建一个漂亮的 changelog 文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AHC"]],"x":"git shortlog","n":"code","l":" 是一个用来归纳 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AHD"]],"x":"git log","n":"code","l":" 的输出的命令。\n它可以接受很多与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AHE"]],"x":"git log","n":"code","l":" 相同的选项，但是此命令并不会列出所有的提交，而是展示一个根据作者分组的提交记录的概括性信息"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_show"],["aid","H5AGV"]],"x":"git show","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AH0"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AH2"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AH4"]],"x":"然后，我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AH6"]],"x":"我们使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AH7"]],"x":"git show","n":"code","l":" 做的最有意思的事情是在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0059:off:0000000000"],["id","xref--ch07-git-tools--r_manual_remerge"],["aid","H5AH8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"手动文件再合并","n":"a","l":" 一节中用来在合并冲突的多个暂存区域中提取指定文件的内容。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0049:off:0000000000"],["id","xref--ch07-git-tools--r_revision_selection"],["aid","H5AH5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"选择修订版本","n":"a","l":" 一节中，用了很多次来显示不同的版本选择将解析出来的提交。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0013:off:000000032F"],["id","xref--ch02-git-basics--r_annotated_tags"],["aid","H5AH3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"附注标签","n":"a","l":" 一节中使用此命令来显示带注解标签的信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AH1"]],"x":"git show","n":"code","l":" 命令可以以一种简单的人类可读的方式来显示一个 Git 对象。\n你一般使用此命令来显示一个标签或一个提交的信息。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_submodule"],["aid","H5AGJ"]],"x":"git submodule","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AGK"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AGQ"]],"x":"只在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005N:off:0000000000"],["id","xref--ch07-git-tools--r_git_submodules"],["aid","H5AGR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"子模块","n":"a","l":" 章节中提到和详细介绍了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGL"]],"x":"git submodule","n":"code","l":" 命令用来管理一个仓库的其他外部仓库。\n它可以被用在库或者其他类型的共享资源上。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGM"]],"x":"submodule","n":"code","l":" 命令有几个子命令, 如（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGN"]],"x":"add","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGO"]],"x":"update","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGP"]],"x":"sync","n":"code","l":" 等等）用来管理这些资源。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_archive"],["aid","H5AGC"]],"x":"git archive","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AGD"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AGF"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0038:off:000000002K"],["id","xref--ch05-distributed-git--r_preparing_release"],["aid","H5AGG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"准备一次发布","n":"a","l":" 一节中，使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGH"]],"x":"git archive","n":"code","l":" 命令来创建一个项目的归档文件用于分享。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGE"]],"x":"git archive","n":"code","l":" 命令用来创建项目一个指定快照的归档文件。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_remote"],["aid","H5AG2"]],"x":"git remote","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AG3"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AG7"]],"x":"此命令在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AG9"]],"x":"几乎在此书的后续章节中都有使用此命令，但是一般是以 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AGA"]],"x":"git remote add <name> <url>","n":"code","l":" 这样的标准格式。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0010:off:0000000000"],["id","xref--ch02-git-basics--r_remote_repos"],["aid","H5AG8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"远程仓库的使用","n":"a","l":" 一节中做了详细的介绍，包括列举、添加、移除、重命名功能。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AG4"]],"x":"git remote","n":"code","l":" 命令是一个是你远程仓库记录的管理工具。\n它允许你将一个长的 URL 保存成一个简写的句柄，例如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AG5"]],"x":"origin","n":"code","l":" ，这样你就可以不用每次都输入他们了。\n你可以有多个这样的句柄，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AG6"]],"x":"git remote","n":"code","l":" 可以用来添加，修改，及删除它们。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_push"],["aid","H5AF8"]],"x":"git push","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AF9"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AFB"]],"x":"我们开始在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AFJ"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AFM"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AFP"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AFS"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AFV"]],"x":"最后，在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0097:off:000000010U"],["id","xref--ch10-git-internals--r_pushing_refspecs"],["aid","H5AG0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用规格推送","n":"a","l":" 一节中，我们知道了使用完整的 refspec 来推送，而不是通常使用的简写形式。\n这对我们精确的指定要分享出去的工作很有帮助。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0070:off:000000002N"],["id","xref--ch08-customizing-git--r_other_client_hooks"],["aid","H5AFT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"其它客户端钩子","n":"a","l":" 中我们简单的提到了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFU"]],"x":"pre-push","n":"code","l":" 挂钩（hook），它是一个可以用来设置成在一个推送完成之前运行的脚本，以检查推送是否被允许。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005U:off:000000002N"],["id","xref--ch07-git-tools--r_publishing_submodules"],["aid","H5AFQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"发布子模块改动","n":"a","l":" 一节中，我们使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFR"]],"x":"--recurse-submodules","n":"code","l":" 选项来检查是否我们所有的子模块的工作都已经在推送子项目之前已经推送出去了，当使用子模块时这真的很有帮助。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0014:off:00000002NH"],["id","xref--ch02-git-basics--r_sharing_tags"],["aid","H5AFN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"共享标签","n":"a","l":" 一节中，我们知道了如何使用此命令加 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFO"]],"x":"--tags","n":"code","l":" 选项来分享你打的标签。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002I:off:0000000000"],["aid","H5AFK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"向一个项目贡献","n":"a","l":" 一整节中，我们看到了几个使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFL"]],"x":"git push","n":"code","l":" 在多个远程仓库分享分支中的工作的示例。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0011:off:00000002GS"],["id","xref--ch02-git-basics--r_pushing_remotes"],["aid","H5AFC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"推送到远程仓库","n":"a","l":" 一节中介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFD"]],"x":"git push","n":"code","l":" 命令。\n在这一节中主要介绍了推送一个分支到远程仓库的基本用法。\n在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001M:off:00000000FN"],["id","xref--ch03-git-branching--r_pushing_branches"],["aid","H5AFE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"推送","n":"a","l":" 一节中，我们深入了解了如何推送指定分支，在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001N:off:000000002E"],["aid","H5AFF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"跟踪分支","n":"a","l":" 一节中我们了解了如何设置一个默认的推送的跟踪分支。\n在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001O:off:00000001JL"],["id","xref--ch03-git-branching--r_delete_branches"],["aid","H5AFG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"删除远程分支","n":"a","l":" 一节中我们使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFH"]],"x":"--delete","n":"code","l":" 标志和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFI"]],"x":"git push","n":"code","l":" 命令来在删除一个在服务器上的分支。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AFA"]],"x":"git push","n":"code","l":" 命令用来与另一个仓库通信，计算你本地数据库与远程仓库的差异，然后将差异推送到另一个仓库中。\n它需要有另一个仓库的写权限，因此这通常是需要验证的。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_pull"],["aid","H5AEO"]],"x":"git pull","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AEP"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AET"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AF0"]],"x":"我们也在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AF2"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AF4"]],"x":"最后，我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004M:off:000000002E"],["aid","H5AF5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署提交","n":"a","l":" 一节中我们快速的介绍了你可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AF6"]],"x":"--verify-signatures","n":"code","l":" 选项来验证你正在拉取下来的经过 GPG 签名的提交。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005B:off:000000002E"],["aid","H5AF3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检出冲突","n":"a","l":" 一节中我们展示了使用此命令如何通过一个 URL 来一次性的拉取变更。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001T:off:000000002N"],["id","xref--ch03-git-branching--r_rebase_rebase"],["aid","H5AF1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"用变基解决变基","n":"a","l":" 一节中了解了如何使用此命令来来处理变基的难题。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0011:off:0000000033"],["aid","H5AEU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从远程仓库中抓取与拉取","n":"a","l":" 一节中快速介绍了此命令，然后在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0011:off:000000044J"],["id","xref--ch02-git-basics--r_inspecting_remote"],["aid","H5AEV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看远程仓库","n":"a","l":" 一节中了解了如果你运行此命令的话，什么将会合并。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AEQ"]],"x":"git pull","n":"code","l":" 命令基本上就是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AER"]],"x":"git fetch","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AES"]],"x":"git merge","n":"code","l":" 命令的组合体，Git 从你指定的远程仓库中抓取内容，然后马上尝试将其合并进你所在的分支中。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_fetch"],["aid","H5AE8"]],"x":"git fetch","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AE9"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AEB"]],"x":"我们开始在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AEE"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AEG"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AEJ"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0096:off:0000000000"],["id","xref--ch10-git-internals--r_refspec"],["aid","H5AEK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用规格","n":"a","l":" 章节中我们设置了高度自定义的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AEL"]],"x":"refspec","n":"code","l":" 以便 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AEM"]],"x":"git fetch","n":"code","l":" 可以做一些跟默认不同的事情。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003P:off:0000000000"],["id","xref--ch06-github--r_pr_refs"],["aid","H5AEH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并请求引用","n":"a","l":" 我们用它来抓取一个在默认空间之外指定的引用，在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0063:off:0000000000"],["aid","H5AEI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"打包","n":"a","l":" 中，我们了解了怎么从一个包中获取内容。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002I:off:0000000000"],["id","xref--ch05-distributed-git--r_contributing_project"],["aid","H5AEF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"向一个项目贡献","n":"a","l":" 一节中有几个示例中也都有使用此命令。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0011:off:0000000033"],["id","xref--ch02-git-basics--r_fetching_and_pulling"],["aid","H5AEC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从远程仓库中抓取与拉取","n":"a","l":" 一节中介绍了此命令，然后我们在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001L:off:0000000000"],["aid","H5AED"],["target","_blank"],["rel","noopener noreferrer"]],"x":"远程分支","n":"a","l":" 中看到了几个使用示例。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AEA"]],"x":"git fetch","n":"code","l":" 命令与一个远程的仓库交互，并且将远程仓库中有但是在当前仓库的没有的所有信息拉取下来然后存储在你本地数据库中。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_tag"],["aid","H5ADQ"]],"x":"git tag","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ADR"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ADT"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AE0"]],"x":"我也在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004L:off:0000000000"],["id","xref--ch07-git-tools--r_signing"],["aid","H5AE1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署工作","n":"a","l":" 一节中介绍了如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AE2"]],"x":"-s","n":"code","l":" 标志创建一个 GPG 签名的标签，然后使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AE3"]],"x":"-v","n":"code","l":" 选项来验证。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0013:off:0000000000"],["id","xref--ch02-git-basics--r_git_tagging"],["aid","H5ADU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"打标签","n":"a","l":" 一节中介绍了此命令及相关细节，并在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0037:off:000000002K"],["id","xref--ch05-distributed-git--r_tagging_releases"],["aid","H5ADV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"为发布打标签","n":"a","l":" 一节实践了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ADS"]],"x":"git tag","n":"code","l":" 命令用来为代码历史记录中的某一个点指定一个永久的书签。\n一般来说它用于发布相关事项。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_stash"],["aid","H5ADK"]],"x":"git stash","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ADL"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ADN"]],"n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004G:off:0000000000"],["id","xref--ch07-git-tools--r_git_stashing"],["aid","H5ADO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"储藏与清理","n":"a","l":" 一整个章节基本就是在讲这个命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ADM"]],"x":"git stash","n":"code","l":" 命令用来临时地保存一些还没有提交的工作，以便在分支上不需要提交未完成工作就可以清理工作目录。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_log"],["aid","H5ACE"]],"x":"git log","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ACF"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ACH"]],"x":"在本书的每一章几乎都有用到此命令来描述一个项目的历史。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ACI"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ACN"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ACR"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AD1"]],"x":"在 <_merge_log>> 和 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AD8"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ADC"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ADF"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004M:off:000000002E"],["aid","H5ADG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署提交","n":"a","l":" 一节中，我们了解了如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ADH"]],"x":"--show-signature","n":"code","l":" 来为每一个提交的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ADI"]],"x":"git log","n":"code","l":" 输出中，添加一个判断是否已经合法的签名的一个验证。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004N:off:0000000000"],["id","xref--ch07-git-tools--r_searching"],["aid","H5ADD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"搜索","n":"a","l":" 一节中我们研究了`-S` 及 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ADE"]],"x":"-L","n":"code","l":" 选项来进行来在代码的历史变更中进行相当优雅地搜索，如一个函数的历史。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004A:off:00000002CJ"],["id","xref--ch07-git-tools--r_git_reflog"],["aid","H5AD9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用日志","n":"a","l":" 一节中我们使用此工具和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ADA"]],"x":"-g","n":"code","l":" 选项 而不是遍历分支来查看 Git 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ADB"]],"x":"reflog","n":"code","l":"。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004D:off:0000000028"],["id","xref--ch07-git-tools--r_triple_dot"],["aid","H5AD2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"三点","n":"a","l":" 章节中，我们介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AD3"]],"x":"branchA...branchB","n":"code","l":" 格式和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AD4"]],"x":"--left-right","n":"code","l":" 语法来查看哪些仅其中一个分支。\n在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005C:off:000000002E"],["id","xref--ch07-git-tools--r_merge_log"],["aid","H5AD5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并日志","n":"a","l":" 一节中我们还研究了如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AD6"]],"x":"--merge","n":"code","l":" 选项来帮助合并冲突调试，同样也使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AD7"]],"x":"--cc","n":"code","l":" 选项来查看在你历史记录中的合并提交的冲突。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002K:off:0000000000"],["id","xref--ch05-distributed-git--r_private_team"],["aid","H5ACS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"私有小型团队","n":"a","l":" 和 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004C:off:0000000000"],["id","xref--ch07-git-tools--r_commit_ranges"],["aid","H5ACT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交区间","n":"a","l":" 章节中，我们介绍了在使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACU"]],"x":"git log","n":"code","l":" 命令时用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACV"]],"x":"branchA..branchB","n":"code","l":" 的语法来查看一个分支相对于另一个分支, 哪一些提交是唯一的。\n在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004C:off:0000000000"],["aid","H5AD0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交区间","n":"a","l":" 一节中我们作了更多介绍。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0019:off:000000002E"],["aid","H5ACO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支创建","n":"a","l":" 一节中我们使用它加 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACP"]],"x":"--decorate","n":"code","l":" 选项来简单的可视化我们分支的指针所在，同时我们使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACQ"]],"x":"--graph","n":"code","l":" 选项来查看分叉的历史记录是怎么样的。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000P:off:0000000000"],["id","xref--ch02-git-basics--r_viewing_history"],["aid","H5ACJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看提交历史","n":"a","l":" 一节中我们介绍了此命令，并深入做了研究。\n研究了包括 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACK"]],"x":"-p","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACL"]],"x":"--stat","n":"code","l":" 选项来了解每一个提交引入的变更，及使用`--pretty` 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACM"]],"x":"--online","n":"code","l":" 选项来查看简洁的历史记录。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ACG"]],"x":"git log","n":"code","l":" 命令用来展示一个项目的可达历史记录，从最近的提交快照起。\n默认情况下，它只显示你当前所在分支的历史记录，但是可以显示不同的甚至多个头记录或分支以供遍历。\n此命令通常也用来在提交记录级别显示两个或多个分支之间的差异。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_mergetool"],["aid","H5AC7"]],"x":"git mergetool","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AC8"]],"x":"当你在 Git 的合并中遇到问题时，可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ACA"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001G:off:0000000000"],["aid","H5ACB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"遇到冲突时的分支合并","n":"a","l":" 中快速介绍了一下它，然后在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006J:off:0000000000"],["id","xref--ch08-customizing-git--r_external_merge_tools"],["aid","H5ACC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"外部的合并与比较工具","n":"a","l":" 一节中介绍了如何实现你自己的外部合并工具的细节。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AC9"]],"x":"git mergetool","n":"code","l":" 来启动一个外部的合并帮助工具。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_merge"],["aid","H5ABJ"]],"x":"git merge","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ABK"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ABM"]],"x":"我们首先在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ABR"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ABU"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AC2"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AC4"]],"x":"最后，我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005G:off:0000000000"],["id","xref--ch07-git-tools--r_subtree_merge"],["aid","H5AC5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"子树合并","n":"a","l":" 一节中学习了子树合并。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004M:off:000000002E"],["aid","H5AC3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署提交","n":"a","l":" 一节中我们学习了如何在合并前验证签名，如果你项目正在使用 GPG 签名的话。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0056:off:0000000000"],["aid","H5ABV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"高级合并","n":"a","l":" 一节中，我们介绍了合并的过程及命令，包含 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AC0"]],"x":"-Xignore-space-change","n":"code","l":" 命令及 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AC1"]],"x":"--abort","n":"code","l":" 选项来中止一个有问题的提交。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002P:off:0000000000"],["id","xref--ch05-distributed-git--r_public_project"],["aid","H5ABS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"派生的公开项目","n":"a","l":" 的后面介绍了如何做一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ABT"]],"x":"squashed merge","n":"code","l":" （指 Git 合并时将其当作一个新的提交而不是记录你合并时的分支的历史记录。）"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001D:off:0000000000"],["id","xref--ch03-git-branching--r_basic_branching"],["aid","H5ABN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"新建分支","n":"a","l":" 一节中介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ABO"]],"x":"git merge","n":"code","l":" 命令。\n虽然它在本书的各种地方都有用到，但是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ABP"]],"x":"merge","n":"code","l":" 命令只有几个变种，一般只是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ABQ"]],"x":"git merge <branch>","n":"code","l":" 带上一个你想合并进来的一个分支名称。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ABL"]],"x":"git merge","n":"code","l":" 工具用来合并一个或者多个分支到你已经检出的分支中。\n然后它将当前分支指针移动到合并结果上。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_checkout"],["aid","H5AB1"]],"x":"git checkout","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AB2"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AB4"]],"x":"我们是在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AB7"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ABA"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ABD"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5ABG"]],"x":"最后，我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0092:off:000000002D"],["id","xref--ch10-git-internals--r_the_head"],["aid","H5ABH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"HEAD 引用","n":"a","l":" 一节中介绍了此命令的一些实现细节。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004V:off:0000000000"],["aid","H5ABE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重置揭密","n":"a","l":" 一节中，我们进一步了解了其细节及与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ABF"]],"x":"git reset","n":"code","l":" 的关系。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005B:off:000000002E"],["id","xref--ch07-git-tools--r_checking_out_conflicts"],["aid","H5ABB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检出冲突","n":"a","l":" 一节中，我们用此命令和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5ABC"]],"x":"--conflict=diff3","n":"code","l":" 来重新介绍文件冲突。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001N:off:000000002E"],["aid","H5AB8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"跟踪分支","n":"a","l":" 一节中我们了解了如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AB9"]],"x":"--track","n":"code","l":" 标志来开始跟踪分支。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001A:off:0000000000"],["id","xref--ch03-git-branching--r_switching_branches"],["aid","H5AB5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支切换","n":"a","l":" 一节中第一次认识了命令及 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AB6"]],"x":"git branch","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AB3"]],"x":"git checkout","n":"code","l":" 命令用来切换分支，或者检出内容到工作目录。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_branch"],["aid","H5AAJ"]],"x":"git branch","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AAK"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AAM"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AAR"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AAU"]],"x":"最后，我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0091:off:0000000000"],["id","xref--ch10-git-internals--r_git_refs"],["aid","H5AAV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 引用","n":"a","l":" 一节中讲到了它在背后做一什么。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001N:off:000000002E"],["id","xref--ch03-git-branching--r_tracking_branches"],["aid","H5AAS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"跟踪分支","n":"a","l":" 一节中，我们使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AAT"]],"x":"git branch -u","n":"code","l":" 选项来设置一个跟踪分支。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["id","xref--ch03-git-branching"],["aid","H5AAN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":" 一节主要是为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AAO"]],"x":"branch","n":"code","l":" 命令来设计的，它贯穿了整个章节。\n首先，我们在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0019:off:000000002E"],["id","xref--ch03-git-branching--r_create_new_branch"],["aid","H5AAP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支创建","n":"a","l":" 一节中介绍了它，然后我们在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001I:off:000000002E"],["id","xref--ch03-git-branching--r_branch_management"],["aid","H5AAQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支管理","n":"a","l":" 一节中介绍了它的其它大部分特性（列举及删除）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AAL"]],"x":"git branch","n":"code","l":" 命令实际上是某种程度上的分支管理工具。\n它可以列出你所有的分支、创建新分支、删除分支及重命名分支。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_clean"],["aid","H5AA9"]],"x":"git clean","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AAA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AAC"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004K:off:000000002K"],["id","xref--ch07-git-tools--r_git_clean"],["aid","H5AAD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"清理工作目录","n":"a","l":" 一节中我们介绍了你可能会使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AAE"]],"x":"clean","n":"code","l":" 命令的大量选项及场景。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AAB"]],"x":"git clean","n":"code","l":" 是一个用来从工作区中移除不想要的文件的命令。\n可以是编译的临时文件或者合并冲突的文件。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_mv"],["aid","H5AA3"]],"x":"git mv","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AA4"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5AA6"]],"x":"我们只是在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000O:off:000000002E"],["id","xref--ch02-git-basics--r_git_mv"],["aid","H5AA7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"移动文件","n":"a","l":" 一节中简单地提到了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AA5"]],"x":"git mv","n":"code","l":" 命令是一个便利命令，用于移到一个文件并且在新文件上执行`git add`命令及在老文件上执行`git rm`命令。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_rm"],["aid","H5A9L"]],"x":"git rm","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A9M"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A9P"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A9T"]],"x":"在本书的 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:009H:off:0000000000"],["id","xref--ch10-git-internals--r_removing_objects"],["aid","H5A9U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"移除对象","n":"a","l":" 一节中，介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9V"]],"x":"git rm","n":"code","l":" 仅有的几种不同用法，如在执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AA0"]],"x":"git filter-branch","n":"code","l":" 中使用和解释了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5AA1"]],"x":"--ignore-unmatch","n":"code","l":" 选项。\n这对脚本来说很有用。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000N:off:000000002E"],["id","xref--ch02-git-basics--r_removing_files"],["aid","H5A9Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"移除文件","n":"a","l":" 一节中提到了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9R"]],"x":"git rm","n":"code","l":" 的一些细节，包括递归地移除文件，和使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9S"]],"x":"--cached","n":"code","l":" 选项来只移除暂存区域的文件但是保留工作区的文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9N"]],"x":"git rm","n":"code","l":" 是 Git 用来从工作区，或者暂存区移除文件的命令。\n在为下一次提交暂存一个移除操作上，它与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9O"]],"x":"git add","n":"code","l":" 有一点类似。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_reset"],["aid","H5A93"]],"x":"git reset","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A94"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A99"]],"x":"首先，我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A9D"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A9F"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0057:off:00000005ED"],["id","xref--ch07-git-tools--r_abort_merge"],["aid","H5A9G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"中断一次合并","n":"a","l":" 一节中，我们使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9H"]],"x":"git reset --hard","n":"code","l":" 来取消一个合并，同时我们也使用了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9I"]],"x":"git merge --abort","n":"code","l":" 命令，它是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9J"]],"x":"git reset","n":"code","l":" 的一个简单的封装。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004V:off:0000000000"],["id","xref--ch07-git-tools--r_git_reset"],["aid","H5A9E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重置揭密","n":"a","l":" 一节中我们详细介绍了此命令，几乎整节都在解释此命令。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000U:off:00000002DF"],["id","xref--ch02-git-basics--r_unstaging"],["aid","H5A9A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"取消暂存的文件","n":"a","l":" 一节中介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9B"]],"x":"git reset","n":"code","l":" 简单高效的用法，用来对执行过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A9C"]],"x":"git add","n":"code","l":" 命令的文件取消暂存。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A95"]],"x":"git reset","n":"code","l":" 命令主要用来根据你传递给动作的参数来执行撤销操作。\n它可以移动 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A96"]],"x":"HEAD","n":"code","l":" 指针并且可选的改变 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A97"]],"x":"index","n":"code","l":" 或者暂存区，如果你使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A98"]],"x":"--hard","n":"code","l":" 参数的话你甚至可以改变工作区。\n如果错误地为这个命令附加后面的参数，你可能会丢失你的工作，所以在使用前你要确定你已经完全理解了它。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_commit"],["aid","H5A8D"]],"x":"git commit","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A8E"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A8H"]],"x":"首先，我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A8M"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A8P"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A8S"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A8V"]],"x":"最后，在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008V:off:000000002E"],["id","xref--ch10-git-internals--r_git_commit_objects"],["aid","H5A90"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交对象","n":"a","l":" 一节中，我们了解了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A91"]],"x":"git commit","n":"code","l":" 在背后做了什么，及它是如何实现的。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004M:off:000000002E"],["id","xref--ch07-git-tools--r_signing_commits"],["aid","H5A8T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署提交","n":"a","l":" 一节中我们探讨了如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8U"]],"x":"-S","n":"code","l":" 标志来为提交签名加密。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0018:off:0000000000"],["id","xref--ch03-git-branching--r_git_branches_overview"],["aid","H5A8Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支简介","n":"a","l":"，我们探讨了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8R"]],"x":"git commit","n":"code","l":" 的更多细节，及工作原理。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000U:off:0000000000"],["id","xref--ch02-git-basics--r_undoing"],["aid","H5A8N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"撤消操作","n":"a","l":" 一节中我们介绍了使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8O"]],"x":"--amend","n":"code","l":" 选项来重做最后的提交。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000M:off:000000002E"],["id","xref--ch02-git-basics--r_committing_changes"],["aid","H5A8I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交更新","n":"a","l":" 一节中涉及了此命令的基本用法。\n我们演示了如何在日常的工作流程中通过使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8J"]],"x":"-a","n":"code","l":" 标志来跳过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8K"]],"x":"git add","n":"code","l":" 这一步，及如何使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8L"]],"x":"-m","n":"code","l":" 标志通过命令行而不启动一个编辑器来传递提交信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8F"]],"x":"git commit","n":"code","l":" 命令将所有通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A8G"]],"x":"git add","n":"code","l":" 暂存的文件内容在数据库中创建一个持久的快照，然后将当前分支上的分支指针移到其之上。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_difftool"],["aid","H5A86"]],"x":"git difftool","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A87"]],"x":"当你不想使用内置的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A8A"]],"x":"我们只在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000K:off:0000000000"],["aid","H5A8B"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看已暂存和未暂存的修改","n":"a","l":" 一节中简单的提到了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A88"]],"x":"git diff","n":"code","l":" 命令时。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A89"]],"x":"git difftool","n":"code","l":" 可以用来简单地启动一个外部工具来为你展示两棵树之间的差异。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_diff"],["aid","H5A7D"]],"x":"git diff","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A7E"]],"x":"当需要查看任意两棵树的差异时你可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A7J"]],"x":"首先，我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A7M"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A7P"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A7S"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A82"]],"x":"最后，在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005O:off:000000002N"],["id","xref--ch07-git-tools--r_starting_submodules"],["aid","H5A83"],["target","_blank"],["rel","noopener noreferrer"]],"x":"开始使用子模块","n":"a","l":" 一节中,我们使用此命令合 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A84"]],"x":"--submodule","n":"code","l":" 选项来有效地比较子模块的变化。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0056:off:0000000000"],["id","xref--ch07-git-tools--r_advanced_merging"],["aid","H5A7T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"高级合并","n":"a","l":" 一节中我们使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7U"]],"x":"-b","n":"code","l":" 选项来过滤掉空白字符的差异，及通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7V"]],"x":"--theirs","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A80"]],"x":"--ours","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A81"]],"x":"--base","n":"code","l":" 选项来比较不同暂存区冲突文件的差异。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0033:off:000000002T"],["id","xref--ch05-distributed-git--r_what_is_introduced"],["aid","H5A7Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"确定引入了哪些东西","n":"a","l":" 一节中,了解了使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7R"]],"x":"git diff A...B","n":"code","l":" 语法来更有效地比较不同分支之间的差异。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002J:off:000000002E"],["id","xref--ch05-distributed-git--r_commit_guidelines"],["aid","H5A7N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交准则","n":"a","l":" 一节中,我们在提交前使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7O"]],"x":"--check","n":"code","l":" 选项来检查可能存在的空白字符问题。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000K:off:0000000000"],["id","xref--ch02-git-basics--r_git_diff_staged"],["aid","H5A7K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"查看已暂存和未暂存的修改","n":"a","l":" 一章中研究了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7L"]],"x":"git diff","n":"code","l":" 的基本用法，在此节中我们展示了如何查看哪些变化已经暂存了，哪些没有。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7F"]],"x":"git diff","n":"code","l":" 命令。\n此命令可以查看你工作环境与你的暂存区的差异（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7G"]],"x":"git diff","n":"code","l":" 默认的做法），你暂存区域与你最后提交之间的差异（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7H"]],"x":"git diff --staged","n":"code","l":"），或者比较两个提交记录的差异（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7I"]],"x":"git diff master branchB","n":"code","l":"）。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_status"],["aid","H5A75"]],"x":"git status","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A76"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A78"]],"x":"首先，我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000H:off:00000001PK"],["id","xref--ch02-git-basics--r_checking_status"],["aid","H5A79"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检查当前文件状态","n":"a","l":" 一节中介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7A"]],"x":"status","n":"code","l":" 的基本及简单的形式。\n虽然我们在全书中都有用到它，但是绝大部分的你能用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A7B"]],"x":"git status","n":"code","l":" 做的事情都在这一章讲到了。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A77"]],"x":"git status","n":"code","l":" 命令将为你展示工作区及暂存区域中不同状态的文件。\n这其中包含了已修改但未暂存，或已经暂存但没有提交的文件。\n一般在它显示形式中，会给你展示一些关于如何在这些暂存区域之间移动文件的提示。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_add"],["aid","H5A6L"]],"x":"git add","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6M"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6Q"]],"x":"这个命令对于 Git 来说特别的重要，所以在本书中被无数次的提及和使用。\n我们将快速的过一遍一些可以看到的独特的用法。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6R"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6U"]],"x":"然后，我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A70"]],"x":"接下来，我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A72"]],"x":"最后，在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008T:off:0000000000"],["id","xref--ch10-git-internals--r_tree_objects"],["aid","H5A73"],["target","_blank"],["rel","noopener noreferrer"]],"x":"树对象","n":"a","l":" 一节中我们在一个低层次中模拟了它的用法，以便你可以了解在这背后发生了什么。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004E:off:0000000000"],["id","xref--ch07-git-tools--r_interactive_staging"],["aid","H5A71"],["target","_blank"],["rel","noopener noreferrer"]],"x":"交互式暂存","n":"a","l":" 一章中使用它来交互式的暂存一个已修改文件的特定部分。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001G:off:0000000000"],["id","xref--ch03-git-branching--r_basic_merge_conflicts"],["aid","H5A6V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"遇到冲突时的分支合并","n":"a","l":" 一节中提到了如何使用它来解决合并冲突。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000H:off:00000004RF"],["id","xref--ch02-git-basics--r_tracking_files"],["aid","H5A6S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"跟踪新文件","n":"a","l":" 一节中介绍并详细解释了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A6T"]],"x":"git add","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A6N"]],"x":"git add","n":"code","l":" 命令将内容从工作目录添加到暂存区（或称为索引（index）区），以备下次提交。\n当 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A6O"]],"x":"git commit","n":"code","l":" 命令执行时，默认情况下它只会检查暂存区域，因此 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A6P"]],"x":"git add","n":"code","l":" 是用来确定下一次提交时快照的样子的。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_获取与创建项目"],["aid","H5A5D"]],"x":"获取与创建项目","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A5E"]],"x":"有几种方式获取一个 Git 仓库。\n一种是从网络上或者其他地方拷贝一个现有的仓库，另一种就是在一个目录中创建一个新的仓库。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git init"],["aid","H5A5F"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git clone"],["aid","H5A5R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_clone"],["aid","H5A5S"]],"x":"git clone","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A5T"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A64"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A66"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A68"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6B"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6D"]],"x":"最后，在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A6G"]],"x":"虽然在本书的其他地方都有用到此命令，但是上面这些用法是特例，或者使用方式有点特别。","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005P:off:0000000030"],["id","xref--ch07-git-tools--r_cloning_submodules"],["aid","H5A6E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"克隆含有子模块的项目","n":"a","l":" 一节中我们学习了使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A6F"]],"x":"--recursive","n":"code","l":" 选项来让克隆一个带有子模块的仓库变得简单。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0063:off:0000000000"],["id","xref--ch07-git-tools--r_bundling"],["aid","H5A6C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"打包","n":"a","l":" 一节中我们使用它来解包一个打包好的 Git 仓库。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0023:off:0000000000"],["id","xref--ch04-git-server--r_git_on_the_server"],["aid","H5A69"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在服务器上搭建 Git","n":"a","l":" 一节中，我们使用了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A6A"]],"x":"--bare","n":"code","l":" 选项来创建一个没有任何工作目录的 Git 仓库副本。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000G:off:000000033M"],["id","xref--ch02-git-basics--r_git_cloning"],["aid","H5A67"],["target","_blank"],["rel","noopener noreferrer"]],"x":"克隆现有的仓库","n":"a","l":" 一节中我们通过几个示例详细介绍了此命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A65"]],"x":"git clone","n":"code","l":" 命令在本书中多次用到，这里只列举几个有意思的地方。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A5U"]],"x":"git clone","n":"code","l":" 实际上是一个封装了其他几个命令的命令。\n它创建了一个新目录，切换到新的目录，然后 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A5V"]],"x":"git init","n":"code","l":" 来初始化一个空的 Git 仓库， 然后为你指定的 URL 添加一个（默认名称为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A60"]],"x":"origin","n":"code","l":" 的）远程仓库（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A61"]],"x":"git remote add","n":"code","l":"），再针对远程仓库执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A62"]],"x":"git fetch","n":"code","l":"，最后通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A63"]],"x":"git checkout","n":"code","l":" 将远程仓库的最新提交检出到本地的工作目录。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_init"],["aid","H5A5G"]],"x":"git init","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A5H"]],"x":"你只需要简单地运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A5J"]],"x":"我们一开始在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A5L"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A5N"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A5P"]],"x":"最后，我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:000000020F"],["id","xref--ch10-git-internals--r_plumbing_porcelain"],["aid","H5A5Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"底层命令和高层命令","n":"a","l":" 一节中介绍了此命令背后工作的原理的一些细节。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0023:off:00000002IR"],["id","xref--ch04-git-server--r_bare_repo"],["aid","H5A5O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"把裸仓库放到服务器上","n":"a","l":" 一节中我们使用此命令来为一个服务器创建一个空的祼仓库。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001L:off:0000000000"],["id","xref--ch03-git-branching--r_remote_branches"],["aid","H5A5M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"远程分支","n":"a","l":" 一节中我们简单的讨论了如何改变默认分支。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000G:off:000000002J"],["id","xref--ch02-git-basics--r_getting_a_repo"],["aid","H5A5K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"获取 Git 仓库","n":"a","l":" 一节中介绍了如何创建一个新的仓库来开始工作。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A5I"]],"x":"git init","n":"code","l":" 就可以将一个目录转变成一个 Git 仓库，这样你就可以开始对它进行版本管理了。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_设置与配置"],["aid","H5A4B"]],"x":"设置与配置","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4C"]],"x":"有两个命令使用得最多了，从第一次调用 Git 到每天的日常微调及参考，这个两个命令就是： ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git config"],["aid","H5A4F"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","git help"],["aid","H5A52"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_help"],["aid","H5A53"]],"x":"git help","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A54"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A57"]],"x":"我们在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000E:off:000000002E"],["id","xref--ch01-introduction--r_git_help"],["aid","H5A58"],["target","_blank"],["rel","noopener noreferrer"]],"x":"获取帮助","n":"a","l":" 一节中介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A59"]],"x":"git help","n":"code","l":" 命令，同时在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0026:off:0000000000"],["id","xref--ch04-git-server--r_setting_up_server"],["aid","H5A5A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"配置服务器","n":"a","l":" 一节中给你展示了如何使用它来查找更多关于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A5B"]],"x":"git shell","n":"code","l":" 的信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A55"]],"x":"git help","n":"code","l":" 命令用来显示任何命令的 Git 自带文档。\n但是我们仅会在此附录中提到大部分最常用的命令，对于每一个命令的完整的可选项及标志列表，你可以随时运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A56"]],"x":"git help <command>","n":"code","l":" 命令来了解。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_config"],["aid","H5A4G"]],"x":"git config","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4H"]],"x":"Git 做的很多工作都有一个默认方式。\n对于绝大多数工作而言，你可以改变 Git 的默认方式，或者根据你的偏好来设置。\n这些设置涵盖了所有的事，从告诉 Git 你的名字，到指定偏好的终端颜色，以及你使用的编辑器。\n此命令会从几个特定的配置文件中读取和写入配置值，以便你可以从全局或者针对特定的仓库来进行设置。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4I"]],"x":"本书的所有章节几乎都有用到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4K"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4M"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4O"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4S"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A4U"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","H5A50"]],"x":"最后，基本上 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006F:off:0000000000"],["id","xref--ch08-customizing-git--r_git_config"],["aid","H5A51"],["target","_blank"],["rel","noopener noreferrer"]],"x":"配置 Git","n":"a","l":" 整个章节都是针对此命令的。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006R:off:0000000000"],["id","xref--ch08-customizing-git--r_keyword_expansion"],["aid","H5A4V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"关键字展开","n":"a","l":" 一节中我们展示了如何设置在 Git 的内容添加和减少时使用的 smudge 过滤器 和 clean 过滤器。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0068:off:0000000000"],["id","xref--ch07-git-tools--r_credential_caching"],["aid","H5A4T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"凭证存储","n":"a","l":" 一节中，我们使用它来为你的 HTTP 密码设置一个默认的存储区域。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001P:off:0000000000"],["id","xref--ch03-git-branching--r_rebasing"],["aid","H5A4P"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基","n":"a","l":" 一节中，执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A4Q"]],"x":"git pull","n":"code","l":" 命令时，使用此命令来将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A4R"]],"x":"--rebase","n":"code","l":" 作为默认选项。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0016:off:000000002C"],["id","xref--ch02-git-basics--r_git_aliases"],["aid","H5A4N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 别名","n":"a","l":" 一节中我们展示了如何创建可以展开为长选项序列的短命令，以便你不用每次都输入它们。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000D:off:000000002V"],["id","xref--ch01-introduction--r_first_time"],["aid","H5A4L"],["target","_blank"],["rel","noopener noreferrer"]],"x":"初次运行 Git 前的配置","n":"a","l":" 一节中，在开始使用 Git 之前，我们用它来指定我们的名字，邮箱地址和编辑器偏好。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A4J"]],"x":"git config","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A4D"]],"x":"config","n":"code","l":" 和  "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","H5A4E"]],"x":"help","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","H5A43"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","H5A44"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","H5A45"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","H5A46"]],"x":"Git","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","H5A47"]],"x":"命令","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","快照基础"],["aid","H5A6H"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支与合并"],["aid","H5AAF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","项目分享与更新"],["aid","H5AE4"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_拓展阅读"],["aid","G6PTK"]],"x":"拓展阅读","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PTL"]],"x":"这只是 JGit 的全部能力的冰山一角。\n如果你对这有兴趣并且想深入学习，在下面可以找到一些信息和灵感。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","G6PTM"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","G6PTN"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","G6PTO"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","G6PTR"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","G6PTU"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","G6PTV"]],"n":"span","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://stackoverflow.com/questions/6861881"],["aid","G6PU0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://stackoverflow.com/questions/6861881","n":"a","l":" 指出了几个好的资源。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","G6PTS"]],"x":"JGit Cookbook ： ","n":"span","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/centic9/jgit-cookbook"],["aid","G6PTT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/centic9/jgit-cookbook","n":"a","l":" 拥有许多如何利用 JGit 实现特定任务的例子。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","G6PTP"]],"x":"JGit API 在线官方文档： ","n":"span","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://download.eclipse.org/jgit/docs/latest/apidocs"],["aid","G6PTQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://download.eclipse.org/jgit/docs/latest/apidocs","n":"a","l":" 。\n这是基本的 Javadoc ，所以你也可以在你最喜欢的 JVM IDE 上将它们安装它们到本地。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_高层命令"],["aid","G6PSE"]],"x":"高层命令","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PSF"]],"x":"底层 API 更加完善，但是有时将它们串起来以实现普通的目的非常困难，例如将一个文件添加到索引，或者创建一个新的提交。\n为了解决这个问题， JGit 提供了一系列高层 API ，使用这些 API 的入口点就是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PSH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PSN"]],"x":"Git 类有一系列非常好的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PSQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PT6"]],"x":"这是一个 Git 类的公共样式，这个方法返回一个可以让你串连若干方法调用来设置参数的命令对象，当你调用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PTA"]],"x":"在 Git 类中还可以使用许多其它的命令，包括但不限于 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTB"]],"x":"add","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTC"]],"x":"blame","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTD"]],"x":"commit","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTE"]],"x":"clean","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTF"]],"x":"push","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTG"]],"x":"rebase","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTH"]],"x":"revert","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PTI"]],"x":"reset","n":"code","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PT7"]],"x":".call()","n":"code","l":" 时它们就会被执行。\n在这情况下，我们只是请求了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PT8"]],"x":"origin","n":"code","l":" 远程的标签，而不是头部。\n还要注意用于验证的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PT9"]],"x":"CredentialsProvider","n":"code","l":" 对象的使用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PSR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PSS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PST"]],"n":"span","l":"CredentialsProvider cp = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PSU"]],"x":"new","n":"span","l":" UsernamePasswordCredentialsProvider("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PSV"]],"x":"\"username\"","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PT0"]],"x":"\"p4ssw0rd\"","n":"span","l":");\nCollection<Ref> remoteRefs = git.lsRemote()\n    .setCredentialsProvider(cp)\n    .setRemote("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PT1"]],"x":"\"origin\"","n":"span","l":")\n    .setTags("},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PT2"]],"x":"true","n":"span","l":")\n    .setHeads("},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PT3"]],"x":"false","n":"span","l":")\n    .call();\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PT4"]],"x":"for","n":"span","l":" (Ref ref : remoteRefs) {\n    System.out.println(ref.getName() + "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PT5"]],"x":"\" -> \"","n":"span","l":" + ref.getObjectId().name());\n}"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","G6PSO"]],"x":"构建器","n":"em","l":" 风格的高层方法，它可以用来构造一些复杂的行为。\n我们来看一个例子——做一件类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PSP"]],"x":"git ls-remote","n":"code","l":" 的事。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PSI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PSJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PSK"]],"n":"span","l":"Repository repo;\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PSL"]],"x":"// 构建仓库。。。","n":"span","l":"\nGit git = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PSM"]],"x":"new","n":"span","l":" Git(repo);"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PSG"]],"x":"Git","n":"code","l":" 类："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PS9"]],"x":"IOException","n":"code","l":" ），但是它也提供了大量 JGit 自己定义的异常类型（例如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PSA"]],"x":"NoRemoteRepositoryException","n":"code","l":"、 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PSB"]],"x":"CorruptObjectException","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PSC"]],"x":"NoMergeBaseException","n":"code","l":"）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PS7"]],"x":"user.name","n":"code","l":" 的值。\n这个 Config 实例使用我们先前打开的仓库做本地配置，但是它也会自动地检测并读取全局和系统的配置文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PS2"]],"x":".update()","n":"code","l":" 来确认这个更改。\n删除相同分支的代码就在这行下面。\n记住必须先 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PS3"]],"x":".setForceUpdate(true)","n":"code","l":" 才能让它工作，否则调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PS4"]],"x":".delete()","n":"code","l":" 只会返回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PS5"]],"x":"REJECTED","n":"code","l":" ，然后什么都没有发生。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRT"]],"x":"ObjectLoader.copyTo()","n":"code","l":" 直接向标准输出流输出对象的内容，除此之外 ObjectLoader 还带有读取对象的类型和长度并将它以字节数组返回的方法。\n对于一个（ "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRU"]],"x":".isLarge()","n":"code","l":" 返回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRV"]],"x":"true","n":"code","l":" 的）大的对象，你可以调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PS0"]],"x":".openStream()","n":"code","l":" 来获得一个类似 InputStream 的对象，它可以在没有一次性将所有数据拉到内存的前提下读取对象的原始数据。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRP"]],"x":"master","n":"code","l":" 引用的目标，它返回一个 ObjectId 实例。\n不管是否存在于一个 Git 对象的数据库，ObjectId 都会代表一个对象的 SHA-1 哈希。\n第三行与此相似，但是它展示了 JGit 如何处理 rev-parse 语法（要了解更多，请看 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004A:off:000000002E"],["aid","G6PRQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支引用","n":"a","l":" ），你可以传入任何 Git 了解的对象说明符，然后 JGit 会返回该对象的一个有效的 ObjectId ，或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRR"]],"x":"null","n":"code","l":" 。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRI"]],"x":"master","n":"code","l":" 引用的指针。\nJGit 自动抓取位于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRJ"]],"x":"refs/heads/master","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","G6PRK"]],"x":"真正的","n":"em","l":" master 引用，并返回一个允许你获取该引用的信息的对象。\n你可以获取它的名字 （"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRL"]],"x":".getName()","n":"code","l":"） ，或者一个直接引用的目标对象 （"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRM"]],"x":".getObjectId()","n":"code","l":"） ，或者一个指向该引用的符号指针 （"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PRN"]],"x":".getTarget()","n":"code","l":"） 。\n引用对象也经常被用来表示标签的引用和对象，所以你可以询问某个标签是否被 “削除” 了，或者说它指向一个标签对象的（也许很长的）字符串的最终目标。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PQU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PQV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PR0"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR1"]],"x":"// 获取引用","n":"span","l":"\nRef master = repo.getRef("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR2"]],"x":"\"master\"","n":"span","l":");\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR3"]],"x":"// 获取该引用所指向的对象","n":"span","l":"\nObjectId masterTip = master.getObjectId();\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR4"]],"x":"// Rev-parse","n":"span","l":"\nObjectId obj = repo.resolve("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR5"]],"x":"\"HEAD^{tree}\"","n":"span","l":");\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR6"]],"x":"// 装载对象原始内容","n":"span","l":"\nObjectLoader loader = repo.open(masterTip);\nloader.copyTo(System.out);\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR7"]],"x":"// 创建分支","n":"span","l":"\nRefUpdate createBranch1 = repo.updateRef("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR8"]],"x":"\"refs/heads/branch1\"","n":"span","l":");\ncreateBranch1.setNewObjectId(masterTip);\ncreateBranch1.update();\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PR9"]],"x":"// 删除分支","n":"span","l":"\nRefUpdate deleteBranch1 = repo.updateRef("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PRA"]],"x":"\"refs/heads/branch1\"","n":"span","l":");\ndeleteBranch1.setForceUpdate("},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PRB"]],"x":"true","n":"span","l":");\ndeleteBranch1.delete();\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PRC"]],"x":"// 配置","n":"span","l":"\nConfig cfg = repo.getConfig();\nString name = cfg.getString("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PRD"]],"x":"\"user\"","n":"span","l":", "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PRE"]],"x":"null","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PRF"]],"x":"\"name\"","n":"span","l":");"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PQS"]],"x":"Repository","n":"code","l":" 实例后，你就能对它做各种各样的事。\n下面是一个速览："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PQO"]],"x":".readEnvironment()","n":"code","l":"） ，从工作目录的某处开始并搜索 （"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PQP"]],"x":".setWorkTree(…).findGitDir()","n":"code","l":"） , 或者仅仅只是像上面那样打开一个已知的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PQQ"]],"x":".git","n":"code","l":" 目录。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PQD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PQE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PQF"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PQG"]],"x":"// 创建一个新仓库","n":"span","l":"\nRepository newlyCreatedRepo = FileRepositoryBuilder.create(\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PQH"]],"x":"new","n":"span","l":" File("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PQI"]],"x":"\"/tmp/new_repo/.git\"","n":"span","l":"));\nnewlyCreatedRepo.create();\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PQJ"]],"x":"// 打开一个存在的仓库","n":"span","l":"\nRepository existingRepo = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PQK"]],"x":"new","n":"span","l":" FileRepositoryBuilder()\n    .setGitDir("},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PQL"]],"x":"new","n":"span","l":" File("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PQM"]],"x":"\"my_repo/.git\"","n":"span","l":"))\n    .build();"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PQA"]],"x":"Repository","n":"code","l":" 类作为起点，你首先要做的事就是创建一个它的实例。\n对于一个基于文件系统的仓库来说（嗯， JGit 允许其它的存储模型），用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PQB"]],"x":"FileRepositoryBuilder","n":"code","l":" 完成它。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_起步"],["aid","G6PPE"]],"x":"起步","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PPF"]],"x":"有很多种方式可以让 JGit 连接你的项目，并依靠它去写代码。\n最简单的方式也许就是使用 Maven 。你可以通过在你的 pom.xml 文件里的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PPH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PPT"]],"x":"在你读到这段文字时 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PQ0"]],"x":"如果你想自己管理二进制的依赖包，那么你可以从 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PQ2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PQ3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PQ4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PQ5"]],"n":"span","l":"javac -cp .:org.eclipse.jgit-3.5.0.201409260305-r.jar App.java\njava -cp .:org.eclipse.jgit-3.5.0.201409260305-r.jar App"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.eclipse.org/jgit/download"],["aid","G6PQ1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.eclipse.org/jgit/download","n":"a","l":" 获得预构建的 JGit 二进制文件。\n你可以像下面这样执行一个命令来将它们构建进你的项目。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PPU"]],"x":"version","n":"code","l":" 很可能已经更新了，所以请浏览 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://mvnrepository.com/artifact/org.eclipse.jgit/org.eclipse.jgit"],["aid","G6PPV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://mvnrepository.com/artifact/org.eclipse.jgit/org.eclipse.jgit","n":"a","l":" 以获取最新的仓库信息。\n当这一步完成之后， Maven 就会自动获取并使用你所需要的 JGit 库。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PPI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PPJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PPK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPL"]],"x":"<dependency>","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPM"]],"x":"<groupId>","n":"span","l":"org.eclipse.jgit"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPN"]],"x":"</groupId>","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPO"]],"x":"<artifactId>","n":"span","l":"org.eclipse.jgit"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPP"]],"x":"</artifactId>","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPQ"]],"x":"<version>","n":"span","l":"3.5.0.201409260305-r"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPR"]],"x":"</version>","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PPS"]],"x":"</dependency>","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PPG"]],"x":"<dependencies>","n":"code","l":" 标签中增加像下面这样的片段来完成这个整合。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.eclipse.org/jgit"],["aid","G6PPC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.eclipse.org/jgit","n":"a","l":" 。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_扩展阅读"],["aid","G6PP5"]],"x":"扩展阅读","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PP6"]],"x":"当然，完全阐述 Libgit2 的能力已超出本书范围。\n如果你想了解更多关于 Libgit2 的信息，可以浏览它的 API 文档： ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://libgit2.github.com/libgit2"],["aid","G6PP7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://libgit2.github.com/libgit2","n":"a","l":", 以及一系列的指南： "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://libgit2.github.com/docs"],["aid","G6PP8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://libgit2.github.com/docs","n":"a","l":".\n对于其它的绑定，检查附带的 README 和测试文件，那里通常有简易教程，以及指向拓展阅读的链接。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_libgit2_bindings"],["aid","G6PNV"]],"x":"其它绑定","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PO0"]],"x":"Libgit2 有很多种语言的绑定。\n在这篇文章中，我们展现了一个使用了几个更加完整的绑定包的小例子，这些库存在于许多种语言中，包括 C++、Go、Node.js、Erlang 以及 JVM ，它们的成熟度各不相同。\n官方的绑定集合可以通过浏览这个版本库得到：https://github.com/libgit2[] 。\n我们写的代码将返回当前 HEAD 指向的提交的提交信息(就像 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","LibGit2Sharp"],["aid","G6PO2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","objective-git"],["aid","G6POD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","pygit2"],["aid","G6PON"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_pygit2"],["aid","G6POO"]],"x":"pygit2","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6POP"]],"x":"\nPython 的 Libgit2 绑定叫做 Pygit2 ，你可以在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6POR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6POS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6POT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6POU"]],"n":"span","l":"pygit2.Repository("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6POV"]],"x":"\"/path/to/repo\"","n":"span","l":") "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PP0"]],"x":"# 打开版本库","n":"span","l":"\n    .head                          "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PP1"]],"x":"# get the current branch","n":"span","l":"\n    .peel(pygit2.Commit)           "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PP2"]],"x":"# walk down to the commit","n":"span","l":"\n    .message                       "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PP3"]],"x":"# read the message","n":"span"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.pygit2.org/"],["aid","G6POQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.pygit2.org/","n":"a","l":" 找到它。\n我们的示例程序："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_objective_git"],["aid","G6POE"]],"x":"objective-git","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6POF"]],"x":"\n如果你的应用运行在一个 Apple 平台上，你很有可能使用 Objective-C 作为实现语言。\nObjective-Git (","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6POH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6POM"]],"x":"Objective-git 与 Swift 完美兼容，所以你把 Objective-C 落在一边的时候不用恐惧。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6POI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6POJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6POK"]],"n":"span","l":"GTRepository *repo =\n    [[GTRepository alloc] initWithURL:[NSURL fileURLWithPath: "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6POL"]],"x":"@\"/path/to/repo\"","n":"span","l":"] error:NULL];\nNSString *msg = [[[repo headReferenceWithError:NULL] resolvedTarget] message];"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/libgit2/objective-git"],["aid","G6POG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/libgit2/objective-git","n":"a","l":") 是这个环境下的 Libgit2 绑定。\n一个例子看起来类似这样："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_libgit2sharp"],["aid","G6PO3"]],"x":"LibGit2Sharp","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PO4"]],"x":"\n如果你在编写一个 .NET 或者 Mono 应用，那么 LibGit2Sharp (","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PO6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6POC"]],"x":"对于 Windows 桌面应用，一个叫做 NuGet 的包会让你快速上手。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PO7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PO8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PO9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6POA"]],"x":"new","n":"span","l":" Repository("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6POB"]],"x":"@\"C:\\path\\to\\repo\"","n":"span","l":").Head.Tip.Message;"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/libgit2/libgit2sharp"],["aid","G6PO5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/libgit2/libgit2sharp","n":"a","l":") 就是你所需要的。\n这个绑定是用 C# 写成的，并且已经采取许多措施来用令人感到自然的 CLR API 包装原始的 Libgit2 的调用。\n我们的例子看起来就像这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PO1"]],"x":"git log -1","n":"code","l":" 那样)。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_高级功能"],["aid","G6PMC"]],"x":"高级功能","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PMD"]],"x":"Libgit2 有几个超过核心 Git 的能力。\n例如它的可定制性：Libgit2 允许你为一些不同类型的操作自定义的`‘后端’'，让你得以使用与原生 Git 不同的方式存储东西。\nLibgit2 允许为自定义后端指定配置、引用的存储以及对象数据库，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PME"]],"x":"我们来看一下它究竟是怎么工作的。\n下面的例子借用自 Libgit2 团队提供的后端样本集 （可以在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PMG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PMR"]],"n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","G6PMT"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PN7"]],"x":"但是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","G6PNA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PNO"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PNR"]],"x":"这个初始化函数为该结构分配内存，设置自定义的上下文，然后填写它支持的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PNS"]],"x":"parent","n":"code","l":" 结构的成员。\n阅读 Libgit2 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PNT"]],"x":"include/git2/sys/odb_backend.h","n":"code","l":" 源码以了解全部调用签名，你特定的使用环境会帮你决定使用哪一种调用签名。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PNP"]],"x":"my_backend_struct","n":"code","l":" 的第一个成员必须是一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PNQ"]],"x":"git_odb_backend","n":"code","l":" 结构，这是一个微妙的限制：这样就能确保内存布局是 Libgit2 的代码所期望的样子。\n其余都是随意的，这个结构的大小可以随心所欲。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PNB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PNC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PND"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PNE"]],"x":"typedef","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PNF"]],"x":"struct","n":"span","l":" {\n    git_odb_backend parent;\n\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PNG"]],"x":"// 其它的一些东西","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PNH"]],"x":"void","n":"span","l":" *custom_context;\n} my_backend_struct;\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PNI"]],"x":"int","n":"span","l":" git_odb_backend_mine(git_odb_backend **backend_out, "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PNJ"]],"x":"/*…*/","n":"span","l":")\n{\n    my_backend_struct *backend;\n\n    backend = calloc(1, "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PNK"]],"x":"sizeof","n":"span","l":" (my_backend_struct));\n\n    backend->custom_context = "},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","G6PNL"]],"x":"…","n":"span","l":";\n\n    backend->parent.read = &my_backend__read;\n    backend->parent.read_prefix = &my_backend__read_prefix;\n    backend->parent.read_header = &my_backend__read_header;\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PNM"]],"x":"// ……","n":"span","l":"\n\n    *backend_out = (git_odb_backend *) backend;\n\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PNN"]],"x":"return","n":"span","l":" GIT_SUCCESS;\n}"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PN8"]],"x":"git_odb_backend_mine","n":"code","l":" 是个什么东西呢？\n嗯，那是一个你自己的 ODB 实现的构造器，并且你能在那里做任何你想做的事，前提是你能正确地填写 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PN9"]],"x":"git_odb_backend","n":"code","l":" 结构。\n它看起来_应该_是这样的："},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","G6PMU"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PMV"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PN1"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PN3"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PN5"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","4"],["aid","G6PN6"]],"x":"④","n":"i","l":" 打开一个版本库，并让它使用我们的 ODB 来寻找对象。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","G6PN4"]],"x":"③","n":"i","l":" 为这个前端增加一个后端。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","G6PN2"]],"x":"②","n":"i","l":" 初始化一个自定义 ODB 后端。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","G6PN0"]],"x":"①","n":"i","l":" 初始化一个空的对象数据库（ ODB ） “前端”，它将被作为一个用来做真正的工作的 “后端” 的容器。"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","G6PMS"]],"x":"(注意：这个错误被捕获了，但是没有被处理。我们希望你的代码比我们的更好。)","n":"em"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PMH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PMI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PMJ"]],"n":"span","l":"git_odb *odb;\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PMK"]],"x":"int","n":"span","l":" error = git_odb_new(&odb); "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","G6PML"]],"x":"①","n":"i","l":"\n\ngit_odb_backend *my_backend;\nerror = git_odb_backend_mine(&my_backend, "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PMM"]],"x":"/*…*/","n":"span","l":"); "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","G6PMN"]],"x":"②","n":"i","l":"\n\nerror = git_odb_add_backend(odb, my_backend, 1); "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","G6PMO"]],"x":"③","n":"i","l":"\n\ngit_repository *repo;\nerror = git_repository_open(&repo, "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PMP"]],"x":"\"some-path\"","n":"span","l":");\nerror = git_repository_set_odb(odb); "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","4"],["aid","G6PMQ"]],"x":"④","n":"i"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/libgit2/libgit2-backends"],["aid","G6PMF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/libgit2/libgit2-backends","n":"a","l":" 上找到）。\n一个对象数据库的自定义后端是这样建立的："},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:00A5:off:000000002E"],["id","xref-r_libgit2_bindings"],["aid","G6PMA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"其它绑定","n":"a","l":" 有提到其它的一些绑定。"},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","G6PLM"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PLN"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PLP"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PLS"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PLU"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PM0"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PM2"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PM4"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","G6PM6"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","8"],["aid","G6PM7"]],"x":"⑧","n":"i","l":" 返回值是一个新提交对象的 SHA-1 哈希，你可以用它来获得一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PM8"]],"x":"Commit","n":"code","l":" 对象。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","7"],["aid","G6PM5"]],"x":"⑦","n":"i","l":" 在做一个提交的过程中， Rugged （和 Libgit2 ）能在需要时更新引用。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","6"],["aid","G6PM3"]],"x":"⑥","n":"i","l":" 当创建一个提交时，你必须指定这个新提交的父提交。\n这里使用了 HEAD 的末尾作为单一的父提交。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","5"],["aid","G6PM1"]],"x":"⑤","n":"i","l":" 提交的信息。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","4"],["aid","G6PLV"]],"x":"④","n":"i","l":" 我们在 author 栏和 committer 栏使用相同的签名。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","G6PLT"]],"x":"③","n":"i","l":" 这就在 ODB 中创建了一个新的树，并在一个新的提交中使用它。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","G6PLQ"]],"x":"②","n":"i","l":" 将 HEAD 提交树填入索引，并在路径 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PLR"]],"x":"newfile.txt","n":"code","l":" 增加新文件。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","G6PLO"]],"x":"①","n":"i","l":" 创建一个新的 blob ，它包含了一个新文件的内容。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PKO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PKP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PKQ"]],"n":"span","l":"blob_id = repo.write("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKR"]],"x":"\"Blob contents\"","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKS"]],"x":":blob","n":"span","l":") "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","G6PKT"]],"x":"①","n":"i","l":"\n\nindex = repo.index\nindex.read_tree(repo.head.target.tree)\nindex.add("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKU"]],"x":":path","n":"span","l":" => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKV"]],"x":"'newfile.txt'","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL0"]],"x":":oid","n":"span","l":" => blob_id) "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","G6PL1"]],"x":"②","n":"i","l":"\n\nsig = {\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL2"]],"x":":email","n":"span","l":" => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL3"]],"x":"\"bob@example.com\"","n":"span","l":",\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL4"]],"x":":name","n":"span","l":" => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL5"]],"x":"\"Bob User\"","n":"span","l":",\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL6"]],"x":":time","n":"span","l":" => Time.now,\n}\n\ncommit_id = Rugged::Commit.create(repo,\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL7"]],"x":":tree","n":"span","l":" => index.write_tree(repo), "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","G6PL8"]],"x":"③","n":"i","l":"\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PL9"]],"x":":author","n":"span","l":" => sig,\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PLA"]],"x":":committer","n":"span","l":" => sig, "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","4"],["aid","G6PLB"]],"x":"④","n":"i","l":"\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PLC"]],"x":":message","n":"span","l":" => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PLD"]],"x":"\"Add newfile.txt\"","n":"span","l":", "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","5"],["aid","G6PLE"]],"x":"⑤","n":"i","l":"\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PLF"]],"x":":parents","n":"span","l":" => repo.empty? ? [] : [ repo.head.target ].compact, "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","6"],["aid","G6PLG"]],"x":"⑥","n":"i","l":"\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PLH"]],"x":":update_ref","n":"span","l":" => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PLI"]],"x":"'HEAD'","n":"span","l":", "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","7"],["aid","G6PLJ"]],"x":"⑦","n":"i","l":"\n)\ncommit = repo.lookup(commit_id) "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","8"],["aid","G6PLK"]],"x":"⑧","n":"i"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PKL"]],"x":"ConfigError","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PKM"]],"x":"ObjectError","n":"code","l":" 之类的东西来告知错误的情况。\n其次，不需要明确资源释放，因为 Ruby 是支持垃圾回收的。\n我们来看一个稍微复杂一点的例子：从头开始制作一个提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PK7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PK8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PK9"]],"n":"span","l":"repo = Rugged::Repository.new("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKA"]],"x":"'path/to/repository'","n":"span","l":")\ncommit = repo.head.target\nputs commit.message\nputs "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKB"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","G6PKC"]],"x":"#{","n":"span","l":"commit.author["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKD"]],"x":":name","n":"span","l":"]"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","G6PKE"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKF"]],"x":" <","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","G6PKG"]],"x":"#{","n":"span","l":"commit.author["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKH"]],"x":":email","n":"span","l":"]"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","G6PKI"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PKJ"]],"x":">\"","n":"span","l":"\ntree = commit.tree"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/libgit2/rugged"],["aid","G6PK5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/libgit2/rugged","n":"a","l":" 找到它。"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","G6PJP"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","G6PJQ"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","G6PJT"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","G6PJV"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","G6PK2"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","G6PK3"]],"x":"用 C 来写有点蛋疼。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","G6PK0"]],"x":"如果 Libgit2 在一个调用中返回一个 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PK1"]],"x":"const","n":"code","l":" 指针，你不需要释放它，但是当它所指向的对象被释放时它将不可用。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","G6PJU"]],"x":"如果 Libgit2 为你填入一个指针，那么你有责任释放它。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","G6PJR"]],"x":"如果你声明了一个指针，并在一个 Libgit2 调用中传递一个引用，那么这个调用可能返回一个 int 类型的错误码。\n值 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJS"]],"x":"0","n":"code","l":" 表示成功，比它小的则是一个错误。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJM"]],"x":"git_oid","n":"code","l":" 类型，这是 Libgit2 用来表示一个 SHA-1 哈希的方法。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004A:off:000000002E"],["id","xref--ch07-git-tools--r_branch_references"],["aid","G6PJE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支引用","n":"a","l":" ）来得到 HEAD 真正指向的提交。\n返回类型是一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJF"]],"x":"git_object","n":"code","l":" 指针，它指代位于版本库里的 Git 对象数据库中的某个东西。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJG"]],"x":"git_object","n":"code","l":" 实际上是几种不同的对象的 “父” 类型，每个 “子” 类型的内存布局和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJH"]],"x":"git_object","n":"code","l":" 是一样的，所以你能安全地把它们转换为正确的类型。\n在上面的例子中， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJI"]],"x":"git_object_type(commit)","n":"code","l":" 会返回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJJ"]],"x":"GIT_OBJ_COMMIT","n":"code","l":" ，所以转换成 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJK"]],"x":"git_commit","n":"code","l":" 指针是安全的。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJ8"]],"x":"git_repository","n":"code","l":" 类型代表了一个在内存中带有缓存的指向一个版本库的句柄。\n这是最简单的方法，只是你必须知道一个版本库的工作目录或者一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJ9"]],"x":".git","n":"code","l":" 文件夹的精确路径。\n另外还有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJA"]],"x":"git_repository_open_ext","n":"code","l":" ，它包括了带选项的搜索， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJB"]],"x":"git_clone","n":"code","l":" 及其同类可以用来做远程版本库的本地克隆， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","G6PJC"]],"x":"git_repository_init","n":"code","l":" 则可以创建一个全新的版本库。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","G6PIN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","G6PIO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","G6PIP"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PIQ"]],"x":"// 打开一个版本库","n":"span","l":"\ngit_repository *repo;\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PIR"]],"x":"int","n":"span","l":" error = git_repository_open(&repo, "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PIS"]],"x":"\"/path/to/repository\"","n":"span","l":");\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PIT"]],"x":"// 逆向引用 HEAD 到一个提交","n":"span","l":"\ngit_object *head_commit;\nerror = git_revparse_single(&head_commit, repo, "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PIU"]],"x":"\"HEAD^{commit}\"","n":"span","l":");\ngit_commit *commit = (git_commit*)head_commit;\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PIV"]],"x":"// 显示这个提交的一些详情","n":"span","l":"\nprintf("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PJ0"]],"x":"\"%s\"","n":"span","l":", git_commit_message(commit));\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PJ1"]],"x":"const","n":"span","l":" git_signature *author = git_commit_author(commit);\nprintf("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PJ2"]],"x":"\"%s <%s>","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","G6PJ3"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PJ4"]],"x":"\"","n":"span","l":", author->name, author->email);\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","G6PJ5"]],"x":"const","n":"span","l":" git_oid *tree_id = git_commit_tree_id(commit);\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","G6PJ6"]],"x":"// 清理现场","n":"span","l":"\ngit_commit_free(commit);\ngit_repository_free(repo);"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://libgit2.github.com"],["aid","G6PIK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://libgit2.github.com","n":"a","l":" 找到它。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_命令行_git_方式"],["aid","G6PIC"]],"x":"命令行 Git 方式","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PID"]],"x":"一种方式就是启动一个 shell 进程并在里面使用 Git 的命令行工具来完成任务。\n这种方式看起来很循规蹈矩，但是它的优点也因此而来，就是支持所有的 Git 的特性。\n它也碰巧相当简单，因为几乎所有运行时环境都有一个相对简单的方式来调用一个带有命令行参数的进程。\n然而，这种方式也有一些固有的缺点。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PIE"]],"x":"一个就是所有的输出都是纯文本格式。\n这意味着你将被迫解析 Git 的有时会改变的输出格式，以随时了解它工作的进度和结果。更糟糕的是，这可能是无效率并且容易出错的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PIF"]],"x":"另外一个就是令人捉急的错误修复能力。\n如果一个版本库被莫名其妙地损毁，或者用户使用了一个奇奇怪怪的配置， Git 只会简单地拒绝表现自己的强大能力。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","G6PIG"]],"x":"还有一个就是进程的管理。\nGit 会要求你在一个独立的进程中维护一个 shell 环境，这可能会无谓地增加复杂性。\n试图协调许许多多的类似的进程（尤其是在某些情况下，当不同的进程在访问相同的版本库时）是对你的能力的极大挑战。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","G6PI3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","G6PI4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","G6PI5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","G6PI6"]],"x":"将","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","G6PI7"]],"x":"Git","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","G6PI8"]],"x":"嵌入你的应用","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Libgit2"],["aid","G6PIH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","JGit"],["aid","G6PP9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","底层命令"],["aid","G6PQ6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","F897L"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F897M"]],"x":"你已经学会了如何从日常工具中发挥 Git 的强大力量，以及从自己的程序中访问 Git 仓库的方法。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_powershell"],["aid","F896S"]],"x":"Powershell 中的 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F896T"]],"x":"\n\nWindows 中的普通命令行终端 (","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F8970"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8973"]],"x":"如果你已经在 Windows 上安装了 GitHub，Posh-Git 也会被安装，你只需要添加以下两行到你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F8976"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F897B"]],"x":"如果你没有在 Windows 上安装 GitHub，只需要从 (","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F897E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F897I"]],"x":"它将会向你的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F897J"]],"x":"profile.ps1","n":"code","l":" 文件添加适当的内容，Posh-Git 将会在下次打开提示符时被启用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","F897F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F897G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F897H"]],"n":"span","l":"> Set-ExecutionPolicy RemoteSigned -Scope CurrentUser -Confirm\n> cd ~\\Documents\\WindowsPowerShell\\posh-git\n> .\\install.ps1"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/dahlbyk/posh-git"],["aid","F897C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/dahlbyk/posh-git","n":"a","l":") 下载一份 Posh-Git 发行版，并且解压至 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F897D"]],"x":"WindowsPowershell","n":"code","l":" 目录。\n然后以管理员权限打开 Powershell 提示符，并且执行下面的命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","F8977"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F8978"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F8979"]],"n":"span","l":". (Resolve-Path "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","F897A"]],"x":"\"$env:LOCALAPPDATA\\GitHub\\shell.ps1\"","n":"span","l":")\n. $env:github_posh_git\\profile.example.ps1"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8974"]],"x":"profile.ps1","n":"code","l":" 文件 (文件位于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8975"]],"x":"C:\\Users\\<username>\\Documents\\WindowsPowerShell","n":"code","l":"):"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8971"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8972"]],"x":"Figure 13. 附带了 Posh-Git 扩展包的 Powershell。","n":"figcaption","l":"\n"},{"a":[["alt","附带了 Posh-Git 扩展包的 Powershell。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005C?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F896U"]],"x":"cmd.exe","n":"code","l":") 无法自定义 Git 使用体验，但是如果你正在使用 Powershell，那么你就十分幸运了。\n一个名为 Posh-Git ("},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/dahlbyk/posh-git"],["aid","F896V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/dahlbyk/posh-git","n":"a","l":") 的扩展包提供了强大的 tab 补全功能， 并针对提示符进行了增强，以帮助你聚焦于你的仓库状态。\n它看起来像："},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_zsh_中的_git"],["aid","F8960"]],"x":"Zsh 中的 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8961"]],"x":"\nGit 还为 Zsh 提供了一个 Tab 补全库。\n复制 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F8964"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8969"]],"x":"意义不明的 Tab 补全并不仅仅会被列出；它们还会有帮助性的描述，你可以通过不断敲击 Tab 以图形方式浏览补全列表。\n该功能可用于 Git 命令、它们的参数和在仓库中内容的名称（例如 refs 和 remotes），还有文件名和其他所有 Zsh 知道如何去补全的项目。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F896A"]],"x":"在提示符自定义方面，Zsh 很好地兼容了Bash，并允许你同时使用一个右侧提示符。\n把如下代码添加至你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F896C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F896G"]],"x":"当你的命令行位于一个 Git 仓库目录时，在任何时候，都可以在命令行窗口右侧显示当前分支。\n它看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F896H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F896L"]],"x":"Zsh 本身已足够强大，但还有一些专门为它打造的完整框架，使它更加完善。\n其中之一名为 \"oh-my-zsh\"，你可以在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","roh_my_zsh_git"],["aid","F896O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F896P"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F896Q"]],"x":"Figure 12. 一个 oh-my-zsh 主题的示例.","n":"figcaption","l":"\n"},{"a":[["alt","一个 oh-my-zsh 主题的示例."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000L?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/robbyrussell/oh-my-zsh"],["aid","F896M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/robbyrussell/oh-my-zsh","n":"a","l":" 找到它。\noh-my-zsh 的扩展系统包含强大的 Git Tab 补全功能，且许多提示符 \"主题\" 可以展示版本控制数据。\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:00A0:off:00000003I5"],["id","xref-roh_my_zsh_git"],["aid","F896N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"一个 oh-my-zsh 主题的示例.","n":"a","l":" 只是可以其中一个可以通过该系统实现的例子。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F896I"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F896J"]],"x":"Figure 11. 自定义 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","F896K"]],"x":"zsh","n":"code","l":" 提示符."},{"a":[["alt","自定义 `zsh` 提示符."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0023?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","F896D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F896E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F896F"]],"n":"span","l":"setopt prompt_subst\n. ~/git-prompt.sh\nexport RPROMPT=$'$(__git_ps1 \"%s\")'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F896B"]],"x":"~/.zshrc","n":"code","l":" 文件中，就可以在右侧显示分支名称："},{"a":[["class","source pcalibre1 pcalibre"],["aid","F8965"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F8966"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F8967"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","F8968"]],"x":"$","n":"span","l":" git che<Tab>\ncheck-attr        -- 显示 gitattributes 信息\ncheck-ref-format  -- 检查引用名称是否符合规范\ncheckout          -- 从工作区中检出分支或路径\ncheckout-index    -- 从暂存区拷贝文件至工作目录\ncherry            -- 查找没有被合并至上游的提交\ncherry-pick       -- 从一些已存在的提交中应用更改"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8962"]],"x":"contrib/completion/git-completion.zsh","n":"code","l":" 到你的 home 目录，然后在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8963"]],"x":".zshrc","n":"code","l":" 中 source 即可。\n相对于 Bash，Zsh 的接口更加强大："},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_bash_中的_git"],["aid","F894K"]],"x":"Bash 中的 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F894L"]],"x":"\n如果你是一名 Bash 用户，你可以从中发掘出一些 Shell 的特性，让你在使用 Git 时更加随心所欲。\n实际上 Git 附带了几个 Shell 的插件，但是这些插件并不是默认打开的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F894M"]],"x":"首先，你需要从 Git 源代码中获得一份 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F894P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F894T"]],"x":"做完这些之后，请将你当前的目录切换到某一个 Git 仓库，并且输入：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F894U"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8953"]],"x":"……此时 Bash 将会把上面的命令自动补全为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8955"]],"x":"这项功能也可以用于你自己定义的提示符（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F895A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F895E"]],"n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F895N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F895S"]],"x":"这两个脚本都提供了很有帮助的文档；浏览 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895T"]],"x":"git-completion.bash","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895U"]],"x":"git-prompt.sh","n":"code","l":" 的内容以获得更多信息。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F895O"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F895P"]],"x":"Figure 10. 自定义的 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","F895Q"]],"x":"bash","n":"code","l":" 提示符（"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","F895R"]],"x":"prompt","n":"code","l":"）."},{"a":[["alt","自定义的 `bash` 提示符（`prompt`）."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000F?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895F"]],"x":"\\w","n":"code","l":" 表示打印当前工作目录，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895G"]],"x":"\\$","n":"code","l":" 打印 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895H"]],"x":"$","n":"code","l":" 部分的提示符（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895I"]],"x":"prompt","n":"code","l":"），"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895J"]],"x":"__git_ps1 \" (%s)\"","n":"code","l":" 表示通过格式化参数符（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895K"]],"x":"%s","n":"code","l":"）调用`git-prompt.sh`脚本中提供的函数。\n因为有了这个自定义提示符，现在你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895L"]],"x":"Bash","n":"code","l":" 提示符（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F895M"]],"x":"prompt","n":"code","l":"）在 Git 仓库的任何子目录中都将显示成这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","F895B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F895C"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F895D"]],"n":"span","l":". ~/git-prompt.sh\nexport GIT_PS1_SHOWDIRTYSTATE=1\nexport PS1='\\w$(__git_ps1 \" (%s)\")\\$ '"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8956"]],"x":"prompt","n":"code","l":"），显示当前目录下 Git 仓库的信息。\n根据你的需要，这个信息可以简单或复杂，这里通常有大多数人想要的几个关键信息，比如当前分支信息和当前工作目录的状态信息。\n要添加你自己的提示符（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8957"]],"x":"prompt","n":"code","l":"），只需从 Git 源版本库复制 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8958"]],"x":"contrib/completion/git-prompt.sh","n":"code","l":" 文件到你的 Home 目录(或其他便于你访问与管理的目录)， 并在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8959"]],"x":".bashrc","n":"code","l":" 里添加这个文件路径，类似于下面这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8954"]],"x":"git checkout","n":"code","l":"。\n在适当的情况下，这项功能适用于 Git 所有的子命令、命令行参数、以及远程仓库与引用名。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","F894V"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F8950"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F8951"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","F8952"]],"x":"$","n":"span","l":" git chec<tab>"},{"a":[["class","source pcalibre1 pcalibre"],["aid","F894Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F894R"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F894S"]],"n":"span","l":". ~/git-completion.bash"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F894N"]],"x":"contrib/completion/git-completion.bash","n":"code","l":" 文件的拷贝。\n将这个文件复制到一个相对便捷的目录，例如你的 Home 目录，并且将它的路径添加到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F894O"]],"x":".bashrc","n":"code","l":" 中："},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_eclipse_中的_git"],["aid","F894D"]],"x":"Eclipse 中的 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F894E"]],"x":"\nEclipse 附带了一个名为 Egit 的插件，它提供了一个非常完善的 Git 操作接口。\n这个插件可以通过切换到 Git 视图来使用：(Window > Open Perspective > Other…， 然后选择 “Git”）。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F894F"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F894I"]],"x":"EGit 提供了许多强大的帮助文档，你能通过下面的操作来访问它：单击菜单 Help > Help Contents，然后从内容列表中选择 “EGit Documentation” 节点。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F894G"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F894H"]],"x":"Figure 9. Eclipse 中 EGit 的界面环境。","n":"figcaption","l":"\n"},{"a":[["alt","Eclipse 中 EGit 的界面环境。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0059?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_visual_studio_中的_git"],["aid","F893T"]],"x":"Visual Studio 中的 Git","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F893U"]],"x":"\n从 Visual Studio 2013 Update 1 版本开始，Visual Studio 用户可以在他们的 IDE 中直接使用内嵌的 Git 客户端。\nVisual Studio 集成源代码版本控制特性已经有很长一段时间，但面向的是集中式、文件锁定方式的系统，Git 并不能很好地符合这种工作流程。\nVisual Studio 2013 中已经支持 Git，并独立于原有版本管理系统，这使得 Visual Studio 和 Git 能更好地相互适应。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F893V"]],"x":"想要找到这个特性，在 Visual Studio 中打开一个已经用 Git 管理的项目（或者直接在项目目录中 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F8941"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8944"]],"x":"Visual Studio 能够记住所有你打开过的用 Git 管理的项目，它们都在下方的列表中。\n如果没看到你想要的项目，点击 \"Add\" 按钮，添加项目工作目录的路径。\n双击其中一个本地的 Git 仓库会将你带入 \"Home\" 视图，大概如 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rvs_home"],["aid","F8947"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F894A"]],"x":"Visual Studio 现在拥有一套着眼于任务的强大 Git 操作界面。\n它包括线性的历史视图、diff 视图、远程仓库操作命令，以及其它很多功能。\n这个特性的完整文档（放在这里并不合适）请参阅 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://msdn.microsoft.com/en-us/library/hh850437.aspx"],["aid","F894B"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://msdn.microsoft.com/en-us/library/hh850437.aspx","n":"a","l":" 。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8948"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8949"]],"x":"Figure 8. Visual Studio 中的 Git 仓库的 “Home” 视图。","n":"figcaption","l":"\n"},{"a":[["alt","Visual Studio 中的 Git 仓库的 “Home” 视图。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0055?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:009U:off:0000000274"],["id","xref-rvs_home"],["aid","F8945"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Visual Studio 中的 Git 仓库的 “Home” 视图。","n":"a","l":" 所示。\n这是一个执行 Git 操作的操作中心；当你 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","F8946"]],"x":"正在编写","n":"em","l":" 代码的时候，你可能主要关注 \"Changes\" 视图，当需要拉取同伴的改动时，你将使用 \"Unsynced Commits\" 和 \"Branches\" 视图。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8942"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8943"]],"x":"Figure 7. 从 Team Explorer 中连接 Git 仓库。","n":"figcaption","l":"\n"},{"a":[["alt","从 Team Explorer 中连接 Git 仓库。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003H?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8940"]],"x":"git init","n":"code","l":" ），选择菜单 View > Team Explorer。\n你将看到 \"Connect\" 视图，大概如下图所示："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_其它图形界面"],["aid","F893O"]],"x":"其它图形界面","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F893P"]],"x":"除此之外，还有许许多多其它的图形化 Git 客户端，其中既有单一功能的定制工具，也有试图提供 Git 所有功能的复杂应用。\nGit 的官方网站整理了一份时下最流行的客户端的清单 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://git-scm.com/downloads/guis"],["aid","F893Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://git-scm.com/downloads/guis","n":"a","l":"。\n在 Git 的维基站点还可以看到一份更全的清单 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://git.wiki.kernel.org/index.php/Interfaces,_frontends,_and_tools#Graphical_Interfaces"],["aid","F893R"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://git.wiki.kernel.org/index.php/Interfaces,_frontends,_and_tools#Graphical_Interfaces","n":"a","l":"."},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_小结"],["aid","F893L"]],"x":"小结","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F893M"]],"x":"这些工具是为其各自针对的工作流程所量身定做的。\n开发者和非开发者可以轻松地在分分钟内就搭建起项目协作环境，它们还内置了其它辅助最佳实践的功能。\n但是，如果你的工作流程有所不同，或者你需要在进行网络操作时有更多的控制，那么建议你考虑一下其它客户端或者使用命令行。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_推荐的工作流程"],["aid","F892T"]],"x":"推荐的工作流程","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F892U"]],"x":"安装并配置好以后，你就可以使用 GitHub 客户端来执行一些常见的 Git 任务。\n该工具所推荐的工作流程有时也被叫做 “GitHub 流”。\n我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8930"]],"x":"两个平台上的客户端在分支管理上有所不同。\n在 Mac 上，创建分支的按钮在窗口的上方：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F8931"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8934"]],"x":"在 Windows 上，你可以通过在分支切换挂件中输入新分支的名称来完成创建：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F8935"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8938"]],"x":"分支创建好以后，新建提交就变得非常简单直接了。\n现在工作目录中做一些修改，然后切换到 GitHub 客户端窗口，你所做的修改就会显示在那里。\n输入提交日志，选中那些需要被包含在本次提交中的文件，然后点击 “提交” 按钮（也可以在键盘上按 ctrl-enter 或 ⌘-enter）。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8939"]],"x":"“同步” 功能是你在网络上和其它仓库交互的主要途径。\npush，fetch，merge，和 rebase 在 Git 内部是一连串独立的操作, 而 GitHub 客户端将这些操作都合并成了单独一个功能。\n你点击同步按钮时实际上会发生如下这些操作：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F893A"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F893J"]],"x":"如果你遵循推荐的工作流程，以上就是最常用的一系列命令，因此将它们合并为一个让事情简单了很多。","n":"p","l":"\n"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","F893B"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","F893C"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","F893G"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","F893H"]],"n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F893I"]],"x":"git push","n":"code","l":"。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","F893D"]],"n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F893E"]],"x":"git pull --rebase","n":"code","l":"。\n如果上述命令由于存在合并冲突而失败，则会退而执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F893F"]],"x":"git pull --no-rebase","n":"code","l":"。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8936"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8937"]],"x":"Figure 6. 在 Windows 上创建分支。","n":"figcaption","l":"\n"},{"a":[["alt","在 Windows 上创建分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005R?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8932"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8933"]],"x":"Figure 5. Mac 上的`‘创建分支’'按钮。","n":"figcaption","l":"\n"},{"a":[["alt","Mac 上的``创建分支''按钮。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004J?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003E:off:0000000000"],["id","xref--ch06-github--r_github_flow"],["aid","F892V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitHub 流程","n":"a","l":" 一节中对此有详细的介绍，其要点是 (a) 你会提交到一个分支；(b) 你需要经常与远程仓库保持同步。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_安装"],["aid","F892M"]],"x":"安装","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F892N"]],"x":"GitHub 的 Windows 客户端可以从 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F892Q"]],"x":"它们都是`‘绿色软件’'——如果软件打开发现有更新，下载和安装升级包都是在后台完成的。\n为方便起见它们还打包了一份 Git，也就是说你一旦安装好就再也无需劳心升级的事情了。\nWindows 的客户端还提供了快捷方式，可以启动装了 Posh-git 插件的 Powershell，在本章的后面一节我们会详细介绍这方面的内容。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F892R"]],"x":"接下来我们给它设置一些工作仓库。\n客户端会显示你在 GitHub 上有权限操作的仓库的列表，你可以选择一个然后一键克隆。\n如果你本地已经建立了仓库，只需要用鼠标把它从 Finder 或 Windows 资源管理器拖进 GitHub 客户端窗口，就可以把该仓库添加到左侧的仓库列表里面去了。","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://windows.github.com"],["aid","F892O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://windows.github.com","n":"a","l":" 下载，Mac 客户端可以从 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://mac.github.com"],["aid","F892P"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://mac.github.com","n":"a","l":"下载。\n第一次打开软件时，它会引导你进行一系列的首次使用设置，例如设置你的姓名和电子邮件，它还会智能地帮你调整一些常用的默认设置，例如凭证缓存和 CRLF 的处理方式。"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","F892J"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F892K"]],"x":"你不需要注册 GitHub 账号也可以使用这些工具。\n尽管它们是按照 GitHub 推荐的工作流程来设计的，并突出提升了一些 GitHub 的服务体验，但它们可以在任何 Git 仓库上工作良好，也可以通过网络连接到任意 Git 主机。","n":"p","l":"\n"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","F8929"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","F892A"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","F892C"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","F892E"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","F892G"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","F892H"]],"x":"最后需要熟悉的是右上角的 “Sync” 按钮，你主要通过这个按钮来进行网络上的交互。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","F892F"]],"x":"右侧是修改查看区，它会告诉你工作目录里哪些东西被修改了（译注：修改模式），或选中的提交里包括了哪些修改（译注：历史模式）。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","F892D"]],"x":"中间是输入-提交区，你可以在这里输入提交日志，以及选择哪些文件需要被提交。\n（在 Windows 上，提交历史就显示在这个区域的下方；在 Mac 上，提交历史有一个单独的窗口）","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","F892B"]],"x":"左侧是正在追踪的仓库的列表；通过点击左上方的 “+” 图标，你可以添加一个需要追踪的仓库（既可以是通过 clone，也可以从本地添加）。","n":"span","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8925"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8926"]],"x":"Figure 4. GitHub Windows 客户端。","n":"figcaption","l":"\n"},{"a":[["alt","GitHub Windows 客户端。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000S?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8922"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8923"]],"x":"Figure 3. GitHub Mac 客户端。","n":"figcaption","l":"\n"},{"a":[["alt","GitHub Mac 客户端。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001T?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","F8920"]],"x":"所有","n":"em","l":" 功能.\n它们看起来长这个样子："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_code_class_literal_gitk_code_和_code_class_literal_git_gui_code"],["aid","F890F"]],"n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F890I"]],"x":"\n在安装 Git 的同时，你也装好了它提供的可视化工具，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F890L"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F890P"]],"x":"使用 Gitk 的最简单方法就是从命令行打开。\n只需 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F890R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8910"]],"x":"Gitk 可以接受很多命令行选项，其中的大部分都直接传给底层的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F8914"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F8918"]],"x":"这张图看起来就和执行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F891A"]],"x":"与之相比，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","F891C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F891H"]],"x":"它的界面长这个样子：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","F891I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F891M"]],"x":"左侧是索引区；未暂存的修改显示在上方，已暂存的修改显示在下方。\n你可以通过点击文件名左侧的图标来将该文件在暂存状态与未暂存状态之间切换，你也可以通过选中一个文件名来查看它的详情。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F891N"]],"x":"右侧窗口的上方以 diff 格式来显示当前选中文件发生了变动的地方。\n你可以通过右击某一区块或行从而将这一区块或行放入暂存区。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F891O"]],"x":"右侧窗口的下方是写日志和执行操作的地方。\n在文本框中键入日志然后点击 “提交” 就和执行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","F891Q"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F891R"]],"x":"gitk","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F891S"]],"x":"git-gui","n":"code","l":" 就是针对某种任务设计的工具的两个例子。\n它们分别为了不同的目的（即查看历史和制作提交）而进行了精简，略去了用不到的功能。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F891P"]],"x":"git commit","n":"code","l":" 的效果差不多。\n如果你想要修订上一次提交, 可以选中`‘修订’' 按钮，上次一提交的内容就会显示在 “暂存区”。\n然后你就可以简单的对修改进行暂存和取消暂存操作，更新提交日志，然后再次点击 “提交” 用这个新的提交来覆盖上一次提交。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F891J"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F891K"]],"x":"Figure 2. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","F891L"]],"x":"git-gui","n":"code","l":" 提交工具。"},{"a":[["alt","`git-gui` 提交工具。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003K?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","F891D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F891E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F891F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","F891G"]],"x":"$","n":"span","l":" git gui"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F891B"]],"x":"git-gui","n":"code","l":" 则主要是一个用来制作提交的工具。\n打开它的最简单方法也是从命令行启动："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8919"]],"x":"git log --graph","n":"code","l":" 命令的输出差不多；每个点代表一次提交，线代表父子关系，而彩色的方块则用来标示一个个引用。\n黄点表示 HEAD，红点表示尚未提交的本地变动。\n下方的窗口用来显示当前选中的提交的具体信息；评论和补丁显示在左侧，摘要显示在右侧。\n中间则是一组用来搜索历史的控件。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","F8915"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","F8916"]],"x":"Figure 1. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","F8917"]],"x":"gitk","n":"code","l":" 历史查看器。"},{"a":[["alt","`gitk` 历史查看器。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0051?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8911"]],"x":"git log","n":"code","l":" 去执行了。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F8912"]],"x":"--all","n":"code","l":" 可能是这其中最有用的一个, 它告诉 gitk 去尽可能地从 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","F8913"]],"x":"任何","n":"em","l":" 引用查找提交并显示，而不仅仅是从 HEAD。\nGitk 的界面看起来长这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","F890S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","F890T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","F890U"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","F890V"]],"x":"$","n":"span","l":" gitk [git log options]"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F890Q"]],"x":"cd","n":"code","l":" 到一个 Git 仓库，然后键入："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F890M"]],"x":"gitk","n":"code","l":" 是一个历史记录的图形化查看器。\n你可以把它当作是基于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F890N"]],"x":"git log","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F890O"]],"x":"git grep","n":"code","l":" 命令的一个强大的图形操作界面。\n当你需要查找过去发生的某次记录，或是可视化查看项目历史的时候，你将会用到这个工具。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F890J"]],"x":"gitk","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","F890K"]],"x":"git-gui","n":"code","l":"。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","F890G"]],"x":"gitk","n":"code","l":" 和 "},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","F890H"]],"x":"git-gui","n":"code"},{"a":[["class","pcalibre6 pcalibre pcalibre1 calibre5"],["aid","F8909"]],"x":"从头至尾读到了这里，你肯定已经掌握了不少使用 Git 命令行操作的知识。\n你学会了操作本地文件，通过网络连接你的仓库，以及与他人进行有效率的合作。\n但是故事并未就此结束；Git 通常只是更大的生态圈的一部分，在某些情况下使用终端并不是最合适的方式。\n现在就让我们来了解一下如何在其它类型的环境中更好地使用 Git，以及别的应用（包括你的）如何与 Git 进行协作。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","F8903"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","F8904"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","F8905"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","F8906"]],"x":"其它环境中的","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","F8907"]],"x":"Git","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","图形界面"],["aid","F890A"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Mac 和 Windows 上的 GitHub 客户端"],["aid","F891T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","E9POB"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9POC"]],"x":"现在，你应该相当了解 Git 在背后都做了些什么工作，并且在一定程度上也知道了 Git 是如何实现的。\n本章讨论了很多底层命令，这些命令比我们在本书其余部分学到的高层命令来得更原始，也更简洁。\n从底层了解 Git 的工作原理有助于更好地理解 Git 在内部是如何运作的，也方便你能够针对特定的工作流写出自己的工具和脚本。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9POD"]],"x":"作为一套内容寻址文件系统，Git 不仅仅是一个版本控制系统，它同时是一个非常强大且易用的工具。\n我们希望你可以借助新学到的 Git 内部原理相关知识来实现出自己的应用，并且以更高级、更得心应手的方式来驾驭 Git。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_其它"],["aid","E9PN9"]],"x":"其它","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PNA"]],"x":"如果指定了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PNI"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PNO"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PNS"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PNV"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PO2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PO3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PO4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PO5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PO6"]],"x":"$","n":"span","l":" GIT_REFLOG_ACTION="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9PO7"]],"x":"\"my action\"","n":"span","l":" git commit --allow-empty -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9PO8"]],"x":"'my message'","n":"span","l":"\n[master 9e3d55a] my message\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PO9"]],"x":"$","n":"span","l":" git reflog -1\n9e3d55a HEAD@{0}: my action: my message"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PO0"]],"n":"strong","l":" 让你可以指定描述性的文字写到 reflog 中。\n这有个例子："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PO1"]],"x":"GIT_REFLOG_ACTION","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PNT"]],"n":"strong","l":" 强制 Git 在向标准输出增量写入时使用没有缓存的 I/O。\n设置为 1 让 Git 刷新更多， 设置为 0 则使所有的输出被缓存。\n默认值（若此变量未设置）是根据活动和输出模式的不同选择合适的缓存方案。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNU"]],"x":"GIT_FLUSH","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PNP"]],"n":"strong","l":" 控制有命令空间的引用的访问，与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNR"]],"x":"--namespace","n":"code","l":" 标志是相同的。\n这主要在服务器端有用， 如果你想在一个版本库中存储单个版本库的多个 fork, 只要保持引用是隔离的就可以。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNQ"]],"x":"GIT_NAMESPACE","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PNJ"]],"n":"strong","l":" 覆盖了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNL"]],"x":"core.askpass","n":"code","l":" 配置。\n这是 Git 需要向用户请求验证时用到的程序，它接受一个文本提示作为命令行参数，并在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNM"]],"x":"stdout","n":"code","l":" 中返回应答。\n(查看 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0068:off:0000000000"],["id","xref--ch07-git-tools--r_credential_caching"],["aid","E9PNN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"凭证存储","n":"a","l":"_ 访问更多相关内容)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNK"]],"x":"GIT_ASKPASS","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PNB"]],"n":"strong","l":"， Git 连接 SSH 主机时会用指定的程序代替 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PND"]],"x":"ssh","n":"code","l":" 。\n它会被用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNE"]],"x":"$GIT_SSH [username@]host [-p <port>] <command>","n":"code","l":" 的命令方式调用。\n这不是配置定制 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNF"]],"x":"ssh","n":"code","l":" 调用方式的最简单的方法; 它不支持额外的命令行参数， 所以你必须写一个封装脚本然后让 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNG"]],"x":"GIT_SSH","n":"code","l":" 指向它。\n可能用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNH"]],"x":"~/.ssh/config","n":"code","l":" 会更简单。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PNC"]],"x":"GIT_SSH","n":"code"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_调试"],["aid","E9PLK"]],"x":"调试","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PLL"]],"x":"想 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","E9PLN"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PLU"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PM1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PM6"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PM9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PMF"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PMI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PMO"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PMR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PN0"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PN3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PN4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PN5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PN6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PN7"]],"x":"$","n":"span","l":" GIT_TRACE_SETUP=true git status\n20:19:47.086765 trace.c:315             setup: git_dir: .git\n20:19:47.087184 trace.c:316             setup: worktree: /Users/ben/src/git\n20:19:47.087191 trace.c:317             setup: cwd: /Users/ben/src/git\n20:19:47.087194 trace.c:318             setup: prefix: (null)\nOn branch master\nYour branch is up-to-date with 'origin/master'.\nnothing to commit, working directory clean"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PN1"]],"n":"strong","l":" 显示 Git 发现的关于版本库和交互环境的信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PN2"]],"x":"GIT_TRACE_SETUP","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PMS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PMT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PMU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PMV"]],"x":"$","n":"span","l":" GIT_TRACE_PERFORMANCE=true git gc\n20:18:19.499676 trace.c:414             performance: 0.374835000 s: git command: 'git' 'pack-refs' '--all' '--prune'\n20:18:19.845585 trace.c:414             performance: 0.343020000 s: git command: 'git' 'reflog' 'expire' '--all'\nCounting objects: 170994, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (43413/43413), done.\nWriting objects: 100% (170994/170994), done.\nTotal 170994 (delta 126176), reused 170524 (delta 125706)\n20:18:23.567927 trace.c:414             performance: 3.715349000 s: git command: 'git' 'pack-objects' '--keep-true-parents' '--honor-pack-keep' '--non-empty' '--all' '--reflog' '--unpack-unreachable=2.weeks.ago' '--local' '--delta-base-offset' '.git/objects/pack/.tmp-49190-pack'\n20:18:23.584728 trace.c:414             performance: 0.000910000 s: git command: 'git' 'prune-packed'\n20:18:23.605218 trace.c:414             performance: 0.017972000 s: git command: 'git' 'update-server-info'\n20:18:23.606342 trace.c:414             performance: 3.756312000 s: git command: 'git' 'repack' '-d' '-l' '-A' '--unpack-unreachable=2.weeks.ago'\nChecking connectivity: 170994, done.\n20:18:25.225424 trace.c:414             performance: 1.616423000 s: git command: 'git' 'prune' '--expire' '2.weeks.ago'\n20:18:25.232403 trace.c:414             performance: 0.001051000 s: git command: 'git' 'rerere' 'gc'\n20:18:25.233159 trace.c:414             performance: 6.112217000 s: git command: 'git' 'gc'"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PMP"]],"n":"strong","l":" 控制性能数据的日志打印。\n输出显示了每个 Git 命令调用花费的时间。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PMQ"]],"x":"GIT_TRACE_PERFORMANCE","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PMJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PMK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PML"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PMM"]],"x":"$","n":"span","l":" GIT_TRACE_PACKET=true git ls-remote origin\n20:15:14.867043 pkt-line.c:46           packet:          git< # service=git-upload-pack\n20:15:14.867071 pkt-line.c:46           packet:          git< 0000\n20:15:14.867079 pkt-line.c:46           packet:          git< 97b8860c071898d9e162678ea1035a8ced2f8b1f HEAD\\0multi_ack thin-pack side-band side-band-64k ofs-delta shallow no-progress include-tag multi_ack_detailed no-done symref=HEAD:refs/heads/master agent=git/2.0.4\n20:15:14.867088 pkt-line.c:46           packet:          git< 0f20ae29889d61f2e93ae00fd34f1cdb53285702 refs/heads/ab/add-interactive-show-diff-func-name\n20:15:14.867094 pkt-line.c:46           packet:          git< 36dc827bc9d17f80ed4f326de21247a5d1341fbc refs/heads/ah/doc-gitk-config\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PMN"]],"x":"#","n":"span","l":" […]"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PMG"]],"n":"strong","l":" 打开网络操作包级别的跟踪信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PMH"]],"x":"GIT_TRACE_PACKET","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PMA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PMB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PMC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PMD"]],"x":"$","n":"span","l":" GIT_TRACE_PACK_ACCESS=true git status\n20:10:12.081397 sha1_file.c:2088        .git/objects/pack/pack-c3fa...291e.pack 12\n20:10:12.081886 sha1_file.c:2088        .git/objects/pack/pack-c3fa...291e.pack 34662\n20:10:12.082115 sha1_file.c:2088        .git/objects/pack/pack-c3fa...291e.pack 35175\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PME"]],"x":"#","n":"span","l":" […]\n20:10:12.087398 sha1_file.c:2088        .git/objects/pack/pack-e80e...e3d2.pack 56914983\n20:10:12.087419 sha1_file.c:2088        .git/objects/pack/pack-e80e...e3d2.pack 14303666\nOn branch master\nYour branch is up-to-date with 'origin/master'.\nnothing to commit, working directory clean"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PM7"]],"n":"strong","l":" 控制访问打包文件的跟踪信息。\n第一个字段是被访问的打包文件，第二个是文件的偏移量："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PM8"]],"x":"GIT_TRACE_PACK_ACCESS","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PM2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PM3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PM4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PM5"]],"x":"$","n":"span","l":" GIT_TRACE=true git lga\n20:12:49.877982 git.c:554               trace: exec: 'git-lga'\n20:12:49.878369 run-command.c:341       trace: run_command: 'git-lga'\n20:12:49.879529 git.c:282               trace: alias expansion: lga => 'log' '--graph' '--pretty=oneline' '--abbrev-commit' '--decorate' '--all'\n20:12:49.879885 git.c:349               trace: built-in: git 'log' '--graph' '--pretty=oneline' '--abbrev-commit' '--decorate' '--all'\n20:12:49.899217 run-command.c:341       trace: run_command: 'less'\n20:12:49.899675 run-command.c:192       trace: exec: 'less'"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PLV"]],"n":"strong","l":" 控制常规跟踪，它并不适用于特殊情况。\n它跟踪的范围包括别名的展开和其他子程序的委托。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PM0"]],"x":"GIT_TRACE","n":"code"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","E9PLO"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PLP"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PLR"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PLS"]],"x":"以 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PLT"]],"x":"/","n":"code","l":" 开头的绝对路径 – 跟踪输出会被写到那个文件。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PLQ"]],"x":"“true”, “1”, 或 “2” – 跟踪类别写到标准错误输出。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","E9PLM"]],"x":"真正地","n":"em","l":" 知道 Git 正在做什么?\nGit 内置了相当完整的跟踪信息，你需要做的就是把它们打开。\n这些变量的可用值如下："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_比较和合并"],["aid","E9PKE"]],"x":"比较和合并","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PKF"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PKL"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PKQ"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PL1"]],"n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","E9PL4"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PLI"]],"x":"默认值是 2。","n":"p","l":"\n"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","E9PL5"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PL6"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PL8"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PLA"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PLC"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PLE"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","E9PLG"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PLH"]],"x":"5 显示详细的调试信息。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PLF"]],"x":"4 显示处理的所有路径。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PLD"]],"x":"3 显示因为没有改变被跳过的文件。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PLB"]],"x":"2 还显示文件改变。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PL9"]],"x":"1 只显示冲突。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","E9PL7"]],"x":"0 什么都不输出，除了可能会有一个错误信息。","n":"span","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PL2"]],"n":"strong","l":" 控制递归合并策略的输出。\n允许的值有下面这些："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PL3"]],"x":"GIT_MERGE_VERBOSITY","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PKR"]],"n":"strong","l":" 和 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PKT"]],"n":"strong","l":" 对于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKV"]],"x":"GIT_EXTERNAL_DIFF","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PL0"]],"x":"diff.external","n":"code","l":" 指定的程序有用。\n前者表示在一系列文件中哪个是被比较的（从 1 开始），后者表示每批文件的总数。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKU"]],"x":"GIT_DIFF_PATH_TOTAL","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKS"]],"x":"GIT_DIFF_PATH_COUNTER","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PKM"]],"n":"strong","l":" 用来覆盖 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKO"]],"x":"diff.external","n":"code","l":" 配置的值。\n如果设置了这个值， 当执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKP"]],"x":"git diff","n":"code","l":" 时，Git 会调用该程序。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKN"]],"x":"GIT_EXTERNAL_DIFF","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PKG"]],"n":"strong","l":" 这个有点起错名字了。\n有效值仅支持 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKI"]],"x":"-u<n>","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKJ"]],"x":"--unified=<n>","n":"code","l":"，用来控制在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKK"]],"x":"git diff","n":"code","l":" 命令中显示的内容行数。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKH"]],"x":"GIT_DIFF_OPTS","n":"code"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_网络"],["aid","E9PJP"]],"x":"网络","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJQ"]],"x":"Git 使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJV"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PK2"]],"x":"如果 Git 操作在网速低于 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PK9"]],"n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PKA"]],"n":"strong","l":" 设置 Git 在通过 HTTP 通讯时用到的 user-agent。\n默认值类似于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKC"]],"x":"git/2.0.0","n":"code","l":" 。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PKB"]],"x":"GIT_HTTP_USER_AGENT","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PK3"]],"n":"strong","l":" 字节／秒，并且持续 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PK5"]],"n":"strong","l":" 秒以上的时间，Git 会终止那个操作。\n这些值会覆盖 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PK7"]],"x":"http.lowSpeedLimit","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PK8"]],"x":"http.lowSpeedTime","n":"code","l":" 配置的值。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PK6"]],"x":"GIT_HTTP_LOW_SPEED_TIME","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PK4"]],"x":"GIT_HTTP_LOW_SPEED_LIMIT","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PK0"]],"n":"strong","l":" 告诉 Git 不用验证 SSL 证书。\n这在有些时候是需要的， 例如你用一个自己签名的证书通过 HTTPS 来提供 Git 服务， 或者你正在搭建 Git 服务器，还没有安装完全的证书。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PK1"]],"x":"GIT_SSL_NO_VERIFY","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJR"]],"x":"curl","n":"code","l":" 库通过 HTTP来完成网络操作， 所以 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJS"]],"n":"strong","l":" 告诉 Git 显示所有由那个库产生的消息。\n这跟在命令行执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJU"]],"x":"curl -v","n":"code","l":" 差不多。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJT"]],"x":"GIT_CURL_VERBOSE","n":"code"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_提交"],["aid","E9PIT"]],"x":"提交","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PIU"]],"x":"Git 提交对象的创建通常最后是由 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJ1"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJ4"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJ7"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJD"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJG"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PJJ"]],"x":"如果 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJK"]],"x":"user.email","n":"code","l":" 没有配置， 就会用到 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJL"]],"n":"strong","l":" 指定的邮件地址。\n如果 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","E9PJN"]],"x":"这个","n":"em","l":" 也没有设置， Git 继续回退使用系统用户和主机名。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJM"]],"x":"EMAIL","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJH"]],"n":"strong","l":" 是 “committer” 字段的时间戳。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJI"]],"x":"GIT_COMMITTER_DATE","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJE"]],"n":"strong","l":" 是 “committer” 字段的邮件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJF"]],"x":"GIT_COMMITTER_EMAIL","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJB"]],"n":"strong","l":" 是 “committer” 字段的可读的名字。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJC"]],"x":"GIT_COMMITTER_NAME","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJ8"]],"n":"strong","l":" 是 “author” 字段的时间戳。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJ9"]],"x":"GIT_AUTHOR_DATE","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJ5"]],"n":"strong","l":" 是 “author” 字段的邮件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJ6"]],"x":"GIT_AUTHOR_EMAIL","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PJ2"]],"n":"strong","l":" 是 “author” 字段的可读的名字。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJ3"]],"x":"GIT_AUTHOR_NAME","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIV"]],"x":"git-commit-tree","n":"code","l":" 来完成， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PJ0"]],"x":"git-commit-tree","n":"code","l":" 用这些环境变量作主要的信息源。 仅当这些值不存在才回退到预置的值。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_路径规则"],["aid","E9PI6"]],"x":"路径规则","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PI7"]],"x":"所谓 “pathspec” 是指你在 Git 中如何指定路径， 包括通配符的使用。\n它们会在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PIA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PIM"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PIP"]],"n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PIQ"]],"n":"strong","l":" 让所有的路径规格忽略大小写。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIR"]],"x":"GIT_ICASE_PATHSPECS","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PIN"]],"n":"strong","l":" 禁用上面的两种行为；通配符将不能用，前缀覆盖也不能用。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIO"]],"x":"GIT_LITERAL_PATHSPECS","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PIB"]],"n":"strong","l":" 控制通配符在路径规则中的默认行为。\n如果 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIE"]],"x":"GIT_GLOB_PATHSPECS","n":"code","l":" 设置为 1, 通配符表现为通配符（这是默认设置）; 如果 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIF"]],"x":"GIT_NOGLOB_PATHSPECS","n":"code","l":" 设置为 1,通配符仅匹配字面。意思是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIG"]],"x":"*.c","n":"code","l":" 只会匹配 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","E9PIH"]],"x":"文件名是","n":"em","l":" “*.c” 的文件， 而不是以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PII"]],"x":".c","n":"code","l":" 结尾的文件。\n你可以在各个路径规格中用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIJ"]],"x":":(glob)","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIK"]],"x":":(literal)","n":"code","l":" 开头来覆盖这个配置，如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIL"]],"x":":(glob)*.c","n":"code","l":" 。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PIC"]],"x":"GIT_GLOB_PATHSPECS","n":"code","l":" and "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PID"]],"x":"GIT_NOGLOB_PATHSPECS","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PI8"]],"x":".gitignore","n":"code","l":" 文件中用到，命令行里也会用到 （"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PI9"]],"x":"git add *.c","n":"code","l":"）。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_版本库位置"],["aid","E9PH8"]],"x":"版本库位置","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PH9"]],"x":"Git 用了几个变量来确定它如何与当前版本库交互。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PHA"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PHH"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PHL"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PHP"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PHS"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PI0"]],"n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PI1"]],"n":"strong","l":" 一个冒号分割的列表 (格式类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PI3"]],"x":"/dir/one:/dir/two:…","n":"code","l":") 用来告诉 Git 到哪里去找不在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PI4"]],"x":"GIT_OBJECT_DIRECTORY","n":"code","l":" 目录中的对象。\n如果你有很多项目有相同内容的大文件，这个可以用来避免存储过多备份。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PI2"]],"x":"GIT_ALTERNATE_OBJECT_DIRECTORIES","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PHT"]],"n":"strong","l":" 用来指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHV"]],"x":".git/objects","n":"code","l":" 目录的位置。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHU"]],"x":"GIT_OBJECT_DIRECTORY","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PHQ"]],"n":"strong","l":" 是索引文件的路径（只有非空版本库有）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHR"]],"x":"GIT_INDEX_FILE","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PHM"]],"n":"strong","l":" 是非空版本库的工作目录的根路径。\n如果没指定，就使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHO"]],"x":"$GIT_DIR","n":"code","l":" 的父目录。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHN"]],"x":"GIT_WORK_TREE","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PHI"]],"n":"strong","l":" 控制查找 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHK"]],"x":".git","n":"code","l":" 目录的行为。\n如果你访问加载很慢的目录（如那些磁带机上的或通过网络连接访问的），你可能会想让 Git 早点停止尝试，尤其是 shell 构建时调用了 Git 。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHJ"]],"x":"GIT_CEILING_DIRECTORIES","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PHB"]],"n":"strong","l":" 是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHD"]],"x":".git","n":"code","l":" 目录的位置。\n如果这个没有设置， Git 会按照目录树逐层向上查找 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHE"]],"x":".git","n":"code","l":" 目录，直到到达 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHF"]],"x":"~","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHG"]],"x":"/","n":"code","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PHC"]],"x":"GIT_DIR","n":"code"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_全局行为"],["aid","E9PGC"]],"x":"全局行为","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PGD"]],"x":"像通常的程序一样，Git 的常规行为依赖于环境变量。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PGE"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PGK"]],"x":"通常不会考虑修改 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PGO"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PGS"]],"x":"如果设置了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PGV"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PH3"]],"n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PH4"]],"n":"strong","l":" 当用户需要编辑一些文本（比如提交信息）时， Git 会启动这个编辑器。\n如果没设置，就会用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PH6"]],"x":"EDITOR","n":"code","l":" 。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PH5"]],"x":"GIT_EDITOR","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PH0"]],"n":"strong","l":" 控制在命令行上显示多页输出的程序。\n如果这个没有设置，就会用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PH2"]],"x":"PAGER","n":"code","l":" 。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PH1"]],"x":"GIT_PAGER","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PGT"]],"n":"strong","l":"，就禁用系统级别的配置文件。\n  这在系统配置影响了你的命令，而你又无权限修改的时候很有用。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGU"]],"x":"GIT_CONFIG_NOSYSTEM","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PGP"]],"n":"strong","l":" 也类似，除了用于系统级别的配置。\n  Git 在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGR"]],"x":"$PREFIX/etc/gitconfig","n":"code","l":" 查找此文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGQ"]],"x":"PREFIX","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PGL"]],"n":"strong","l":" 这个变量（太多其它东西都依赖它），这是 Git 查找全局配置文件的地方。\n  如果你想要一个包括全局配置的真正的便携版 Git， 你可以在便携版 Git 的 shell 配置中覆盖 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGN"]],"x":"HOME","n":"code","l":" 设置。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGM"]],"x":"HOME","n":"code"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PGF"]],"n":"strong","l":" 决定 Git 到哪找它的子程序 （像 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGH"]],"x":"git-commit","n":"code","l":", "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGI"]],"x":"git-diff","n":"code","l":" 等等）。\n  你可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGJ"]],"x":"git --exec-path","n":"code","l":" 来查看当前设置。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGG"]],"x":"GIT_EXEC_PATH","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PGA"]],"x":"bash","n":"code","l":" shell 中运行，并借助一些 shell 环境变量来决定它的运行方式。\n有时候，知道它们是什么以及它们如何让 Git 按照你想要的方式去运行会很有用。\n这里不会列出所有的 Git 环境变量，但我们会涉及最有的那部分。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PG2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PG3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PG4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PG5"]],"x":"$","n":"span","l":" git prune --expire now\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PG6"]],"x":"$","n":"span","l":" git count-objects -v\ncount: 0\nsize: 0\nin-pack: 15\npacks: 1\nsize-pack: 8\nprune-packable: 0\ngarbage: 0\nsize-garbage: 0"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PFV"]],"x":"--expire","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PG0"]],"x":"git prune","n":"code","l":" 命令来完全地移除那个对象："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PFQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PFR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PFS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PFT"]],"x":"$","n":"span","l":" git count-objects -v\ncount: 11\nsize: 4904\nin-pack: 15\npacks: 1\nsize-pack: 8\nprune-packable: 0\ngarbage: 0\nsize-garbage: 0"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PFI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PFJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PFK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PFL"]],"x":"$","n":"span","l":" rm -Rf .git/refs/original\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PFM"]],"x":"$","n":"span","l":" rm -Rf .git/logs/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PFN"]],"x":"$","n":"span","l":" git gc\nCounting objects: 15, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (11/11), done.\nWriting objects: 100% (15/15), done.\nTotal 15 (delta 1), reused 12 (delta 0)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PFF"]],"x":".git/refs/original","n":"code","l":" 通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PFG"]],"x":"filter-branch","n":"code","l":" 选项添加的新引用中还存有对这个文件的引用，所以你必须移除它们然后重新打包数据库。\n在重新打包前需要移除任何包含指向那些旧提交的指针的文件："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PF7"]],"x":"git rm --cached","n":"code","l":" 命令来移除文件，而不是通过类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PF8"]],"x":"rm file","n":"code","l":" 的命令 - 因为你需要从索引中移除它，而不是磁盘中。\n还有一个原因是速度 - Git 在运行过滤器时，并不会检出每个修订版本到磁盘中，所以这个过程会非常快。\n如果愿意的话，你也可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PF9"]],"x":"--tree-filter","n":"code","l":" 选项来完成同样的任务。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PFA"]],"x":"git rm","n":"code","l":" 命令的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PFB"]],"x":"--ignore-unmatch","n":"code","l":" 选项告诉命令：如果尝试删除的模式不存在时，不提示错误。\n最后，使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PFC"]],"x":"filter-branch","n":"code","l":" 选项来重写自 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PFD"]],"x":"7b30847","n":"code","l":" 提交以来的历史，也就是这个问题产生的地方。\n否则，这个命令会从最旧的提交开始，这将会花费许多不必要的时间。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PF3"]],"x":"--index-filter","n":"code","l":" 选项类似于在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004P:off:0000000000"],["aid","E9PF4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重写历史","n":"a","l":" 中提到的的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PF5"]],"x":"--tree-filter","n":"code","l":" 选项，不过这个选项并不会让命令将修改在硬盘上检出的文件，而只是修改在暂存区或索引中的文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PES"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PET"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PEU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PEV"]],"x":"$","n":"span","l":" git filter-branch --index-filter "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","E9PF0"]],"x":"\\","n":"span","l":"\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9PF1"]],"x":"'git rm --ignore-unmatch --cached git.tgz'","n":"span","l":" -- 7b30847^..\nRewrite 7b30847d080183a1ab7d18fb202473b3096e9f34 (1/2)rm 'git.tgz'\nRewrite dadf7258d699da2c8d89b09ef6670edb7d5f91b4 (2/2)\nRef 'refs/heads/master' was rewritten"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PEO"]],"x":"7b30847","n":"code","l":" 提交之后的所有提交来从 Git 历史中完全移除这个文件。\n为了执行这个操作，我们要使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PEP"]],"x":"filter-branch","n":"code","l":" 命令，这个命令在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004P:off:0000000000"],["id","xref--ch07-git-tools--r_rewriting_history"],["aid","E9PEQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重写历史","n":"a","l":" 中也使用过："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PEJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PEK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PEL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PEM"]],"x":"$","n":"span","l":" git log --oneline --branches -- git.tgz\ndadf725 oops - removed large tarball\n7b30847 add git tarball"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PED"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PEE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PEF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PEG"]],"x":"$","n":"span","l":" git rev-list --objects --all | grep 82c99a3\n82c99a3e86bb1267b236a4b6eff7868d97489af1 git.tgz"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PE8"]],"x":"rev-list","n":"code","l":" 命令，我们在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0074:off:0000000033"],["id","xref--ch08-customizing-git--r_enforcing_commit_message_format"],["aid","E9PE9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"指定特殊的提交信息格式","n":"a","l":" 中曾提到过。\n如果你传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PEA"]],"x":"--objects","n":"code","l":" 参数给 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PEB"]],"x":"rev-list","n":"code","l":" 命令，它就会列出所有提交的 SHA-1、数据对象的 SHA-1 和与它们相关联的文件路径。\n可以使用以下命令来找出你的数据对象的名字："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PE1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PE2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PE3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PE4"]],"x":"$","n":"span","l":" git verify-pack -v .git/objects/pack/pack-29…69.idx "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","E9PE5"]],"x":"\\","n":"span","l":"\n  | sort -k 3 -n "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","E9PE6"]],"x":"\\","n":"span","l":"\n  | tail -3\ndadf7258d699da2c8d89b09ef6670edb7d5f91b4 commit 229 159 12\n033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5 blob   22044 5792 4977696\n82c99a3e86bb1267b236a4b6eff7868d97489af1 blob   4975916 4976258 1438"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PDT"]],"x":"git gc","n":"code","l":" 命令，所有的对象将被放入一个包文件中，你可以通过运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PDU"]],"x":"git verify-pack","n":"code","l":" 命令，然后对输出内容的第三列（即文件大小）进行排序，从而找出这个大文件。\n你也可以将这个命令的执行结果通过管道传送给 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PDV"]],"x":"tail","n":"code","l":" 命令，因为你只需要找到列在最后的几个大对象。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PDR"]],"x":"size-pack","n":"code","l":" 的数值指的是你的包文件以 KB 为单位计算的大小，所以你大约占用了 5MB 的空间。\n在最后一次提交前，使用了不到 2KB - 显然，从之前的提交中移除文件并不能从历史中移除它。\n每一次有人克隆这个仓库时，他们将必须克隆所有的 5MB 来获得这个微型项目，只因为你意外地添加了一个大文件。\n现在来让我们彻底的移除这个文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PDM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PDN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PDO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PDP"]],"x":"$","n":"span","l":" git count-objects -v\ncount: 7\nsize: 32\nin-pack: 17\npacks: 1\nsize-pack: 4868\nprune-packable: 0\ngarbage: 0\nsize-garbage: 0"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PDK"]],"x":"count-objects","n":"code","l":" 命令来快速的查看占用空间大小："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PDF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PDG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PDH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PDI"]],"x":"$","n":"span","l":" git gc\nCounting objects: 17, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (13/13), done.\nWriting objects: 100% (17/17), done.\nTotal 17 (delta 1), reused 10 (delta 0)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PDD"]],"x":"gc","n":"code","l":" 来查看数据库占用了多少空间："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PD6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PD7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PD8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PD9"]],"x":"$","n":"span","l":" git rm git.tgz\nrm 'git.tgz'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PDA"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9PDB"]],"x":"'oops - removed large tarball'","n":"span","l":"\n[master dadf725] oops - removed large tarball\n 1 file changed, 0 insertions(+), 0 deletions(-)\n delete mode 100644 git.tgz"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PCT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PCU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PCV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PD0"]],"x":"$","n":"span","l":" curl https://www.kernel.org/pub/software/scm/git/git-2.1.0.tar.gz > git.tgz\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PD1"]],"x":"$","n":"span","l":" git add git.tgz\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PD2"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9PD3"]],"x":"'add git tarball'","n":"span","l":"\n[master 7b30847] add git tarball\n 1 file changed, 0 insertions(+), 0 deletions(-)\n create mode 100644 git.tgz"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","E9PCQ"]],"x":"警告：这个操作对提交历史的修改是破坏性的。","n":"strong","l":"\n它会从你必须修改或移除一个大文件引用最早的树对象开始重写每一次提交。\n如果你在导入仓库后，在任何人开始基于这些提交工作前执行这个操作，那么将不会有任何问题 - 否则，你必须通知所有的贡献者他们需要将他们的成果变基到你的新提交上。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PCN"]],"x":"git clone","n":"code","l":" 会下载整个项目的历史，包括每一个文件的每一个版本。\n如果所有的东西都是源代码那么这很好，因为 Git 被高度优化来有效地存储这种数据。\n然而，如果某个人在之前向项目添加了一个大小特别大的文件，即使你将这个文件从项目中移除了，每次克隆还是都要强制的下载这个大文件。\n之所以会产生这个问题，是因为这个文件在历史中是存在的，它会永远在那里。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PCF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PCG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PCH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PCI"]],"x":"$","n":"span","l":" git fsck --full\nChecking object directories: 100% (256/256), done.\nChecking objects: 100% (18/18), done.\ndangling blob d670460b4b4aece5915caf5c68d12f560a9fe3e4\ndangling commit ab1afef80fac8e34258ff41fc1b867c702daa24b\ndangling tree aea790b9a58f6cf6f2804eeac9f0abbe9631e4c9\ndangling blob 7108f7ecb345ee9d0084193f147cdad4d2998293"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PCB"]],"x":".git/logs/","n":"code","l":" 目录中，现在你已经没有引用日志了。\n这时该如何恢复那次提交？\n一种方式是使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PCC"]],"x":"git fsck","n":"code","l":" 实用工具，将会检查数据库的完整性。\n如果使用一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PCD"]],"x":"--full","n":"code","l":" 选项运行它，它会向你显示出所有没有被其他对象指向的对象："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PC5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PC6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PC7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PC8"]],"x":"$","n":"span","l":" git branch -D recover-branch\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PC9"]],"x":"$","n":"span","l":" rm -Rf .git/logs/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PC1"]],"x":"recover-branch","n":"code","l":" 的分支是你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PC2"]],"x":"master","n":"code","l":" 分支曾经指向的地方，再一次使得前两次提交可到达了。\n接下来，假设你丢失的提交因为某些原因不在引用日志中 - 我们可以通过移除 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PC3"]],"x":"recover-branch","n":"code","l":" 分支并删除引用日志来模拟这种情况。\n现在前两次提交又不被任何分支指向了："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PBR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PBS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PBT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PBU"]],"x":"$","n":"span","l":" git branch recover-branch ab1afef\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PBV"]],"x":"$","n":"span","l":" git log --pretty=oneline recover-branch\nab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit\n484a59275031909e19aadb7c92262719cfcdf19a added repo.rb\n1a410efbd13591db07496601ebc7a059dd55cfe9 third commit\ncac0cab538b970a37ea1e769cbbde608743bc96d second commit\nfdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PBP"]],"x":"recover-branch","n":"code","l":" 的分支指向这个提交（ab1afef）："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PBK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PBL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PBM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PBN"]],"x":"$","n":"span","l":" git log -g\ncommit 1a410efbd13591db07496601ebc7a059dd55cfe9\nReflog: HEAD@{0} (Scott Chacon <schacon@gmail.com>)\nReflog message: updating HEAD\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri May 22 18:22:37 2009 -0700\n\n\t\tthird commit\n\ncommit ab1afef80fac8e34258ff41fc1b867c702daa24b\nReflog: HEAD@{1} (Scott Chacon <schacon@gmail.com>)\nReflog message: updating HEAD\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri May 22 18:15:24 2009 -0700\n\n       modified repo.rb a bit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PBI"]],"x":"git log -g","n":"code","l":"，这个命令会以标准日志的格式输出引用日志。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PBD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PBE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PBF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PBG"]],"x":"$","n":"span","l":" git reflog\n1a410ef HEAD@{0}: reset: moving to 1a410ef\nab1afef HEAD@{1}: commit: modified repo.rb a bit\n484a592 HEAD@{2}: commit: added repo.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PB8"]],"x":"git reflog","n":"code","l":" 的工具。\n当你正在工作时，Git 会默默地记录每一次你改变 HEAD 时它的值。\n每一次你提交或改变分支，引用日志都会被更新。\n引用日志（reflog）也可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PB9"]],"x":"git update-ref","n":"code","l":" 命令更新，我们在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0091:off:0000000000"],["id","xref-r_git_refs"],["aid","E9PBA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 引用","n":"a","l":" 有提到使用这个命令而不是是直接将 SHA-1 的值写入引用文件中的原因。\n你可以在任何时候通过执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PBB"]],"x":"git reflog","n":"code","l":" 命令来了解你曾经做过什么："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PB1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PB2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PB3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PB4"]],"x":"$","n":"span","l":" git reset --hard 1a410efbd13591db07496601ebc7a059dd55cfe9\nHEAD is now at 1a410ef third commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PB5"]],"x":"$","n":"span","l":" git log --pretty=oneline\n1a410efbd13591db07496601ebc7a059dd55cfe9 third commit\ncac0cab538b970a37ea1e769cbbde608743bc96d second commit\nfdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAV"]],"x":"master","n":"code","l":" 分支硬重置到第三次提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PAQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PAR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PAS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PAT"]],"x":"$","n":"span","l":" git log --pretty=oneline\nab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit\n484a59275031909e19aadb7c92262719cfcdf19a added repo.rb\n1a410efbd13591db07496601ebc7a059dd55cfe9 third commit\ncac0cab538b970a37ea1e769cbbde608743bc96d second commit\nfdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_gc"],["aid","E9P9F"]],"x":"维护","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P9G"]],"x":"Git 会不定时地自动运行一个叫做 “auto gc” 的命令。\n大多数时候，这个命令并不会产生效果。\n然而，如果有太多松散对象（不在包文件中的对象）或者太多包文件，Git 会运行一个完整的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P9I"]],"x":"可以像下面一样手动执行自动垃圾回收：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P9J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P9O"]],"x":"就像上面提到的，这个命令通常并不会产生效果。\n大约需要 7000 个以上的松散对象或超过 50 个的包文件才能让 Git 启动一次真正的 gc 命令。\n你可以通过修改 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P9R"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P9T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PA2"]],"x":"如果你执行了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9PA6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PAC"]],"x":"如果你更新了引用，Git 并不会修改这个文件，而是向 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9PAI"]],"x":"注意这个文件的最后一行，它会以 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAJ"]],"x":"^","n":"code","l":" 开头。\n这个符号表示它上一行的标签是附注标签，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAK"]],"x":"^","n":"code","l":" 所在的那一行是附注标签指向的那个提交。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAD"]],"x":"refs/heads","n":"code","l":" 创建一个新的文件。\n为了获得指定引用的正确 SHA-1 值，Git 会首先在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAE"]],"x":"refs","n":"code","l":" 目录中查找指定的引用，然后再到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAF"]],"x":"packed-refs","n":"code","l":" 文件中查找。\n所以，如果你在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAG"]],"x":"refs","n":"code","l":" 目录中找不到一个引用，那么它或许在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PAH"]],"x":"packed-refs","n":"code","l":" 文件中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9PA7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9PA8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PA9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PAA"]],"x":"$","n":"span","l":" cat .git/packed-refs\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PAB"]],"x":"#","n":"span","l":" pack-refs with: peeled fully-peeled\ncac0cab538b970a37ea1e769cbbde608743bc96d refs/heads/experiment\nab1afef80fac8e34258ff41fc1b867c702daa24b refs/heads/master\ncac0cab538b970a37ea1e769cbbde608743bc96d refs/tags/v1.0\n9585191f37f7b0fb9444f35a9bf50de191beadc2 refs/tags/v1.1\n^1a410efbd13591db07496601ebc7a059dd55cfe9"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PA3"]],"x":"git gc","n":"code","l":" 命令，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PA4"]],"x":"refs","n":"code","l":" 目录中将不会再有这些文件。\n为了保证效率 Git 会将它们移动到名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9PA5"]],"x":".git/packed-refs","n":"code","l":" 的文件中，就像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P9U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P9V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9PA0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9PA1"]],"x":"$","n":"span","l":" find .git/refs -type f\n.git/refs/heads/experiment\n.git/refs/heads/master\n.git/refs/tags/v1.0\n.git/refs/tags/v1.1"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P9S"]],"x":"gc","n":"code","l":" 将会做的另一件事是打包你的引用到一个单独的文件。\n假设你的仓库包含以下分支与标签："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P9P"]],"x":"gc.auto","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P9Q"]],"x":"gc.autopacklimit","n":"code","l":" 的设置来改动这些数值。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P9K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P9L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P9M"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P9N"]],"x":"$","n":"span","l":" git gc --auto"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P9H"]],"x":"git gc","n":"code","l":" 命令。\n“gc” 代表垃圾回收，这个命令会做以下事情：收集所有松散对象并将它们放置到包文件中，将多个包文件合并为一个大的包文件，移除与任何提交都不相关的陈旧对象。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_协议总结"],["aid","E9P97"]],"x":"协议总结","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P98"]],"x":"这一章节是传输协议的一个概貌。\n传输协议还有很多其它的特性，像是 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P99"]],"x":"multi_ack","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P9A"]],"x":"side-band","n":"code","l":"，但是这些内容已经超出了本书的范围。\n我们希望能给你展示客户端和服务端之间的基本交互过程；如果你需要更多的相关知识，你可以参阅 Git 的源代码。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_下载数据"],["aid","E9P7Q"]],"x":"下载数据","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P7R"]],"x":"\n当你在下载数据时， ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SSH"],["aid","E9P80"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","HTTP(S)"],["aid","E9P8P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_http_s_2"],["aid","E9P8Q"]],"x":"HTTP(S)","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P8R"]],"x":"抓取操作的握手需要两个 HTTP 请求。\n第一个是向和哑协议中相同的端点发送 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P8T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P90"]],"x":"这和通过 SSH 使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P92"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P95"]],"x":"这个输出格式还是和前面一样的。\n这个请求的响应包含了所需要的包文件，并指明成功或失败。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P93"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P94"]],"x":"=> POST $GIT_URL/git-upload-pack HTTP/1.0\n0032want 0a53e9ddeaddad63ad106860237bbf53411d11a7\n0032have 441b40d833fdfa93eb2908e52742248faf0ee993\n0000","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P91"]],"x":"git-upload-pack","n":"code","l":" 是非常相似的，但是第二个数据交换则是一个单独的请求："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P8U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P8V"]],"x":"=> GET $GIT_URL/info/refs?service=git-upload-pack\n001e# service=git-upload-pack\n00e7ca82a6dff817ec66f44342007202690a93763949 HEAD multi_ack thin-pack \\\n\tside-band side-band-64k ofs-delta shallow no-progress include-tag \\\n\tmulti_ack_detailed no-done symref=HEAD:refs/heads/master \\\n\tagent=git/2:2.1.1+github-607-gfba4028\n003fca82a6dff817ec66f44342007202690a93763949 refs/heads/master\n0000","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P8S"]],"x":"GET","n":"code","l":" 请求："},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_ssh_2"],["aid","E9P81"]],"x":"SSH","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P82"]],"x":"如果你通过 SSH 使用抓取功能，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P84"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P8A"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P8D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P8G"]],"x":"这与 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P8J"]],"x":"这时候，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P8M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P8N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P8O"]],"x":"003cwant ca82a6dff817ec66f44342007202690a93763949 ofs-delta\n0032have 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7\n0009done\n0000","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P8K"]],"x":"fetch-pack","n":"code","l":" 进程查看它自己所拥有的对象，并响应 “want” 和它需要的对象的 SHA-1 值。\n它还会发送“have”和所有它已拥有的对象的 SHA-1 值。\n在列表的最后，它还会发送“done”以通知 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P8L"]],"x":"upload-pack","n":"code","l":" 进程可以开始发送它所需对象的包文件："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P8H"]],"x":"receive-pack","n":"code","l":" 的响应很相似，但是这里所包含的能力是不同的。\n而且它还包含 HEAD 引用所指向内容（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P8I"]],"x":"symref=HEAD:refs/heads/master","n":"code","l":"），这样如果客户端执行的是克隆，它就会知道要检出什么。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P8E"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P8F"]],"x":"00dfca82a6dff817ec66f44342007202690a93763949 HEAD multi_ack thin-pack \\\n\tside-band side-band-64k ofs-delta shallow no-progress include-tag \\\n\tmulti_ack_detailed symref=HEAD:refs/heads/master \\\n\tagent=git/2:2.1.1+github-607-gfba4028\n003fe2409a098dc3e53539a9028a94b6224db9d6a6b6 refs/heads/master\n0000","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P8B"]],"x":"fetch-pack","n":"code","l":" 连接后，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P8C"]],"x":"upload-pack","n":"code","l":" 会返回类似下面的内容："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P85"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P86"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P87"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P88"]],"x":"$","n":"span","l":" ssh -x git@server "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P89"]],"x":"\"git-upload-pack 'simplegit-progit.git'\"","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P83"]],"x":"fetch-pack","n":"code","l":" 会像这样运行："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7S"]],"x":"fetch-pack","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7T"]],"x":"upload-pack","n":"code","l":" 进程就起作用了。\n客户端启动 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7U"]],"x":"fetch-pack","n":"code","l":" 进程，连接至远端的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7V"]],"x":"upload-pack","n":"code","l":" 进程，以协商后续传输的数据。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_上传数据"],["aid","E9P61"]],"x":"上传数据","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P62"]],"x":"\n为了上传数据至远端，Git 使用 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SSH"],["aid","E9P67"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","HTTP(S)"],["aid","E9P7A"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_http_s"],["aid","E9P7B"]],"x":"HTTP(S)","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P7C"]],"x":"HTTPS 与 HTTP 相比较，除了在“握手”过程略有不同外，其他基本相似。\n连接是从下面这个请求开始的：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P7D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P7G"]],"x":"这完成了客户端和服务端的第一次数据交换。\n接下来客户端发起另一个请求，这次是一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P7J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P7M"]],"x":"这个 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7N"]],"x":"POST","n":"code","l":" 请求的内容是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7O"]],"x":"send-pack","n":"code","l":" 的输出和相应的包文件。\n服务端在收到请求后相应地作出成功或失败的 HTTP 响应。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P7K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P7L"]],"x":"=> POST http://server/simplegit-progit.git/git-receive-pack","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7H"]],"x":"POST","n":"code","l":" 请求，这个请求中包含了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P7I"]],"x":"git-upload-pack","n":"code","l":" 提供的数据。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P7E"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P7F"]],"x":"=> GET http://server/simplegit-progit.git/info/refs?service=git-receive-pack\n001f# service=git-receive-pack\n00ab6c5f0e45abd7832bf23074a333f739977c9e8188 refs/heads/master report-status \\\n\tdelete-refs side-band-64k quiet ofs-delta \\\n\tagent=git/2:2.1.1~vmg-bitmaps-bugaloo-608-g116744e\n0000","n":"code"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_ssh"],["aid","E9P68"]],"x":"SSH","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P69"]],"x":"举例来说，在项目中使用命令 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P6D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P6J"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P6O"]],"x":"每一行以一个四位的十六进制值开始，用于指明本行的长度。\n你看到第一行以 005b 开始，这在十六进制中表示 91，意味着第一行有 91 字节。\n下一行以 003e 起始，也就是 62，所以下面需要读取 62 字节。\n再下一行是 0000，表示服务端已完成了发送引用列表过程。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P6P"]],"x":"现在它知道了服务端的状态，你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P70"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P73"]],"x":"Git 会为每一个将要更新的引用发送一行数据，包括该行长度，旧 SHA-1 值，新 SHA-1 值和将要更新的引用。\n第一行也包括了客户端的能力。\n这里的全为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P76"]],"x":"接下来，客户端会发送一个包文件，它包含了所有服务端还没有的对象。\n最后，服务端会以成功（或失败）响应：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P77"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P78"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P79"]],"x":"000eunpack ok","n":"code"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","E9P74"]],"x":"0","n":"em","l":" 的 SHA-1 值表示之前没有过这个引用——因为你正要添加新的 experiment 引用。\n删除引用时，将会看到相反的情况：右边的 SHA-1 值全为 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","E9P75"]],"x":"0","n":"em","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P71"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P72"]],"x":"0076ca82a6dff817ec66f44342007202690a93763949 15027957951b64cf874c3557a0f3547bd83b3ff6 \\\n\trefs/heads/master report-status\n006c0000000000000000000000000000000000000000 cdfdb42577e2506715f8cfeacdbabc092bf63e8d \\\n\trefs/heads/experiment\n0000","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6Q"]],"x":"send-pack","n":"code","l":" 进程会判断哪些提交记录是它所拥有但服务端没有的。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6R"]],"x":"send-pack","n":"code","l":" 会告知 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6S"]],"x":"receive-pack","n":"code","l":" 这次推送将会更新的各个引用。\n举个例子，如果你正在更新 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6T"]],"x":"master","n":"code","l":" 分支，并且增加 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6U"]],"x":"experiment","n":"code","l":" 分支，这个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6V"]],"x":"send-pack","n":"code","l":" 的响应将会是像这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6K"]],"x":"git-receive-pack","n":"code","l":" 命令会立即为它所拥有的每一个引用发送一行响应——在这个例子中，就只有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6L"]],"x":"master","n":"code","l":" 分支和它的 SHA-1 值。\n第一行响应中也包含了一个服务端能力的列表（这里是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6M"]],"x":"report-status","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6N"]],"x":"delete-refs","n":"code","l":" 和一些其它的，包括客户端的识别码）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P6E"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P6F"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P6G"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P6H"]],"x":"$","n":"span","l":" ssh -x git@server "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P6I"]],"x":"\"git-receive-pack 'simplegit-progit.git'\"","n":"span","l":"\n00a5ca82a6dff817ec66f4437202690a93763949 refs/heads/master report-status \\\n\tdelete-refs side-band-64k quiet ofs-delta \\\n\tagent=git/2:2.1.1+github-607-gfba4028 delete-refs\n0000"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6A"]],"x":"git push origin master","n":"code","l":" 时, "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6B"]],"x":"origin","n":"code","l":" 是由基于 SSH 协议的 URL 所定义的。\nGit 会运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P6C"]],"x":"send-pack","n":"code","l":" 进程，它会通过 SSH 连接你的服务器。\n它会尝试通过 SSH 在服务端执行命令，就像这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P63"]],"x":"send-pack","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P64"]],"x":"receive-pack","n":"code","l":" 进程。\n运行在客户端上的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P65"]],"x":"send-pack","n":"code","l":" 进程连接到远端运行的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P66"]],"x":"receive-pack","n":"code","l":" 进程。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P5S"]],"x":"master","n":"code","l":" 分支检出到工作目录。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P5P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P5Q"]],"x":"=> GET objects/pack/pack-816a9b2334da9953e530f27bcac22082a9f5b835.pack\n(13k of binary data)","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P5L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P5M"]],"x":"=> GET objects/pack/pack-816a9b2334da9953e530f27bcac22082a9f5b835.idx\n(4k of binary data)","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P5H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P5I"]],"x":"=> GET objects/info/packs\nP pack-816a9b2334da9953e530f27bcac22082a9f5b835.pack","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P5E"]],"x":"objects/info/packs","n":"code","l":" 文件，这里面有一个包文件列表（它也是通过执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P5F"]],"x":"update-server-info","n":"code","l":" 所生成的）："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P5B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P5C"]],"x":"=> GET objects/info/http-alternates\n(empty file)","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P57"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P58"]],"x":"=> GET objects/cf/da3bf379e4f8dba8717dee55aab78aef7f4daf\n(404 - Not Found)","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P53"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P54"]],"x":"=> GET objects/08/5bb3bcb608e1e8451d4b2432f8ecbe6306e7e7\n(179 bytes of data)","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P50"]],"x":"cfda3b","n":"code","l":"，它包含有我们刚刚获取的提交对象所指向的内容，另一个是它的父提交 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P51"]],"x":"085bb3","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P4R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P4S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P4T"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P4U"]],"x":"$","n":"span","l":" git cat-file -p ca82a6dff817ec66f44342007202690a93763949\ntree cfda3bf379e4f8dba8717dee55aab78aef7f4daf\nparent 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7\nauthor Scott Chacon <schacon@gmail.com> 1205815931 -0700\ncommitter Scott Chacon <schacon@gmail.com> 1240030591 -0700\n\nchanged the version number"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P4N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P4O"]],"x":"=> GET objects/ca/82a6dff817ec66f44342007202690a93763949\n(179 bytes of binary data)","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P4J"]],"x":"master","n":"code","l":" 分支。\n这时，你就可以开始遍历处理了。\n因为你是从 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P4K"]],"x":"info/refs","n":"code","l":" 文件中所提到的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P4L"]],"x":"ca82a6","n":"code","l":" 提交对象开始的，所以你的首要操作是获取它："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P4G"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P4H"]],"x":"=> GET HEAD\nref: refs/heads/master","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P4C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P4D"]],"x":"=> GET info/refs\nca82a6dff817ec66f44342007202690a93763949     refs/heads/master","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P48"]],"x":"info/refs","n":"code","l":" 文件。\n这个文件是通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P49"]],"x":"update-server-info","n":"code","l":" 命令生成的，这也解释了在使用HTTP传输时，必须把它设置为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P4A"]],"x":"post-receive","n":"code","l":" 钩子的原因："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P43"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P44"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P45"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P46"]],"x":"$","n":"span","l":" git clone http://server/simplegit-progit.git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P41"]],"x":"http-fetch","n":"code","l":" 的过程："},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","E9P3U"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P3V"]],"x":"现在已经很少使用哑协议了。\n使用哑协议的版本库很难保证安全性和私有化，所以大多数 Git 服务器宿主（包括云端和本地）都会拒绝使用它。\n一般情况下都建议使用智能协议，我们会在后面进行介绍。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P3S"]],"x":"GET","n":"code","l":" 请求，这种情况下，客户端可以推断出服务端 Git 仓库的布局。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_删除引用"],["aid","E9P35"]],"x":"删除引用","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P36"]],"x":"你还可以借助类似下面的命令通过引用规格从远程服务器上删除引用：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P37"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P3C"]],"x":"因为引用规格（的格式）是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P3G"]],"x":"或者你可以使用更新的语法（自Git v1.7.0以后可用）：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P3H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P3I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P3J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P3K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P3L"]],"x":"$","n":"span","l":" git push origin --delete topic"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P3D"]],"x":"<src>:<dst>","n":"code","l":"，所以上述命令把 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P3E"]],"x":"<src>","n":"code","l":" 留空，意味着把远程版本库的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P3F"]],"x":"topic","n":"code","l":" 分支定义为空值，也就是删除它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P38"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P39"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P3A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P3B"]],"x":"$","n":"span","l":" git push origin :topic"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_pushing_refspecs"],["aid","E9P2A"]],"x":"引用规格推送","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P2B"]],"x":"像上面这样从远程版本库获取已在命名空间中的引用当然很棒，但 QA 团队最初应该如何将他们的分支放入远程的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P2D"]],"x":"如果 QA 团队想把他们的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P2G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P2L"]],"x":"如果他们希望 Git 每次运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9P2O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9P30"]],"x":"正如刚才所指出的，这会让 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P31"]],"x":"git push origin","n":"code","l":" 默认把本地 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P32"]],"x":"master","n":"code","l":" 分支推送到远程 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P33"]],"x":"qa/master","n":"code","l":" 分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P2P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P2Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P2R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P2S"]],"x":"[remote \"origin\"]","n":"span","l":"\n\turl = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P2T"]],"x":"https://github.com/schacon/simplegit-progit","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P2U"]],"x":"\tfetch = +refs/heads/*:refs/remotes/origin/*","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P2V"]],"x":"\tpush = refs/heads/master:refs/heads/qa/master","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P2M"]],"x":"git push origin","n":"code","l":" 时都像上面这样推送，可以在他们的配置文件中添加一条 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P2N"]],"x":"push","n":"code","l":" 值："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P2H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P2I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P2J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P2K"]],"x":"$","n":"span","l":" git push origin master:refs/heads/qa/master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P2E"]],"x":"master","n":"code","l":" 分支推送到远程服务器的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P2F"]],"x":"qa/master","n":"code","l":" 分支上，可以运行："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P2C"]],"x":"qa/","n":"code","l":" 命名空间呢？\n我们可以通过引用规格推送来完成这个任务。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P21"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P22"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P23"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P24"]],"x":"[remote \"origin\"]","n":"span","l":"\n\turl = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P25"]],"x":"https://github.com/schacon/simplegit-progit","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P26"]],"x":"\tfetch = +refs/heads/master:refs/remotes/origin/master","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P27"]],"x":"\tfetch = +refs/heads/qa/*:refs/remotes/origin/qa/*","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P1V"]],"x":"master","n":"code","l":" 和 QA 团队的所有分支而不关心其他任何分支，那么可以使用如下配置："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P1S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P1T"]],"x":"fetch = +refs/heads/qa*:refs/remotes/origin/qa*","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P1J"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P1K"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P1L"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P1M"]],"x":"[remote \"origin\"]","n":"span","l":"\n\turl = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P1N"]],"x":"https://github.com/schacon/simplegit-progit","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P1O"]],"x":"\tfetch = +refs/heads/master:refs/remotes/origin/master","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P1P"]],"x":"\tfetch = +refs/heads/experiment:refs/remotes/origin/experiment","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P1G"]],"x":"master","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P1H"]],"x":"experiment","n":"code","l":" 分支，添加如下两行："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P1D"]],"x":"master","n":"code","l":" 分支的拉取操作被拒绝，因为它不是一个可以快进的引用。\n我们可以通过在引用规格之前指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P1E"]],"x":"+","n":"code","l":" 号来覆盖该规则。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P17"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P18"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P19"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P1A"]],"x":"$","n":"span","l":" git fetch origin master:refs/remotes/origin/mymaster "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","E9P1B"]],"x":"\\","n":"span","l":"\n\t topic:refs/remotes/origin/topic\nFrom git@github.com:schacon/simplegit\n ! [rejected]        master     -> origin/mymaster  (non fast forward)\n * [new branch]      topic      -> origin/topic"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P11"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P12"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P13"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P14"]],"x":"$","n":"span","l":" git fetch origin master:refs/remotes/origin/mymaster"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0T"]],"x":"git fetch","n":"code","l":" 操作的默认引用规格。\n如果有某些只希望被执行一次的操作，我们也可以在命令行指定引用规格。\n若要将远程的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0U"]],"x":"master","n":"code","l":" 分支拉到本地的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0V"]],"x":"origin/mymaster","n":"code","l":" 分支，可以运行："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P0Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P0R"]],"x":"fetch = +refs/heads/master:refs/remotes/origin/master","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0O"]],"x":"master","n":"code","l":" 分支，而不是所有分支，可以把（引用规格的）获取那一行修改为："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0M"]],"x":"refs/remotes/origin/master","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9P0F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9P0G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9P0H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P0I"]],"x":"$","n":"span","l":" git log origin/master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P0J"]],"x":"$","n":"span","l":" git log remotes/origin/master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P0K"]],"x":"$","n":"span","l":" git log refs/remotes/origin/master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0A"]],"x":"git remote add","n":"code","l":" 命令自动生成， Git 获取服务器中 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0B"]],"x":"refs/heads/","n":"code","l":" 下面的所有引用，并将它写入到本地的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0C"]],"x":"refs/remotes/origin/","n":"code","l":" 中。\n所以，如果服务器上有一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P0D"]],"x":"master","n":"code","l":" 分支，我们可以在本地通过下面这种方式来访问该分支上的提交记录："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P04"]],"x":"+","n":"code","l":" 号和紧随其后的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P05"]],"x":"<src>:<dst>","n":"code","l":" 组成，其中 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P06"]],"x":"<src>","n":"code","l":" 是一个模式（pattern），代表远程版本库中的引用；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P07"]],"x":"<dst>","n":"code","l":" 是那些远程引用在本地所对应的位置。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9P08"]],"x":"+","n":"code","l":" 号告诉 Git 即使在不能快进的情况下也要（强制）更新引用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OVT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OVU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OVV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9P00"]],"x":"[remote \"origin\"]","n":"span","l":"\n\turl = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P01"]],"x":"https://github.com/schacon/simplegit-progit","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9P02"]],"x":"\tfetch = +refs/heads/*:refs/remotes/origin/*","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OVQ"]],"x":".git/config","n":"code","l":" 文件中添加一个小节，并在其中指定远程版本库的名称（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OVR"]],"x":"origin","n":"code","l":"）、URL 和一个用于获取操作的引用规格（refspec）："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OVL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OVM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OVN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OVO"]],"x":"$","n":"span","l":" git remote add origin https://github.com/schacon/simplegit-progit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OVG"]],"x":"git gc","n":"code","l":" 命令来这么做。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OVB"]],"x":"033b4","n":"code","l":" 这个数据对象（即 repo.rb 文件的第一个版本，如果你还记得的话）引用了数据对象 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OVC"]],"x":"b042a","n":"code","l":"，即该文件的第二个版本。\n命令输出内容的第三列显示的是各个对象在包文件中的大小，可以看到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OVD"]],"x":"b042a","n":"code","l":" 占用了 22K 空间，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OVE"]],"x":"033b4","n":"code","l":" 仅占用 9 字节。\n同样有趣的地方在于，第二个版本完整保存了文件内容，而原始的版本反而是以差异方式保存的——这是因为大部分情况下需要快速访问文件的最新版本。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OV6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OV7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OV8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OV9"]],"x":"$","n":"span","l":" git verify-pack -v .git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.idx\n2431da676938450a4d72e260db3bf7b0f587bbc1 commit 223 155 12\n69bcdaff5328278ab1c0812ce0e07fa7d26a96d7 commit 214 152 167\n80d02664cb23ed55b226516648c7ad5d0a3deb90 commit 214 145 319\n43168a18b7613d1281e5560855a83eb8fde3d687 commit 213 146 464\n092917823486a802e94d727c820a9024e14a1fc2 commit 214 146 610\n702470739ce72005e2edff522fde85d52a65df9b commit 165 118 756\nd368d0ac0678cbe6cce505be58126d3526706e54 tag    130 122 874\nfe879577cb8cffcdf25441725141e310dd7d239b tree   136 136 996\nd8329fc1cc938780ffdd9f94e0d364e0ea74f579 tree   36 46 1132\ndeef2e1b793907545e50a2ea2ddb5ba6c58c4506 tree   136 136 1178\nd982c7cb2c2a972ee391a85da481fc1f9127a01d tree   6 17 1314 1 \\\n  deef2e1b793907545e50a2ea2ddb5ba6c58c4506\n3c4e9cd789d88d8d89c1073707c3585e41b0e614 tree   8 19 1331 1 \\\n  deef2e1b793907545e50a2ea2ddb5ba6c58c4506\n0155eb4229851634a0f03eb265b69f5a2d56f341 tree   71 76 1350\n83baae61804e65cc73a7201a7252750c76066a30 blob   10 19 1426\nfa49b077972391ad58037050f2a75f74e3671e92 blob   9 18 1445\nb042a60ef7dff760008df33cee372b945b6e884e blob   22054 5799 1463\n033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5 blob   9 20 7262 1 \\\n  b042a60ef7dff760008df33cee372b945b6e884e\n1f7a7a472abf3dd9643fd615f6da379c4acb3e3a blob   10 19 7282\nnon delta: 15 objects\nchain length = 1: 3 objects\n.git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.pack: ok"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OV4"]],"x":"git verify-pack","n":"code","l":" 这个底层命令可以让你查看已打包的内容："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OV2"]],"x":"gc","n":"code","l":" 命令前磁盘上的对象大小约为 22K，而这个新生成的包文件大小仅有 7K。\n通过打包对象减少了 ⅔ 的磁盘占用空间。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OUS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OUT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OUU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OUV"]],"x":"$","n":"span","l":" find .git/objects -type f\n.git/objects/bd/9dbf5aae1a3862dd1526723246b20206e5fc37\n.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4\n.git/objects/info/packs\n.git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.idx\n.git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.pack"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OUM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OUN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OUO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OUP"]],"x":"$","n":"span","l":" git gc\nCounting objects: 18, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (14/14), done.\nWriting objects: 100% (18/18), done.\nTotal 18 (delta 3), reused 0 (delta 0)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OUJ"]],"x":"git gc","n":"code","l":" 命令，或者你向远程服务器执行推送时，Git 都会这样做。\n要看到打包过程，你可以手动执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OUK"]],"x":"git gc","n":"code","l":" 命令让 Git 对对象进行打包："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OUD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OUE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OUF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OUG"]],"x":"$","n":"span","l":" git cat-file -s b042a60ef7dff760008df33cee372b945b6e884e\n22054"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OU7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OU8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OU9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OUA"]],"x":"$","n":"span","l":" git cat-file -p master^{tree}\n100644 blob fa49b077972391ad58037050f2a75f74e3671e92      new.txt\n100644 blob b042a60ef7dff760008df33cee372b945b6e884e      repo.rb\n100644 blob e3f094f522629ae358806b17daf78246c27c007b      test.txt"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OTU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OTV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OU0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OU1"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OU2"]],"x":"'# testing'","n":"span","l":" >> repo.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OU3"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OU4"]],"x":"'modified repo a bit'","n":"span","l":"\n[master 2431da6] modified repo.rb a bit\n 1 file changed, 1 insertion(+)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OTO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OTP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OTQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OTR"]],"x":"$","n":"span","l":" git cat-file -s 033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5\n22044"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OTM"]],"x":"git cat-file","n":"code","l":" 命令查看这个对象有多大："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OTH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OTI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OTJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OTK"]],"x":"$","n":"span","l":" git cat-file -p master^{tree}\n100644 blob fa49b077972391ad58037050f2a75f74e3671e92      new.txt\n100644 blob 033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5      repo.rb\n100644 blob e3f094f522629ae358806b17daf78246c27c007b      test.txt"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OT8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OT9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OTA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OTB"]],"x":"$","n":"span","l":" curl https://raw.githubusercontent.com/mojombo/grit/master/lib/grit/repo.rb > repo.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OTC"]],"x":"$","n":"span","l":" git add repo.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OTD"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OTE"]],"x":"'added repo.rb'","n":"span","l":"\n[master 484a592] added repo.rb\n 3 files changed, 709 insertions(+), 2 deletions(-)\n delete mode 100644 bak/test.txt\n create mode 100644 repo.rb\n rewrite test.txt (100%)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OT6"]],"x":"repo.rb","n":"code","l":" 文件添加进来——这是一个大小约为 22K 的源代码文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OT1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OT2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OT3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OT4"]],"x":"$","n":"span","l":" find .git/objects -type f\n.git/objects/01/55eb4229851634a0f03eb265b69f5a2d56f341 # tree 2\n.git/objects/1a/410efbd13591db07496601ebc7a059dd55cfe9 # commit 3\n.git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a # test.txt v2\n.git/objects/3c/4e9cd789d88d8d89c1073707c3585e41b0e614 # tree 3\n.git/objects/83/baae61804e65cc73a7201a7252750c76066a30 # test.txt v1\n.git/objects/95/85191f37f7b0fb9444f35a9bf50de191beadc2 # tag\n.git/objects/ca/c0cab538b970a37ea1e769cbbde608743bc96d # commit 2\n.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 # 'test content'\n.git/objects/d8/329fc1cc938780ffdd9f94e0d364e0ea74f579 # tree 1\n.git/objects/fa/49b077972391ad58037050f2a75f74e3671e92 # new.txt\n.git/objects/fd/f4fc3344e67ab068f836878b6c4951e3b15f3d # commit 1"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_远程引用"],["aid","E9OS4"]],"x":"远程引用","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OS5"]],"x":"我们将看到的第三种引用类型是远程引用（remote reference）。\n如果你添加了一个远程版本库并对其执行过推送操作，Git 会记录下最近一次推送操作时每一个分支所对应的值，并保存在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OS9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OSF"]],"x":"此时，如果查看 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OSK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OSP"]],"x":"远程引用和分支（位于 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OSQ"]],"x":"refs/heads","n":"code","l":" 目录下的引用）之间最主要的区别在于，远程引用是只读的。\n虽然可以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OSR"]],"x":"git checkout","n":"code","l":" 到某个远程引用，但是 Git 并不会将 HEAD 引用指向该远程引用。因此，你永远不能通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OSS"]],"x":"commit","n":"code","l":" 命令来更新远程引用。\nGit 将这些远程引用作为记录远程服务器上各分支最后已知位置状态的书签来管理。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OSL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OSM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OSN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OSO"]],"x":"$","n":"span","l":" cat .git/refs/remotes/origin/master\nca82a6dff817ec66f44342007202690a93763949"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OSG"]],"x":"refs/remotes/origin/master","n":"code","l":" 文件，可以发现 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OSH"]],"x":"origin","n":"code","l":" 远程版本库的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OSI"]],"x":"master","n":"code","l":" 分支所对应的 SHA-1 值，就是最近一次与服务器通信时本地 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OSJ"]],"x":"master","n":"code","l":" 分支所对应的 SHA-1 值："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OSA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OSB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OSC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OSD"]],"x":"$","n":"span","l":" git remote add origin git@github.com:schacon/simplegit-progit.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OSE"]],"x":"$","n":"span","l":" git push origin master\nCounting objects: 11, done.\nCompressing objects: 100% (5/5), done.\nWriting objects: 100% (7/7), 716 bytes, done.\nTotal 7 (delta 2), reused 4 (delta 1)\nTo git@github.com:schacon/simplegit-progit.git\n  a11bef0..ca82a6d  master -> master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OS6"]],"x":"refs/remotes","n":"code","l":" 目录下。\n例如，你可以添加一个叫做 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OS7"]],"x":"origin","n":"code","l":" 的远程版本库，然后把 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OS8"]],"x":"master","n":"code","l":" 分支推送上去："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_标签引用"],["aid","E9OQU"]],"x":"标签引用","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OQV"]],"x":"前文我们刚讨论过 Git 的三种主要对象类型，事实上还有第四种。\n标签对象（tag object）非常类似于一个提交对象——它包含一个标签创建者信息、一个日期、一段注释信息，以及一个指针。\n主要的区别在于，标签对象通常指向一个提交对象，而不是一个树对象。\n它像是一个永不移动的分支引用——永远指向同一个提交对象，只不过给这个提交对象加上一个更友好的名字罢了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OR0"]],"x":"正如 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OR2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OR7"]],"x":"这就是轻量标签的全部内容——一个固定的引用。\n然而，一个附注标签则更复杂一些。\n若要创建一个附注标签，Git 会创建一个标签对象，并记录一个引用来指向该标签对象，而不是直接指向提交对象。\n可以通过创建一个附注标签来验证这个过程（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OR9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9ORF"]],"x":"下面是上述过程所建标签对象的 SHA-1 值：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9ORG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9ORL"]],"x":"现在对该 SHA-1 值运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9ORN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9ORS"]],"x":"我们注意到，object 条目指向我们打了标签的那个提交对象的 SHA-1 值。\n另外要注意的是，标签对象并非必须指向某个提交对象；你可以对任意类型的 Git 对象打标签。\n例如，在 Git 源码中，项目维护者将他们的 GPG 公钥添加为一个数据对象，然后对这个对象打了一个标签。\n可以克隆一个 Git 版本库，然后通过执行下面的命令来在这个版本库中查看上述公钥：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9ORT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OS2"]],"x":"Linux 内核版本库同样有一个不指向提交对象的标签对象——首个被创建的标签对象所指向的是最初被引入版本库的那份内核源码所对应的树对象。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9ORU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9ORV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OS0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OS1"]],"x":"$","n":"span","l":" git cat-file blob junio-gpg-pub"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9ORO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9ORP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9ORQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ORR"]],"x":"$","n":"span","l":" git cat-file -p 9585191f37f7b0fb9444f35a9bf50de191beadc2\nobject 1a410efbd13591db07496601ebc7a059dd55cfe9\ntype commit\ntag v1.1\ntagger Scott Chacon <schacon@gmail.com> Sat May 23 16:48:58 2009 -0700\n\ntest tag"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9ORM"]],"x":"cat-file","n":"code","l":" 命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9ORH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9ORI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9ORJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ORK"]],"x":"$","n":"span","l":" cat .git/refs/tags/v1.1\n9585191f37f7b0fb9444f35a9bf50de191beadc2"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9ORA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9ORB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9ORC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ORD"]],"x":"$","n":"span","l":" git tag -a v1.1 1a410efbd13591db07496601ebc7a059dd55cfe9 -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9ORE"]],"x":"'test tag'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OR8"]],"x":"-a","n":"code","l":" 选项指定了要创建的是一个附注标签）："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OR3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OR4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OR5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OR6"]],"x":"$","n":"span","l":" git update-ref refs/tags/v1.0 cac0cab538b970a37ea1e769cbbde608743bc96d"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000F:off:0000000000"],["id","xref--ch02-git-basics"],["aid","E9OR1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 基础","n":"a","l":" 中所讨论的那样，存在两种类型的标签：附注标签和轻量标签。\n可以像这样创建一个轻量标签："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_the_head"],["aid","E9OPN"]],"x":"HEAD 引用","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OPO"]],"x":"现在的问题是，当你执行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OPQ"]],"x":"HEAD 文件是一个符号引用（symbolic reference），指向目前所在的分支。\n所谓符号引用，意味着它并不像普通引用那样包含一个 SHA-1 值——它是一个指向其他引用的指针。\n如果查看 HEAD 文件的内容，一般而言我们看到的类似这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OPR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OQ0"]],"x":"如果执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OQ2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OQ7"]],"x":"当我们执行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OQ9"]],"x":"你也可以手动编辑该文件，然而同样存在一个更安全的命令来完成此事：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OQB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OQG"]],"x":"同样可以设置 HEAD 引用的值：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OQH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OQN"]],"x":"不能把符号引用设置为一个不符合引用格式的值：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OQO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OQP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OQQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OQR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OQS"]],"x":"$","n":"span","l":" git symbolic-ref HEAD test\nfatal: Refusing to point HEAD outside of refs/"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OQI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OQJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OQK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OQL"]],"x":"$","n":"span","l":" git symbolic-ref HEAD refs/heads/test\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OQM"]],"x":"$","n":"span","l":" cat .git/HEAD\nref: refs/heads/test"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OQC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OQD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OQE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OQF"]],"x":"$","n":"span","l":" git symbolic-ref HEAD\nrefs/heads/master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OQA"]],"x":"symbolic-ref","n":"code","l":"。\n可以借助此命令来查看 HEAD 引用对应的值："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OQ8"]],"x":"git commit","n":"code","l":" 时，该命令会创建一个提交对象，并用 HEAD 文件中那个引用所指向的 SHA-1 值设置其父提交字段。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OQ3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OQ4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OQ5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OQ6"]],"x":"$","n":"span","l":" cat .git/HEAD\nref: refs/heads/test"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OQ1"]],"x":"git checkout test","n":"code","l":"，Git 会像这样更新 HEAD 文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OPS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OPT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OPU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OPV"]],"x":"$","n":"span","l":" cat .git/HEAD\nref: refs/heads/master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OPP"]],"x":"git branch (branchname)","n":"code","l":" 时，Git 如何知道最新提交的 SHA-1 值呢？\n答案是 HEAD 文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OPK"]],"x":"git branch (branchname)","n":"code","l":" 这样的命令时，Git 实际上会运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OPL"]],"x":"update-ref","n":"code","l":" 命令，取得当前所在分支最新提交对应的 SHA-1 值，并将其加入你想要创建的任何新引用中。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","E9OPH"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","E9OPI"]],"x":"Figure 4. 包含分支引用的 Git 目录对象。","n":"figcaption","l":"\n"},{"a":[["alt","包含分支引用的 Git 目录对象。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0042?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OPB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OPC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OPD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OPE"]],"x":"$","n":"span","l":" git log --pretty=oneline test\ncac0cab538b970a37ea1e769cbbde608743bc96d second commit\nfdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OP5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OP6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OP7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OP8"]],"x":"$","n":"span","l":" git update-ref refs/heads/test cac0ca"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OOV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OP0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OP1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OP2"]],"x":"$","n":"span","l":" git update-ref refs/heads/master 1a410efbd13591db07496601ebc7a059dd55cfe9"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OOT"]],"x":"update-ref","n":"code","l":" 来完成此事："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OOO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OOP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OOQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OOR"]],"x":"$","n":"span","l":" git log --pretty=oneline  master\n1a410efbd13591db07496601ebc7a059dd55cfe9 third commit\ncac0cab538b970a37ea1e769cbbde608743bc96d second commit\nfdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OOH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OOI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OOJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OOK"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OOL"]],"x":"\"1a410efbd13591db07496601ebc7a059dd55cfe9\"","n":"span","l":" > .git/refs/heads/master"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OOA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OOB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OOC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OOD"]],"x":"$","n":"span","l":" find .git/refs\n.git/refs\n.git/refs/heads\n.git/refs/tags\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OOE"]],"x":"$","n":"span","l":" find .git/refs -type f"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OO8"]],"x":".git/refs","n":"code","l":" 目录下找到这类含有 SHA-1 值的文件。\n在目前的项目中，这个目录没有包含任何文件，但它包含了一个简单的目录结构："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OO5"]],"x":"git log 1a410e","n":"code","l":" 这样的命令来浏览完整的提交历史，但为了能遍历那段历史从而找到所有相关对象，你仍须记住 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OO6"]],"x":"1a410e","n":"code","l":" 是最后一个提交。\n我们需要一个文件来保存 SHA-1 值，并给文件起一个简单的名字，然后用这个名字指针来替代原始的 SHA-1 值。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_对象存储"],["aid","E9OMB"]],"x":"对象存储","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OMC"]],"x":"前文曾提及，在存储内容时，会有个头部信息一并被保存。\n让我们略花些时间来看看 Git 是如何存储其对象的。\n通过在 Ruby 脚本语言中交互式地演示，你将看到一个数据对象——本例中是字符串“what is up, doc?”——是如何被存储的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OMD"]],"x":"可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OMF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OMM"]],"x":"Git 以对象类型作为开头来构造一个头部信息，本例中是一个“blob”字符串。\n接着 Git 会添加一个空格，随后是数据内容的长度，最后是一个空字节（null byte）：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OMN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OMT"]],"x":"Git 会将上述头部信息和原始数据拼接起来，并计算出这条新内容的 SHA-1 校验和。\n在 Ruby 中可以这样计算 SHA-1 值——先通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9ON0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9ON8"]],"x":"Git 会通过 zlib 压缩这条新内容。在 Ruby 中可以借助 zlib 库做到这一点。\n先导入相应的库，然后对目标内容调用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9ONA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9ONH"]],"x":"最后，需要将这条经由 zlib 压缩的内容写入磁盘上的某个对象。\n要先确定待写入对象的路径（SHA-1 值的前两个字符作为子目录名称，后 38 个字符则作为子目录内文件的名称）。\n如果该子目录不存在，可以通过 Ruby 中的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9ONL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OO1"]],"x":"就是这样——你已创建了一个有效的 Git 数据对象。\n所有的 Git 对象均以这种方式存储，区别仅在于类型标识——另两种对象类型的头部信息以字符串“commit”或“tree”开头，而不是“blob”。\n另外，虽然数据对象的内容几乎可以是任何东西，但提交对象和树对象的内容却有各自固定的格式。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9ONM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9ONN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9ONO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ONP"]],"x":">","n":"span","l":"> path = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9ONQ"]],"x":"'.git/objects/'","n":"span","l":" + sha1[0,2] + "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9ONR"]],"x":"'/'","n":"span","l":" + sha1[2,38]\n=> \".git/objects/bd/9dbf5aae1a3862dd1526723246b20206e5fc37\"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ONS"]],"x":">","n":"span","l":"> require "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9ONT"]],"x":"'fileutils'","n":"span","l":"\n=> true\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ONU"]],"x":">","n":"span","l":"> FileUtils.mkdir_p(File.dirname(path))\n=> \".git/objects/bd\"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ONV"]],"x":">","n":"span","l":"> File.open(path, "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OO0"]],"x":"'w'","n":"span","l":") { |f| f.write zlib_content }\n=> 32"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9ONI"]],"x":"FileUtils.mkdir_p()","n":"code","l":" 函数来创建它。\n接着，通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9ONJ"]],"x":"File.open()","n":"code","l":" 打开这个文件。最后，对上一步中得到的文件句柄调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9ONK"]],"x":"write()","n":"code","l":" 函数，以向目标文件写入之前那条 zlib 压缩过的内容："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9ONB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9ONC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OND"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ONE"]],"x":">","n":"span","l":"> require "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9ONF"]],"x":"'zlib'","n":"span","l":"\n=> true\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ONG"]],"x":">","n":"span","l":"> zlib_content = Zlib::Deflate.deflate(store)\n=> \"x\\x9CK\\xCA\\xC9OR04c(\\xCFH,Q\\xC8,V(-\\xD0QH\\xC9O\\xB6\\a\\x00_\\x1C\\a\\x9D\""},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9ON9"]],"x":"Zlib::Deflate.deflate()","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9ON1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9ON2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9ON3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ON4"]],"x":">","n":"span","l":"> store = header + content\n=> \"blob 16\\u0000what is up, doc?\"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ON5"]],"x":">","n":"span","l":"> require "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9ON6"]],"x":"'digest/sha1'","n":"span","l":"\n=> true\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9ON7"]],"x":">","n":"span","l":"> sha1 = Digest::SHA1.hexdigest(store)\n=> \"bd9dbf5aae1a3862dd1526723246b20206e5fc37\""},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OMU"]],"x":"require","n":"code","l":" 命令导入 SHA-1 digest 库，然后对目标字符串调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OMV"]],"x":"Digest::SHA1.hexdigest()","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OMO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OMP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OMQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OMR"]],"x":">","n":"span","l":"> header = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OMS"]],"x":"\"blob #{content.length}\\0\"","n":"span","l":"\n=> \"blob 16\\u0000\""},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OMG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OMH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OMI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OMJ"]],"x":"$","n":"span","l":" irb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OMK"]],"x":">","n":"span","l":"> content = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OML"]],"x":"\"what is up, doc?\"","n":"span","l":"\n=> \"what is up, doc?\""},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OME"]],"x":"irb","n":"code","l":" 命令启动 Ruby 的交互模式："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_commit_objects"],["aid","E9OKO"]],"x":"提交对象","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OKP"]],"x":"现在有三个树对象，分别代表了我们想要跟踪的不同项目快照。然而问题依旧：若想重用这些快照，你必须记住所有三个 SHA-1 哈希值。\n并且，你也完全不知道是谁保存了这些快照，在什么时刻保存的，以及为什么保存这些快照。\n而以上这些，正是提交对象（commit object）能为你保存的基本信息。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OKQ"]],"x":"可以通过调用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OKS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OL2"]],"x":"现在可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OL4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OL9"]],"x":"提交对象的格式很简单：它先指定一个顶层树对象，代表当前项目快照；然后是作者/提交者信息（依据你的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OLC"]],"x":"接着，我们将创建另两个提交对象，它们分别引用各自的上一个提交（作为其父提交对象）：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OLD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OLL"]],"x":"这三个提交对象分别指向之前创建的三个树对象快照中的一个。\n现在，如果对最后一个提交的 SHA-1 值运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OLO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OLT"]],"x":"太神奇了：\n就在刚才，你没有借助任何上层命令，仅凭几个底层操作便完成了一个 Git 提交历史的创建。\n这就是每次我们运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OM1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OM6"]],"x":"如果跟踪所有的内部指针，将得到一个类似下面的对象关系图：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","E9OM7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","E9OM8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","E9OM9"]],"x":"Figure 3. 你的 Git 目录下的所有对象。","n":"figcaption","l":"\n"},{"a":[["alt","你的 Git 目录下的所有对象。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005B?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OM2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OM3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OM4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OM5"]],"x":"$","n":"span","l":" find .git/objects -type f\n.git/objects/01/55eb4229851634a0f03eb265b69f5a2d56f341 # tree 2\n.git/objects/1a/410efbd13591db07496601ebc7a059dd55cfe9 # commit 3\n.git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a # test.txt v2\n.git/objects/3c/4e9cd789d88d8d89c1073707c3585e41b0e614 # tree 3\n.git/objects/83/baae61804e65cc73a7201a7252750c76066a30 # test.txt v1\n.git/objects/ca/c0cab538b970a37ea1e769cbbde608743bc96d # commit 2\n.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 # 'test content'\n.git/objects/d8/329fc1cc938780ffdd9f94e0d364e0ea74f579 # tree 1\n.git/objects/fa/49b077972391ad58037050f2a75f74e3671e92 # new.txt\n.git/objects/fd/f4fc3344e67ab068f836878b6c4951e3b15f3d # commit 1"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OLU"]],"x":"git add","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OLV"]],"x":"git commit","n":"code","l":" 命令时， Git 所做的实质工作——将被改写的文件保存为数据对象，更新暂存区，记录树对象，最后创建一个指明了顶层树对象和父提交的提交对象。\n这三种主要的 Git 对象——数据对象、树对象、提交对象——最初均以单独文件的形式保存在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OM0"]],"x":".git/objects","n":"code","l":" 目录下。\n下面列出了目前示例目录内的所有对象，辅以各自所保存内容的注释："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OLP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OLQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OLR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OLS"]],"x":"$","n":"span","l":" git log --stat 1a410e\ncommit 1a410efbd13591db07496601ebc7a059dd55cfe9\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri May 22 18:15:24 2009 -0700\n\n\tthird commit\n\n bak/test.txt | 1 +\n 1 file changed, 1 insertion(+)\n\ncommit cac0cab538b970a37ea1e769cbbde608743bc96d\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri May 22 18:14:29 2009 -0700\n\n\tsecond commit\n\n new.txt  | 1 +\n test.txt | 2 +-\n 2 files changed, 2 insertions(+), 1 deletion(-)\n\ncommit fdf4fc3344e67ab068f836878b6c4951e3b15f3d\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri May 22 18:09:34 2009 -0700\n\n    first commit\n\n test.txt | 1 +\n 1 file changed, 1 insertion(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OLM"]],"x":"git log","n":"code","l":" 命令，会出乎意料的发现，你已有一个货真价实的、可由 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OLN"]],"x":"git log","n":"code","l":" 查看的 Git 提交历史了："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OLE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OLF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OLG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OLH"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OLI"]],"x":"'second commit'","n":"span","l":" | git commit-tree 0155eb -p fdf4fc3\ncac0cab538b970a37ea1e769cbbde608743bc96d\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OLJ"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OLK"]],"x":"'third commit'","n":"span","l":"  | git commit-tree 3c4e9c -p cac0cab\n1a410efbd13591db07496601ebc7a059dd55cfe9"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OLA"]],"x":"user.name","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OLB"]],"x":"user.email","n":"code","l":" 配置来设定，外加一个时间戳）；留空一行，最后是提交注释。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OL5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OL6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OL7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OL8"]],"x":"$","n":"span","l":" git cat-file -p fdf4fc3\ntree d8329fc1cc938780ffdd9f94e0d364e0ea74f579\nauthor Scott Chacon <schacon@gmail.com> 1243040974 -0700\ncommitter Scott Chacon <schacon@gmail.com> 1243040974 -0700\n\nfirst commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OL3"]],"x":"cat-file","n":"code","l":" 命令查看这个新提交对象："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OKT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OKU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OKV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OL0"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OL1"]],"x":"'first commit'","n":"span","l":" | git commit-tree d8329f\nfdf4fc3344e67ab068f836878b6c4951e3b15f3d"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OKR"]],"x":"commit-tree","n":"code","l":" 命令创建一个提交对象，为此需要指定一个树对象的 SHA-1 值，以及该提交的父提交对象（如果有的话）。\n我们从之前创建的第一个树对象开始："},{"a":[["class","content pcalibre1 pcalibre"],["aid","E9OKL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","E9OKM"]],"x":"Figure 2. 当前 Git 的数据内容结构。","n":"figcaption","l":"\n"},{"a":[["alt","当前 Git 的数据内容结构。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0003?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OKJ"]],"x":"bak","n":"code","l":" 的子目录，该子目录包含 test.txt 文件的第一个版本。\n可以认为 Git 内部存储着的用于表示上述结构的数据是这样的："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OKC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OKD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OKE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OKF"]],"x":"$","n":"span","l":" git read-tree --prefix=bak d8329fc1cc938780ffdd9f94e0d364e0ea74f579\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OKG"]],"x":"$","n":"span","l":" git write-tree\n3c4e9cd789d88d8d89c1073707c3585e41b0e614\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OKH"]],"x":"$","n":"span","l":" git cat-file -p 3c4e9cd789d88d8d89c1073707c3585e41b0e614\n040000 tree d8329fc1cc938780ffdd9f94e0d364e0ea74f579      bak\n100644 blob fa49b077972391ad58037050f2a75f74e3671e92      new.txt\n100644 blob 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a      test.txt"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OK7"]],"x":"1f7a7a","n":"code","l":"）是先前值的“第二版”。\n只是为了好玩：你可以将第一个树对象加入第二个树对象，使其成为新的树对象的一个子目录。\n通过调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OK8"]],"x":"read-tree","n":"code","l":" 命令，可以把树对象读入暂存区。\n本例中，可以通过对 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OK9"]],"x":"read-tree","n":"code","l":" 指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OKA"]],"x":"--prefix","n":"code","l":" 选项，将一个已有的树对象作为子树读入暂存区："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OK1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OK2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OK3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OK4"]],"x":"$","n":"span","l":" git write-tree\n0155eb4229851634a0f03eb265b69f5a2d56f341\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OK5"]],"x":"$","n":"span","l":" git cat-file -p 0155eb4229851634a0f03eb265b69f5a2d56f341\n100644 blob fa49b077972391ad58037050f2a75f74e3671e92      new.txt\n100644 blob 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a      test.txt"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OJN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OJO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OJP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OJQ"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OJR"]],"x":"'new file'","n":"span","l":" > new.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OJS"]],"x":"$","n":"span","l":" git update-index --cacheinfo 100644 "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","E9OJT"]],"x":"\\","n":"span","l":"\n  1f7a7a472abf3dd9643fd615f6da379c4acb3e3a test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OJU"]],"x":"$","n":"span","l":" git update-index --add new.txt"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OJH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OJI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OJJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OJK"]],"x":"$","n":"span","l":" git cat-file -t d8329fc1cc938780ffdd9f94e0d364e0ea74f579\ntree"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OJA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OJB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OJC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OJD"]],"x":"$","n":"span","l":" git write-tree\nd8329fc1cc938780ffdd9f94e0d364e0ea74f579\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OJE"]],"x":"$","n":"span","l":" git cat-file -p d8329fc1cc938780ffdd9f94e0d364e0ea74f579\n100644 blob 83baae61804e65cc73a7201a7252750c76066a30      test.txt"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OJ6"]],"x":"write-tree","n":"code","l":" 命令将暂存区内容写入一个树对象。\n此处无需指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OJ7"]],"x":"-w","n":"code","l":" 选项——如果某个树对象此前并不存在的话，当调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OJ8"]],"x":"write-tree","n":"code","l":" 命令时，它会根据当前暂存区状态自动创建一个新的树对象："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OJ2"]],"x":"100644","n":"code","l":"，表明这是一个普通文件。\n其他选择包括："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OJ3"]],"x":"100755","n":"code","l":"，表示一个可执行文件；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OJ4"]],"x":"120000","n":"code","l":"，表示一个符号链接。\n这里的文件模式参考了常见的 UNIX 文件模式，但远没那么灵活——上述三种模式即是 Git 文件（即数据对象）的所有合法模式（当然，还有其他一些模式，但用于目录项和子模块）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OIS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OIT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OIU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OIV"]],"x":"$","n":"span","l":" git update-index --add --cacheinfo 100644 "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","E9OJ0"]],"x":"\\","n":"span","l":"\n  83baae61804e65cc73a7201a7252750c76066a30 test.txt"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OIO"]],"x":"update-index","n":"code","l":" 为一个单独文件——我们的 test.txt 文件的首个版本——创建一个暂存区。\n利用该命令，可以把 test.txt 文件的首个版本人为地加入一个新的暂存区。\n必须为上述命令指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OIP"]],"x":"--add","n":"code","l":" 选项，因为此前该文件并不在暂存区中（我们甚至都还没来得及创建一个暂存区呢）；同样必需的还有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OIQ"]],"x":"--cacheinfo","n":"code","l":" 选项，因为将要添加的文件位于 Git 数据库中，而不是位于当前目录下。\n同时，需要指定文件模式、SHA-1 与文件名："},{"a":[["class","content pcalibre1 pcalibre"],["aid","E9OIL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","E9OIM"]],"x":"Figure 1. 简化版的 Git 数据模型。","n":"figcaption","l":"\n"},{"a":[["alt","简化版的 Git 数据模型。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0028?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OIF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OIG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OIH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OII"]],"x":"$","n":"span","l":" git cat-file -p 99f1a6d12cb4b6f19c8655fca46c3ecf317074e0\n100644 blob 47c6340d6459e05787f644c2447d2595f5d3a54b      simplegit.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OIB"]],"x":"master^{tree}","n":"code","l":" 语法表示 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OIC"]],"x":"master","n":"code","l":" 分支上最新的提交所指向的树对象。\n请注意，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OID"]],"x":"lib","n":"code","l":" 子目录（所对应的那条树对象记录）并不是一个数据对象，而是一个指针，其指向的是另一个树对象："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OI6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OI7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OI8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OI9"]],"x":"$","n":"span","l":" git cat-file -p master^{tree}\n100644 blob a906cb2a4a904a152e80877d4088654daad0c859      README\n100644 blob 8f94139338f9404f26296befa88755fc2598c289      Rakefile\n040000 tree 99f1a6d12cb4b6f19c8655fca46c3ecf317074e0      lib"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OHU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OHV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OI0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OI1"]],"x":"$","n":"span","l":" git cat-file -t 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a\nblob"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OHS"]],"x":"cat-file -t","n":"code","l":" 命令，可以让 Git 告诉我们其内部存储的任何对象类型，只要给定该对象的 SHA-1 值："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OHM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OHN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OHO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OHP"]],"x":"$","n":"span","l":" git cat-file -p 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a > test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OHQ"]],"x":"$","n":"span","l":" cat test.txt\nversion 2"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OHF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OHG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OHH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OHI"]],"x":"$","n":"span","l":" git cat-file -p 83baae61804e65cc73a7201a7252750c76066a30 > test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OHJ"]],"x":"$","n":"span","l":" cat test.txt\nversion 1"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OH9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OHA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OHB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OHC"]],"x":"$","n":"span","l":" find .git/objects -type f\n.git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a\n.git/objects/83/baae61804e65cc73a7201a7252750c76066a30\n.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OH1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OH2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OH3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OH4"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OH5"]],"x":"'version 2'","n":"span","l":" > test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OH6"]],"x":"$","n":"span","l":" git hash-object -w test.txt\n1f7a7a472abf3dd9643fd615f6da379c4acb3e3a"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OGP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OGQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OGR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OGS"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OGT"]],"x":"'version 1'","n":"span","l":" > test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OGU"]],"x":"$","n":"span","l":" git hash-object -w test.txt\n83baae61804e65cc73a7201a7252750c76066a30"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OGJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OGK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OGL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OGM"]],"x":"$","n":"span","l":" git cat-file -p d670460b4b4aece5915caf5c68d12f560a9fe3e4\ntest content"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OGF"]],"x":"cat-file","n":"code","l":" 命令从 Git 那里取回数据。\n这个命令简直就是一把剖析 Git 对象的瑞士军刀。\n为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OGG"]],"x":"cat-file","n":"code","l":" 指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OGH"]],"x":"-p","n":"code","l":" 选项可指示该命令自动判断内容的类型，并为我们显示格式友好的内容："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OGD"]],"x":"objects","n":"code","l":" 目录下看到一个文件。\n这就是开始时 Git 存储内容的方式——一个文件对应一条内容，以该内容加上特定头部信息一起的 SHA-1 校验和为文件命名。\n校验和的前两个字符用于命名子目录，余下的 38 个字符则用作文件名。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OG8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OG9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OGA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OGB"]],"x":"$","n":"span","l":" find .git/objects -type f\n.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OG4"]],"x":"-w","n":"code","l":" 选项指示 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OG5"]],"x":"hash-object","n":"code","l":" 命令存储数据对象；若不指定此选项，则该命令仅返回对应的键值。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OG6"]],"x":"--stdin","n":"code","l":" 选项则指示该命令从标准输入读取内容；若不指定此选项，则须在命令尾部给出待存储文件的路径。\n该命令输出一个长度为 40 个字符的校验和。\n这是一个 SHA-1 哈希值——一个将待存储的数据外加一个头部信息（header）一起做 SHA-1 校验运算而得的校验和。后文会简要讨论该头部信息。\n现在我们可以查看 Git 是如何存储数据的："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OFU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OFV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OG0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OG1"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","E9OG2"]],"x":"'test content'","n":"span","l":" | git hash-object -w --stdin\nd670460b4b4aece5915caf5c68d12f560a9fe3e4"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OFQ"]],"x":"objects","n":"code","l":" 目录进行了初始化，并创建了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OFR"]],"x":"pack","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OFS"]],"x":"info","n":"code","l":" 子目录，但均为空。\n接着，往 Git 数据库存入一些文本："},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OFI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OFJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OFK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OFL"]],"x":"$","n":"span","l":" git init test\nInitialized empty Git repository in /tmp/test/.git/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OFM"]],"x":"$","n":"span","l":" cd test\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OFN"]],"x":"$","n":"span","l":" find .git/objects\n.git/objects\n.git/objects/info\n.git/objects/pack\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OFO"]],"x":"$","n":"span","l":" find .git/objects -type f"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OFE"]],"x":"hash-object","n":"code","l":" 来演示上述效果——该命令可将任意数据保存于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OFF"]],"x":".git","n":"code","l":" 目录，并返回相应的键值。\n首先，我们需要初始化一个新的 Git 版本库，并确认 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OFG"]],"x":"objects","n":"code","l":" 目录为空："},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_plumbing_porcelain"],["aid","E9OED"]],"x":"底层命令和高层命令","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OEE"]],"x":"本书旨在讨论如何通过 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OEI"]],"x":"本书前九章专注于探讨高层命令。\n然而在本章，我们将主要面对底层命令。\n因为，底层命令得以让你窥探 Git 内部的工作机制，也有助于说明 Git 是如何完成工作的，以及它为何如此运作。\n多数底层命令并不面向最终用户：它们更适合作为新命令和自定义脚本的组成部分。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OEJ"]],"x":"当在一个新目录或已有目录执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","E9OEM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OER"]],"x":"该目录下可能还会包含其他文件，不过对于一个全新的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","E9OF2"]],"x":"剩下的四个条目很重要：","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF3"]],"x":"HEAD","n":"code","l":" 文件、（尚待创建的）"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF4"]],"x":"index","n":"code","l":" 文件，和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF5"]],"x":"objects","n":"code","l":" 目录、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF6"]],"x":"refs","n":"code","l":" 目录。\n这些条目是 Git 的核心组成部分。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF7"]],"x":"objects","n":"code","l":" 目录存储所有数据内容；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF8"]],"x":"refs","n":"code","l":" 目录存储指向数据（分支）的提交对象的指针；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF9"]],"x":"HEAD","n":"code","l":" 文件指示目前被检出的分支；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OFA"]],"x":"index","n":"code","l":" 文件保存暂存区信息。\n我们将详细地逐一检视这四部分，以期理解 Git 是如何运转的。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OES"]],"x":"git init","n":"code","l":" 版本库，这将是你看到的默认结构。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OET"]],"x":"description","n":"code","l":" 文件仅供 GitWeb 程序使用，我们无需关心。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OEU"]],"x":"config","n":"code","l":" 文件包含项目特有的配置选项。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OEV"]],"x":"info","n":"code","l":" 目录包含一个全局性排除（global exclude）文件，用以放置那些不希望被记录在 .gitignore 文件中的忽略模式（ignored patterns）。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OF0"]],"x":"hooks","n":"code","l":" 目录包含客户端或服务端的钩子脚本（hook scripts），在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006U:off:0000000000"],["id","xref--ch08-customizing-git--r_git_hooks"],["aid","E9OF1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 钩子","n":"a","l":" 中这部分话题已被详细探讨过。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","E9OEN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","E9OEO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","E9OEP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","E9OEQ"]],"x":"$","n":"span","l":" ls -F1\nHEAD\nconfig*\ndescription\nhooks/\ninfo/\nobjects/\nrefs/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OEK"]],"x":"git  init","n":"code","l":" 时，Git 会创建一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OEL"]],"x":".git","n":"code","l":" 目录。\n这个目录包含了几乎所有 Git 存储和操作的对象。\n如若想备份或复制一个版本库，只需把这个目录拷贝至另一处即可。\n本章探讨的所有内容，均位于这个目录内。\n该目录的结构如下所示："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OEF"]],"x":"checkout","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OEG"]],"x":"branch","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","E9OEH"]],"x":"remote","n":"code","l":" 等大约 30 个诸如此类动词形式的命令来玩转 Git。\n然而，由于 Git 最初是一套面向版本控制系统的工具集，而不是一个完整的、用户友好的版本控制系统，所以它还包含了一部分用于完成底层工作的命令。\n这些命令被设计成能以 UNIX 命令行的风格连接在一起，抑或藉由脚本调用，来完成工作。\n这部分命令一般被称作“底层（plumbing）”命令，而那些更友好的命令则被称作“高层（porcelain）”命令。"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","E9OE3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","E9OE4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","E9OE5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","E9OE6"]],"x":"Git","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","E9OE7"]],"x":"内部原理","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 对象"],["aid","E9OFB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 引用"],["aid","E9OO2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","包文件"],["aid","E9OST"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","引用规格"],["aid","E9OVH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","传输协议"],["aid","E9P3M"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","维护与数据恢复"],["aid","E9P9B"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","环境变量"],["aid","E9PG7"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","数据恢复"],["aid","E9PAL"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","移除对象"],["aid","E9PCK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","哑协议"],["aid","E9P3P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","智能协议"],["aid","E9P5T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","树对象"],["aid","E9OI2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","DB9F9"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9FA"]],"x":"你会觉得将 Git 作为其他版本控制系统的客户端，或者在数据无损的情况下将几乎任何一个现有的仓库导入到 Git，都是一件很惬意的事。\n在下一章，我们将要讲解 Git 的原始内部数据，如果需要的话你就可以加工每一个字节。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9F6"]],"x":"fast-import","n":"code","l":" 工具做很多事情 - 处理不同模式、二进制数据、多个分支与合并、标签、进度指示等等。\n一些更复杂情形下的例子可以在 Git 源代码目录中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9F7"]],"x":"contrib/fast-import","n":"code","l":" 目录中找到。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9EV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9F0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9F1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9F2"]],"x":"$","n":"span","l":" ls\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9F3"]],"x":"$","n":"span","l":" git reset --hard master\nHEAD is now at 3caa046 imported from current\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9F4"]],"x":"$","n":"span","l":" ls\nREADME.md main.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9ET"]],"x":"master","n":"code","l":" 所在的地方："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9EO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9EP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9EQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9ER"]],"x":"$","n":"span","l":" git log -2\ncommit 3caa046d4aac682a55867132ccdfbe0d3fdee498\nAuthor: John Doe <john@example.com>\nDate:   Tue Jul 29 19:39:04 2014 -0700\n\n    imported from current\n\ncommit 4afc2b945d0d3c8cd00556fbe2e8224569dc9def\nAuthor: John Doe <john@example.com>\nDate:   Mon Feb 3 01:00:00 2014 -0700\n\n    imported from back_2014_02_03"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9EM"]],"x":"git log","n":"code","l":" 来看一下你的新历史："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9EG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9EH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9EI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9EJ"]],"x":"$","n":"span","l":" git init\nInitialized empty Git repository in /opt/import_to/.git/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9EK"]],"x":"$","n":"span","l":" ruby import.rb /opt/import_from | git fast-import\ngit-fast-import statistics:\n---------------------------------------------------------------------\nAlloc'd objects:       5000\nTotal objects:           13 (         6 duplicates                  )\n      blobs  :            5 (         4 duplicates          3 deltas of          5 attempts)\n      trees  :            4 (         1 duplicates          0 deltas of          4 attempts)\n      commits:            4 (         1 duplicates          0 deltas of          0 attempts)\n      tags   :            0 (         0 duplicates          0 deltas of          0 attempts)\nTotal branches:           1 (         1 loads     )\n      marks:           1024 (         5 unique    )\n      atoms:              2\nMemory total:          2344 KiB\n       pools:          2110 KiB\n     objects:           234 KiB\n---------------------------------------------------------------------\npack_report: getpagesize()            =       4096\npack_report: core.packedGitWindowSize = 1073741824\npack_report: core.packedGitLimit      = 8589934592\npack_report: pack_used_ctr            =         10\npack_report: pack_mmap_calls          =          5\npack_report: pack_open_windows        =          2 /          2\npack_report: pack_mapped              =       1457 /       1457\n---------------------------------------------------------------------"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9ED"]],"x":"git fast-import","n":"code","l":"。\n可以创建一个新的目录并在其中运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9EE"]],"x":"git init","n":"code","l":" 作为开始，然后运行你的脚本："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9E6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9E7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9E8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9E9"]],"x":"$","n":"span","l":" ruby import.rb /opt/import_from\ncommit refs/heads/master\nmark :1\ncommitter John Doe <john@example.com> 1388649600 -0700\ndata 29\nimported from back_2014_01_02deleteall\nM 644 inline README.md\ndata 28\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9EA"]],"x":"#","n":"span","l":" Hello\n\nThis is my readme.\ncommit refs/heads/master\nmark :2\ncommitter John Doe <john@example.com> 1388822400 -0700\ndata 29\nimported from back_2014_01_04from :1\ndeleteall\nM 644 inline main.rb\ndata 34\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9EB"]],"x":"#","n":"span","l":"!/bin/env ruby\n\nputs \"Hey there\"\nM 644 inline README.md\n(...)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9BI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9BJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9BK"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9BL"]],"x":"#!/usr/bin/env ruby","n":"span","l":"\n\n$stdout.binmode\n$author = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9BM"]],"x":"\"John Doe <john@example.com>\"","n":"span","l":"\n\n$marks = []\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BN"]],"x":"def","n":"span","l":" convert_dir_to_mark(dir)\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BO"]],"x":"if","n":"span","l":" !$marks.include?(dir)\n        $marks << dir\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BP"]],"x":"end","n":"span","l":"\n    ($marks.index(dir)+1).to_s\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BQ"]],"x":"end","n":"span","l":"\n\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BR"]],"x":"def","n":"span","l":" convert_dir_to_date(dir)\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BS"]],"x":"if","n":"span","l":" dir == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9BT"]],"x":"'current'","n":"span","l":"\n        "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BU"]],"x":"return","n":"span","l":" Time.now().to_i\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9BV"]],"x":"else","n":"span","l":"\n        dir = dir.gsub("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9C0"]],"x":"'back_'","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9C1"]],"x":"''","n":"span","l":")\n        (year, month, day) = dir.split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9C2"]],"x":"'_'","n":"span","l":")\n        "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9C3"]],"x":"return","n":"span","l":" Time.local(year, month, day).to_i\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9C4"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9C5"]],"x":"end","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9C6"]],"x":"def","n":"span","l":" export_data(string)\n    print "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9C7"]],"x":"\"data ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9C8"]],"x":"#{","n":"span","l":"string.size"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9C9"]],"x":"}\\n#{","n":"span","l":"string"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CA"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CB"]],"x":"\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9CC"]],"x":"end","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9CD"]],"x":"def","n":"span","l":" inline_data(file, code="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CE"]],"x":"'M'","n":"span","l":", mode="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CF"]],"x":"'644'","n":"span","l":")\n    content = File.read(file)\n    puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CG"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CH"]],"x":"#{","n":"span","l":"code"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CI"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CJ"]],"x":" ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CK"]],"x":"#{","n":"span","l":"mode"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CL"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CM"]],"x":" inline ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CN"]],"x":"#{","n":"span","l":"file"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CO"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CP"]],"x":"\"","n":"span","l":"\n    export_data(content)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9CQ"]],"x":"end","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9CR"]],"x":"def","n":"span","l":" print_export(dir, last_mark)\n    date = convert_dir_to_date(dir)\n    mark = convert_dir_to_mark(dir)\n\n    puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CS"]],"x":"'commit refs/heads/master'","n":"span","l":"\n    puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9CT"]],"x":"\"mark :","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CU"]],"x":"#{","n":"span","l":"mark"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9CV"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9D0"]],"x":"\"","n":"span","l":"\n    puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9D1"]],"x":"\"committer ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9D2"]],"x":"#{","n":"span","l":"$author"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9D3"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9D4"]],"x":" ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9D5"]],"x":"#{","n":"span","l":"date"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9D6"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9D7"]],"x":" -0700\"","n":"span","l":"\n    export_data("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9D8"]],"x":"\"imported from ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9D9"]],"x":"#{","n":"span","l":"dir"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9DA"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DB"]],"x":"\"","n":"span","l":")\n    puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DC"]],"x":"\"from :","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9DD"]],"x":"#{","n":"span","l":"last_mark"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9DE"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DF"]],"x":"\"","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DG"]],"x":"if","n":"span","l":" last_mark\n\n    puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DH"]],"x":"'deleteall'","n":"span","l":"\n    Dir.glob("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DI"]],"x":"\"**/*\"","n":"span","l":").each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DJ"]],"x":"do","n":"span","l":" |file|\n        "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DK"]],"x":"next","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DL"]],"x":"if","n":"span","l":" !File.file?(file)\n        inline_data(file)\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DM"]],"x":"end","n":"span","l":"\n    mark\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DN"]],"x":"end","n":"span","l":"\n\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DO"]],"x":"# Loop through the directories","n":"span","l":"\nlast_mark = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DP"]],"x":"nil","n":"span","l":"\nDir.chdir(ARGV[0]) "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DQ"]],"x":"do","n":"span","l":"\n    Dir.glob("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DR"]],"x":"\"*\"","n":"span","l":").each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DS"]],"x":"do","n":"span","l":" |dir|\n        "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DT"]],"x":"next","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9DU"]],"x":"if","n":"span","l":" File.file?(dir)\n\n        "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9DV"]],"x":"# move into the target directory","n":"span","l":"\n        Dir.chdir(dir) "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9E0"]],"x":"do","n":"span","l":"\n            last_mark = print_export(dir, last_mark)\n        "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9E1"]],"x":"end","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9E2"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9E3"]],"x":"end","n":"span"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","DB9BA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB9BB"]],"x":"如果在 Windows 上还需要确保增加一个额外步骤。\n正如之前提到的，Windows 使用 CRLF 作为换行符而 git fast-import 只接受 LF。\n为了修正这个问题使 git fast-import 正常工作，你需要告诉 ruby 使用 LF 代替 CRLF：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB9BC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source1 pcalibre1 pcalibre"],["aid","DB9BD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9BE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9BF"]],"n":"span","l":"$stdout.binmode"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9B5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9B6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9B7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9B8"]],"x":"return","n":"span","l":" mark"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9B2"]],"x":"export_data","n":"code","l":" 方法，因为它与你定义的提交信息数据的方法一样。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9AG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9AH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9AI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9AJ"]],"x":"def","n":"span","l":" inline_data(file, code = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9AK"]],"x":"'M'","n":"span","l":", mode = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9AL"]],"x":"'644'","n":"span","l":")\n  content = File.read(file)\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9AM"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9AN"]],"x":"#{","n":"span","l":"code"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9AO"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9AP"]],"x":" ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9AQ"]],"x":"#{","n":"span","l":"mode"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9AR"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9AS"]],"x":" inline ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9AT"]],"x":"#{","n":"span","l":"file"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB9AU"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9AV"]],"x":"\"","n":"span","l":"\n  export_data(content)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9B0"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9AE"]],"x":"inline_data","n":"code","l":" 方法看起来像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB9AB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB9AC"]],"x":"M 644 inline path/to/file\ndata (size)\n(file contents)","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB9A8"]],"x":"fast-import","n":"code","l":" man 帮助页来了解如何以这种方式提供你的数据。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB99U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB99V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB9A0"]],"n":"span","l":"puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9A1"]],"x":"'deleteall'","n":"span","l":"\nDir.glob("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB9A2"]],"x":"\"**/*\"","n":"span","l":").each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9A3"]],"x":"do","n":"span","l":" |file|\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9A4"]],"x":"next","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9A5"]],"x":"if","n":"span","l":" !File.file?(file)\n  inline_data(file)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB9A6"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB99S"]],"x":"deleteall","n":"code","l":" 命令。\nGit 将会适当地记录每一个快照："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB99H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB99I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB99J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB99K"]],"x":"def","n":"span","l":" export_data(string)\n  print "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB99L"]],"x":"\"data ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB99M"]],"x":"#{","n":"span","l":"string.size"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB99N"]],"x":"}\\n#{","n":"span","l":"string"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB99O"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB99P"]],"x":"\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB99Q"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB99F"]],"x":"export_data","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB99C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB99D"]],"x":"data (size)\\n(contents)","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB98Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB98R"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB98S"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB98T"]],"x":"# print the import information","n":"span","l":"\nputs "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB98U"]],"x":"'commit refs/heads/master'","n":"span","l":"\nputs "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB98V"]],"x":"'mark :'","n":"span","l":" + mark\nputs "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB990"]],"x":"\"committer ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB991"]],"x":"#{","n":"span","l":"$author"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB992"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB993"]],"x":" ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB994"]],"x":"#{","n":"span","l":"date"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB995"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB996"]],"x":" -0700\"","n":"span","l":"\nexport_data("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB997"]],"x":"'imported from '","n":"span","l":" + dir)\nputs "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB998"]],"x":"'from :'","n":"span","l":" + last_mark "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB999"]],"x":"if","n":"span","l":" last_mark"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB98K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB98L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB98M"]],"n":"span","l":"$author = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB98N"]],"x":"'John Doe <john@example.com>'","n":"span"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB984"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB985"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB986"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB987"]],"x":"def","n":"span","l":" convert_dir_to_date(dir)\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB988"]],"x":"if","n":"span","l":" dir == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB989"]],"x":"'current'","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB98A"]],"x":"return","n":"span","l":" Time.now().to_i\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB98B"]],"x":"else","n":"span","l":"\n    dir = dir.gsub("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB98C"]],"x":"'back_'","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB98D"]],"x":"''","n":"span","l":")\n    (year, month, day) = dir.split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB98E"]],"x":"'_'","n":"span","l":")\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB98F"]],"x":"return","n":"span","l":" Time.local(year, month, day).to_i\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB98G"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB98H"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB982"]],"x":"convert_dir_to_date","n":"code","l":" 定义为"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB97U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB97V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB980"]],"n":"span","l":"date = convert_dir_to_date(dir)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB97S"]],"x":"print_export","n":"code","l":" 文件的下一行是"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB97K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB97L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB97M"]],"n":"span","l":"$marks = []\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB97N"]],"x":"def","n":"span","l":" convert_dir_to_mark(dir)\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB97O"]],"x":"if","n":"span","l":" !$marks.include?(dir)\n    $marks << dir\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB97P"]],"x":"end","n":"span","l":"\n  ($marks.index(dir) + 1).to_s\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB97Q"]],"x":"end","n":"span"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB97F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB97G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB97H"]],"n":"span","l":"mark = convert_dir_to_mark(dir)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB97B"]],"x":"print_export","n":"code","l":"，将会拿到清单并标记之前的快照，然后返回清单并标记现在的快照；通过这种方式，可以将它们合适地连接在一起。\n“标记” 是一个给提交标识符的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB97C"]],"x":"fast-import","n":"code","l":" 术语；当你创建提交，为每一个提交赋予一个标记来将它与其他提交连接在一起。\n这样，在你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB97D"]],"x":"print_export","n":"code","l":" 方法中第一件要做的事就是从目录名字生成一个标记："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB96R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB96S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB96T"]],"n":"span","l":"last_mark = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB96U"]],"x":"nil","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB96V"]],"x":"# loop through the directories","n":"span","l":"\nDir.chdir(ARGV[0]) "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB970"]],"x":"do","n":"span","l":"\n  Dir.glob("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB971"]],"x":"\"*\"","n":"span","l":").each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB972"]],"x":"do","n":"span","l":" |dir|\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB973"]],"x":"next","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB974"]],"x":"if","n":"span","l":" File.file?(dir)\n\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB975"]],"x":"# move into the target directory","n":"span","l":"\n    Dir.chdir(dir) "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB976"]],"x":"do","n":"span","l":"\n      last_mark = print_export(dir, last_mark)\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB977"]],"x":"end","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB978"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB979"]],"x":"end","n":"span"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0072:off:0000000000"],["id","xref--ch08-customizing-git--r_an_example_git_enforced_policy"],["aid","DB96N"],["target","_blank"],["rel","noopener noreferrer"]],"x":"使用强制策略的一个例子","n":"a","l":" 里做的，我们将会使用 Ruby 写这个，因为它是我们平常工作中使用的并且它很容易读懂。\n可以使用任何你熟悉的东西来非常轻松地写这个例子 - 它只需要将合适的信息打印到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB96O"]],"x":"标准输出","n":"code","l":"。\n然而，如果你在 Windows 上，这意味着需要特别注意不要引入回车符到行尾 - git fast-import 非常特别地只接受换行符（LF）而不是 Windows 使用的回车换行符（CRLF）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB96L"]],"x":"fast-import","n":"code","l":" 哪些内容是快照，哪个提交数据指向它们，以及它们进入的顺序。\n你的策略是一次访问一个快照，然后用每个目录中的内容创建提交，并且将每一个提交与前一个连接起来。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB96G"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB96H"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB96I"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB96J"]],"x":"$","n":"span","l":" ls /opt/import_from\nback_2014_01_02\nback_2014_01_04\nback_2014_01_14\nback_2014_02_03\ncurrent"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB96D"]],"x":"current","n":"code","l":" 工作，有时候会备份你的项目到时间标签 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB96E"]],"x":"back_YYYY_MM_DD","n":"code","l":" 备份目录中，你想要将这些导入到 Git 中。\n目录结构看起来是这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB969"]],"x":"git fast-import","n":"code","l":"。\n这个命令从标准输入中读取简单指令来写入特定的 Git 数据。\n通过这种方式创建 Git 对象比运行原始 Git 命令或直接写入原始对象（查看 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["id","xref--ch10-git-internals"],["aid","DB96A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" 了解更多内容）更容易些。\n通过这种方式你可以编写导入脚本，从你要导入的系统中读取必要数据，然后直接打印指令到标准输出。\n然后可以运行这个程序并通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB96B"]],"x":"git fast-import","n":"code","l":" 重定向管道输出。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_tfs"],["aid","DB94O"]],"x":"TFS","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB94P"]],"x":"\n如果你的团队正在将他们的源代码管理从 TFVC 转换为 Git，你们会想要最高程度的无损转换。\n这意味着，虽然我们在之前的交互章节介绍了 git-tfs 与 git-tf 两种工具，但是我们在本部分只能介绍 git-tfs，因为 git-tfs 支持分支，而使用 git-tf 代价太大。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","DB94Q"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB94T"]],"x":"第一件事是映射用户名。\nTFVC 对待变更集作者字段的内容相当宽容，但是 Git 需要人类可读的名字与邮箱地址。\n可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB94V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB953"]],"x":"这会将历史中的所有变更集抓取下来并放到 AUTHORS_TMP 文件中，然后我们将会将 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB957"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB95B"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB95G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB95K"]],"x":"左边的部分是 TFVC 中的 “User” 字段，等号右边的部分是将被用作 Git 提交的用户名。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB95L"]],"x":"一旦有了这个文件，下一件事就是生成一个你需要的 TFVC 项目的完整克隆：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB95M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB95R"]],"x":"接下来要从提交信息底部清理 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB95T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB963"]],"x":"那会使用 Git 终端环境中的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB965"]],"x":"全部完成后，你就已经准备好去增加一个新的远程仓库，推送你所有的分支上去，然后你的团队就可以开始用 Git 工作了。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB964"]],"x":"sed","n":"code","l":" 命令来将所有以 “git-tfs-id:” 开头的行替换为 Git 会忽略的空白。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB95U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB95V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB960"]],"n":"span","l":"PS> git "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB961"]],"x":"filter","n":"span","l":"-branch -f --msg-filter "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB962"]],"x":"'sed \"s/^git-tfs-id:.*$//g\"'","n":"span","l":" -- --all"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB95S"]],"x":"git-tfs-id","n":"code","l":" 区块。\n下面的命令会完成这个任务："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB95N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB95O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB95P"]],"n":"span","l":"PS> git tfs clone --with-branches --authors=AUTHORS https"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB95Q"]],"x":":","n":"span","l":"//username.visualstudio.com/DefaultCollection $/project/Trunk project_git"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB95H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB95I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB95J"]],"n":"span","l":"DOMAIN\\username = User Name <email@address.com>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB95C"]],"x":"cut","n":"code","l":" 命令只会保留每行中第 11 个到第 22 个字符。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB95D"]],"x":"tail","n":"code","l":" 命令会跳过前两行，就是字段表头与 ASCII 风格的下划线。\n所有这些的结果通过管道送到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB95E"]],"x":"uniq","n":"code","l":" 来去除重复，然后保存到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB95F"]],"x":"AUTOHRS","n":"code","l":" 文件中。\n下一步是手动的；为了让 git-tfs 有效地使用这个文件，每一行必须是这种格式："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB958"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB959"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB95A"]],"n":"span","l":"PS> cat AUTHORS_TMP | cut -b 11-20 | tail -n+3 | uniq | sort > AUTHORS"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB954"]],"x":"User","n":"code","l":" 列（第二个）取出来。\n打开文件找到列开始与结束的字符并替换，在下面的命令行中，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB955"]],"x":"cut","n":"code","l":" 命令的参数 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB956"]],"x":"11-20","n":"code","l":" 就是我们找到的："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB950"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB951"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB952"]],"n":"span","l":"PS> tf history $/myproject -recursive > AUTHORS_TMP"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB94U"]],"x":"tf","n":"code","l":" 命令行客户端来获取这个信息，像这样："},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","DB94R"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB94S"]],"x":"这是一个单向转换。\n这意味着 Git 仓库无法连接到原始的 TFVC 项目。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_perforce_import"],["aid","DB932"]],"x":"Perforce","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB933"]],"x":"\n下一个将要看到导入的系统是 Perforce。\n就像我们之前讨论过的，有两种方式让 Git 与 Perforce 互相通信：git-p4 与 Perforce Git Fusion。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Perforce Git Fusion"],["aid","DB934"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git-p4"],["aid","DB938"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_git_p4"],["aid","DB939"]],"x":"Git-p4","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB93A"]],"x":"Git-p4 也可以作为一个导入工具。\n作为例子，我们将从 Perforce 公开仓库中导入 Jam 项目。\n为了设置客户端，必须导出 P4PORT 环境变量指向 Perforce 仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB93B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","DB93G"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB93J"]],"x":"\n运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB93L"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB93Q"]],"x":"这个特定的项目只有一个分支，但是如果你在分支视图（或者说一些目录）中配置了一些分支，你可以将 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB93U"]],"x":"此时你几乎已经完成了。\n如果进入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB941"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB946"]],"x":"你可以看到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB948"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB94E"]],"x":"如果运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB94H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB94M"]],"x":"现在导入已经准备好推送到你的新 Git 服务器上了。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB94I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB94J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB94K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB94L"]],"x":"$","n":"span","l":" git log -2\ncommit b17341801ed838d97f7800a54a6f9b95750839b7\nAuthor: giles <giles@giles@perforce.com>\nDate:   Wed Feb 8 03:13:27 2012 -0800\n\n    Correction to line 355; change </UL> to </OL>.\n\ncommit 3e68c2e26cd89cb983eb52c024ecdfba1d6b3fff\nAuthor: kwirth <kwirth@perforce.com>\nDate:   Tue Jul 7 01:35:51 2009 -0800\n\n    Fix spelling error on Jam doc page (cummulative -> cumulative)."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB94F"]],"x":"git log","n":"code","l":"，你会看到所有提交的 SHA-1 校验和都改变了，但是提交信息中不再有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB94G"]],"x":"git-p4","n":"code","l":" 字符串了："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB949"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB94A"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB94B"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB94C"]],"x":"$","n":"span","l":" git filter-branch --msg-filter "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB94D"]],"x":"'sed -e \"/^\\[git-p4:/d\"'","n":"span","l":"\nRewrite e5da1c909e5db3036475419f6379f2c73710c4e6 (125/125)\nRef 'refs/heads/master' was rewritten"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB947"]],"x":"git-p4`在每一个提交里都留下了一个标识符。\n如果之后想要引用 Perforce 的修改序号的话，标识符保留在那里也是可以的。\n然而，如果想要移除标识符，现在正是这么做的时候 - 在你开始在新仓库中工作之前。\n(((git commands, filter-branch)))\n可以使用 `git filter-branch","n":"code","l":" 将全部标识符移除。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB942"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB943"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB944"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB945"]],"x":"$","n":"span","l":" git log -2\ncommit e5da1c909e5db3036475419f6379f2c73710c4e6\nAuthor: giles <giles@giles@perforce.com>\nDate:   Wed Feb 8 03:13:27 2012 -0800\n\n    Correction to line 355; change </UL> to </OL>.\n\n    [git-p4: depot-paths = \"//public/jam/src/\": change = 8068]\n\ncommit aa21359a0a135dda85c50a7f7cf249e4f7b8fd98\nAuthor: kwirth <kwirth@perforce.com>\nDate:   Tue Jul 7 01:35:51 2009 -0800\n\n    Fix spelling error on Jam doc page (cummulative -> cumulative).\n\n    [git-p4: depot-paths = \"//public/jam/src/\": change = 7304]"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB93V"]],"x":"p4import","n":"code","l":" 目录中并运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB940"]],"x":"git log","n":"code","l":"，可以看到你的导入工作："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB93R"]],"x":"--detect-branches","n":"code","l":" 选项传递给 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB93S"]],"x":"git p4 clone","n":"code","l":" 来导入项目的所有分支。\n查看 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0084:off:0000000028"],["id","xref-r_git_p4_branches"],["aid","DB93T"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支","n":"a","l":" 来了解关于这点的更多信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB93M"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB93N"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB93O"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB93P"]],"x":"$","n":"span","l":" git-p4 clone //guest/perforce_software/jam@all p4import\nImporting from //guest/perforce_software/jam@all into p4import\nInitialized empty Git repository in /private/tmp/p4import/.git/\nImport destination: refs/remotes/p4/master\nImporting revision 9957 (100%)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB93K"]],"x":"git p4 clone","n":"code","l":" 命令从 Perforce 服务器导入 Jam 项目，提供仓库、项目路径与你想要存放导入项目的路径："},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","DB93H"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB93I"]],"x":"为了继续后续步骤，需要连接到 Perforce 仓库。\n在我们的例子中将会使用在 public.perforce.com 的公开仓库，但是你可以使用任何你有权限的仓库。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB93C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB93D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB93E"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB93F"]],"x":"$","n":"span","l":" export P4PORT=public.perforce.com:1666"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_perforce_git_fusion"],["aid","DB935"]],"x":"Perforce Git Fusion","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB936"]],"x":"Git Fusion 使这个过程毫无痛苦。\n只需要使用在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:007S:off:0000000000"],["id","xref-r_p4_git_fusion"],["aid","DB937"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git Fusion","n":"a","l":" 中讨论过的配置文件来配置你的项目设置、用户映射与分支，然后克隆整个仓库。\nGit Fusion 让你处在一个看起来像是原生 Git 仓库的环境中，如果愿意的话你可以随时将它推送到一个原生 Git 托管中。\n如果你喜欢的话甚至可以使用 Perforce 作为你的 Git 托管。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB92S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB92T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB92U"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB92V"]],"x":"$","n":"span","l":" git remote add origin git@my-git-server:myrepository.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB930"]],"x":"$","n":"span","l":" git push origin --all"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB92L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB92M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB92N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB92O"]],"x":"$","n":"span","l":" /tmp/fast-export/hg-fast-export.sh -r /tmp/hg-repo -A /tmp/authors\nLoaded 4 authors\nmaster: Exporting full revision 1/22208 with 13/0/0 added/changed/removed files\nmaster: Exporting simple delta revision 2/22208 with 1/1/0 added/changed/removed files\nmaster: Exporting simple delta revision 3/22208 with 0/1/0 added/changed/removed files\n[…]\nmaster: Exporting simple delta revision 22206/22208 with 0/4/0 added/changed/removed files\nmaster: Exporting simple delta revision 22207/22208 with 0/2/0 added/changed/removed files\nmaster: Exporting thorough delta revision 22208/22208 with 3/213/0 added/changed/removed files\nExporting tag [0.4c] at [hg r9] [git :10]\nExporting tag [0.4d] at [hg r16] [git :17]\n[…]\nExporting tag [3.1-rc] at [hg r21926] [git :21927]\nExporting tag [3.1] at [hg r21973] [git :21974]\nIssued 22315 commands\ngit-fast-import statistics:\n---------------------------------------------------------------------\nAlloc'd objects:     120000\nTotal objects:       115032 (    208171 duplicates                  )\n      blobs  :        40504 (    205320 duplicates      26117 deltas of      39602 attempts)\n      trees  :        52320 (      2851 duplicates      47467 deltas of      47599 attempts)\n      commits:        22208 (         0 duplicates          0 deltas of          0 attempts)\n      tags   :            0 (         0 duplicates          0 deltas of          0 attempts)\nTotal branches:         109 (         2 loads     )\n      marks:        1048576 (     22208 unique    )\n      atoms:           1952\nMemory total:          7860 KiB\n       pools:          2235 KiB\n     objects:          5625 KiB\n---------------------------------------------------------------------\npack_report: getpagesize()            =       4096\npack_report: core.packedGitWindowSize = 1073741824\npack_report: core.packedGitLimit      = 8589934592\npack_report: pack_used_ctr            =      90430\npack_report: pack_mmap_calls          =      46771\npack_report: pack_open_windows        =          1 /          1\npack_report: pack_mapped              =  340852700 /  340852700\n---------------------------------------------------------------------\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB92P"]],"x":"$","n":"span","l":" git shortlog -sn\n   369  Bob Jones\n   365  Joe Smith"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB92H"]],"x":"-r","n":"code","l":" 选项告诉 hg-fast-export 去哪里寻找我们想要转换的 Mercurial 仓库，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB92I"]],"x":"-A","n":"code","l":" 标记告诉它在哪找到作者映射文件。\n这个脚本会分析 Mercurial 变更集然后将它们转换成 Git“fast-import”功能（我们将在之后详细讨论）需要的脚本。\n这会花一点时间（尽管它比通过网格 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB92J"]],"x":"更","n":"em","l":" 快），输出相当的冗长："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB92A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB92B"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB92C"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB92D"]],"x":"$","n":"span","l":" git init /tmp/converted\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB92E"]],"x":"$","n":"span","l":" cd /tmp/converted\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB92F"]],"x":"$","n":"span","l":" /tmp/fast-export/hg-fast-export.sh -r /tmp/hg-repo -A /tmp/authors"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB926"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB927"]],"x":"bob=Bob Jones <bob@company.com>\nbob@localhost=Bob Jones <bob@company.com>\nbob jones <bob <AT> company <DOT> com>=Bob Jones <bob@company.com>\nbob <bob@company.com>=Bob Jones <bob@company.com>","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB924"]],"x":"={new name and email address}","n":"code","l":" 来修正这个问题，移除任何我们想要保留的用户名所在的行。\n如果所有的用户名看起来都是正确的，那我们根本就不需要这个文件。\n在本例中，我们会使文件看起来像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB921"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB922"]],"x":"bob\nbob@localhost\nbob <bob@company.com>\nbob jones <bob <AT> company <DOT> com>\nBob Jones <bob@company.com>\nJoe Smith <joe@company.com>","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB91V"]],"x":"/tmp/authors","n":"code","l":" 文件看起来会像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB91O"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB91P"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB91Q"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB91R"]],"x":"$","n":"span","l":" cd /tmp/hg-repo\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB91S"]],"x":"$","n":"span","l":" hg log | grep user: | sort | uniq | sed "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB91T"]],"x":"'s/user: *//'","n":"span","l":" > ../authors"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB91M"]],"x":"bash","n":"code","l":" 终端下的一行命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB91H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB91I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB91J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB91K"]],"x":"$","n":"span","l":" hg clone <remote repo URL> /tmp/hg-repo"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB91B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB91C"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB91D"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB91E"]],"x":"$","n":"span","l":" git clone http://repo.or.cz/r/fast-export.git /tmp/fast-export"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB912"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB913"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB914"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB915"]],"x":"$","n":"span","l":" git push origin --all"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB90S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB90T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB90U"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB90V"]],"x":"$","n":"span","l":" git remote add origin git@my-git-server:myrepository.git"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB90L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB90M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB90N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB90O"]],"x":"$","n":"span","l":" cp -Rf .git/refs/remotes/* .git/refs/heads/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB90P"]],"x":"$","n":"span","l":" rm -Rf .git/refs/remotes"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB90J"]],"x":"refs/remotes","n":"code","l":" 下剩余的引用移动为本地分支："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB90H"]],"x":"remotes/origin/tags/","n":"code","l":" 里的远程分支引用变成真正的（轻量）标签。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB90B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB90C"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB90D"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB90E"]],"x":"$","n":"span","l":" cp -Rf .git/refs/remotes/origin/tags/* .git/refs/tags/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB90F"]],"x":"$","n":"span","l":" rm -Rf .git/refs/remotes/origin/tags"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB908"]],"x":"git svn","n":"code","l":" 设置的奇怪的引用。\n首先移动标签，这样它们就是标签而不是奇怪的远程引用，然后你会移动剩余的分支这样它们就是本地的了。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB906"]],"x":"git-svn-id","n":"code","l":" 也不在了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB903"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB904"]],"x":"commit 03a8785f44c8ea5cdb0e8834b7c8e6c469be2ff2\nAuthor: Scott Chacon <schacon@geemail.com>\nDate:   Sun May 3 00:12:22 2009 +0000\n\n    fixed install - go to trunk","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8VV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB900"]],"x":"commit 37efa680e8473b615de980fa935944215428a35a\nAuthor: schacon <schacon@4c93b258-373f-11de-be05-5f7a86268029>\nDate:   Sun May 3 00:12:22 2009 +0000\n\n    fixed install - go to trunk\n\n    git-svn-id: https://my-project.googlecode.com/svn/trunk@94 4c93b258-373f-11de-\n    be05-5f7a86268029","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VT"]],"x":"my_project","n":"code","l":" 目录中应当有了一个更好的 Subversion 导入。\n并不像是下面这样的提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8VN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8VO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8VP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8VQ"]],"x":"$","n":"span","l":" git svn clone http://my-project.googlecode.com/svn/ "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB8VR"]],"x":"\\","n":"span","l":"\n      --authors-file=users.txt --no-metadata -s my_project"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VG"]],"x":"git svn","n":"code","l":" 来帮助它更加精确地映射作者数据。\n也可以通过传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VH"]],"x":"--no-metadata","n":"code","l":" 给 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VI"]],"x":"clone","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VJ"]],"x":"init","n":"code","l":" 命令，告诉 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VK"]],"x":"git svn","n":"code","l":" 不要包括 Subversion 通常会导入的元数据。\n这会使你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VL"]],"x":"import","n":"code","l":" 命令看起来像这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VC"]],"x":"grep","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VD"]],"x":"sort","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8VE"]],"x":"perl","n":"code","l":" 的机器上运行。）\n然后，将输出重定向到你的 users.txt 文件中，这样就可以在每一个记录后面加入对应的 Git 用户数据。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8V5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8V6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8V7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8V8"]],"x":"$","n":"span","l":" svn log --xml | grep author | sort -u | "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB8V9"]],"x":"\\","n":"span","l":"\n  perl -pe "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8VA"]],"x":"'s/.*>(.*?)<.*/$1 = /'","n":"span"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8V1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8V2"]],"x":"schacon = Scott Chacon <schacon@geemail.com>\nselse = Someo Nelse <selse@geemail.com>","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8US"]],"x":"schacon","n":"code","l":"，比如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UT"]],"x":"blame","n":"code","l":" 输出与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UU"]],"x":"git svn log","n":"code","l":"。\n如果想要将上面的 Subversion 用户映射到一个更好的 Git 作者数据中，你需要一个 Subversion 用户到 Git 用户的映射。\n创建一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UV"]],"x":"users.txt","n":"code","l":" 的文件包含像下面这种格式的映射："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UP"]],"x":"git svn","n":"code","l":" 的章节，可以轻松地使用那些指令来 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UQ"]],"x":"git svn clone","n":"code","l":" 一个仓库，停止使用 Subversion 服务器，推送到一个新的 Git 服务器，然后就可以开始使用了。\n如果你想要历史，可以从 Subversion 服务器上尽可能快地拉取数据来完成这件事（这可能会花费一些时间）。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_git_与_tfs_总结"],["aid","DB8UH"]],"x":"Git 与 TFS 总结","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8UI"]],"x":"Git-tf 与 Git-tfs 都是与 TFVC 服务器交互的很好的工具。\n它们允许你在本地使用 Git 的能力，避免与中央 TFVC 服务器频繁交流，使你做为一个开发者的生活更轻松，而不用强制整个团队迁移到 Git。\n如果你在 Windows 上工作（那很有可能你的团队正在使用 TFS），你可能会想要使用 git-tfs，因为它的功能更完整，但是如果你在其他平台工作，你只能使用略有限制的 git-tf。\n像本章中大多数工具一样，你应当使用其中的一个版本系统作为主要的，而使用另一个做为次要的 - 不管是 Git 还是 TFVC 都可以做为协作中心，但不是两者都用。","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","DB8UB"]],"x":"创建","n":"strong","l":" 了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UC"]],"x":"tfs/featureBee","n":"code","l":" 远程分支，但是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UD"]],"x":"HEAD","n":"code","l":" 始终指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UE"]],"x":"master","n":"code","l":"。\n如果你想要在新生成的分支上工作，那你也许应该通过从那次提交创建一个特性分支的方式使你新的提交基于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8UF"]],"x":"1d54865","n":"code","l":" 提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8U5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8U6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8U7"]],"n":"span","l":"PS> git tfs branch $/tfvc-test/featureBee\nThe name of the local branch will be "},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8U8"]],"x":":","n":"span","l":" featureBee\nC26 = 1d54865c397608c004a2cadce7296f5edc22a7e5\nPS> git log --oneline --graph --decorate --all\n* 1d54865 (tfs/featureBee) Creation branch $/myproject/featureBee\n* ff04e7c (HEAD, tfs/"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8U9"]],"x":"default","n":"span","l":", master) update code\n* 71a5ddc update readme\n* aea74a0 update documentation\n| * 44cd729 (tfs/featureA, featureA) Goodbye\n| * d202b53 Branched from $/tfvc-test/Trunk\n|/\n* c403405 Hello\n* b75da1a New project"},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB8U0"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","DB8U1"]],"x":"Figure 3. git-tfs 检入工具。","n":"figcaption","l":"\n"},{"a":[["alt","git-tfs 检入工具。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003J?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8TR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8TS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8TT"]],"n":"span","l":"PS> git tfs checkintool\nPS> git tfs ct"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8TO"]],"x":"git-tfs-id","n":"code","l":" 属性加入到提交信息的底部，这将会改变 SHA-1 校验和。\n这恰恰是有意设计的，没有什么事情可以担心了，但是你应该意识到发生了什么，特别是当你想要与其他人共享 Git 提交时。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8TE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8TF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8TG"]],"n":"span","l":"PS> git tfs rcheckin\nWorking with tfs remote"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8TH"]],"x":":","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8TI"]],"x":"default","n":"span","l":"\nFetching changes from TFS to minimize possibility of late conflict...\nStarting checkin of 5cec4ab4 "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8TJ"]],"x":"'update readme'","n":"span","l":"\n add README.md\nC20 = 71a5ddce274c19f8fdc322b4f165d93d89121017\nDone with 5cec4ab4b213c354341f66c80cd650ab98dcf1ed, rebasing tail onto new TFS-commit...\nRebase done successfully.\nStarting checkin of b1bf0f99 "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8TK"]],"x":"'update code'","n":"span","l":"\n edit .git\\tfs\\"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8TL"]],"x":"default","n":"span","l":"\\workspace\\ConsoleApplication1/ConsoleApplication1/Program.cs\nC21 = ff04e7c35dfbe6a8f94e782bf5e0031cee8d103b\nDone with b1bf0f9977b2d48bad611ed4a03d3738df05ea5d, rebasing tail onto new TFS-commit...\nRebase done successfully.\nNo more to rcheckin.\nPS> git log --all --oneline --graph --decorate\n* ff04e7c (HEAD, tfs/"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8TM"]],"x":"default","n":"span","l":", master) update code\n* 71a5ddc update readme\n* aea74a0 update documentation\n| * 44cd729 (tfs/featureA, featureA) Goodbye\n| * d202b53 Branched from $/tfvc-test/Trunk\n|/\n* c403405 Hello\n* b75da1a New project"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8TA"]],"x":"rcheckin","n":"code","l":" 命令将 HEAD 到第一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8TB"]],"x":"tfs","n":"code","l":" 远程分支间的每一个 Git 提交转换为一个 TFVC 变更集（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8TC"]],"x":"checkin","n":"code","l":" 命令只会创建一个变更集，有些类似于压缩 Git 提交）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8T2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8T3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8T4"]],"n":"span","l":"PS> git rebase tfs/"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8T5"]],"x":"default","n":"span","l":"\nFirst, rewinding head to replay your work on top of it...\nApplying"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8T6"]],"x":":","n":"span","l":" update readme\nApplying"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8T7"]],"x":":","n":"span","l":" update code\nPS> git log --all --oneline --graph --decorate\n* 10a75ac (HEAD, master) update code\n* 5cec4ab update readme\n* aea74a0 (tfs/"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8T8"]],"x":"default","n":"span","l":") update documentation\n| * 44cd729 (tfs/featureA, featureA) Goodbye\n| * d202b53 Branched from $/tfvc-test/Trunk\n|/\n* c403405 Hello\n* b75da1a New project"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","DB8SR"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","DB8SS"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","DB8SU"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8SV"]],"x":"通过合并来保留改动。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8ST"]],"x":"通过变基来保持历史是线性的。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8SN"]],"x":"aea74a0","n":"code","l":" 提交，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8SO"]],"x":"tfs/default","n":"code","l":" 远程分支已经被移除了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8SI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8SJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8SK"]],"n":"span","l":"PS> git tfs fetch\nC19 = aea74a0313de0a391940c999e51c5c15c381d91d\nPS> git log --all --oneline --graph --decorate\n* aea74a0 (tfs/"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8SL"]],"x":"default","n":"span","l":") update documentation\n| * c3bd3ae (HEAD, master) update code\n| * d85e5a2 update readme\n|/\n| * 44cd729 (tfs/featureA, featureA) Goodbye\n| * d202b53 Branched from $/tfvc-test/Trunk\n|/\n* c403405 Hello\n* b75da1a New project"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8SC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8SD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8SE"]],"n":"span","l":"PS> git log --oneline --graph --all --decorate\n* c3bd3ae (HEAD, master) update code\n* d85e5a2 update readme\n| * 44cd729 (tfs/featureA, featureA) Goodbye\n| * d202b53 Branched from $/tfvc-test/Trunk\n|/\n* c403405 (tfs/"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8SF"]],"x":"default","n":"span","l":") Hello\n* b75da1a New project"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8SA"]],"x":"master","n":"code","l":" 分支上生成的几个新提交："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","DB8S8"]],"x":"git-tfs","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_工作流程_code_class_literal_git_tf_code"],["aid","DB8QD"]],"x":"工作流程：","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8QF"]],"x":"假定你完成了一些工作，在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8QH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8QM"]],"x":"我们想要拿到在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8QO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8QU"]],"x":"看起来其他人也做了一些改动，现在我们有一个分叉的历史。\n这就是 Git 的优势，但是我们现在有两种处理的方式：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB8QV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8R8"]],"x":"这是你的选择。\n在本例中，我们会进行变基：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8R9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8RF"]],"x":"现在我们准备好生成一个检入来推送到 TFVC 服务器上了。\nGit-tf 给你一个将自上次修改（即 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8RI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8RP"]],"x":"那有一个新标签 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8RT"]],"x":"这就是主要的工作流程。\n有一些你需要考虑的其他注意事项：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB8RU"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","DB8RV"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","DB8S0"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","DB8S2"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","DB8S4"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8S5"]],"x":"如果你的团队的工作流程包括在 Git 中协作并定期与 TFVC 同步，只能使用其中的一个 Git 仓库连接到 TFVC。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8S3"]],"x":"协作时使用 TFVC 或 Git，而不是两者同时使用。\n同一个 TFVC 仓库的不同 git-tf 克隆会有不同的 SHA-1 校验和，这会导致无尽的头痛问题。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8S1"]],"x":"没有分支。\nGit-tf 同一时间只能从一个 TFVC 分支创建一个 Git 仓库。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8RQ"]],"x":"TFS_C35348","n":"code","l":"，表明 TFVC 已经存储了一个相当于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8RR"]],"x":"5a0e25e","n":"code","l":" 提交的快照。\n要重点注意的是，不是每一个 Git 提交都需要在 TFVC 中存在一个相同的副本；例如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8RS"]],"x":"6eb3eb5","n":"code","l":" 提交，在服务器上并不存在。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8RJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8RK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8RL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8RM"]],"x":"$","n":"span","l":" git tf checkin -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8RN"]],"x":"'Updating readme and code'","n":"span","l":"\nUsername: domain\\user\nPassword:\nConnecting to TFS...\nChecking in to $/myproject: 100%, done.\nChecked commit 5a0e25e in as changeset 35348\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8RO"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate --all\n* 5a0e25e (HEAD, tag: TFS_C35348, origin_tfs/tfs, master) update code\n* 6eb3eb5 update readme\n* 8ef06a8 (tag: TFS_C35320) just some text\n* d44b17a (tag: TFS_C35190) Goodbye\n* 126aa7b (tag: TFS_C35189)\n* 8f77431 (tag: TFS_C35178) FIRST\n* 0745a25 (tag: TFS_C35177) Created team project folder $/tfvctest via the \\\n          Team Project Creation Wizard"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8RG"]],"x":"--shallow","n":"code","l":" 选项，默认启用）以来所有的修改生成的一个单独的变更集以及为每一个 Git 提交（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8RH"]],"x":"--deep","n":"code","l":"）生成的一个新的变更集。\n在本例中，我们将会创建一个变更集："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8RA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8RB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8RC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8RD"]],"x":"$","n":"span","l":" git rebase FETCH_HEAD\nFirst, rewinding head to replay your work on top of it...\nApplying: update readme\nApplying: update code\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8RE"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate --all\n* 5a0e25e (HEAD, master) update code\n* 6eb3eb5 update readme\n* 8ef06a8 (tag: TFS_C35320, origin_tfs/tfs) just some text\n* d44b17a (tag: TFS_C35190) Goodbye\n* 126aa7b (tag: TFS_C35189)\n* 8f77431 (tag: TFS_C35178) FIRST\n* 0745a25 (tag: TFS_C35177) Created team project folder $/tfvctest via the \\\n          Team Project Creation Wizard"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","DB8R0"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","DB8R1"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","DB8R5"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8R6"]],"x":"变基使我们的提交历史变成直线，这意味着我们有个选项可以将我们的每一个 Git 提交转换为一个 TFVC 变更集。\n因为这种方式为其他选项留下了可能，所以我们推荐你这样做；git-tf 可以很简单地通过 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8R7"]],"x":"git tf pull --rebase","n":"code","l":" 帮你达成目标。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8R2"]],"x":"像一名 Git 用户一样自然的生成一个合并提交（毕竟，那也是 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8R3"]],"x":"git pull","n":"code","l":" 做的），git-tf 可以通过一个简单的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8R4"]],"x":"git tf pull","n":"code","l":" 来帮你完成。\n然而，我们要注意的是，TFVC 却并不这样想，如果你推送合并提交那么你的历史在两边看起来都不一样，这会造成困惑。\n其次，如果你计划将所有你的改动提交为一次变更集，这可能是最简单的选择。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8QP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8QQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8QR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8QS"]],"x":"$","n":"span","l":" git tf fetch\nUsername: domain\\user\nPassword:\nConnecting to TFS...\nFetching $/myproject at latest changeset: 100%, done.\nDownloaded changeset 35320 as commit 8ef06a8. Updated FETCH_HEAD.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8QT"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate --all\n* 8ef06a8 (tag: TFS_C35320, origin_tfs/tfs) just some text\n| * 4178a82 (HEAD, master) update code\n| * 9df2ae3 update readme\n|/\n* d44b17a (tag: TFS_C35190) Goodbye\n* 126aa7b (tag: TFS_C35189)\n* 8f77431 (tag: TFS_C35178) FIRST\n* 0745a25 (tag: TFS_C35177) Created team project folder $/tfvctest via the \\\n          Team Project Creation Wizard"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8QN"]],"x":"4178a82","n":"code","l":" 提交的快照并将其推送到 TFVC 服务器。\n先说重要的：让我们看看自从上次连接后我们的队友是否进行过改动："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8QI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8QJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8QK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8QL"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate --all\n* 4178a82 (HEAD, master) update code\n* 9df2ae3 update readme\n* d44b17a (tag: TFS_C35190, origin_tfs/tfs) Goodbye\n* 126aa7b (tag: TFS_C35189)\n* 8f77431 (tag: TFS_C35178) FIRST\n* 0745a25 (tag: TFS_C35177) Created team project folder $/tfvctest via the \\\n          Team Project Creation Wizard"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8QG"]],"x":"master","n":"code","l":" 中做了几次 Git 提交，然后准备将你的进度共享到服务器。\n这是我们的 Git 仓库："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","DB8QE"]],"x":"git-tf","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_git_tf_s_工作流程"],["aid","DB8PM"]],"x":"Git-tf[s] 工作流程","n":"h4","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","DB8PN"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8Q0"]],"x":"显然，接下来要做的事情就是要在项目中做一些工作。\nTFVC 与 TFS 有几个功能可能会增加你的工作流程的复杂性：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB8Q1"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8QB"]],"x":"出于简洁性的原因，我们这里介绍的是一种轻松的方式，回避并避免了大部分问题。","n":"p","l":"\n"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","DB8Q2"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","DB8Q3"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","DB8Q6"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","DB8Q8"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8Q9"]],"x":"TFS 有一个 “封闭” 检入的概念，TFS 构建-测试循环必须在检入被允许前成功完成。\n这使用了 TFVC 的 “shelve” 功能，我们不会在这里详述。\n  可以通过 git-tf 手动地模拟这个功能，并且 git-tfs 提供了封闭敏感的 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8QA"]],"x":"checkintool","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8Q7"]],"x":"要意识到 TFVC 允许用户从服务器上 “检出” 文件并锁定它们，这样其他人就无法编辑了。\n显然它不会阻止你在本地仓库中编辑它们，但是当推送你的修改到 TFVC 服务器时会出现问题。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB8Q4"]],"x":"TFVC 无法表示特性分支，这会增加一点复杂度。\n这会导致需要以 ","n":"span","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","DB8Q5"]],"x":"非常","n":"strong","l":" 不同的方式使用 TFVC 与 Git 表示的分支。"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","DB8PO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8PP"]],"x":"无论你使用哪个工具，都需要先设置几个 Git 配置选项来避免一些问题。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8PQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source1 pcalibre1 pcalibre"],["aid","DB8PR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8PS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8PT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8PU"]],"x":"$","n":"span","l":" git config set --local core.ignorecase=true\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8PV"]],"x":"$","n":"span","l":" git config set --local core.autocrlf=false"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_使用_code_class_literal_git_tfs_code"],["aid","DB8OG"]],"x":"使用：","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8OI"]],"x":"Git-tfs 克隆行为略为不同。\n观察：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8OJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8OS"]],"x":"注意 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8OU"]],"x":"让我们看一下最终的 Git 仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8OV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8PA"]],"x":"有两个本地分支，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8PJ"]],"x":"另一件需要注意的事情是在提交信息中的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PK"]],"x":"git-tfs-id:","n":"code","l":" 行。\nGit-tfs 使用这些标记而不是标签来关联 TFVC 变更集与 Git 提交。\n有一个潜在的问题是 Git 提交在推送到 TFVC 前后会有不同的 SHA-1 校验和。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PB"]],"x":"master","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PC"]],"x":"featureA","n":"code","l":"，分别代表着克隆（TFVC 中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PD"]],"x":"Trunk","n":"code","l":"）与子分支（TFVC 中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PE"]],"x":"featureA","n":"code","l":"）的初始状态。\n也可以看到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PF"]],"x":"tfs","n":"code","l":" “remote” 也有一对引用："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PG"]],"x":"default","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PH"]],"x":"featureA","n":"code","l":"，代表 TFVC 分支。\nGit-tfs 映射从 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8PI"]],"x":"tfs/default","n":"code","l":" 克隆的分支，其他的会有它们自己的名字。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8P0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8P1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8P2"]],"n":"span","l":"PS> git log --oneline --graph --decorate --all\n* 44cd729 (tfs/featureA, featureA) Goodbye\n* d202b53 Branched from $/tfvc-test/Trunk\n* c403405 (HEAD, tfs/"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8P3"]],"x":"default","n":"span","l":", master) Hello\n* b75da1a New project\nPS> git log -1\ncommit c403405f4989d73a2c3c119e79021cb2104ce44a\nAuthor"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8P4"]],"x":":","n":"span","l":" Ben Straub <ben@straub.cc>\nDate"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8P5"]],"x":":","n":"span","l":"   Fri Aug 1 03"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8P6"]],"x":":","n":"span","l":"41"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8P7"]],"x":":","n":"span","l":"59 2014 +0000\n\n    Hello\n\n    git-tfs-id"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8P8"]],"x":":","n":"span","l":" [https"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8P9"]],"x":":","n":"span","l":"//username.visualstudio.com/DefaultCollection]$/myproject/Trunk;C16"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8OT"]],"x":"--with-branches","n":"code","l":" 选项。\nGit-tfs 能够映射 TFVC 分支到 Git 分支，这个标记告诉它为每一个 TFVC 分支建立一个本地的 Git 分支。\n强烈推荐曾经在 TFS 中新建过分支或合并过分支的仓库使用这个标记，但是如果使用的服务器的版本比 TFS 2010 更老 - 在那个版本前，“分支” 只是文件夹，所以 git-tfs 无法将它们与普通文件夹区分开。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8OK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8OL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8OM"]],"n":"span","l":"PS> git tfs clone --with-branches \\\n    https"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8ON"]],"x":":","n":"span","l":"//username.visualstudio.com/DefaultCollection \\\n    $/project/Trunk project_git\nInitialized empty Git repository "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8OO"]],"x":"in","n":"span","l":" C"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8OP"]],"x":":","n":"span","l":"/Users/ben/project_git/.git/\nC15 = b75da1aba1ffb359d00e85c52acb261e4586b0c9\nC16 = c403405f4989d73a2c3c119e79021cb2104ce44a\nTfs branches found"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8OQ"]],"x":":","n":"span","l":"\n- $/tfvc-test/featureA\nThe name of the local branch will be "},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","DB8OR"]],"x":":","n":"span","l":" featureA\nC17 = d202b53f67bde32171d5078968c644e562f1c439\nC18 = 44cd729d8df868a8be20438fdeeefb961958b674"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","DB8OH"]],"x":"git-tfs","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_使用_code_class_literal_git_tf_code"],["aid","DB8ND"]],"x":"使用：","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8NF"]],"x":"和其它任何 Git 项目一样，你要做的第一件事是克隆。\n使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8NH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8NM"]],"x":"第一个参数是一个 TFVC 集的 URL，第二个参数类似于 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8NO"]],"x":"这会创建一个完整功能的 Git 仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8NP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8NV"]],"x":"这叫做 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8O1"]],"x":"如果愿意多花一些时间，使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8O3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8OB"]],"x":"注意名字类似 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8OC"]],"x":"TFS_C35189","n":"code","l":" 的标签；这是一个帮助你知道 Git 提交与 TFVC 变更集关联的功能。\n这是一种优雅的表示方式，因为通过一个简单的 log 命令就可以看到你的提交是如何与 TFVC 中已存在快照关联起来的。\n它们并不是必须的（并且实际上可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8OD"]],"x":"git config git-tf.tag false","n":"code","l":" 来关闭它们）- git-tf 会在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8OE"]],"x":".git/git-tf","n":"code","l":" 文件中保存真正的提交与变更集的映射。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8O4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8O5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8O6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8O7"]],"x":"$","n":"span","l":" git tf clone https://tfs.codeplex.com:443/tfs/TFS13 $/myproject/Main "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB8O8"]],"x":"\\","n":"span","l":"\n  project_git --deep\nUsername: domain\\user\nPassword:\nConnecting to TFS...\nCloning $/myproject into /tmp/project_git: 100%, done.\nCloned 4 changesets. Cloned last changeset 35190 as d44b17a\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8O9"]],"x":"$","n":"span","l":" cd project_git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8OA"]],"x":"$","n":"span","l":" git log --all --oneline --decorate\nd44b17a (HEAD, tag: TFS_C35190, origin_tfs/tfs, master) Goodbye\n126aa7b (tag: TFS_C35189)\n8f77431 (tag: TFS_C35178) FIRST\n0745a25 (tag: TFS_C35177) Created team project folder $/tfvctest via the \\\n        Team Project Creation Wizard"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8O2"]],"x":"--deep","n":"code","l":" 选项克隆整个项目历史可能更有价值。"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB8O0"]],"x":"浅","n":"em","l":" 克隆，意味着只下载了最新的变更集。\nTFVC 并未设计成为每一个客户端提供一份全部历史记录的拷贝，所以 git-tf 默认行为是获得最新的版本，这样更快一些。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8NQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8NR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8NS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8NT"]],"x":"$","n":"span","l":" cd project_git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8NU"]],"x":"$","n":"span","l":" git log --all --oneline --decorate\n512e75a (HEAD, tag: TFS_C35190, origin_tfs/tfs, master) Checkin message"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8NN"]],"x":"$/project/branch","n":"code","l":" 的形式，第三个参数是将要创建的本地 Git 仓库路径（最后一项可以省略）。\nGit-tf 同一时间只能工作在一个分支上；如果你想要检入一个不同的 TFVC 分支，你需要从那个分支克隆一份新的。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8NI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8NJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8NK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8NL"]],"x":"$","n":"span","l":" git tf clone https://tfs.codeplex.com:443/tfs/TFS13 $/myproject/Main project_git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8NG"]],"x":"git-tf","n":"code","l":" 克隆看起来像这样："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","DB8NE"]],"x":"git-tf","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_选择哪个工具"],["aid","DB8N0"]],"x":"选择哪个工具","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8N1"]],"x":"\n实际上，这里有两个工具：git-tf 与 git-tfs。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8N2"]],"x":"Git-tfs （可以在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8N4"]],"x":"Git-tf（主页在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8N6"]],"x":"所以每个工具都有优点和缺点，每个工具都有它适用的情况。\n我们在本书中将会介绍它们两个的基本用法。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","DB8N7"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","DB8N8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8N9"]],"x":"你需要有一个基于 TFVC 的仓库来执行后续的指令。\n现实中它们并没有 Git 或 Subversion 仓库那样多，所以你可能需要创建一个你自己的仓库。\nCodeplex (","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://www.codeplex.com"],["aid","DB8NA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://www.codeplex.com","n":"a","l":") 或 Visual Studio Online ("},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.visualstudio.com"],["aid","DB8NB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.visualstudio.com","n":"a","l":") 都是非常好的选择。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://gittf.codeplex.com"],["aid","DB8N5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://gittf.codeplex.com","n":"a","l":"）是一个 Java 项目，因此它可以运行在任何一个有 Java 运行时环境的电脑上。\n它通过 JGit（一个 Git 的 JVM 实现）来与 Git 仓库交互，这意味着事实上它没有 Git 功能上的限制。\n然而，相对于 git-tfs 它对 TFVC 的支持是有限的 - 例如，它不支持分支。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/git-tfs/git-tfs"],["aid","DB8N3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/git-tfs/git-tfs","n":"a","l":" 找到）是一个 .NET 项目，它只能运行在 Windows 上（截至文章完成时）。\n为了操作 Git 仓库，它使用了 libgit2 的 .NET 绑定，一个可靠的面向库的 Git 实现，十分灵活且性能优越。\nLibgit2 并不是一个完整的 Git 实现，为了弥补差距 git-tfs 实际上会调用 Git 命令行客户端来执行某些操作，因此在操作 Git 仓库时并没有任何功能限制。\n因为它使用 Visual Studio 程序集对服务器进行操作，所以它对 TFVC 的支持非常成熟。\n这并不意味着你需要接触那些程序集，但是意味着你需要安装 Visual Studio 的一个最近版本（2010 之后的任何版本，包括 2012 之后的 Express 版本），或者 Visual Studio SDK。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","DB8MS"]],"x":"TFS","n":"strong","l":" 是服务器，它支持通过 Git 与它们自定义的 VCS 来管理源代码，这被他们称为 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","DB8MT"]],"x":"TFVC","n":"strong","l":"（Team Foundation Version Control）。\nGit 支持 TFS（自 2013 版本起）的部分新功能，所以在那之前所有工具都将版本控制部分称为 “TFS”，即使实际上他们大部分时间都在与 TFVC 工作。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_git_与_perforce_总结"],["aid","DB8MM"]],"x":"Git 与 Perforce 总结","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8MN"]],"x":"Git-p4 将与 Perforce 服务器工作时使用 Git 工作流成为可能，并且它非常擅长这点。\n然而，需要记住的重要一点是 Perforce 负责源头，而你只是在本地使用 Git。\n在共享 Git 提交时要相当小心：如果你有一个其他人使用的远程仓库，不要在提交到 Perforce 服务器前推送任何提交。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8MO"]],"x":"如果想要为源码管理自由地混合使用 Perforce 与 Git 作为客户端，可以说服服务器管理员安装 Git Fusion，Git Fusion 使 Git 作为 Perforce 服务器的首级版本管理客户端。","n":"p","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","r_git_p4_branches"],["aid","DB8LH"]],"x":"分支","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8LI"]],"x":"如果你的 Perforce 项目有多个分支，你并不会不走运；git-p4 可以以一种类似 Git 的方式来处理那种情况。\n假定你的 Perforce 仓库平铺的时候像这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8LJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8LM"]],"x":"并且假定你有一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8LO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8LR"]],"x":"Git-p4 可以自动地检测到这种情形并做正确的事情：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8LS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8M2"]],"x":"注意在仓库路径中的 “@all” 说明符；那会告诉 git-p4 不仅仅只是克隆那个子树最新的变更集，更包括那些路径未接触的所有变更集。\n这有点类似于 Git 的克隆概念，但是如果你工作在一个具有很长历史的项目，那么它会花费一段时间。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8M3"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8M5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8MD"]],"x":"设置 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8MG"]],"x":"如果我们现在运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8MK"]],"x":"为了创建与整合分支，你不得不使用一个 Perforce 客户端。\nGit-p4 只能同步或提交已有分支，并且它一次只能做一个线性的变更集。\n如果你在 Git 中合并两个分支并尝试提交新的变更集，所有这些会被记录为一串文件修改；关于哪个分支参与的元数据在整合中会丢失。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8MH"]],"x":"git checkout -b dev p4/project/dev","n":"code","l":" 并且做一些提交，在运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8MI"]],"x":"git p4 submit","n":"code","l":" 时 git-p4 会聪明地选择正确的分支。\n不幸的是，git-p4 不能混用 shallow 克隆与多个分支；如果你有一个巨型项目并且想要同时工作在不止一个分支上，可能不得不针对每一个你想要提交的分支运行一次 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8MJ"]],"x":"git p4 clone","n":"code","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8ME"]],"x":"git-p4.branchList","n":"code","l":" 配置选项为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8MF"]],"x":"main:dev","n":"code","l":" 告诉 git-p4 那个 “main” 与 “dev” 都是分支，第二个是第一个的子分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8M6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8M7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8M8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8M9"]],"x":"$","n":"span","l":" git init project\nInitialized empty Git repository in /tmp/project/.git/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8MA"]],"x":"$","n":"span","l":" cd project\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8MB"]],"x":"$","n":"span","l":" git config git-p4.branchList main:dev\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8MC"]],"x":"$","n":"span","l":" git clone --detect-branches //depot/project@all ."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8M4"]],"x":"--detect-branches","n":"code","l":" 标记告诉 git-p4 使用 Perforce 的分支规范来映射到 Git 的引用中。\n如果这些映射不在 Perforce 服务器中（使用 Perforce 的一种完美有效的方式），你可以告诉 git-p4 分支映射是什么，然后你会得到同样的结果："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8LT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8LU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8LV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8M0"]],"x":"$","n":"span","l":" git p4 clone --detect-branches //depot/project@all\nImporting from //depot/project@all into project\nInitialized empty Git repository in /private/tmp/project/.git/\nImporting revision 20 (50%)\n    Importing new branch project/dev\n\n    Resuming with change 20\nImporting revision 22 (100%)\nUpdated branches: main dev\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8M1"]],"x":"$","n":"span","l":" cd project; git log --oneline --all --graph --decorate\n* eae77ae (HEAD, p4/master, p4/HEAD, master) main\n| * 10d55fb (p4/project/dev) dev\n| * a43cfae Populate //depot/project/main/... //depot/project/dev/....\n|/\n* 2b83451 Project init"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8LP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8LQ"]],"x":"//depot/project/main/... //depot/project/dev/...","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8LN"]],"x":"dev","n":"code","l":" 分支，有一个视图规格像下面这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8LK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8LL"]],"x":"//depot\n  └── project\n      ├── main\n      └── dev","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8LA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8LB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8LC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8LD"]],"x":"$","n":"span","l":" git p4 submit\n[…]\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8LE"]],"x":"$","n":"span","l":" git log --oneline --all --graph --decorate\n* dadbd89 (HEAD, p4/master, p4/HEAD, master) Correct email address\n* 1b79a80 Table borders: yes please\n* 0097235 Trademark\n* c4689fc Grammar fix\n* 775a46f Change page title\n* 05f1ade Update link\n* 75cd059 Update copyright\n* 70eaf78 Initial import of //depot/www/live/ from the state at revision #head"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8L7"]],"x":"-n","n":"code","l":" 标记是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8L8"]],"x":"--dry-run","n":"code","l":" 的缩写，将会报告如果提交命令真的运行会发生什么。\n这本例中，它看起来像是我们会创建三个 Perforce 变更集，对应着不在 Perforce 服务器端的三次非合并提交。\n那听起来像是我们想要的，让我们看看它会如何做："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8L2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8L3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8L4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8L5"]],"x":"$","n":"span","l":" git p4 submit -n\nPerforce checkout for depot path //depot/www/live/ located at /Users/ben/john_bens-mbp_8487/john_bens-mbp_8487/depot/www/live/\nWould synchronize p4 checkout in /Users/ben/john_bens-mbp_8487/john_bens-mbp_8487/depot/www/live/\nWould apply\n  b4959b6 Trademark\n  cbacd0a Table borders: yes please\n  3be6fd8 Correct email address"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8KS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8KT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8KU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8KV"]],"x":"$","n":"span","l":" git log --oneline --all --graph --decorate\n* 3be6fd8 (HEAD, master) Correct email address\n*   1dcbf21 Merge remote-tracking branch 'p4/master'\n|\\\n| * c4689fc (p4/master, p4/HEAD) Grammar fix\n* | cbacd0a Table borders: yes please\n* | b4959b6 Trademark\n|/\n* 775a46f Change page title\n* 05f1ade Update link\n* 75cd059 Update copyright\n* 70eaf78 Initial import of //depot/www/live/ from the state at revision #head"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8KM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8KN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8KO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8KP"]],"x":"$","n":"span","l":" git log -1\ncommit 775a46f630d8b46535fc9983cf3ebe6b9aa53145\nAuthor: John Doe <john@example.com>\nDate:   Sun Aug 31 10:31:44 2014 -0800\n\n    Change page title\n\n    [git-p4: depot-paths = \"//depot/www/live/\": change = 12144]"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8KK"]],"x":"git p4 submit","n":"code","l":" 前进行一次交互式变基。\n同样注意的是所有被转化为变更集的提交的 SHA-1 校验和都改变了；这是因为 git-p4 在每一个转化的提交增加一行到提交注释结尾："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8KI"]],"x":"git push","n":"code","l":"，就像是应当实际发生的最接近的类比。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8KC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8KD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8KE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8KF"]],"x":"$","n":"span","l":" git p4 submit\nPerforce checkout for depot path //depot/www/live/ located at /Users/ben/john_bens-mbp_8487/john_bens-mbp_8487/depot/www/live/\nSynchronizing p4 checkout...\n... - file(s) up-to-date.\nApplying dbac45b Update link\n//depot/www/live/index.html#4 - opened for edit\nChange 12143 created with 1 open file(s).\nSubmitting change 12143.\nLocking 1 files ...\nedit //depot/www/live/index.html#5\nChange 12143 submitted.\nApplying 905ec6a Change page title\n//depot/www/live/index.html#5 - opened for edit\nChange 12144 created with 1 open file(s).\nSubmitting change 12144.\nLocking 1 files ...\nedit //depot/www/live/index.html#6\nChange 12144 submitted.\nAll commits applied!\nPerforming incremental import into refs/remotes/p4/master git branch\nDepot paths: //depot/www/live/\nImport destination: refs/remotes/p4/master\nImporting revision 12144 (100%)\nRebasing the current branch onto remotes/p4/master\nFirst, rewinding head to replay your work on top of it...\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8KG"]],"x":"$","n":"span","l":" git log --oneline --all --graph --decorate\n* 775a46f (HEAD, p4/master, p4/HEAD, master) Change page title\n* 05f1ade Update link\n* 75cd059 Update copyright\n* 70eaf78 Initial import of //depot/www/live/ from the state at revision #head"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8K9"]],"x":"p4 submit","n":"code","l":" 后看到的内容大多相同。\n当提交或变更集需要一个名字时 git-p4 会分别尝试使用你的 Git 与 Perforce 设置，但是有些情况下你会想要覆盖默认行为。\n例如，如果你正导入的提交是由没有 Perforce 用户账户的贡献者编写的，你还是会想要最终的变更集看起来像是他们写的（而不是你）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8J9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8JA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8JB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JC"]],"x":"#","n":"span","l":" A Perforce Change Specification.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JD"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JE"]],"x":"#","n":"span","l":"  Change:      The change number. "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8JF"]],"x":"'new'","n":"span","l":" on a new changelist.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JG"]],"x":"#","n":"span","l":"  Date:        The date this specification was last modified.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JH"]],"x":"#","n":"span","l":"  Client:      The client on which the changelist was created.  Read-only.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JI"]],"x":"#","n":"span","l":"  User:        The user who created the changelist.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JJ"]],"x":"#","n":"span","l":"  Status:      Either "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8JK"]],"x":"'pending'","n":"span","l":" or "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8JL"]],"x":"'submitted'","n":"span","l":". Read-only.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JM"]],"x":"#","n":"span","l":"  Type:        Either "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8JN"]],"x":"'public'","n":"span","l":" or "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8JO"]],"x":"'restricted'","n":"span","l":". Default is "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8JP"]],"x":"'public'","n":"span","l":".\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JQ"]],"x":"#","n":"span","l":"  Description: Comments about the changelist.  Required.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JR"]],"x":"#","n":"span","l":"  Jobs:        What opened jobs are to be closed by this changelist.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JS"]],"x":"#","n":"span","l":"               You may delete jobs from this list.  (New changelists only.)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JT"]],"x":"#","n":"span","l":"  Files:       What opened files from the default changelist are to be added\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JU"]],"x":"#","n":"span","l":"               to this changelist.  You may delete files from this list.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8JV"]],"x":"#","n":"span","l":"               (New changelists only.)\n\nChange:  new\n\nClient:  john_bens-mbp_8487\n\nUser: john\n\nStatus:  new\n\nDescription:\n   Update link\n\nFiles:\n   //depot/www/live/index.html   # edit\n\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8K0"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8K1"]],"x":"####### git author ben@straub.cc does not match your p4 account.","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8K2"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8K3"]],"x":"####### Use option --preserve-user to modify authorship.","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8K4"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8K5"]],"x":"####### Variable git-p4.skipUserNameCheck hides this message.","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8K6"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8K7"]],"x":"####### everything below this line is just the diff #######","n":"span","l":"\n--- //depot/www/live/index.html  2014-08-31 18:26:05.000000000 0000\n+++ /Users/ben/john_bens-mbp_8487/john_bens-mbp_8487/depot/www/live/index.html   2014-08-31 18:26:05.000000000 0000\n@@ -60,7 +60,7 @@\n </td>\n <td valign=top>\n Source and documentation for\n-<a href=\"http://www.perforce.com/jam/jam.html\">\n+<a href=\"jam.html\">\n Jam/MR</a>,\n a software build tool.\n </td>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8J5"]],"x":"git p4 submit","n":"code","l":" 命令会尝试在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8J6"]],"x":"p4/master","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8J7"]],"x":"master","n":"code","l":" 之间的每一个 Git 提交创建一个新的 Perforce 修订版本。\n运行它会带我们到最爱的编辑器，文件内容看起来像是这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8J1"]],"x":"git p4 rebase","n":"code","l":" 是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8J2"]],"x":"git p4 sync","n":"code","l":" 接着 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8J3"]],"x":"git rebase p4/master","n":"code","l":" 的快捷方式。\n它比那更聪明一些，特别是工作在多个分支时，但这是一个进步。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8IS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8IT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8IU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8IV"]],"x":"$","n":"span","l":" git p4 rebase\nPerforming incremental import into refs/remotes/p4/master git branch\nDepot paths: //depot/www/live/\nNo changes to import!\nRebasing the current branch onto remotes/p4/master\nFirst, rewinding head to replay your work on top of it...\nApplying: Update link\nApplying: Change page title\n index.html | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8IO"]],"x":"master","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8IP"]],"x":"p4/master","n":"code","l":" 已经分叉了。\nPerforce 的分支系统一点也 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB8IQ"]],"x":"不","n":"em","l":" 像 Git 的，所以提交合并提交没有任何意义。\nGit-p4 建议变基你的提交，它甚至提供了一个快捷方式来这样做："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8II"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8IJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8IK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8IL"]],"x":"$","n":"span","l":" git p4 sync\ngit p4 sync\nPerforming incremental import into refs/remotes/p4/master git branch\nDepot paths: //depot/www/live/\nImport destination: refs/remotes/p4/master\nImporting revision 12142 (100%)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8IM"]],"x":"$","n":"span","l":" git log --oneline --all --graph --decorate\n* 75cd059 (p4/master, p4/HEAD) Update copyright\n| * 018467c (HEAD, master) Change page title\n| * c0fb617 Update link\n|/\n* 70eaf78 Initial import of //depot/www/live/ from the state at revision #head"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8IC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8ID"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8IE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8IF"]],"x":"$","n":"span","l":" git log --oneline --all --graph --decorate\n* 018467c (HEAD, master) Change page title\n* c0fb617 Update link\n* 70eaf78 (p4/master, p4/HEAD) Initial import of //depot/www/live/ from the state at revision #head"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_开始_3"],["aid","DB8HH"]],"x":"开始","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8HI"]],"x":"像在 Git 中的任何事情一样，第一个命令就是克隆：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8HJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8HO"]],"x":"这样会创建出一种在 Git 中名为 “shallow” 克隆；只有最新版本的 Perforce 被导入至 Git；记住，Perforce 并未被设计成给每一个用户一个版本。\n使用 Git 作为 Perforce 客户端这样就足够了，但是为了其他目的的话这样可能不够。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8HP"]],"x":"完成之后，我们就有一个全功能的 Git 仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8HQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8I0"]],"x":"注意有一个 “p4” 远程代表 Perforce 服务器，但是其他东西看起来就像是标准的克隆。\n实际上，这有一点误导；其实远程仓库并不存在。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8I1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8I6"]],"x":"在当前仓库中并不存在任何远程仓库。\nGit-p4 创建了一些引用来代表服务器的状态，它们看起来类似 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8I7"]],"x":"git log","n":"code","l":" 显示的远程引用，但是它们并不被 Git 本身管理，并且你无法推送它们。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8I2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8I3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8I4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8I5"]],"x":"$","n":"span","l":" git remote -v"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8HR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8HS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8HT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8HU"]],"x":"$","n":"span","l":" cd myproject\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8HV"]],"x":"$","n":"span","l":" git log --oneline --all --graph --decorate\n* 70eaf78 (HEAD, p4/master, p4/HEAD, master) Initial import of //depot/www/live/ from the state at revision #head"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8HK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8HL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8HM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8HN"]],"x":"$","n":"span","l":" git p4 clone //depot/www/live www-shallow\nImporting from //depot/www/live into www-shallow\nInitialized empty Git repository in /private/tmp/www-shallow/.git/\nDoing initial import of //depot/www/live/ from revision #head into refs/remotes/p4/master"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_设置_3"],["aid","DB8H6"]],"x":"设置","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8H7"]],"x":"出于演示的目的，我们将会从上面演示的 Git Fusion OVA 运行 Perforce 服务器，但是我们会绕过 Git Fusion 服务器然后直接进行 Perforce 版本管理。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8H8"]],"x":"为了使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8HA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8HB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8HC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8HD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8HE"]],"x":"$","n":"span","l":" export P4PORT=10.0.1.254:1666\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8HF"]],"x":"$","n":"span","l":" export P4USER=john"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8H9"]],"x":"p4","n":"code","l":" 命令行客户端（git-p4 依赖项），你需要设置两个环境变量："},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","DB8H0"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8H1"]],"x":"为了与 git-p4 一起工作需要在你的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8H2"]],"x":"PATH","n":"code","l":" 环境变量中的某个目录中有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8H3"]],"x":"p4","n":"code","l":" 工具。\n在写这篇文章的时候，它可以在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.perforce.com/downloads/Perforce/20-User"],["aid","DB8H4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.perforce.com/downloads/Perforce/20-User","n":"a","l":" 免费获得。"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_git_fusion_总结"],["aid","DB8GP"]],"x":"Git-Fusion 总结","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8GQ"]],"x":"如果你有（或者能获得）接触你的 Perforce 服务器的权限，那么 Git Fusion 是使 Git 与 Perforce 互相交流的很好的方法。\n这里包含了一点配置，但是学习曲线并不是很陡峭。\n这是本章中其中一个不会出现无法使用 Git 全部能力的警告的章节。\n这并不是说扔给 Perforce 任何东西都会高兴 - 如果你尝试重写已经推送的历史，Git Fusion 会拒绝它 - 虽然 Git Fusion 尽力让你感觉是原生的。\n你甚至可以使用 Git 子模块（尽管它们对 Perforce 用户看起来很奇怪），合并分支（在 Perforce 这边会被记录了一次整合）。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8GR"]],"x":"如果不能说服你的服务器管理员设置 Git Fusion，依然有一种方式来一起使用这两个工具。","n":"p","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_工作流程_2"],["aid","DB8F8"]],"x":"工作流程","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8F9"]],"x":"Perforce Git Fusion 是在 Perforce 与 Git 版本控制间双向的桥接。\n让我们看一下在 Git 这边工作是什么样的感觉。\n假定我们在 “Jam” 项目中使用上述的配置文件映射了，可以这样克隆：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8FA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8FH"]],"x":"当首次这样做时，会花费一些时间。\n这里发生的是 Git Fusion 会将在 Perforce 历史中所有合适的变更集转换为 Git 提交。\n这发生在服务器端本地，所以会相当快，但是如果有很多历史，那么它还是会花费一些时间。\n后来的抓取会做增量转换，所以会感觉更像 Git 的本地速度。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8FI"]],"x":"如你所见，我们的仓库看起来像之前使用过的任何一个 Git 仓库了。\n这里有三个分支，Git 已经帮助创建了一个跟踪 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8FL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8FR"]],"x":"我们有两个新提交。\n现在我们检查下是否有其他人在工作：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8FS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8G2"]],"x":"看起来有人在工作！\n从这个视图来看你并不知道这点，但是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8G4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8GA"]],"x":"Git 认为它成功了。\n让我们从 Perforce 的视角看一下 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","DB8GD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8GG"]],"x":"如果你在之前从未看过这个视图，它似乎让人困惑，但是它显示出了作为 Git 历史图形化查看器相同的概念。\n我们正在查看 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8GJ"]],"x":"还要注意的一件事是这个图看起来很像 Git 历史中的图。\nPerforce 没有存储 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8GN"]],"x":"这些大多数发生在后台，但是最终结果是团队中的一个人可以使用 Git，另一个可以使用 Perforce，而所有人都不知道其他人的选择。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8GK"]],"x":"1","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8GL"]],"x":"2","n":"code","l":" 提交的命名分支，所以它在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8GM"]],"x":".git-fusion","n":"code","l":" 目录中生成了一个 “anonymous” 分支来保存它。\n这也会在 Git 命名分支不对应 Perforce 命名分支时发生（稍后你可以使用配置文件来映射它们到 Perforce 分支）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8GH"]],"x":"README","n":"code","l":" 文件的历史，所以左上角的目录树只显示那个文件在不同分支的样子。\n右上方，我们有不同版本文件关系的可视图，这个可视图的全局视图在右下方。\n视图中剩余的部分显示出选择版本的详细信息（在这个例子中是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8GI"]],"x":"2","n":"code","l":"）"},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB8GE"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","DB8GF"]],"x":"Figure 2. Git 推送后的 Perforce 版本图","n":"figcaption","l":"\n"},{"a":[["alt","Git 推送后的 Perforce 版本图。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0056?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8GB"]],"x":"README","n":"code","l":" 文件的历史，使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8GC"]],"x":"p4v","n":"code","l":" 的版本图功能。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8G5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8G6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8G7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8G8"]],"x":"$","n":"span","l":" git merge origin/master\nAuto-merging README\nMerge made by the 'recursive' strategy.\n README | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8G9"]],"x":"$","n":"span","l":" git push\nCounting objects: 9, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (9/9), done.\nWriting objects: 100% (9/9), 917 bytes | 0 bytes/s, done.\nTotal 9 (delta 6), reused 0 (delta 0)\nremote: Perforce: 100% (3/3) Loading commit tree into memory...\nremote: Perforce: 100% (5/5) Finding child commits...\nremote: Perforce: Running git fast-export...\nremote: Perforce: 100% (3/3) Checking commits...\nremote: Processing will continue even if connection is closed.\nremote: Perforce: 100% (3/3) Copying changelists...\nremote: Perforce: Submitting new Git commit objects to Perforce: 4\nTo https://10.0.1.254/Jam\n   6afeb15..89cba2b  master -> master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8G3"]],"x":"6afeb15","n":"code","l":" 提交确实是使用 Perforce 客户端创建的。\n从 Git 的视角看它仅仅只是另一个提交，准确地说是一个点。\n让我们看看 Perforce 服务器如何处理一个合并提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8FT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8FU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8FV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8G0"]],"x":"$","n":"span","l":" git fetch\nremote: Counting objects: 5, done.\nremote: Compressing objects: 100% (3/3), done.\nremote: Total 3 (delta 2), reused 0 (delta 0)\nUnpacking objects: 100% (3/3), done.\nFrom https://10.0.1.254/Jam\n   d254865..6afeb15  master     -> origin/master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8G1"]],"x":"$","n":"span","l":" git log --oneline --decorate --graph --all\n* 6afeb15 (origin/master, origin/HEAD) Update copyright\n| * cfd46ab (HEAD, master) Add documentation for new feature\n| * a730d77 Whitespace\n|/\n* d254865 Upgrade to latest metrowerks on Beos -- the Intel one.\n* bd2f54a Put in fix for jam's NT handle leak.\n[...]"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8FM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8FN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8FO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8FP"]],"x":"#","n":"span","l":" ...\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8FQ"]],"x":"$","n":"span","l":" git log --oneline --decorate --graph --all\n* cfd46ab (HEAD, master) Add documentation for new feature\n* a730d77 Whitespace\n* d254865 (origin/master, origin/HEAD) Upgrade to latest metrowerks on Beos -- the Intel one.\n* bd2f54a Put in fix for jam's NT handle leak.\n[...]"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8FJ"]],"x":"origin/master","n":"code","l":" 的本地 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8FK"]],"x":"master","n":"code","l":" 分支。\n让我们做一些工作，创建几个新提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8FB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8FC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8FD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8FE"]],"x":"$","n":"span","l":" git clone https://10.0.1.254/Jam\nCloning into 'Jam'...\nUsername for 'https://10.0.1.254': john\nPassword for 'https://ben@10.0.1.254':\nremote: Counting objects: 2070, done.\nremote: Compressing objects: 100% (1704/1704), done.\nReceiving objects: 100% (2070/2070), 1.21 MiB | 0 bytes/s, done.\nremote: Total 2070 (delta 1242), reused 0 (delta 0)\nResolving deltas: 100% (1242/1242), done.\nChecking connectivity... done.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8FF"]],"x":"$","n":"span","l":" git branch -a\n* master\n  remotes/origin/HEAD -> origin/master\n  remotes/origin/master\n  remotes/origin/rel2.1\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8FG"]],"x":"$","n":"span","l":" git log --oneline --decorate --graph --all\n* 0a38c33 (origin/rel2.1) Create Jam 2.1 release branch.\n| * d254865 (HEAD, origin/master, origin/HEAD, master) Upgrade to latest metrowerks on Beos -- the Intel one.\n| * bd2f54a Put in fix for jam's NT handle leak.\n| * c0f29e7 Fix URL in a jam doc\n| * cc644ac Radstone's lynx port.\n[...]"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8F5"]],"x":"<user> <email> \"<full name>\"","n":"code","l":"，创建了一个单独的用户映射。\n前两行映射不同的邮箱地址到同一个 Perforce 用户账户。\n当使用几个不同的邮箱地址（或改变邮箱地址）生成 Git 提交并且想要让他们映射到同一个 Perforce 用户时这会很有用。\n当从一个 Perforce 变更集创建一个 Git 提交时，第一个匹配 Perforce 用户的行会被用作 Git 作者信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8F2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8F3"]],"x":"john john@example.com \"John Doe\"\njohn johnny@appleseed.net \"John Doe\"\nbob employeeX@example.com \"Anon X. Mouse\"\njoe employeeY@example.com \"Anon Y. Mouse\"","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8F0"]],"x":"users/p4gf_usermap","n":"code","l":"，它将 Perforce 用户映射到 Git 用户，但你可能不会需要它。\n当从一个 Perforce 变更集转换为一个 Git 提交时，Git Fusion 的默认行为是去查找 Perforce 用户，然后把邮箱地址与全名存储在 Git 的 author/commiter 字段中。\n当反过来转换时，默认的行为是根据存储在 Git 提交中 author 字段中的邮箱地址来查找 Perforce 用户，然后以该用户提交变更集（以及权限的应用）。\n大多数情况下，这个行为工作得很好，但是考虑下面的映射文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8EN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8EO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8EP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8EQ"]],"x":"[multi-project-mapping]","n":"span","l":"\ngit-branch-name = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8ER"]],"x":"master","n":"span","l":"\nview = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8ES"]],"x":"//depot/project1/main/... project1/...","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8ET"]],"x":"       //depot/project2/mainline/... project2/...","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8EK"]],"x":"git-branch-name","n":"code","l":" 允许你将在 Git 下显得笨重的仓库路径转换为更友好的名字。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8EL"]],"x":"view","n":"code","l":" 选项使用标准视图映射语法控制 Perforce 文件如何映射到 Git 仓库。\n可以指定一个以上的映射，就像下面的例子："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8ED"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8EE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8EF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8EG"]],"x":"[Talkhouse-master]","n":"span","l":"\ngit-branch-name = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8EH"]],"x":"master","n":"span","l":"\nview = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8EI"]],"x":"//depot/Talkhouse/main-dev/... ...","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8EA"]],"x":"repos/Talkhouse/p4gf_config","n":"code","l":"。\n如果打开这个文件，你会看到有一些与全局默认不同设置的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8EB"]],"x":"[@repo]","n":"code","l":" 区块。\n你也会看到像下面这样的区块："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8DG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8DH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8DI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8DJ"]],"x":"[repo-creation]","n":"span","l":"\ncharset = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DK"]],"x":"utf8","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8DL"]],"x":"[git-to-perforce]","n":"span","l":"\nchange-owner = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DM"]],"x":"author","n":"span","l":"\nenable-git-branch-creation = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DN"]],"x":"yes","n":"span","l":"\nenable-swarm-reviews = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DO"]],"x":"yes","n":"span","l":"\nenable-git-merge-commits = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DP"]],"x":"yes","n":"span","l":"\nenable-git-submodules = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DQ"]],"x":"yes","n":"span","l":"\npreflight-commit = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DR"]],"x":"none","n":"span","l":"\nignore-author-permissions = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DS"]],"x":"no","n":"span","l":"\nread-permission-check = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DT"]],"x":"none","n":"span","l":"\ngit-merge-avoidance-after-change-num = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8DU"]],"x":"12107","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8DV"]],"x":"[perforce-to-git]","n":"span","l":"\nhttp-url = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8E0"]],"x":"none","n":"span","l":"\nssh-url = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8E1"]],"x":"none","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8E2"]],"x":"[@features]","n":"span","l":"\nimports = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8E3"]],"x":"False","n":"span","l":"\nchunked-push = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8E4"]],"x":"False","n":"span","l":"\nmatrix2 = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8E5"]],"x":"False","n":"span","l":"\nparallel-push = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8E6"]],"x":"False","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8E7"]],"x":"[authentication]","n":"span","l":"\nemail-case-sensitivity = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8E8"]],"x":"no","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8DD"]],"x":"objects","n":"code","l":" 目录被 Git Fusion 内部用来双向映射 Perforce 对象与 Git 对象，你不必弄乱那儿的任何东西。\n在这个目录中有一个全局的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8DE"]],"x":"p4gf_config","n":"code","l":" 文件，每个仓库中也会有一份 - 这些配置文件决定了 Git Fusion 的行为。\n让我们看一下根目录下的文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8D8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8D9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8DA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8DB"]],"x":"$","n":"span","l":" tree\n.\n├── objects\n│   ├── repos\n│   │   └── [...]\n│   └── trees\n│       └── [...]\n│\n├── p4gf_config\n├── repos\n│   └── Talkhouse\n│       └── p4gf_config\n└── users\n    └── p4gf_usermap\n\n498 directories, 287 files"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8D6"]],"x":"//.git-fusion","n":"code","l":" 目录到你的工作空间。\n文件结构看起来像这样："},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_设置_2"],["aid","DB8C0"]],"x":"设置","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8C1"]],"x":"针对我们的例子，我们将会使用最简单的方式安装 Git Fusion：下载一个虚拟机来运行 Perforce 守护进程与 Git Fusion。\n可以从 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8C3"]],"x":"在第一次启动机器后，它会询问你自定义三个 Linux 用户（","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","DB8C7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8CA"]],"x":"应当注意显示在这儿的 IP 地址，我们将会在后面用到。\n接下来，我们将会创建一个 Perforce 用户。\n选择底部的 “Login” 选项并按下回车（或者用 SSH 连接到这台机器），然后登录为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8CC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8CJ"]],"x":"第一个命令将会打开一个 VI 编辑器来自定义用户，但是可以通过输入 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8CL"]],"x":"接下来要做的事就是告诉 Git 不要验证 SSL 证书。\nGit Fusion 镜像内置一个证书，但是域名并不匹配你的虚拟主机的 IP 地址，所以 Git 会拒绝 HTTPS 连接。\n如果要进行永久安装，查阅 Perforce Git Fusion 手册来安装一个不同的证书；然而，对于我们这个例子来说，这已经足够了。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8CM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8CR"]],"x":"现在我们可以测试所有东西是不是正常工作。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB8CS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8D1"]],"x":"虚拟机镜像自带一个可以克隆的样例项目。\n这里我们会使用之前创建的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8D2"]],"x":"john","n":"code","l":" 用户，通过 HTTPS 进行克隆；Git 询问此次连接的凭证，但是凭证缓存会允许我们跳过这步之后的任意后续请求。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8CT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8CU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8CV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8D0"]],"x":"$","n":"span","l":" git clone https://10.0.1.254/Talkhouse\nCloning into 'Talkhouse'...\nUsername for 'https://10.0.1.254': john\nPassword for 'https://john@10.0.1.254':\nremote: Counting objects: 630, done.\nremote: Compressing objects: 100% (581/581), done.\nremote: Total 630 (delta 172), reused 0 (delta 0)\nReceiving objects: 100% (630/630), 1.22 MiB | 0 bytes/s, done.\nResolving deltas: 100% (172/172), done.\nChecking connectivity... done."},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8CN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8CO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8CP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8CQ"]],"x":"$","n":"span","l":" export GIT_SSL_NO_VERIFY=true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8CK"]],"x":":wq","n":"code","l":" 并回车来接受默认选项。\n第二个命令将会提示输入密码两次。\n这就是所有我们要通过终端提示符做的事情，所以现在可以退出当前会话了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8CD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8CE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8CF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8CG"]],"x":"$","n":"span","l":" p4 -p localhost:1666 -u super user -f john\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8CH"]],"x":"$","n":"span","l":" p4 -p localhost:1666 -u john passwd\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8CI"]],"x":"$","n":"span","l":" exit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8CB"]],"x":"root","n":"code","l":"。\n然后使用这些命令创建一个用户："},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB8C8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","DB8C9"]],"x":"Figure 1. Git Fusion 虚拟机启动屏幕。","n":"figcaption","l":"\n"},{"a":[["alt","Git Fusion 虚拟机启动屏幕。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000C?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8C4"]],"x":"root","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8C5"]],"x":"perforce","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8C6"]],"x":"git","n":"code","l":"）的密码，并且提供一个实例名字来区分在同一网络下不同的安装。\n当那些都完成后，将会看到这样："},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.perforce.com/downloads/Perforce/20-User"],["aid","DB8C2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.perforce.com/downloads/Perforce/20-User","n":"a","l":" 获得虚拟机镜像，下载完成后将它导入到你最爱的虚拟机软件中（我们将会使用 VirtualBox）。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.perforce.com/git-fusion"],["aid","DB8BU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.perforce.com/git-fusion","n":"a","l":" 获得），它将会在服务器这边同步 Perforce 服务器与 Git 仓库。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_mercurial_总结"],["aid","DB8BL"]],"x":"Mercurial 总结","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB8BM"]],"x":"Git 与 Mercurial 如此相似，以至于跨这两个系统进行工作十分流畅。\n如果能注意避免改变在你机器上的历史（就像通常建议的那样），你甚至并不会察觉到另一端是 Mercurial。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB8BG"]],"x":"8","n":"em","l":"、"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB8BH"]],"x":"9","n":"em","l":" 与 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB8BI"]],"x":"10","n":"em","l":" 已经被创建出来并且属于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8BJ"]],"x":"permanent","n":"code","l":" 分支，但是旧的变更集依然在那里。\n这会让使用 Mercurial 的团队成员非常困惑，所以要避免这种行为。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8BB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8BC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8BD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8BE"]],"x":"$","n":"span","l":" hg log --style compact -G\no  10[tip]   99611176cbc9   2014-08-14 20:21 -0700   ben\n|    A permanent change\n|\no  9   f23e12f939c3   2014-08-14 20:01 -0700   ben\n|    Add some documentation\n|\no  8:1   c16971d33922   2014-08-14 20:00 -0700   ben\n|    goodbye\n|\n| o  7:5   a4529d07aad4   2014-08-14 20:21 -0700   ben\n| |    A permanent change\n| |\n| | @  6   8f65e5e02793   2014-08-14 20:06 -0700   ben\n| |/     More documentation\n| |\n| o    5[featureA]:4,2   bd5ac26f11f9   2014-08-14 20:02 -0700   ben\n| |\\     Merge remote-tracking branch 'origin/master'\n| | |\n| | o  4   0434aaa6b91f   2014-08-14 20:01 -0700   ben\n| | |    update makefile\n| | |\n+---o  3:1   318914536c86   2014-08-14 20:00 -0700   ben\n| |      goodbye\n| |\n| o  2   f098c7f45c4f   2014-08-14 20:01 -0700   ben\n|/     Add some documentation\n|\no  1   82e55d328c8c   2005-08-26 01:21 -0700   mpm\n|    Create a makefile\n|\no  0   0a04b987be5a   2005-08-26 01:20 -0700   mpm\n     Create a standard \"hello, world\" program"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB8B8"]],"x":"7","n":"em","l":" 的变更集中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8B2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8B3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8B4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8B5"]],"x":"$","n":"span","l":" hg branches\npermanent                      7:a4529d07aad4\ndevelop                        6:8f65e5e02793\ndefault                        5:bd5ac26f11f9 (inactive)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8B6"]],"x":"$","n":"span","l":" hg log -G\no  changeset:   7:a4529d07aad4\n|  branch:      permanent\n|  tag:         tip\n|  parent:      5:bd5ac26f11f9\n|  user:        Ben Straub <ben@straub.cc>\n|  date:        Thu Aug 14 20:21:09 2014 -0700\n|  summary:     A permanent change\n|\n| @  changeset:   6:8f65e5e02793\n|/   branch:      develop\n|    user:        Ben Straub <ben@straub.cc>\n|    date:        Thu Aug 14 20:06:38 2014 -0700\n|    summary:     More documentation\n|\no    changeset:   5:bd5ac26f11f9\n|\\   bookmark:    featureA\n| |  parent:      4:0434aaa6b91f\n| |  parent:      2:f098c7f45c4f\n| |  user:        Ben Straub <ben@straub.cc>\n| |  date:        Thu Aug 14 20:02:21 2014 -0700\n| |  summary:     Merge remote-tracking branch 'origin/master'\n[...]"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8AO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8AP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8AQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AR"]],"x":"$","n":"span","l":" git checkout -b branches/permanent\nSwitched to a new branch 'branches/permanent'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AS"]],"x":"$","n":"span","l":" vi Makefile\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AT"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB8AU"]],"x":"'A permanent change'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AV"]],"x":"$","n":"span","l":" git push origin branches/permanent\nTo hg::/tmp/hello\n * [new branch]      branches/permanent -> branches/permanent"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8AM"]],"x":"branches","n":"code","l":" 命名空间内创建一个分支："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB8AK"]],"x":"[featureA]","n":"code","l":" 标签。\n在 Git 这边这些看起来像是 Git 分支，除了一点：不能从 Git 这边删除书签（这是远程助手的一个限制）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8AE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8AF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8AG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AH"]],"x":"$","n":"span","l":" hg bookmarks\n   featureA                  5:bd5ac26f11f9\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AI"]],"x":"$","n":"span","l":" hg log --style compact -G\n@  6[tip]   8f65e5e02793   2014-08-14 20:06 -0700   ben\n|    More documentation\n|\no    5[featureA]:4,2   bd5ac26f11f9   2014-08-14 20:02 -0700   ben\n|\\     Merge remote-tracking branch 'origin/master'\n| |\n| o  4   0434aaa6b91f   2014-08-14 20:01 -0700   ben\n| |    update makefile\n| |\n| o  3:1   318914536c86   2014-08-14 20:00 -0700   ben\n| |    goodbye\n| |\no |  2   f098c7f45c4f   2014-08-14 20:01 -0700   ben\n|/     Add some documentation\n|\no  1   82e55d328c8c   2005-08-26 01:21 -0700   mpm\n|    Create a makefile\n|\no  0   0a04b987be5a   2005-08-26 01:20 -0700   mpm\n     Create a standard \"hello, world\" program"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8A7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8A8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8A9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AA"]],"x":"$","n":"span","l":" git checkout -b featureA\nSwitched to a new branch 'featureA'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8AB"]],"x":"$","n":"span","l":" git push origin featureA\nTo hg::/tmp/hello\n * [new branch]      featureA -> featureA"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB8A0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB8A1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB8A2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB8A3"]],"x":"$","n":"span","l":" hg log -l 1\nchangeset:   6:8f65e5e02793\nbranch:      develop\ntag:         tip\nuser:        Ben Straub <ben@straub.cc>\ndate:        Thu Aug 14 20:06:38 2014 -0700\nsummary:     More documentation"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB89T"]],"x":"在变更集中","n":"em","l":"，意味着它会永远地存在于仓库历史中。\n这个例子描述了一个在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB89U"]],"x":"develop","n":"code","l":" 分支上的提交："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_工作流程"],["aid","DB88F"]],"x":"工作流程","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB88G"]],"x":"假设我们已经做了一些工作并且在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB88I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB88N"]],"x":"我们的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB88Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB890"]],"x":"因为使用了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB893"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB899"]],"x":"完美。\n运行测试然后所有测试都通过了，所以我们准备将工作共享给团队的其他成员。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB89A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB89F"]],"x":"就是这样！\n如果你现在查看一下 Mercurial 仓库，你会发现这样实现了我们所期望的：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB89G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB89L"]],"x":"序号 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB89M"]],"x":"2","n":"em","l":" 的变更集是由 Mercurial 生成的，序号 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB89N"]],"x":"3","n":"em","l":" 与序号 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB89O"]],"x":"4","n":"em","l":" 的变更集是由 git-remote-hg 生成的，通过 Git 推送上来的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB89H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB89I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB89J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB89K"]],"x":"$","n":"span","l":" hg log -G --style compact\no    5[tip]:4,2   dc8fa4f932b8   2014-08-14 19:33 -0700   ben\n|\\     Merge remote-tracking branch 'origin/master'\n| |\n| o  4   64f27bcefc35   2014-08-14 19:27 -0700   ben\n| |    Update makefile\n| |\n| o  3:1   4256fc29598f   2014-08-14 19:27 -0700   ben\n| |    Goodbye\n| |\n@ |  2   7db0b4848b3c   2014-08-14 19:30 -0700   ben\n|/     Add some documentation\n|\no  1   82e55d328c8c   2005-08-26 01:21 -0700   mpm\n|    Create a makefile\n|\no  0   0a04b987be5a   2005-08-26 01:20 -0700   mpm\n     Create a standard \"hello, world\" program"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB89B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB89C"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB89D"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB89E"]],"x":"$","n":"span","l":" git push\nTo hg::/tmp/hello\n   df85e87..0c64627  master -> master"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB894"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB895"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB896"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB897"]],"x":"$","n":"span","l":" git merge origin/master\nAuto-merging hello.c\nMerge made by the 'recursive' strategy.\n hello.c | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB898"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate\n*   0c64627 (HEAD, master) Merge remote-tracking branch 'origin/master'\n|\\\n| * df85e87 (origin/master, origin/branches/default, origin/HEAD, refs/hg/origin/branches/default, refs/hg/origin/bookmarks/master) Add some documentation\n* | ba04a2a Update makefile\n* | d25d16f Goodbye\n|/\n* ac7955c Create a makefile\n* 65bb417 Create a standard \"hello, world\" program"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB891"]],"x":"--all","n":"code","l":" 标记，我们看到被 git-remote-hg 内部使用的 “notes” 引用，但是可以忽略它们。\n剩下的部分是我们期望的；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB892"]],"x":"origin/master","n":"code","l":" 已经前进了一次提交，同时我们的历史现在分叉了。\nMercurial 和我们本章中讨论的其他系统不一样，它能够处理合并，所以我们不需要做任何其他事情。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB88R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB88S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB88T"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB88U"]],"x":"$","n":"span","l":" git fetch\nFrom hg::/tmp/hello\n   ac7955c..df85e87  master     -> origin/master\n   ac7955c..df85e87  branches/default -> origin/branches/default\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB88V"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate --all\n* 7b07969 (refs/notes/hg) Notes for default\n* d4c1038 Notes for master\n* df85e87 (origin/master, origin/branches/default, origin/HEAD, refs/hg/origin/branches/default, refs/hg/origin/bookmarks/master) Add some documentation\n| * ba04a2a (HEAD, master) Update makefile\n| * d25d16f Goodbye\n|/\n* ac7955c Create a makefile\n* 65bb417 Create a standard \"hello, world\" program"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB88O"]],"x":"master","n":"code","l":" 分支领先 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB88P"]],"x":"origin/master","n":"code","l":" 分支两个提交，但是那两个提交只存在于我们的本地机器中。\n让我们看看在同一时间有没有其他人做过什么重要的工作："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB88J"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB88K"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB88L"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB88M"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate\n* ba04a2a (HEAD, master) Update makefile\n* d25d16f Goodbye\n* ac7955c (origin/master, origin/branches/default, origin/HEAD, refs/hg/origin/branches/default, refs/hg/origin/bookmarks/master) Create a makefile\n* 65bb417 Create a standard \"hello, world\" program"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB88H"]],"x":"master","n":"code","l":" 分支做了几次提交，而且已经准备将它们推送到远程仓库。\n这是我们仓库现在的样子："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_开始_2"],["aid","DB86R"]],"x":"开始","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB86S"]],"x":"既然有一个可用的 “server-side” 仓库，我们可以通过一个典型的工作流来了解。\n你将会看到，这两种系统非常相似，没有太多的出入。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB86T"]],"x":"和 Git 一样，首先我们克隆：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB86U"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB875"]],"x":"你会注意到与 Mercurial 仓库工作时使用了标准的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB877"]],"x":"log 命令显示了两次提交，最后一次提交指向了一大堆引用。\n那说明这其中的一部分实际上并没有在那儿。\n让我们看看 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB879"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB87E"]],"x":"Git-remote-hg 尝试让结构更有 Git 风格，但是在隐藏在下面的是它管理两个轻微不同系统之间概念的映射。\n","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB87K"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB87M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB87U"]],"x":"所以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB883"]],"x":"好消息是大多数情况下我们不需要关心以上这些。\n典型的工作流程与使用 Git 远程仓库并没有什么不同。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB884"]],"x":"在我们继续之前，这里还有一件需要注意的事情：忽略。\nMercurial 与 Git 使用非常类似的机制实现这个功能，但是一般来说你不会想要把一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB886"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB88B"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB88C"]],"x":".git/info/exclude","n":"code","l":" 文件的作用像是一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB88D"]],"x":".gitignore","n":"code","l":"，但是它不包含在提交中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB887"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB888"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB889"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB88A"]],"x":"$","n":"span","l":" cp .hgignore .git/info/exclude"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB885"]],"x":".gitignore","n":"code","l":" 文件提交到 Mercurial 仓库中。\n幸运的是，Git 有一种方式可以忽略本地磁盘仓库的文件，而且 Mercurial 格式是与 Git 兼容的，所以你只需将这个文件拷贝过去："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB87V"]],"x":"refs/notes/hg","n":"code","l":" 指向了一个树，即在 Git 对象数据库中的一个有其他对象名字的列表。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB880"]],"x":"git ls-tree","n":"code","l":" 输出 tree 对象中所有项目的模式、类型、对象哈希与文件名。\n如果深入挖掘 tree 对象中的一个项目，我们会发现在其中是一个名字为 “ac9117f” 的 blob 对象（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB881"]],"x":"master","n":"code","l":" 所指向提交的 SHA-1 散列值），包含内容 “0a04b98”（是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB882"]],"x":"default","n":"code","l":" 分支指向的 Mercurial 变更集的 ID）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB87N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB87O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB87P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB87Q"]],"x":"$","n":"span","l":" cat notes/hg\nd4c10386...\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB87R"]],"x":"$","n":"span","l":" git cat-file -p d4c10386...\ntree 1781c96...\nauthor remote-hg <> 1408066400 -0800\ncommitter remote-hg <> 1408066400 -0800\n\nNotes for master\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB87S"]],"x":"$","n":"span","l":" git ls-tree 1781c96...\n100644 blob ac9117f...\t65bb417...\n100644 blob 485e178...\tac7955c...\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB87T"]],"x":"$","n":"span","l":" git cat-file -p ac9117f\n0a04b987be5ae354b710cefeba0e2d9de7ad41a9"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB87L"]],"x":"notes/hg","n":"code","l":" 文件是 git-remote-hg 如何在 Git 的提交散列与 Mercurial 变更集 ID 之间建立映射的起点。\n让我们来探索一下："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB87F"]],"x":"refs/hg","n":"code","l":" 目录中存储了实际的远程引用。\n例如，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB87G"]],"x":"refs/hg/origin/branches/default","n":"code","l":" 是一个包含以`‘ac7955c’'开始的 SHA-1 值的 Git 引用文件，是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB87H"]],"x":"master","n":"code","l":" 所指向的提交。\n所以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB87I"]],"x":"refs/hg","n":"code","l":" 目录是一种类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB87J"]],"x":"refs/remotes/origin","n":"code","l":" 的替代品，但是它引入了书签与分支的区别。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB87A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB87B"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB87C"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB87D"]],"x":"$","n":"span","l":" tree .git/refs\n.git/refs\n├── heads\n│   └── master\n├── hg\n│   └── origin\n│       ├── bookmarks\n│       │   └── master\n│       └── branches\n│           └── default\n├── notes\n│   └── hg\n├── remotes\n│   └── origin\n│       └── HEAD\n└── tags\n\n9 directories, 5 files"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB878"]],"x":".git","n":"code","l":" 目录中实际上有什么："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB876"]],"x":"git clone","n":"code","l":" 命令。\n那是因为 git-remote-hg 工作在相当低的底层，使用类似于 Git HTTP/S 协议的机制实现的（远程助手）。\n由于 Git 与 Mercurial 都设计为每一个客户端有一个仓库的完整历史，所以这个命令做了一次完整的克隆，包括所有的项目历史，并且相当快地完成。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB86V"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB870"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB871"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB872"]],"x":"$","n":"span","l":" git clone hg::/tmp/hello /tmp/hello-git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB873"]],"x":"$","n":"span","l":" cd /tmp/hello-git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB874"]],"x":"$","n":"span","l":" git log --oneline --graph --decorate\n* ac7955c (HEAD, origin/master, origin/branches/default, origin/HEAD, refs/hg/origin/branches/default, refs/hg/origin/bookmarks/master, master) Create a makefile\n* 65bb417 Create a standard \"hello, world\" program"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_git_remote_hg"],["aid","DB85U"]],"x":"git-remote-hg","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB85V"]],"x":"首先，需要安装 git-remote-hg。\n实际上需要将它的文件放在 PATH 变量的某个目录中，像这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB860"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB867"]],"x":"假定 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB86B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB86G"]],"x":"（如果未安装 Python，访问 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB86I"]],"x":"需要做的最后一件事是安装 Mercurial 客户端。\n如果还没有安装的话请访问 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB86K"]],"x":"现在已经准备好摇滚了。\n你所需要的一切就是一个你可以推送的 Mercurial 仓库。\n很幸运，每一个 Mercurial 仓库都可以这样做，所以我们只需要使用大家用来学习 Mercurial 的“hello world”仓库就可以了：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB86L"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB86M"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB86N"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB86O"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB86P"]],"x":"$","n":"span","l":" hg clone http://selenic.com/repo/hello /tmp/hello"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://mercurial.selenic.com/"],["aid","DB86J"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://mercurial.selenic.com/","n":"a","l":" 来安装。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://www.python.org/"],["aid","DB86H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://www.python.org/","n":"a","l":" 来获取它。）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB86C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB86D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB86E"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB86F"]],"x":"$","n":"span","l":" pip install mercurial"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB868"]],"x":"~/bin","n":"code","l":" 在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB869"]],"x":"$PATH","n":"code","l":" 变量中。\nGit-remote-hg 有一个其他的依赖："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB86A"]],"x":"mercurial","n":"code","l":" Python 库。\n如果已经安装了 Python，安装它就像这样简单："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB861"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB862"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB863"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB864"]],"x":"$","n":"span","l":" curl -o ~/bin/git-remote-hg "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB865"]],"x":"\\","n":"span","l":"\n  https://raw.githubusercontent.com/felipec/git-remote-hg/master/git-remote-hg\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB866"]],"x":"$","n":"span","l":" chmod +x ~/bin/git-remote-hg"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/felipec/git-remote-hg"],["aid","DB85S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/felipec/git-remote-hg","n":"a","l":" 找到。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_git_svn_总结"],["aid","DB85A"]],"x":"Git-Svn 总结","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB85B"]],"x":"当你不得不使用 Subversion 服务器或者其他必须运行一个 Subversion 服务器的开发环境时，","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","DB85D"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB85N"]],"x":"如果你遵守了那些准则，忍受用一个 Subversion 服务器来工作可以更容易些。\n然而，如果有可能迁移到一个真正的 Git 服务器，那么迁移过去能使你的团队获得更多好处。","n":"p","l":"\n"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","DB85E"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","DB85F"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","DB85I"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB85J"]],"x":"不要建立一个单独的 Git 服务器，也不要在 Git 服务器上协作。\n可以用一台 Git 服务器来帮助新来的开发者加速克隆，但是不要推送任何不包含 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB85K"]],"x":"git-svn-id","n":"code","l":" 条目的东西。\n你可能会需要增加一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB85L"]],"x":"pre-receive","n":"code","l":" 钩子来检查每一个提交信息是否包含 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB85M"]],"x":"git-svn-id","n":"code","l":" 并且拒绝任何未包含的提交。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","DB85G"]],"x":"保持一个线性的 Git 历史，其中不能有 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB85H"]],"x":"git merge","n":"code","l":" 生成的合并提交。\n把你在主线分支外开发的全部工作变基到主线分支；而不要合并入主线分支。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB85C"]],"x":"git svn","n":"code","l":" 工具很有用。\n你应该把它当做一个不完全的 Git，然而，你要是不用它的话，就会在做转换的过程中遇到很多麻烦的问题。\n为了不惹麻烦，尽量遵守这些准则："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_subversion_命令"],["aid","DB83D"]],"x":"Subversion 命令","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB83E"]],"n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SVN 风格历史"],["aid","DB83G"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SVN 注解"],["aid","DB83S"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SVN 服务器信息"],["aid","DB849"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","忽略 Subversion 所忽略的"],["aid","DB84M"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_忽略_subversion_所忽略的"],["aid","DB84N"]],"x":"忽略 Subversion 所忽略的","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB84O"]],"x":"如果克隆一个在任意一处设置 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB84U"]],"x":"第二个命令是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB851"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB856"]],"x":"这样，你就不会由于 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB857"]],"x":".gitignore","n":"code","l":" 文件而把项目弄乱。\n当你是 Subversion 团队中唯一的 Git 用户时这是一个好的选项，并且你的队友并不想要项目内存在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB858"]],"x":".gitignore","n":"code","l":" 文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB852"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB853"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB854"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB855"]],"x":"$","n":"span","l":" git svn show-ignore > .git/info/exclude"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84V"]],"x":"git svn show-ignore","n":"code","l":"，它会将你需要放在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB850"]],"x":".gitignore","n":"code","l":" 文件中的每行内容打印到标准输出，这样就可以将输出内容重定向到项目的例外文件中："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84P"]],"x":"svn:ignore","n":"code","l":" 属性的 Subversion 仓库时，你也许会想要设置对应的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84Q"]],"x":".gitignore","n":"code","l":" 文件，这样就不会意外的提交那些不该提交的文件。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84R"]],"x":"git svn","n":"code","l":" 有两个命令来帮助解决这个问题。\n第一个是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84S"]],"x":"git svn create-ignore","n":"code","l":"，它会为你自动地创建对应的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84T"]],"x":".gitignore","n":"code","l":" 文件，这样你的下次提交就能包含它们。"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_svn_服务器信息"],["aid","DB84A"]],"x":"SVN 服务器信息","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB84B"]],"x":"可以通过运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB84E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB84J"]],"x":"这就像是在你上一次和 Subversion 服务器通讯时同步了之后，离线运行的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84K"]],"x":"blame","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84L"]],"x":"log","n":"code","l":" 命令。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB84F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB84G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB84H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB84I"]],"x":"$","n":"span","l":" git svn info\nPath: .\nURL: https://schacon-test.googlecode.com/svn/trunk\nRepository Root: https://schacon-test.googlecode.com/svn\nRepository UUID: 4c93b258-373f-11de-be05-5f7a86268029\nRevision: 87\nNode Kind: directory\nSchedule: normal\nLast Changed Author: schacon\nLast Changed Rev: 87\nLast Changed Date: 2009-05-02 16:07:37 -0700 (Sat, 02 May 2009)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84C"]],"x":"git svn info","n":"code","l":" 得到与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB84D"]],"x":"svn info","n":"code","l":" 相同种类的信息。"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_svn_注解"],["aid","DB83T"]],"x":"SVN 注解","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB83U"]],"x":"类似 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB843"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB848"]],"x":"重复一次，它并不显示你在 Git 中的本地提交，也不显示同一时间被推送到 Subversion 的其他提交。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB844"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB845"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB846"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB847"]],"x":"$","n":"span","l":" git svn blame README.txt\n 2   temporal Protocol Buffers - Google's data interchange format\n 2   temporal Copyright 2008 Google Inc.\n 2   temporal http://code.google.com/apis/protocolbuffers/\n 2   temporal\n22   temporal C++ Installation - Unix\n22   temporal =======================\n 2   temporal\n79    schacon Committing in git-svn.\n78    schacon\n 2   temporal To build and install the C++ Protocol Buffer runtime and the Protocol\n 2   temporal Buffer compiler (protoc) execute the following:\n 2   temporal"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB83V"]],"x":"git svn log","n":"code","l":" 命令离线模拟了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB840"]],"x":"svn log","n":"code","l":" 命令，你可以认为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB841"]],"x":"git svn blame [FILE]","n":"code","l":" 离线模拟了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB842"]],"x":"svn annotate","n":"code","l":"。\n输出看起来像这样："},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_svn_风格历史"],["aid","DB83H"]],"x":"SVN 风格历史","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB83I"]],"x":"如果你习惯于使用 Subversion 并且想要看 SVN 输出风格的提交历史，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB83K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB83P"]],"x":"关于 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB83Q"]],"x":"git svn log","n":"code","l":"，有两件重要的事你应该知道。\n首先，它是离线工作的，并不像真正的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB83R"]],"x":"svn log","n":"code","l":" 命令，会向 Subversion 服务器询问数据。\n其次，它只会显示已经提交到 Subversion 服务器上的提交。\n还未 dcommit 的本地 Git 提交并不会显示；同样也不会显示这段时间中其他人推送到 Subversion 服务器上的提交。\n它更像是最后获取到的 Subversion 服务器上的提交状态。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB83L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB83M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB83N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB83O"]],"x":"$","n":"span","l":" git svn log\n------------------------------------------------------------------------\nr87 | schacon | 2014-05-02 16:07:37 -0700 (Sat, 02 May 2014) | 2 lines\n\nautogen change\n\n------------------------------------------------------------------------\nr86 | schacon | 2014-05-02 16:00:21 -0700 (Sat, 02 May 2014) | 2 lines\n\nMerge branch 'experiment'\n\n------------------------------------------------------------------------\nr85 | schacon | 2014-05-02 16:00:09 -0700 (Sat, 02 May 2014) | 2 lines\n\nupdated the changelog"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB83J"]],"x":"git svn log","n":"code","l":" 来查看 SVN 格式的提交历史："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB83F"]],"x":"git svn","n":"code","l":" 工具集通过提供很多功能与 Subversion 中那些相似的命令来帮助简化转移到 Git 的过程。\n下面是一些提供了 Subversion 中常用功能的命令。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_切换活动分支"],["aid","DB82L"]],"x":"切换活动分支","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB82M"]],"x":"Git 通过查找在历史中 Subversion 分支的头部来指出你的提交将会到哪一个分支 - 应该只有一个，并且它应该是在当前分支历史中最后一个有 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB82O"]],"x":"如果想要同时在不止一个分支上工作，可以通过在导入的那个分支的 Subversion 提交开始来设置本地分支 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB82R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB830"]],"x":"现在，如果想要将你的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB836"]],"x":"记住尽管使用的是 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB837"]],"x":"git merge","n":"code","l":" 来做这个操作，而且合并可能会比在 Subversion 中更容易一些（因为 Git 会为你自动地检测合适的合并基础），但这并不是一个普通的 Git 合并提交。\n你不得不将这个数据推送回一个 Subversion 服务器，Subversion 服务器不支持那些跟踪多个父结点的提交；所以，当推送完成后，它看起来会是一个将其他分支的所有提交压缩在一起的单独提交。\n在合并一个分支到另一个分支后，你并不能像 Git 中那样轻松地回到原来的分支继续工作。\n你运行的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB838"]],"x":"dcommit","n":"code","l":" 命令会将哪个分支被合并进来的信息抹掉，所以后续的合并基础计算会是错的 - dcommit 会使你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB839"]],"x":"git merge","n":"code","l":" 结果看起来像是运行了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB83A"]],"x":"git merge --squash","n":"code","l":"。\n不幸的是，没有一个好的方式来避免这种情形 - Subversion 无法存储这个信息，所以当使用它做为服务器时你总是会被它的限制打垮。\n为了避免这些问题，应该在合并到主干后删除本地分支（本例中是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB83B"]],"x":"opera","n":"code","l":"）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB831"]],"x":"opera","n":"code","l":" 分支合并入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB832"]],"x":"trunk","n":"code","l":"（你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB833"]],"x":"master","n":"code","l":" 分支），可以用一个正常的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB834"]],"x":"git merge","n":"code","l":" 来这样做。\n但是你需要通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB835"]],"x":"-m","n":"code","l":" 来提供一个描述性的提交信息，否则合并信息会是没有用的 “Merge branch opera”。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB82S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB82T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB82U"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB82V"]],"x":"$","n":"span","l":" git branch opera remotes/origin/opera"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB82P"]],"x":"dcommit","n":"code","l":" 到特定的 Subversion 分支。\n如果想要一个可以单独在上面工作的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB82Q"]],"x":"opera","n":"code","l":" 分支，可以运行"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB82N"]],"x":"git-svn-id","n":"code","l":" 的。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_创建一个新的_svn_分支"],["aid","DB828"]],"x":"创建一个新的 SVN 分支","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB829"]],"x":"要在 Subversion 中创建一个新分支，运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB82B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB82G"]],"x":"这与 Subversion 中的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB82H"]],"x":"svn copy trunk branches/opera","n":"code","l":" 命令作用相同并且是在 Subversion 服务器中操作。\n需要重点注意的是它并不会检出到那个分支；如果你在这时提交，提交会进入服务器的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB82I"]],"x":"trunk","n":"code","l":" 分支，而不是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB82J"]],"x":"opera","n":"code","l":" 分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB82C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB82D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB82E"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB82F"]],"x":"$","n":"span","l":" git svn branch opera\nCopying file:///tmp/test-svn/trunk at r90 to file:///tmp/test-svn/branches/opera...\nFound possible branch point: file:///tmp/test-svn/trunk => file:///tmp/test-svn/branches/opera, 90\nFound branch parent: (refs/remotes/origin/opera) cb522197870e61467473391799148f6721bcf9a0\nFollowing parent with do_switch\nSuccessfully followed parent\nr91 = f1b64a3855d3c8dd84ee0ef10fa89d27f1584302 (refs/remotes/origin/opera)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB82A"]],"x":"git svn branch [branchname]","n":"code","l":"："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_subversion_分支"],["aid","DB825"]],"x":"Subversion 分支","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB826"]],"x":"在 Subversion 中新建分支与在 Git 中新建分支并不相同；如果你能不用它，那最好就不要用。\n然而，你可以使用 git svn 在 Subversion 中创建分支并在分支上做提交。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_git_分支问题"],["aid","DB81I"]],"x":"Git 分支问题","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB81J"]],"x":"当适应了 Git 的工作流程，你大概会想要创建特性分支，在上面做一些工作，然后将它们合并入主分支。\n如果你正通过 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB81M"]],"x":"假设你的历史像下面这样：创建了一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB81Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB81V"]],"x":"在一个合并过历史提交的分支上 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB822"]],"x":"当其他人克隆那些工作时，他们只会看到一个被塞入了所有改动的合并提交，就像运行了 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB823"]],"x":"git merge --squash","n":"code","l":"；他们无法看到修改从哪来或何时提交的信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB820"]],"x":"dcommit","n":"code","l":" 命令工作得很好，除了当你查看你的 Git 项目历史时，它并没有重写所有你在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB821"]],"x":"experiment","n":"code","l":" 分支上所做的任意提交 - 相反，所有这些修改显示一个单独合并提交的 SVN 版本中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB81R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB81S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB81T"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB81U"]],"x":"$","n":"span","l":" git svn dcommit\nCommitting to file:///tmp/test-svn/trunk ...\n    M\tCHANGES.txt\nCommitted r89\n    M\tCHANGES.txt\nr89 = 89d492c884ea7c834353563d5d913c6adf933981 (refs/remotes/origin/trunk)\n    M\tCOPYING.txt\n    M\tINSTALL.txt\nCommitted r90\n    M\tINSTALL.txt\n    M\tCOPYING.txt\nr90 = cb522197870e61467473391799148f6721bcf9a0 (refs/remotes/origin/trunk)\nNo changes between 71af502c214ba13123992338569f4669877f55fd and refs/remotes/origin/trunk\nResetting to the latest refs/remotes/origin/trunk"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB81N"]],"x":"experiment","n":"code","l":" 分支，做了两次提交，然后将它们合并回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB81O"]],"x":"master","n":"code","l":"。\n当 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB81P"]],"x":"dcommit","n":"code","l":" 时，你看到输出是这样的："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB81K"]],"x":"git svn","n":"code","l":" 推送到一个 Subversion 服务器，你可能想要把你的工作变基到一个单独的分支上，而不是将分支合并到一起。\n比较喜欢变基的原因是因为 Subversion 有一个线性的历史并且无法像 Git 一样处理合并，所以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB81L"]],"x":"git svn","n":"code","l":" 在将快照转换成 Subversion 提交时，只会保留第一父提交。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_拉取新改动"],["aid","DB807"]],"x":"拉取新改动","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB808"]],"x":"如果你和其他开发者一起工作，当在某一时刻你们其中之一推送时，另一人尝试推送修改会导致冲突。\n那次修改会被拒绝直到你合并他们的工作。\n在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB80A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB80F"]],"x":"为了解决这种情况，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB80H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB80M"]],"x":"现在，所有你的工作都已经在 Subversion 服务器的内容之上了，你就可以顺利地 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB80O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB80T"]],"x":"注意，和 Git 需要你在推送前合并本地还没有的上游工作不同的是，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB810"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB815"]],"x":"记住这一点很重要，因为结果是当你推送后项目的状态并不存在于你的电脑中。\n如果修改并未冲突但却是不兼容的，可能会引起一些难以诊断的问题。\n这与使用 Git 服务器并不同 - 在 Git 中，可以在发布前完全测试客户端系统的状态，然而在 SVN 中，你甚至不能立即确定在提交前与提交后的状态是相同的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB816"]],"x":"你也应该运行这个命令从 Subversion 服务器上拉取修改，即使你自己并不准备提交。\n可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB819"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB81E"]],"x":"每隔一会儿运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB81F"]],"x":"git svn rebase","n":"code","l":" 确保你的代码始终是最新的。\n虽然需要保证当运行这个命令时工作目录是干净的。\n如果有本地的修改，在运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB81G"]],"x":"git svn rebase","n":"code","l":" 之前要么储藏你的工作要么做一次临时的提交，不然，当变基会导致合并冲突时，命令会终止。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB81A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB81B"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB81C"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB81D"]],"x":"$","n":"span","l":" git svn rebase\n    M\tautogen.sh\nr88 = c9c5f83c64bd755368784b444bc7a0216cc1e17b (refs/remotes/origin/trunk)\nFirst, rewinding head to replay your work on top of it...\nFast-forwarded master to refs/remotes/origin/trunk."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB817"]],"x":"git svn fetch","n":"code","l":" 来抓取新数据，但是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB818"]],"x":"git svn rebase","n":"code","l":" 会抓取并更新你本地的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB811"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB812"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB813"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB814"]],"x":"$","n":"span","l":" git svn dcommit\nCommitting to file:///tmp/test-svn/trunk ...\n    M\tconfigure.ac\nCommitted r87\n    M\tautogen.sh\nr86 = d8450bab8a77228a644b7dc0e95977ffc61adff7 (refs/remotes/origin/trunk)\n    M\tconfigure.ac\nr87 = f3653ea40cb4e26b6281cec102e35dcba1fe17c4 (refs/remotes/origin/trunk)\nW: a0253d06732169107aa020390d9fefd2b1d92806 and refs/remotes/origin/trunk differ, using rebase:\n:100755 100755 efa5a59965fbbb5b2b0a12890f1b351bb5493c18 e757b59a9439312d80d5d43bb65d4a7d0389ed6d M\tautogen.sh\nFirst, rewinding head to replay your work on top of it..."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB80U"]],"x":"git svn","n":"code","l":" 只会在修改发生冲突时要求你那样做（更像是 Subversion 工作的行为）。\n如果其他人推送一个文件的修改然后你推送了另一个文件的修改，你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB80V"]],"x":"dcommit","n":"code","l":" 命令会正常工作："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB80P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB80Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB80R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB80S"]],"x":"$","n":"span","l":" git svn dcommit\nCommitting to file:///tmp/test-svn/trunk ...\n    M\tREADME.txt\nCommitted r85\n    M\tREADME.txt\nr85 = 9c29704cc0bbbed7bd58160cfb66cb9191835cd8 (refs/remotes/origin/trunk)\nNo changes between 5762f56732a958d6cfda681b661d2a239cc53ef5 and refs/remotes/origin/trunk\nResetting to the latest refs/remotes/origin/trunk"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB80N"]],"x":"dcommit","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB80I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB80J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB80K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB80L"]],"x":"$","n":"span","l":" git svn rebase\nCommitting to file:///tmp/test-svn/trunk ...\n\nERROR from SVN:\nTransaction is out of date: File '/trunk/README.txt' is out of date\nW: eaa029d99f87c5c822c5c29039d19111ff32ef46 and refs/remotes/origin/trunk differ, using rebase:\n:100644 100644 65536c6e30d263495c17d781962cfff12422693a b34372b25ccf4945fe5658fa381b075045e7702a M\tREADME.txt\nFirst, rewinding head to replay your work on top of it...\nApplying: update foo\nUsing index info to reconstruct a base tree...\nM\tREADME.txt\nFalling back to patching base and 3-way merge...\nAuto-merging README.txt\nERROR: Not all changes have been committed into SVN, however the committed\nones (if any) seem to be successfully integrated into the working tree.\nPlease see the above messages for details."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB80G"]],"x":"git svn rebase","n":"code","l":"，它会从服务器拉取任何你本地还没有的改动，并将你所有的工作变基到服务器的内容之上："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB80B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB80C"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB80D"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB80E"]],"x":"$","n":"span","l":" git svn dcommit\nCommitting to file:///tmp/test-svn/trunk ...\n\nERROR from SVN:\nTransaction is out of date: File '/trunk/README.txt' is out of date\nW: d5837c4b461b7c0e018b49d12398769d2bfc240a and refs/remotes/origin/trunk differ, using rebase:\n:100644 100644 f414c433af0fd6734428cf9d2a9fd8ba00ada145 c80b6127dd04f5fcda218730ddf3a2da4eb39138 M\tREADME.txt\nCurrent branch master is up to date.\nERROR: Not all changes have been committed into SVN, however the committed\nones (if any) seem to be successfully integrated into the working tree.\nPlease see the above messages for details."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB809"]],"x":"git svn","n":"code","l":" 中，它看起来是这样的："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_提交回_subversion"],["aid","DB7VC"]],"x":"提交回 Subversion","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7VD"]],"x":"现在你有了一个工作仓库，你可以在项目上做一些改动，然后高效地使用 Git 作为 SVN 客户端将你的提交推送到上游。\n一旦编辑了一个文件并提交它，你就有了一个存在于本地 Git 仓库的提交，这提交在 Subversion 服务器上并不存在：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7VE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7VK"]],"x":"接下来，你需要将改动推送到上游。\n注意这会怎样改变你使用 Subversion 的方式 - 你可以离线做几次提交然后一次性将它们推送到 Subversion 服务器。\n要推送到一个 Subversion 服务器，运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7VM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7VR"]],"x":"这会拿走你在 Subversion 服务器代码之上所做的所有提交，针对每一个做一个 Subversion 提交，然后重写你本地的 Git 提交来包含一个唯一的标识符。\n这很重要因为这意味着所有你的提交的 SHA-1 校验和都改变了。\n部分由于这个原因，同时使用一个基于 Git 的项目远程版本和一个 Subversion 服务器并不是一个好主意。\n如果你查看最后一次提交，有新的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7VT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB802"]],"x":"注意你原来提交的 SHA-1 校验和原来是以 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB803"]],"x":"4af61fd","n":"code","l":" 开头，而现在是以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB804"]],"x":"95e0222","n":"code","l":" 开头。\n如果想要既推送到一个 Git 服务器又推送到一个 Subversion 服务器，必须先推送（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB805"]],"x":"dcommit","n":"code","l":"）到 Subversion 服务器，因为这个操作会改变你的提交数据。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7VU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7VV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB800"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB801"]],"x":"$","n":"span","l":" git log -1\ncommit 95e0222ba6399739834380eb10afcd73e0670bc5\nAuthor: ben <ben@0b684db3-b064-4277-89d1-21af03df0a68>\nDate:   Thu Jul 24 03:08:36 2014 +0000\n\n    Adding git-svn instructions to the README\n\n    git-svn-id: file:///tmp/test-svn/trunk@77 0b684db3-b064-4277-89d1-21af03df0a68"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7VS"]],"x":"git-svn-id","n":"code","l":" 被添加："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7VN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7VO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7VP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7VQ"]],"x":"$","n":"span","l":" git svn dcommit\nCommitting to file:///tmp/test-svn/trunk ...\n    M\tREADME.txt\nCommitted r77\n    M\tREADME.txt\nr77 = 95e0222ba6399739834380eb10afcd73e0670bc5 (refs/remotes/origin/trunk)\nNo changes between 4af61fd05045e07598c553167e0f31c84fd6ffe1 and refs/remotes/origin/trunk\nResetting to the latest refs/remotes/origin/trunk"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7VL"]],"x":"git svn dcommit","n":"code","l":" 命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7VF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7VG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7VH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7VI"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","DB7VJ"]],"x":"'Adding git-svn instructions to the README'","n":"span","l":"\n[master 4af61fd] Adding git-svn instructions to the README\n 1 file changed, 5 insertions(+)"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_开始"],["aid","DB7U2"]],"x":"开始","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7U3"]],"x":"既然已经有了一个有写入权限的 Subversion 仓库，那么你可以开始一个典型的工作流程。\n可以从 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7U6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7UB"]],"x":"这相当于运行了两个命令 - ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7UE"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7UH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7UM"]],"x":"至此，应该得到了一个已经导入了分支与标签的有效的 Git 仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7UN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7US"]],"x":"注意这个工具是如何将 Subversion 标签作为远程引用来管理的。\n\n让我们近距离看一下 Git 的底层命令 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7UU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7V3"]],"x":"Git 在从 Git 服务器克隆时并不这样做；下面是在刚刚克隆完成的有标签的仓库的样子：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7V4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7V9"]],"x":"Git 直接将标签抓取至 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7VA"]],"x":"refs/tags","n":"code","l":"，而不是将它们看作分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7V5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7V6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7V7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7V8"]],"x":"$","n":"span","l":" git show-ref\nc3dcbe8488c6240392e8a5d7553bbffcb0f94ef0 refs/remotes/origin/master\n32ef1d1c7cc8c603ab78416262cc421b80a8c2df refs/remotes/origin/branch-1\n75f703a3580a9b81ead89fe1138e6da858c5ba18 refs/remotes/origin/branch-2\n23f8588dde934e8f33c263c6d8359b2ae095f863 refs/tags/v0.1.0\n7064938bd5e7ef47bfd79a685a62c1e2649e2ce7 refs/tags/v0.2.0\n6dcb09b5b57875f334f61aebed695e2e4193db5e refs/tags/v1.0.0"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7UV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7V0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7V1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7V2"]],"x":"$","n":"span","l":" git show-ref\n556a3e1e7ad1fde0a32823fc7e4d046bcfd86dae refs/heads/master\n0fb585761df569eaecd8146c71e58d70147460a2 refs/remotes/origin/my-calc-branch\nbfd2d79303166789fc73af4046651a4b35c12f0b refs/remotes/origin/tags/2.0.2\n285c2b2e36e467dd4d91c8e3c0c0e1750b3fe8ca refs/remotes/origin/tags/release-2.0.1\ncbda99cb45d9abcb9793db1d4f70ae562a969f1e refs/remotes/origin/tags/release-2.0.2\na9f074aa89e826d6f9d30808ce5ae3ffe711feda refs/remotes/origin/tags/release-2.0.2rc1\n556a3e1e7ad1fde0a32823fc7e4d046bcfd86dae refs/remotes/origin/trunk"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7UT"]],"x":"show-ref","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7UO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7UP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7UQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7UR"]],"x":"$","n":"span","l":" git branch -a\n* master\n  remotes/origin/my-calc-branch\n  remotes/origin/tags/2.0.2\n  remotes/origin/tags/release-2.0.1\n  remotes/origin/tags/release-2.0.2\n  remotes/origin/tags/release-2.0.2rc1\n  remotes/origin/trunk"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7UI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7UJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7UK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7UL"]],"x":"$","n":"span","l":" git svn clone file:///tmp/test-svn -s"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7UF"]],"x":"-T trunk -b branches -t tags","n":"code","l":" 部分告诉 Git Subversion 仓库遵循基本的分支与标签惯例。\n如果你命名了不同的主干、分支或标签，可以修改这些参数。\n因为这是如此地常见，所以能用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7UG"]],"x":"-s","n":"code","l":" 来替代整个这部分，这表示标准布局并且指代所有那些选项。\n下面的命令是相同的："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7UC"]],"x":"git svn init","n":"code","l":" 以及紧接着的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7UD"]],"x":"git svn fetch","n":"code","l":" - 你提供的 URL 。\n这会花费一些时间。\n测试项目只有 75 个左右的提交并且代码库并不是很大，但是 Git 必须一次一个地检出一个版本同时单独地提交它。\n对于有成百上千个提交的项目，这真的可能会花费几小时甚至几天来完成。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7U7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7U8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7U9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7UA"]],"x":"$","n":"span","l":" git svn clone file:///tmp/test-svn -T trunk -b branches -t tags\nInitialized empty Git repository in /private/tmp/progit/test-svn/.git/\nr1 = dcbfb5891860124cc2e8cc616cded42624897125 (refs/remotes/origin/trunk)\n    A\tm4/acx_pthread.m4\n    A\tm4/stl_hash.m4\n    A\tjava/src/test/java/com/google/protobuf/UnknownFieldSetTest.java\n    A\tjava/src/test/java/com/google/protobuf/WireFormatTest.java\n…\nr75 = 556a3e1e7ad1fde0a32823fc7e4d046bcfd86dae (refs/remotes/origin/trunk)\nFound possible branch point: file:///tmp/test-svn/trunk => file:///tmp/test-svn/branches/my-calc-branch, 75\nFound branch parent: (refs/remotes/origin/my-calc-branch) 556a3e1e7ad1fde0a32823fc7e4d046bcfd86dae\nFollowing parent with do_switch\nSuccessfully followed parent\nr76 = 0fb585761df569eaecd8146c71e58d70147460a2 (refs/remotes/origin/my-calc-branch)\nChecked out HEAD:\n  file:///tmp/test-svn/trunk r75"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7U4"]],"x":"git svn clone","n":"code","l":" 命令开始，它会将整个 Subversion 仓库导入到一个本地 Git 仓库。\n需要牢记的一点是如果是从一个真正托管的 Subversion 仓库中导入，需要将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7U5"]],"x":"file:///tmp/test-svn","n":"code","l":" 替换为你的 Subversion 仓库的 URL："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_设置"],["aid","DB7ST"]],"x":"设置","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7SU"]],"x":"为了演示这个功能，需要一个有写入权限的典型 SVN 仓库。\n如果想要拷贝这些例子，你必须获得一份我的测试仓库的可写拷贝。\n为了轻松地拷贝，可以使用 Subversion 自带的一个名为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7T2"]],"x":"接下来，你需要先创建一个新的本地 Subversion 仓库：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7T3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7T9"]],"x":"然后，允许所有用户改变版本属性 - 最容易的方式是添加一个返回值为 0 的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7TB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7TI"]],"x":"现在可以调用加入目标与来源仓库参数的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7TK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7TQ"]],"x":"这样就设置好了同步所使用的属性。\n可以通过运行下面的命令来克隆代码：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","DB7TR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7U0"]],"x":"虽然这个操作可能只会花费几分钟，但如果你尝试拷贝原始的仓库到另一个非本地的远程仓库时，即使只有不到 100 个的提交，这个过程也可能会花费将近一个小时。\nSubversion 必须一次复制一个版本然后推送回另一个仓库 - 这低效得可笑，但却是做这件事唯一简单的方式。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7TS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7TT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7TU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7TV"]],"x":"$","n":"span","l":" svnsync sync file:///tmp/test-svn\nCommitted revision 1.\nCopied properties for revision 1.\nTransmitting file data .............................[...]\nCommitted revision 2.\nCopied properties for revision 2.\n[…]"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7TL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7TM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7TN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7TO"]],"x":"$","n":"span","l":" svnsync init file:///tmp/test-svn "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","DB7TP"]],"x":"\\","n":"span","l":"\n  http://progit-example.googlecode.com/svn/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7TJ"]],"x":"svnsync init","n":"code","l":" 命令同步这个项目到本地的机器。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7TC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7TD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7TE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7TF"]],"x":"$","n":"span","l":" cat /tmp/test-svn/hooks/pre-revprop-change\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7TG"]],"x":"#","n":"span","l":"!/bin/sh\nexit 0;\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7TH"]],"x":"$","n":"span","l":" chmod +x /tmp/test-svn/hooks/pre-revprop-change"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7TA"]],"x":"pre-revprop-change","n":"code","l":" 脚本。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","DB7T4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","DB7T5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","DB7T6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7T7"]],"x":"$","n":"span","l":" mkdir /tmp/test-svn\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","DB7T8"]],"x":"$","n":"span","l":" svnadmin create /tmp/test-svn"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7SV"]],"x":"svnsync","n":"code","l":" 的工具。\n为了这些测试，我们在 Google Code 上创建了一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7T0"]],"x":"protobuf","n":"code","l":" 项目部分拷贝的新 Subversion 仓库。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7T1"]],"x":"protobuf","n":"code","l":" 是一个将结构性数据编码用于网络传输的工具。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_git_svn_code"],["aid","DB7SK"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7SM"]],"x":"在 Git 中所有 Subversion 桥接命令的基础命令是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7SO"]],"x":"需要特别注意的是当你使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","DB7SR"]],"x":"不要重写你的历史然后尝试再次推送，同时也不要推送到一个平行的 Git 仓库来与其他使用 Git 的开发者协作。\nSubversion 只能有一个线性的历史，弄乱它很容易。\n如果你在一个团队中工作，其中有一些人使用 SVN 而另一些人使用 Git，你需要确保每个人都使用 SVN 服务器来协作 - 这样做会省去很多麻烦。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7SP"]],"x":"git svn","n":"code","l":" 时，就是在与 Subversion 打交道，一个与 Git 完全不同的系统。\n尽管 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","DB7SQ"]],"x":"可以","n":"strong","l":" 在本地新建分支与合并分支，但是你最好还是通过变基你的工作来保证你的历史尽可能是直线，并且避免做类似同时与 Git 远程服务器交互的事情。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7SN"]],"x":"git svn","n":"code","l":"。\n它可以跟很多命令，所以我们会通过几个简单的工作流程来为你演示最常用的命令。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","DB7SL"]],"x":"git svn","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","DB7SI"]],"x":"git svn","n":"code","l":"。\n这个工具允许你使用 Git 作为连接到 Subversion 有效的客户端，这样你可以使用 Git 所有本地的功能然后如同正在本地使用 Subversion 一样推送到 Subversion 服务器。\n这意味着你可以在本地做新建分支与合并分支、使用暂存区、使用变基与拣选等等的事情，同时协作者还在继续使用他们黑暗又古老的方式。\n当你试图游说公司将基础设施修改为完全支持 Git 的过程中，一个好方法是将 Git 偷偷带入到公司环境，并帮助周围的开发者提升效率。\nSubversion 桥接就是进入 DVCS 世界的诱饵。"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","DB7SG"]],"x":"事实标准","n":"em","l":"。\n它在很多方面都与曾经是源代码管理世界的大人物的 CVS 相似。"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","DB7S3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","DB7S4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","DB7S5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","DB7S6"]],"x":"Git","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","DB7S7"]],"x":"与其他系统","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","作为客户端的 Git"],["aid","DB7SA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","迁移到 Git"],["aid","DB8UJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Subversion"],["aid","DB8UM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Mercurial"],["aid","DB917"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","一个自定义的导入器"],["aid","DB966"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 与 Subversion"],["aid","DB7SD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 与 Mercurial"],["aid","DB85O"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 与 Perforce"],["aid","DB8BN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 与 TFS"],["aid","DB8MP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作流程：git-tfs"],["aid","DB8S6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git Fusion"],["aid","DB8BR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git-p4"],["aid","DB8GS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作流程"],["aid","DB8I8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Fusion 配置"],["aid","DB8D3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支与书签"],["aid","DB89P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","CCOER"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCOES"]],"x":"我们已经阐述了大部分通过自定义 Git 客户端和服务端来适应自己工作流程和项目内容的方式。\n你已经学到各种各样的设置项、基于文件的选项和事件钩子，还建立了一个示例用的强制策略服务器。\n无论创造出了什么样的工作流程，你都能使 Git 与它珠联璧合。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOEP"]],"x":"-f","n":"code","l":" 来强制推送，服务器就会自动给出警告并且拒绝接受推送。\n然而，这是个不错的练习，而且理论上能帮助你避免一次以后可能不得不回头修补的变基。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOEN"]],"x":"SHA^@","n":"code","l":" 语法会被解析成该提交的所有父提交。\n该命令会列出在远程分支最新的提交中可达的，却在所有我们尝试推送的提交的 SHA-1 值的所有父提交中不可达的提交——也就是快进的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOEC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOED"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOEE"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOEF"]],"x":"`git rev-list ^","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOEG"]],"x":"#{","n":"span","l":"sha"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOEH"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOEI"]],"x":"^@ refs/remotes/","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOEJ"]],"x":"#{","n":"span","l":"remote_ref"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOEK"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOEL"]],"x":"`","n":"span"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOCT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOCU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOCV"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOD0"]],"x":"#!/usr/bin/env ruby","n":"span","l":"\n\nbase_branch = ARGV[0]\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOD1"]],"x":"if","n":"span","l":" ARGV[1]\n  topic_branch = ARGV[1]\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOD2"]],"x":"else","n":"span","l":"\n  topic_branch = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOD3"]],"x":"\"HEAD\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOD4"]],"x":"end","n":"span","l":"\n\ntarget_shas = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOD5"]],"x":"`git rev-list ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOD6"]],"x":"#{","n":"span","l":"base_branch"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOD7"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOD8"]],"x":"..","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOD9"]],"x":"#{","n":"span","l":"topic_branch"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODA"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODB"]],"x":"`","n":"span","l":".split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODC"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODD"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODE"]],"x":"\"","n":"span","l":")\nremote_refs = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODF"]],"x":"`git branch -r`","n":"span","l":".split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODG"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODH"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODI"]],"x":"\"","n":"span","l":").map { |r| r.strip }\n\ntarget_shas.each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCODJ"]],"x":"do","n":"span","l":" |sha|\n  remote_refs.each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCODK"]],"x":"do","n":"span","l":" |remote_ref|\n    shas_pushed = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODL"]],"x":"`git rev-list ^","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODM"]],"x":"#{","n":"span","l":"sha"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODN"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODO"]],"x":"^@ refs/remotes/","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODP"]],"x":"#{","n":"span","l":"remote_ref"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODQ"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODR"]],"x":"`","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCODS"]],"x":"if","n":"span","l":" shas_pushed.split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODT"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCODU"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCODV"]],"x":"\"","n":"span","l":").include?(sha)\n      puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOE0"]],"x":"\"[POLICY] Commit ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOE1"]],"x":"#{","n":"span","l":"sha"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOE2"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOE3"]],"x":" has already been pushed to ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOE4"]],"x":"#{","n":"span","l":"remote_ref"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOE5"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOE6"]],"x":"\"","n":"span","l":"\n      exit 1\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOE7"]],"x":"end","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOE8"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOE9"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOCR"]],"x":"pre-rebase","n":"code","l":" 脚本示例。\n它获取所有待重写的提交的列表，然后检查它们是否存在于远程引用中。\n一旦发现其中一个提交是在某个远程引用中可达的（reachable），它就终止此次变基："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOCO"]],"x":"receive.denyDeletes","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOCP"]],"x":"receive.denyNonFastForwards","n":"code","l":"，因而唯一还需要避免的是在某个已经推送过的提交上作变基。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOCL"]],"x":"$user","n":"code","l":" 变量。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOCG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOCH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOCI"]],"n":"span","l":"files_modified = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOCJ"]],"x":"`git diff-index --cached --name-only HEAD`","n":"span"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOC7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOC8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOC9"]],"n":"span","l":"files_modified = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOCA"]],"x":"`git log -1 --name-only --pretty=format:'' ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOCB"]],"x":"#{","n":"span","l":"ref"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOCC"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOCD"]],"x":"`","n":"span"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOC1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOC2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOC3"]],"n":"span","l":"access = get_acl_access_data("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOC4"]],"x":"'.git/acl'","n":"span","l":")"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOBR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOBS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOBT"]],"n":"span","l":"access = get_acl_access_data("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOBU"]],"x":"'acl'","n":"span","l":")"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOBP"]],"x":".git","n":"code","l":" 目录。\nACL 文件的路径必须从"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOAR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOAS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOAT"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOAU"]],"x":"#!/usr/bin/env ruby","n":"span","l":"\n\n$user    = ENV["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOAV"]],"x":"'USER'","n":"span","l":"]\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOB0"]],"x":"# [ 插入上文中的 get_acl_access_data 方法 ]","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOB1"]],"x":"# 仅允许特定用户修改项目中的特定子目录","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOB2"]],"x":"def","n":"span","l":" check_directory_perms\n  access = get_acl_access_data("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOB3"]],"x":"'.git/acl'","n":"span","l":")\n\n  files_modified = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOB4"]],"x":"`git diff-index --cached --name-only HEAD`","n":"span","l":".split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOB5"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOB6"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOB7"]],"x":"\"","n":"span","l":")\n  files_modified.each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOB8"]],"x":"do","n":"span","l":" |path|\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOB9"]],"x":"next","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBA"]],"x":"if","n":"span","l":" path.size == 0\n    has_file_access = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBB"]],"x":"false","n":"span","l":"\n    access[$user].each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBC"]],"x":"do","n":"span","l":" |access_path|\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBD"]],"x":"if","n":"span","l":" !access_path || (path.index(access_path) == 0)\n      has_file_access = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBE"]],"x":"true","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBF"]],"x":"end","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBG"]],"x":"if","n":"span","l":" !has_file_access\n      puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOBH"]],"x":"\"[POLICY] You do not have access to push to ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOBI"]],"x":"#{","n":"span","l":"path"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCOBJ"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOBK"]],"x":"\"","n":"span","l":"\n      exit 1\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBL"]],"x":"end","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBM"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOBN"]],"x":"end","n":"span","l":"\n\ncheck_directory_perms"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOAO"]],"x":".git","n":"code","l":" 目录下有前面使用过的那份 ACL 文件，那么以下的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOAP"]],"x":"pre-commit","n":"code","l":" 脚本将把里面的规定执行起来："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOAI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOAJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOAK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOAL"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOAM"]],"x":"'test [ref: 132]'","n":"span","l":"\n[master e05c914] test [ref: 132]\n 1 file changed, 1 insertions(+), 0 deletions(-)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOAB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOAC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOAD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOAE"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOAF"]],"x":"'test'","n":"span","l":"\n[POLICY] Your message is not formatted correctly"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCOA9"]],"x":".git/hooks/commit-msg","n":"code","l":") 并且是可执行的，你提交信息的格式又是不正确的，你会看到："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCOA0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCOA1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCOA2"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOA3"]],"x":"#!/usr/bin/env ruby","n":"span","l":"\nmessage_file = ARGV[0]\nmessage = File.read(message_file)\n\n$regex = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOA4"]],"x":"/\\[ref: (\\d+)\\]/","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOA5"]],"x":"if","n":"span","l":" !$regex.match(message)\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCOA6"]],"x":"\"[POLICY] Your message is not formatted correctly\"","n":"span","l":"\n  exit 1\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCOA7"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO9U"]],"x":"commit-msg","n":"code","l":" 钩子。\n如果你使用该钩子来读取作为第一个参数传递的提交信息，然后与规定的格式作比较，你就可以使 Git 在提交信息格式不对的情况下拒绝提交。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO9S"]],"x":".git/hooks","n":"code","l":" 目录并设为可执行文件。\n虽然你可以在相同或单独的项目里加入并分发这些钩子，但是 Git 不会自动替你设置它。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_测试一下"],["aid","CCO8Q"]],"x":"测试一下","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO8R"]],"x":"如果已经把上面的代码放到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO8U"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO93"]],"x":"这里有几个有趣的信息。\n首先，我们可以看到钩子运行的起点。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO94"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO97"]],"x":"注意这是从 update 脚本开头输出到标准输出的。\n所有从脚本输出到标准输出的内容都会转发给客户端。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO98"]],"x":"下一个值得注意的部分是错误信息。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO99"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO9C"]],"x":"第一行是我们的脚本输出的，剩下两行是 Git 在告诉我们 update 脚本退出时返回了非零值因而推送遭到了拒绝。\n最后一点：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO9D"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO9G"]],"x":"你会看到每个被你的钩子拒之门外的引用都收到了一个 remote rejected 信息，它告诉你正是钩子无法成功运行导致了推送的拒绝。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO9H"]],"x":"又或者某人想修改一个自己不具备权限的文件然后推送了一个包含它的提交，他将看到类似的提示。\n比如，一个文档作者尝试推送一个修改到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO9J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO9M"]],"x":"从今以后，只要 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO9N"]],"x":"update","n":"code","l":" 脚本存在并且可执行，我们的版本库中永远都不会包含不符合格式的提交信息，并且用户都会待在沙箱里面。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO9K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO9L"]],"x":"[POLICY] You do not have access to push to lib/test.rb","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO9I"]],"x":"lib","n":"code","l":" 目录的提交，他会看到"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO9E"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO9F"]],"x":"To git@gitserver:project.git\n ! [remote rejected] master -> master (hook declined)\nerror: failed to push some refs to 'git@gitserver:project.git'","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO9A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO9B"]],"x":"[POLICY] Your message is not formatted correctly\nerror: hooks/update exited with error code 1\nerror: hook declined to update refs/heads/master","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO95"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO96"]],"x":"Enforcing Policies...\n(refs/heads/master) (fb8c72) (c56860)","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO8V"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO90"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO91"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO92"]],"x":"$","n":"span","l":" git push -f origin master\nCounting objects: 5, done.\nCompressing objects: 100% (3/3), done.\nWriting objects: 100% (3/3), 323 bytes, done.\nTotal 3 (delta 1), reused 0 (delta 0)\nUnpacking objects: 100% (3/3), done.\nEnforcing Policies...\n(refs/heads/master) (8338c5) (c5b616)\n[POLICY] Your message is not formatted correctly\nerror: hooks/update exited with error code 1\nerror: hook declined to update refs/heads/master\nTo git@gitserver:project.git\n ! [remote rejected] master -> master (hook declined)\nerror: failed to push some refs to 'git@gitserver:project.git'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO8S"]],"x":".git/hooks/update","n":"code","l":" 文件里了，运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO8T"]],"x":"chmod u+x .git/hooks/update","n":"code","l":"，然后尝试推送一个不符合格式的提交，你会得到以下的提示："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO8N"]],"x":"git rev-list","n":"code","l":" 获取推送到服务器的所有提交。\n接着，对于每一个提交，找出它修改的文件，然后确保推送者具有这些文件的推送权限。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO79"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO7A"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO7B"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7C"]],"x":"# 仅允许特定用户修改项目中的特定子目录","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO7D"]],"x":"def","n":"span","l":" check_directory_perms\n  access = get_acl_access_data("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7E"]],"x":"'acl'","n":"span","l":")\n\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7F"]],"x":"# 检查是否有人在向他没有权限的地方推送内容","n":"span","l":"\n  new_commits = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7G"]],"x":"`git rev-list ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO7H"]],"x":"#{","n":"span","l":"$oldrev"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO7I"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7J"]],"x":"..","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO7K"]],"x":"#{","n":"span","l":"$newrev"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO7L"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7M"]],"x":"`","n":"span","l":".split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7N"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO7O"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7P"]],"x":"\"","n":"span","l":")\n  new_commits.each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO7Q"]],"x":"do","n":"span","l":" |rev|\n    files_modified = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7R"]],"x":"`git log -1 --name-only --pretty=format:'' ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO7S"]],"x":"#{","n":"span","l":"rev"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO7T"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7U"]],"x":"`","n":"span","l":".split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO7V"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO80"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO81"]],"x":"\"","n":"span","l":")\n    files_modified.each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO82"]],"x":"do","n":"span","l":" |path|\n      "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO83"]],"x":"next","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO84"]],"x":"if","n":"span","l":" path.size == 0\n      has_file_access = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO85"]],"x":"false","n":"span","l":"\n      access[$user].each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO86"]],"x":"do","n":"span","l":" |access_path|\n        "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO87"]],"x":"if","n":"span","l":" !access_path  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO88"]],"x":"# 用户拥有完全访问权限","n":"span","l":"\n           || (path.start_with? access_path) "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO89"]],"x":"# 或者对此路径有访问权限","n":"span","l":"\n          has_file_access = "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8A"]],"x":"true","n":"span","l":"\n        "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8B"]],"x":"end","n":"span","l":"\n      "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8C"]],"x":"end","n":"span","l":"\n      "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8D"]],"x":"if","n":"span","l":" !has_file_access\n        puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO8E"]],"x":"\"[POLICY] You do not have access to push to ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO8F"]],"x":"#{","n":"span","l":"path"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO8G"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO8H"]],"x":"\"","n":"span","l":"\n        exit 1\n      "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8I"]],"x":"end","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8J"]],"x":"end","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8K"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO8L"]],"x":"end","n":"span","l":"\n\ncheck_directory_perms"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO77"]],"x":"get_acl_access_data","n":"code","l":" 返回的 ACL 结构来一一核对每次提交修改的文件列表，就能找出该用户是否有权限推送所有的提交内容:"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO71"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO72"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO73"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO74"]],"x":"$","n":"span","l":" git log -1 --name-only --pretty=format:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO75"]],"x":"''","n":"span","l":" 9f585d\n\nREADME\nlib/test.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO6U"]],"x":"git log","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO6V"]],"x":"--name-only","n":"code","l":" 选项（在第二章里简单地提过），我们可以轻而易举的找出一次提交里修改的文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO68"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO69"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO6A"]],"n":"span","l":"{"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6B"]],"x":"\"defunkt\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO6C"]],"x":"nil","n":"span","l":"],\n "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6D"]],"x":"\"tpw\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO6E"]],"x":"nil","n":"span","l":"],\n "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6F"]],"x":"\"nickh\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO6G"]],"x":"nil","n":"span","l":"],\n "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6H"]],"x":"\"pjhyett\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO6I"]],"x":"nil","n":"span","l":"],\n "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6J"]],"x":"\"schacon\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6K"]],"x":"\"lib\"","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6L"]],"x":"\"tests\"","n":"span","l":"],\n "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6M"]],"x":"\"cdickens\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6N"]],"x":"\"doc\"","n":"span","l":"],\n "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6O"]],"x":"\"usinclair\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6P"]],"x":"\"doc\"","n":"span","l":"],\n "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6Q"]],"x":"\"ebronte\"","n":"span","l":"=>["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO6R"]],"x":"\"doc\"","n":"span","l":"]}"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO66"]],"x":"get_acl_access_data","n":"code","l":" 方法返回的数据结构如下："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO5I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO5J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO5K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO5L"]],"x":"def","n":"span","l":" get_acl_access_data(acl_file)\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO5M"]],"x":"# 读取ACL数据","n":"span","l":"\n  acl_file = File.read(acl_file).split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO5N"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO5O"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO5P"]],"x":"\"","n":"span","l":").reject { |line| line == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO5Q"]],"x":"''","n":"span","l":" }\n  access = {}\n  acl_file.each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO5R"]],"x":"do","n":"span","l":" |line|\n    avail, users, path = line.split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO5S"]],"x":"'|'","n":"span","l":")\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO5T"]],"x":"next","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO5U"]],"x":"unless","n":"span","l":" avail == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO5V"]],"x":"'avail'","n":"span","l":"\n    users.split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO60"]],"x":"','","n":"span","l":").each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO61"]],"x":"do","n":"span","l":" |user|\n      access[user] ||= []\n      access[user] << path\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO62"]],"x":"end","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO63"]],"x":"end","n":"span","l":"\n  access\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO64"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO5G"]],"x":"avail","n":"code","l":" 的规则。\n下面这个方法生成一个关联数组，它的键是用户名，值是一个由该用户有写权限的所有目录组成的数组："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO5D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO5E"]],"x":"avail|nickh,pjhyett,defunkt,tpw\navail|usinclair,cdickens,ebronte|doc\navail|schacon|lib\navail|schacon|tests","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO59"]],"x":"doc","n":"code","l":" 目录具有权限的文档作者，以及一位仅对 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO5A"]],"x":"lib","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO5B"]],"x":"tests","n":"code","l":" 目录具有权限的开发人员，相应的 ACL 文件如下："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO55"]],"x":"avail","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO56"]],"x":"unavail","n":"code","l":"，接着是逗号分隔的适用该规则的用户列表，最后一项是适用该规则的路径（该项空缺表示没有路径限制）。\n各项由管道符 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO57"]],"x":"|","n":"code","l":" 隔开。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO53"]],"x":"update","n":"code","l":" 钩子检阅这些规则，审视推送的提交内容中被修改的所有文件，然后决定执行推送的用户是否对所有这些文件都有权限。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_enforcing_commit_message_format"],["aid","CCO34"]],"x":"指定特殊的提交信息格式","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO35"]],"x":"你的第一项任务是要求每一条提交信息都必须遵循某种特殊的格式。\n作为目标，假定每一条信息必须包含一条形似“ref: 1234”的字符串，因为你想把每一次提交对应到问题追踪系统（ticketing system）中的某个事项。\n你要逐一检查每一条推送上来的提交内容，看看提交信息是否包含这么一个字符串，然后，如果某个提交里不包含这个字符串，以非零返回值退出从而拒绝此次推送。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO36"]],"x":"把 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO3C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO3H"]],"x":"你可以截取这些输出内容，循环遍历其中每一个 SHA-1 值，找出与之对应的提交信息，然后用正则表达式来测试该信息包含的内容。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO3I"]],"x":"下一步要实现从每个提交中提取出提交信息。\n使用另一个叫做 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO3L"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO3Q"]],"x":"通过 SHA-1 值获得提交中的提交信息的一个简单办法是找到提交的第一个空行，然后取从它往后的所有内容。\n可以使用 Unix 系统的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO3S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO42"]],"x":"你可以用这条咒语从每一个待推送的提交里提取提交信息，然后在提取的内容不符合要求时退出。\n为了退出脚本和拒绝此次推送，返回非零值。\n整个脚本大致如下：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCO43"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO4U"]],"x":"把这一段放在 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO4V"]],"x":"update","n":"code","l":" 脚本里，所有包含不符合指定规则的提交都会遭到拒绝。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO44"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO45"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO46"]],"n":"span","l":"$regex = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO47"]],"x":"/\\[ref: (\\d+)\\]/","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO48"]],"x":"# 指定自定义的提交信息格式","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO49"]],"x":"def","n":"span","l":" check_message_format\n  missed_revs = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4A"]],"x":"`git rev-list ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO4B"]],"x":"#{","n":"span","l":"$oldrev"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO4C"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4D"]],"x":"..","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO4E"]],"x":"#{","n":"span","l":"$newrev"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO4F"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4G"]],"x":"`","n":"span","l":".split("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4H"]],"x":"\"","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO4I"]],"x":"\\n","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4J"]],"x":"\"","n":"span","l":")\n  missed_revs.each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO4K"]],"x":"do","n":"span","l":" |rev|\n    message = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4L"]],"x":"`git cat-file commit ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO4M"]],"x":"#{","n":"span","l":"rev"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO4N"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4O"]],"x":" | sed '1,/^$/d'`","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO4P"]],"x":"if","n":"span","l":" !$regex.match(message)\n      puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO4Q"]],"x":"\"[POLICY] Your message is not formatted correctly\"","n":"span","l":"\n      exit 1\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO4R"]],"x":"end","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO4S"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO4T"]],"x":"end","n":"span","l":"\ncheck_message_format"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO3T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO3U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO3V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO40"]],"x":"$","n":"span","l":" git cat-file commit ca82a6 | sed "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO41"]],"x":"'1,/^$/d'","n":"span","l":"\nchanged the version number"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO3R"]],"x":"sed","n":"code","l":" 命令来实现该效果："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO3M"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO3N"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO3O"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO3P"]],"x":"$","n":"span","l":" git cat-file commit ca82a6\ntree cfda3bf379e4f8dba8717dee55aab78aef7f4daf\nparent 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7\nauthor Scott Chacon <schacon@gmail.com> 1205815931 -0700\ncommitter Scott Chacon <schacon@gmail.com> 1240030591 -0700\n\nchanged the version number"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO3J"]],"x":"git cat-file","n":"code","l":" 的底层命令来获得原始的提交数据。\n我们将在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["id","xref--ch10-git-internals"],["aid","CCO3K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" 了解到这些底层命令的细节；现在暂时先看一下这条命令的输出："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO3D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO3E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO3F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCO3G"]],"x":"$","n":"span","l":" git rev-list 538c33..d14fc7\nd14fc7c847ab946ec39590d87783c69b031bdfb7\n9f585da4401b0a3999e84113824d15245c13f0be\n234071a1be950e2a8d078e6141f5cd20c1e61ad3\ndfa04c9ef3d5197182f13fb5b9b1fb7717d2222a\n17716ec0f1ff5c77eff40b7fe912f9f6cfd0e475"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO37"]],"x":"$newrev","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO38"]],"x":"$oldrev","n":"code","l":" 变量的值传给一个叫做 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO39"]],"x":"git rev-list","n":"code","l":" 的 Git 底层命令，你可以获取所有提交的 SHA-1 值列表。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO3A"]],"x":"git rev-list","n":"code","l":" 基本类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO3B"]],"x":"git log","n":"code","l":" 命令，但它默认只输出 SHA-1 值而已，没有其他信息。\n所以要获取由一次提交到另一次提交之间的所有 SHA-1 值，可以像这样运行："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCO2I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCO2J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCO2K"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO2L"]],"x":"#!/usr/bin/env ruby","n":"span","l":"\n\n$refname = ARGV[0]\n$oldrev  = ARGV[1]\n$newrev  = ARGV[2]\n$user    = ENV["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO2M"]],"x":"'USER'","n":"span","l":"]\n\nputs "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO2N"]],"x":"\"Enforcing Policies...\"","n":"span","l":"\nputs "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO2O"]],"x":"\"(","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO2P"]],"x":"#{","n":"span","l":"$refname"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO2Q"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO2R"]],"x":") (","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO2S"]],"x":"#{","n":"span","l":"$oldrev[0,6]"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO2T"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO2U"]],"x":") (","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO2V"]],"x":"#{","n":"span","l":"$newrev[0,6]"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCO30"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCO31"]],"x":")\"","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO2G"]],"x":"$USER","n":"code","l":" 环境变量里存储了当前连接的用户的身份，你的 update 脚本首先搜集一切需要的信息："},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","CCO28"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","CCO29"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","CCO2B"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","CCO2D"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","CCO2E"]],"x":"用户准备推送的修订版本（revision）","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","CCO2C"]],"x":"推送前分支的修订版本（revision）","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","CCO2A"]],"x":"被推送的引用的名字","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO24"]],"x":"hooks","n":"code","l":" 目录下的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO25"]],"x":"update","n":"code","l":" 脚本中完成。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO26"]],"x":"update","n":"code","l":" 脚本会为每一个提交的分支各运行一次，它接受三个参数："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_服务器端钩子"],["aid","CCO18"]],"x":"服务器端钩子","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO19"]],"x":"除了客户端钩子，作为系统管理员，你还可以使用若干服务器端的钩子对项目强制执行各种类型的策略。\n这些钩子脚本在推送到服务器之前和之后运行。\n推送到服务器前运行的钩子可以在任何时候以非零值退出，拒绝推送并给客户端返回错误消息，还可以依你所想设置足够复杂的推送策略。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","pre-receive"],["aid","CCO1A"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","update"],["aid","CCO1F"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","post-receive"],["aid","CCO1N"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_post_receive_code"],["aid","CCO1O"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO1Q"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO1R"]],"x":"post-receive","n":"code","l":" 挂钩在整个过程完结以后运行，可以用来更新其他系统服务或者通知用户。\n它接受与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO1S"]],"x":"pre-receive","n":"code","l":" 相同的标准输入数据。\n它的用途包括给某个邮件列表发信，通知持续集成（continous integration）的服务器，或者更新问题追踪系统（ticket-tracking system） —— 甚至可以通过分析提交信息来决定某个问题（ticket）是否应该被开启，修改或者关闭。\n该脚本无法终止推送进程，不过客户端在它结束运行之前将保持连接状态，所以如果你想做其他操作需谨慎使用它，因为它将耗费你很长的一段时间。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCO1P"]],"x":"post-receive","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_update_code"],["aid","CCO1G"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO1I"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO1J"]],"x":"update","n":"code","l":" 脚本和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO1K"]],"x":"pre-receive","n":"code","l":" 脚本十分类似，不同之处在于它会为每一个准备更新的分支各运行一次。\n假如推送者同时向多个分支推送内容，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO1L"]],"x":"pre-receive","n":"code","l":" 只运行一次，相比之下 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO1M"]],"x":"update","n":"code","l":" 则会为每一个被推送的分支各运行一次。\n它不会从标准输入读取内容，而是接受三个参数：引用的名字（分支），推送前的引用指向的内容的 SHA-1 值，以及用户准备推送的内容的 SHA-1 值。\n如果 update 脚本以非零值退出，只有相应的那一个引用会被拒绝；其余的依然会被更新。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCO1H"]],"x":"update","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_pre_receive_code"],["aid","CCO1B"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO1D"]],"x":"处理来自客户端的推送操作时，最先被调用的脚本是 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO1E"]],"x":"pre-receive","n":"code","l":"。\n它从标准输入获取一系列被推送的引用。如果它以非零值退出，所有的推送内容都不会被接受。\n你可以用这个钩子阻止对引用进行非快进（non-fast-forward）的更新，或者对该推送所修改的所有引用和文件进行访问控制。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCO1C"]],"x":"pre-receive","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_other_client_hooks"],["aid","CCO0G"]],"x":"其它客户端钩子","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO0H"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO0K"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO0R"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO0U"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO11"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO14"]],"x":"Git 的一些日常操作在运行时，偶尔会调用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO15"]],"x":"git gc --auto","n":"code","l":" 进行垃圾回收。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO16"]],"x":"pre-auto-gc","n":"code","l":" 钩子会在垃圾回收开始之前被调用，可以用它来提醒你现在要回收垃圾了，或者依情形判断是否要中断回收。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO12"]],"x":"pre-push","n":"code","l":" 钩子会在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO13"]],"x":"git push","n":"code","l":" 运行期间， 更新了远程引用但尚未传送对象时被调用。\n它接受远程分支的名字和位置作为参数，同时从标准输入中读取一系列待更新的引用。\n你可以在推送开始之前，用它验证对引用的更新操作（一个非零的退出码将终止推送过程）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0V"]],"x":"git merge","n":"code","l":" 成功运行后，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO10"]],"x":"post-merge","n":"code","l":" 钩子会被调用。\n你可以用它恢复 Git 无法跟踪的工作区数据，比如权限数据。\n这个钩子也可以用来验证某些在 Git 控制之外的文件是否存在，这样你就能在工作区改变时，把这些文件复制进来。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0S"]],"x":"git checkout","n":"code","l":" 成功运行后，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0T"]],"x":"post-checkout","n":"code","l":" 钩子会被调用。你可以根据你的项目环境用它调整你的工作目录。\n其中包括放入大的二进制文件、自动生成文档或进行其他类似这样的操作。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0L"]],"x":"post-rewrite","n":"code","l":" 钩子被那些会替换提交记录的命令调用，比如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0M"]],"x":"git commit --amend","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0N"]],"x":"git rebase","n":"code","l":"（不过不包括 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0O"]],"x":"git filter-branch","n":"code","l":"）。\n它唯一的参数是触发重写的命令名，同时从标准输入中接受一系列重写的提交记录。\n这个钩子的用途很大程度上跟 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0P"]],"x":"post-checkout","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0Q"]],"x":"post-merge","n":"code","l":" 差不多。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0I"]],"x":"pre-rebase","n":"code","l":" 钩子运行于变基之前，以非零值退出可以中止变基的过程。\n你可以使用这个钩子来禁止对已经推送的提交变基。\nGit 自带的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0J"]],"x":"pre-rebase","n":"code","l":" 钩子示例就是这么做的，不过它所做的一些假设可能与你的工作流程不匹配。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_email_hooks"],["aid","CCO01"]],"x":"电子邮件工作流钩子","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO02"]],"x":"你可以给电子邮件工作流设置三个客户端钩子。\n它们都是由 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO05"]],"x":"第一个运行的钩子是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO07"]],"x":"下一个在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCO0C"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0D"]],"x":"post-applypatch","n":"code","l":" 运行于提交产生之后，是在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0E"]],"x":"git am","n":"code","l":" 运行期间最后被调用的钩子。\n你可以用它把结果通知给一个小组或所拉取的补丁的作者。\n但你没办法用它停止打补丁的过程。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO08"]],"x":"git am","n":"code","l":" 运行期间被调用的是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO09"]],"x":"pre-applypatch","n":"code","l":" 。\n有些难以理解的是，它正好运行于应用补丁 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","CCO0A"]],"x":"之后","n":"em","l":"，产生提交之前，所以你可以用它在提交前检查快照。\n你可以用这个脚本运行测试或检查工作区。\n如果有什么遗漏，或测试未能通过，脚本会以非零值退出，中断 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO0B"]],"x":"git am","n":"code","l":" 的运行，这样补丁就不会被提交。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO06"]],"x":"applypatch-msg","n":"code","l":" 。\n它接收单个参数：包含请求合并信息的临时文件的名字。\n如果脚本返回非零值，Git 将放弃该补丁。\n你可以用该脚本来确保提交信息符合格式，或直接用脚本修正格式错误。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO03"]],"x":"git am","n":"code","l":" 命令调用的，因此如果你没有在你的工作流中用到这个命令，可以跳到下一节。\n如果你需要通过电子邮件接收由 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCO04"]],"x":"git format-patch","n":"code","l":" 产生的补丁，这些钩子也许用得上。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_提交工作流钩子"],["aid","CCNVJ"]],"x":"提交工作流钩子","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNVK"]],"x":"前四个钩子涉及提交的过程。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNVL"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNVP"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNVR"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNVT"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNVU"]],"x":"post-commit","n":"code","l":" 钩子在整个提交过程完成后运行。\n它不接收任何参数，但你可以很容易地通过运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNVV"]],"x":"git log -1 HEAD","n":"code","l":" 来获得最后一次的提交信息。\n该钩子一般用于通知之类的事情。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNVS"]],"x":"commit-msg","n":"code","l":" 钩子接收一个参数，此参数即上文提到的，存有当前提交信息的临时文件的路径。\n如果该钩子脚本以非零值退出，Git 将放弃提交，因此，可以用来在提交通过前验证项目状态或提交信息。\n在本章的最后一节，我们将展示如何使用该钩子来核对提交信息是否遵循指定的模板。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNVQ"]],"x":"prepare-commit-msg","n":"code","l":" 钩子在启动提交信息编辑器之前，默认信息被创建之后运行。\n它允许你编辑提交者所看到的默认信息。\n该钩子接收一些选项：存有当前提交信息的文件的路径、提交类型和修补提交的提交的 SHA-1 校验。\n它对一般的提交来说并没有什么用；然而对那些会自动产生默认信息的提交，如提交信息模板、合并提交、压缩提交和修订提交等非常实用。\n你可以结合提交模板来使用它，动态地插入信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNVM"]],"x":"pre-commit","n":"code","l":" 钩子在键入提交信息前运行。\n它用于检查即将提交的快照，例如，检查是否有所遗漏，确保测试运行，以及核查代码。\n如果该钩子以非零值退出，Git 将放弃此次提交，不过你可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNVN"]],"x":"git commit --no-verify","n":"code","l":" 来绕过这个环节。\n你可以利用该钩子，来检查代码风格是否一致（运行类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNVO"]],"x":"lint","n":"code","l":" 的程序）、尾随空白字符是否存在（自带的钩子就是这么做的），或新方法的文档是否适当。"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","CCNVE"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNVF"]],"x":"需要注意的是，克隆某个版本库时，它的客户端钩子 ","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","CCNVG"]],"x":"并不","n":"strong","l":" 随同复制。\n如果需要靠这些脚本来强制维持某种策略，建议你在服务器端实现这一功能。（请参照 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0072:off:0000000000"],["aid","CCNVH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"使用强制策略的一个例子","n":"a","l":" 中的例子。）"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_安装一个钩子"],["aid","CCNV2"]],"x":"安装一个钩子","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNV3"]],"x":"钩子都被存储在 Git 目录下的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNV8"]],"x":"把一个正确命名且可执行的文件放入 Git 目录下的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNV9"]],"x":"hooks","n":"code","l":" 子目录中，即可激活该钩子脚本。\n这样一来，它就能被 Git 调用。\n接下来，我们会讲解常用的钩子脚本类型。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNV4"]],"x":"hooks","n":"code","l":" 子目录中。\n也即绝大部分项目中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNV5"]],"x":".git/hooks","n":"code","l":" 。\n当你用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNV6"]],"x":"git init","n":"code","l":" 初始化一个新版本库时，Git 默认会在这个目录中放置一些示例脚本。这些脚本除了本身可以被调用外，它们还透露了被触发时所传入的参数。\n所有的示例都是 shell 脚本，其中一些还混杂了 Perl 代码，不过，任何正确命名的可执行脚本都可以正常使用 —— 你可以用 Ruby 或 Python，或其它语言编写它们。\n这些示例的名字都是以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNV7"]],"x":".sample","n":"code","l":" 结尾，如果你想启用它们，得先移除这个后缀。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_合并策略"],["aid","CCNU7"]],"x":"合并策略","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNU8"]],"x":"\n通过 Git 属性，你还能对项目中的特定文件指定不同的合并策略。\n一个非常有用的选项就是，告诉 Git 当特定文件发生冲突时不要尝试合并它们，而是直接使用你这边的内容。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNU9"]],"x":"考虑如下场景：项目中有一个分叉的或者定制过的特性分支，你希望该分支上的更改能合并回你的主干分支，同时需要忽略其中某些文件。此时这个合并策略就能派上用场。\n假设你有一个数据库设置文件 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNUB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNUE"]],"x":"然后定义一个虚拟的合并策略，叫做 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNUG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNUL"]],"x":"如果你合并了另一个分支，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNUN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNUS"]],"x":"这里，","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNUT"]],"x":"database.xml","n":"code","l":" 保持了主干分支中的原始版本。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNUO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNUP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNUQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNUR"]],"x":"$","n":"span","l":" git merge topic\nAuto-merging database.xml\nMerge made by recursive."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNUM"]],"x":"database.xml","n":"code","l":" 文件不会有合并冲突，相反会显示如下信息："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNUH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNUI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNUJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNUK"]],"x":"$","n":"span","l":" git config --global merge.ours.driver true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNUF"]],"x":"ours","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNUC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNUD"]],"x":"database.xml merge=ours","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNUA"]],"x":"database.xml","n":"code","l":"，在两个分支中它是不同的，而你想合并另一个分支到你的分支上，又不想弄乱该数据库文件。\n你可以设置属性如下："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_导出版本库"],["aid","CCNSN"]],"x":"导出版本库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNSO"]],"x":"\nGit 属性在导出项目归档（archive）时也能发挥作用。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","export-ignore"],["aid","CCNSP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","export-subst"],["aid","CCNT5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_export_subst_code"],["aid","CCNT6"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNT8"]],"x":"在导出文件进行部署的时候，你可以将 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNTB"]],"x":"举个例子，如果你想在项目中包含一个叫做 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNTE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNTP"]],"x":"运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNTR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNU1"]],"x":"你也可以用诸如提交信息或者任意的 git 注解进行替换，并且 git log 还能做简单的字词包装：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNU2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNU5"]],"x":"由此得到的归档适用于（当前的）部署工作。然而和其他的导出归档一样，它并不适用于后继的部署工作。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNU3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNU4"]],"x":"$ echo '$Format:Last commit: %h by %aN at %cd%n%+w(76,6,9)%B$' > LAST_COMMIT\n$ git commit -am 'export-subst 使用 git log 的自定义格式化工具\n\ngit archive 直接使用 git log 的 `pretty=format:`\n处理器，并在输出中移除两侧的 `$Format:` 和 `$`\n标记。\n'\n$ git archive @ | tar xfO - LAST_COMMIT\nLast commit: 312ccc8 by Jim Hill at Fri May 8 09:14:04 2015 -0700\n       export-subst 使用 git log 的自定义格式化工具\n\n         git archive 直接使用 git log 的 `pretty=format:` 处理器，并\n         在输出中移除两侧的 `$Format:` 和 `$` 标记。","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNTS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNTT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNTU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNTV"]],"x":"$","n":"span","l":" git archive HEAD | tar xCf ../deployment-testing -\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNU0"]],"x":"$","n":"span","l":" cat ../deployment-testing/LAST_COMMIT\nLast commit date: Tue Apr 21 08:38:48 2009 -0700 by Scott Chacon"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNTQ"]],"x":"git archive","n":"code","l":" 之后，该文件被归档后的内容会被替换成这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNTF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNTG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNTH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNTI"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNTJ"]],"x":"'Last commit date: $Format:%cd by %aN$'","n":"span","l":" > LAST_COMMIT\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNTK"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNTL"]],"x":"\"LAST_COMMIT export-subst\"","n":"span","l":" >> .gitattributes\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNTM"]],"x":"$","n":"span","l":" git add LAST_COMMIT .gitattributes\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNTN"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNTO"]],"x":"'adding LAST_COMMIT file for archives'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNTC"]],"x":"LAST_COMMIT","n":"code","l":" 的文件，并在运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNTD"]],"x":"git archive","n":"code","l":" 的时候自动向它注入最新提交的元数据，可以像这样设置该文件："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNT9"]],"x":"git log","n":"code","l":" 的格式化和关键字展开处理应用于被\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNTA"]],"x":"export-subst","n":"code","l":" 属性标记的部分文件。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNT7"]],"x":"export-subst","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_export_ignore_code"],["aid","CCNSQ"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNSS"]],"x":"当归档的时候，可以设置 Git 不导出某些文件和目录。\n如果你不想在归档中包含某个子目录或文件，但想把它们纳入项目的版本管理中，你可以在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNSU"]],"x":"例如，假设你在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNT0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNT3"]],"x":"现在，当你运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNT4"]],"x":"git archive","n":"code","l":" 来创建项目的压缩包时，那个目录不会被包括在归档中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNT1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNT2"]],"x":"test/ export-ignore","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNSV"]],"x":"test/","n":"code","l":" 子目录下有一些测试文件，不希望它们被包含在项目导出的压缩包（tarball）中。\n你可以增加下面这行到 Git 属性文件中："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNST"]],"x":"export-ignore","n":"code","l":" 属性中指定它们。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNSR"]],"x":"export-ignore","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNSK"]],"x":".gitattributes","n":"code","l":" 文件会随着项目一起提交，而过滤器（例如这里的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNSL"]],"x":"dater","n":"code","l":"）不会，所以过滤器有可能会失效。\n当你在设计这些过滤器时，要注重容错性——它们在出错时应该能优雅地退出，从而不至于影响项目的正常运行。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNS9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNSA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNSB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNSC"]],"x":"$","n":"span","l":" git add date_test.txt .gitattributes\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNSD"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNSE"]],"x":"\"Testing date expansion in Git\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNSF"]],"x":"$","n":"span","l":" rm date_test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNSG"]],"x":"$","n":"span","l":" git checkout date_test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNSH"]],"x":"$","n":"span","l":" cat date_test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNSI"]],"x":"#","n":"span","l":" $Date: Tue Apr 21 07:26:52 2009 -0700$"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNS0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNS1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNS2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNS3"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNS4"]],"x":"'# $Date$'","n":"span","l":" > date_test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNS5"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNS6"]],"x":"'date*.txt filter=dater'","n":"span","l":" >> .gitattributes"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNRT"]],"x":"$Date$","n":"code","l":" 后面注入的内容，恢复它的原貌。\n过滤器终于准备完成了，是时候测试一下。创建一个带有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNRU"]],"x":"$Date$","n":"code","l":" 关键字的文件，然后给它设置一个 Git 属性，关联我们的新过滤器："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNRM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNRN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNRO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNRP"]],"x":"$","n":"span","l":" git config filter.dater.smudge expand_date\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNRQ"]],"x":"$","n":"span","l":" git config filter.dater.clean "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNRR"]],"x":"'perl -pe \"s/\\\\\\$Date[^\\\\\\$]*\\\\\\$/\\\\\\$Date\\\\\\$/\"'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNRG"]],"x":"git log","n":"code","l":" 中得到最新提交日期，将其注入所有输入文件的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNRH"]],"x":"$Date$","n":"code","l":" 字段，并输出结果——你可以使用最顺手的语言轻松实现一个类似的脚本。\n把该脚本命名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNRI"]],"x":"expand_date","n":"code","l":"，放到你的可执行路径中。\n现在，你需要在 Git 中设置一个过滤器（就叫它 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNRJ"]],"x":"dater","n":"code","l":" 吧），让它在检出文件时调用你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNRK"]],"x":"expand_date","n":"code","l":" 来注入时间戳，完成 smudge 操作。\n暂存文件时的 clean 操作则是用一行 Perl 表达式清除注入的内容："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNR7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNR8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNR9"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNRA"]],"x":"#! /usr/bin/env ruby","n":"span","l":"\ndata = STDIN.read\nlast_date = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNRB"]],"x":"`git log --pretty=format:\"%ad\" -1`","n":"span","l":"\nputs data.gsub("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNRC"]],"x":"'$Date$'","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNRD"]],"x":"'$Date: '","n":"span","l":" + last_date.to_s + "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNRE"]],"x":"'$'","n":"span","l":")"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNR5"]],"x":"$Date$","n":"code","l":" 关键字展开。\n要想演示这个例子，我们需要实现这样的一个小脚本：接受文件名参数，得到项目的最新提交日期，并把日期写入该文件。\n下面是一个实现了该功能的 Ruby 小脚本："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNQV"]],"x":"*.c","n":"code","l":" 文件时，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNR0"]],"x":"indent","n":"code","l":" 程序会先被触发；在把它们检出回硬盘时，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNR1"]],"x":"cat","n":"code","l":" 程序会先被触发。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNR2"]],"x":"cat","n":"code","l":" 在这里没什么实际作用：它仅仅把输入的数据重新输出。\n这样的组合可以有效地在暂存前用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNR3"]],"x":"indent","n":"code","l":" 过滤所有的 C 源码。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNQP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNQQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNQR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNQS"]],"x":"$","n":"span","l":" git config --global filter.indent.clean indent\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNQT"]],"x":"$","n":"span","l":" git config --global filter.indent.smudge cat"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNQL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNQM"]],"x":"*.c filter=indent","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNQH"]],"x":"indent","n":"code","l":" 程序过滤所有 C 源码。\n你可以在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNQI"]],"x":".gitattributes","n":"code","l":" 文件中对 filter 属性设置“indent”过滤器来过滤 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNQJ"]],"x":"*.c","n":"code","l":" 文件"},{"a":[["class","content pcalibre1 pcalibre"],["aid","CCNQE"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","CCNQF"]],"x":"Figure 3. “clean”过滤器会在文件被暂存时触发","n":"figcaption","l":"\n"},{"a":[["alt","“clean”过滤器会在文件被暂存时触发。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004N?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","CCNQB"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","CCNQC"]],"x":"Figure 2. “smudge”过滤器会在文件被检出时触发","n":"figcaption","l":"\n"},{"a":[["alt","“smudge”过滤器会在文件被检出时触发。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001J?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNQ7"]],"x":".gitattributes","n":"code","l":" 文件中，你能对特定的路径设置一个过滤器，然后设置文件检出前的处理脚本（“smudge”，见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006R:off:00000003R9"],["id","xref-rfilters_a"],["aid","CCNQ8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"“smudge”过滤器会在文件被检出时触发","n":"a","l":"）和文件暂存前的处理脚本（“clean”，见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006R:off:000000048C"],["id","xref-rfilters_b"],["aid","CCNQ9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"“clean”过滤器会在文件被暂存时触发","n":"a","l":"）。\n这两个过滤器能够被用来做各种有趣的事。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNPU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNPV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNQ0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNQ1"]],"x":"$","n":"span","l":" rm test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNQ2"]],"x":"$","n":"span","l":" git checkout -- test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNQ3"]],"x":"$","n":"span","l":" cat test.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNQ4"]],"x":"$","n":"span","l":"Id: 42812b7653c7b88933f8a9d6cad0ca16714b9bb3 $"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNPL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNPM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNPN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNPO"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNPP"]],"x":"'*.txt ident'","n":"span","l":" >> .gitattributes\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNPQ"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNPR"]],"x":"'$Id$'","n":"span","l":" > test.txt"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNPJ"]],"x":"$Id$","n":"code","l":" 字段。\n如果在一个或多个文件上设置了该属性，下次当你检出相关分支的时候，Git 会用相应数据对象的 SHA-1 值替换上述字段。\n注意，这不是提交对象的 SHA-1 校验和，而是数据对象本身的校验和："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNPC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNPD"]],"x":"diff --git a/image.png b/image.png\nindex 88839c4..4afcb7c 100644\n--- a/image.png\n+++ b/image.png\n@@ -1,12 +1,12 @@\n ExifTool Version Number         : 7.74\n-File Size                       : 70 kB\n-File Modification Date/Time     : 2009:04:21 07:02:45-07:00\n+File Size                       : 94 kB\n+File Modification Date/Time     : 2009:04:21 07:02:43-07:00\n File Type                       : PNG\n MIME Type                       : image/png\n-Image Width                     : 1058\n-Image Height                    : 889\n+Image Width                     : 1056\n+Image Height                    : 827\n Bit Depth                       : 8\n Color Type                      : RGB with Alpha","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNPA"]],"x":"git diff","n":"code","l":" 命令的结果如下："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNP3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNP4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNP5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNP6"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNP7"]],"x":"'*.png diff=exif'","n":"span","l":" >> .gitattributes\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNP8"]],"x":"$","n":"span","l":" git config diff.exif.textconv exiftool"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNP1"]],"x":"exiftool","n":"code","l":" 程序，可以利用它将图像转换为关于元数据的文本信息，这样比较时至少能以文本的形式显示发生过的变动："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNOR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNOS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNOT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNOU"]],"x":"$","n":"span","l":" git diff\ndiff --git a/chapter1.docx b/chapter1.docx\nindex 0b013ca..ba25db5 100644\n--- a/chapter1.docx\n+++ b/chapter1.docx\n@@ -2,6 +2,7 @@\n This chapter will be about getting started with Git. We will begin at the beginning by explaining some background on version control tools, then move on to how to get Git running on your system and finally how to get it setup to start working with. At the end of this chapter you should understand why Git is around, why you should use it and you should be all setup to do so.\n 1.1. About Version Control\n What is \"version control\", and why should you care? Version control is a system that records changes to a file or set of files over time so that you can recall specific versions later. For the examples in this book you will use software source code as the files being version controlled, though in reality you can do this with nearly any type of file on a computer.\n+Testing: 1, 2, 3.\n If you are a graphic or web designer and want to keep every version of an image or layout (which you would most certainly want to), a Version Control System (VCS) is a very wise thing to use. It allows you to revert files back to a previous state, revert the entire project back to a previous state, compare changes over time, see who last modified something that might be causing a problem, who introduced an issue and when, and more. Using a VCS also generally means that if you screw things up or lose files, you can easily recover. In addition, you get all this for very little overhead.\n 1.1.1. Local Version Control Systems\n Many people's version-control method of choice is to copy files into another directory (perhaps a time-stamped directory, if they're clever). This approach is very common because it is so simple, but it is also incredibly error prone. It is easy to forget which directory you're in and accidentally write to the wrong file or copy over files you don't mean to."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNOP"]],"x":"git diff","n":"code","l":"，输出如下："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNOM"]],"x":".docx","n":"code","l":" 结尾的文件应用“word”过滤器，即 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNON"]],"x":"docx2txt","n":"code","l":"。\n这样你的 Word 文件就能被高效地转换成文本文件并进行比较了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNOH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNOI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNOJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNOK"]],"x":"$","n":"span","l":" git config diff.word.textconv docx2txt"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNOF"]],"x":"chmod a+x","n":"code","l":" 给这个文件加上可执行权限。\n最后，你需要配置 Git 来使用这个脚本："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNOA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNOB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNOC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNOD"]],"x":"#","n":"span","l":"!/bin/bash\ndocx2txt.pl $1 -"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNO5"]],"x":"docx2txt","n":"code","l":"；它可以从 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://docx2txt.sourceforge.net"],["aid","CCNO6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://docx2txt.sourceforge.net","n":"a","l":" 下载。\n按照 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNO7"]],"x":"INSTALL","n":"code","l":" 文件的说明，把它放到你的可执行路径下。\n接下来，你还需要写一个脚本把输出结果包装成 Git 支持的格式。\n在你的可执行路径下创建一个叫 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNO8"]],"x":"docx2txt","n":"code","l":" 文件，添加这些内容："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNO2"]],"x":".docx","n":"code","l":" 模式的文件都应该使用“word”过滤器。\n“word”过滤器是什么？\n我们现在就来设置它。\n我们会对 Git 进行配置，令其能够借助 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNO3"]],"x":"docx2txt","n":"code","l":" 程序将 Word 文档转为可读文本文件，这样不同的文件间就能够正确比较了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNNV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNO0"]],"x":"*.docx diff=word","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNNT"]],"x":".gitattributes","n":"code","l":" 文件中："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNNO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNNP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNNQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNNR"]],"x":"$","n":"span","l":" git diff\ndiff --git a/chapter1.docx b/chapter1.docx\nindex 88839c4..4afcb7c 100644\nBinary files a/chapter1.docx and b/chapter1.docx differ"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNNM"]],"x":"git diff","n":"code","l":" 命令后，你只能得到如下的结果："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_识别二进制文件"],["aid","CCNN6"]],"x":"识别二进制文件","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNN7"]],"x":"有些文件表面上是文本文件，实质上应被作为二进制文件处理。\n例如，Mac 平台上的 Xcode 项目会包含一个以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNN9"]],"x":"要让 Git 把所有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNNC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNNF"]],"x":"现在，Git 不会尝试转换或修正回车换行（CRLF）问题，当你在项目中运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNNG"]],"x":"git show","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNNH"]],"x":"git diff","n":"code","l":" 时，Git 也不会比较或打印该文件的变化。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNND"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNNE"]],"x":"*.pbxproj binary","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNNA"]],"x":"pbxproj","n":"code","l":" 文件当成二进制文件，在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNNB"]],"x":".gitattributes","n":"code","l":" 文件中如下设置："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNN8"]],"x":".pbxproj","n":"code","l":" 结尾的文件，它通常是一个记录项目构建配置等信息的 JSON（纯文本 Javascript 数据类型）数据集，由 IDE 写入磁盘。\n虽然技术上看它是由 UTF-8 编码的文本文件，但你并不会希望将它当作文本文件来处理，因为它其实是一个轻量级数据库——如果有两个人修改了它，你通常无法合并内容，diff 的输出也帮不上什么忙。\n它本应被机器处理。\n因此，你想把它当成二进制文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNMV"]],"x":".gitattributes","n":"code","l":" 文件内进行设置（通常是你的项目的根目录）。如果不想让这些属性文件与其它文件一同提交，你也可以在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNN0"]],"x":".git/info/attributes","n":"code","l":" 文件中进行设置。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_服务器端配置"],["aid","CCNLL"]],"x":"服务器端配置","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNLM"]],"x":"Git 服务器端的配置项相对来说并不多，但仍有一些饶有生趣的选项值得你一看。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","receive.fsckObjects"],["aid","CCNLN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","receive.denyNonFastForwards"],["aid","CCNM2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","receive.denyDeletes"],["aid","CCNMF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_receive_denydeletes_code"],["aid","CCNMG"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNMI"]],"x":"有一些方法可以绕过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNML"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNMQ"]],"x":"这样会禁止通过推送删除分支和标签 — 没有用户可以这么做。\n要删除远程分支，必须从服务器手动删除引用文件。\n通过用户访问控制列表（ACL）也能够在用户级的粒度上实现同样的功能，你将在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0072:off:0000000000"],["id","xref-r_an_example_git_enforced_policy"],["aid","CCNMR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"使用强制策略的一个例子","n":"a","l":" 一节学到具体的做法。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNMM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNMN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNMO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNMP"]],"x":"$","n":"span","l":" git config --system receive.denyDeletes true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNMJ"]],"x":"denyNonFastForwards","n":"code","l":" 策略。其中一种是先删除某个分支，再连同新的引用一起推送回该分支。\n把 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNMK"]],"x":"receive.denyDeletes","n":"code","l":" 设置为 true 可以把这个漏洞补上："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNMH"]],"x":"receive.denyDeletes","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_receive_denynonfastforwards_code"],["aid","CCNM3"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNM5"]],"x":"如果你变基已经被推送的提交，继而再推送，又或者推送一个提交到远程分支，而这个远程分支当前指向的提交不在该提交的历史中，这样的推送会被拒绝。\n这通常是个很好的策略，但有时在变基的过程中，你确信自己需要更新远程分支，可以在 push 命令后加 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNM7"]],"x":"要禁用这样的强制更新推送（force-pushes），可以设置 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNM9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNME"]],"x":"稍后我们会提到，用服务器端的接收钩子也能达到同样的目的。\n那种方法可以做到更细致的控制，例如禁止某一类用户做非快进（non-fast-forwards）推送。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNMA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNMB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNMC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNMD"]],"x":"$","n":"span","l":" git config --system receive.denyNonFastForwards true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNM8"]],"x":"receive.denyNonFastForwards","n":"code","l":"："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNM6"]],"x":"-f","n":"code","l":" 标志来强制更新（force-update）。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNM4"]],"x":"receive.denyNonFastForwards","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_receive_fsckobjects_code"],["aid","CCNLO"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNLQ"]],"x":"Git 能够确认每个对象的有效性以及 SHA-1 检验和是否保持一致。\n但 Git 不会在每次推送时都这么做。这个操作很耗时间，很有可能会拖慢提交的过程，特别是当库或推送的文件很大的情况下。\n如果想在每次推送时都要求 Git 检查一致性，设置 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNLS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNM1"]],"x":"现在 Git 会在每次推送生效前检查库的完整性，确保没有被有问题的客户端引入破坏性数据。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNLT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNLU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNLV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNM0"]],"x":"$","n":"span","l":" git config --system receive.fsckObjects true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNLR"]],"x":"receive.fsckObjects","n":"code","l":" 为 true 来强迫它这么做："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNLP"]],"x":"receive.fsckObjects","n":"code"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_格式化与多余的空白字符"],["aid","CCNJF"]],"x":"格式化与多余的空白字符","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNJG"]],"x":"\n格式化与多余的空白字符是许多开发人员在协作时，特别是在跨平台情况下，不时会遇到的令人头疼的琐碎的问题。\n由于编辑器的不同或者文件行尾的换行符在 Windows 下被替换了，一些细微的空格变化会不经意地混入提交的补丁或其它协作成果中。\n不用怕，Git 提供了一些配置项来帮助你解决这些问题。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","core.autocrlf"],["aid","CCNJH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","core.whitespace"],["aid","CCNKC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_core_whitespace_code"],["aid","CCNKD"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNKF"]],"x":"Git 预先设置了一些选项来探测和修正多余空白字符问题。\n它提供了六种处理多余空白字符的主要选项 —— 其中三个默认开启，另外三个默认关闭，不过你可以自由地设置它们。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNKG"]],"x":"默认被打开的三个选项是：","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNKK"]],"x":"默认被关闭的三个选项是：","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNKP"]],"x":"通过设置 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNKT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNL3"]],"x":"当你运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNL6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNLB"]],"x":"或者让 Git 在打上补丁前自动修正此问题：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNLC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNLH"]],"x":"这些选项也能运用于 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNLI"]],"x":"git rebase","n":"code","l":"。\n如果提交了有空白问题的文件，但还没推送到上游，你可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNLJ"]],"x":"git rebase --whitespace=fix","n":"code","l":" 来让 Git 在重写补丁时自动修正它们。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNLD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNLE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNLF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNLG"]],"x":"$","n":"span","l":" git apply --whitespace=fix <patch>"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNL7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNL8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNL9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNLA"]],"x":"$","n":"span","l":" git apply --whitespace=warn <patch>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNL4"]],"x":"git diff","n":"code","l":" 命令并尝试给输出着色时，Git 将探测到这些问题，因此你在提交前就能修复它们。\n用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNL5"]],"x":"git apply","n":"code","l":" 打补丁时你也会从中受益。\n如果正准备应用的补丁存有特定的空白问题，你可以让 Git 在应用补丁时发出警告："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNKU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNKV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNL0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNL1"]],"x":"$","n":"span","l":" git config --global core.whitespace "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCNL2"]],"x":"\\","n":"span","l":"\n    trailing-space,space-before-tab,indent-with-non-tab"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKQ"]],"x":"core.whitespace","n":"code","l":"，你可以让 Git 按照你的意图来打开或关闭以逗号分割的选项。\n要想关闭某个选项，你可以在输入设置选项时不指定它或在它前面加个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKR"]],"x":"-","n":"code","l":"。\n例如，如果你想要打开除 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKS"]],"x":"cr-at-eol","n":"code","l":" 之外的所有选项："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKL"]],"x":"indent-with-non-tab","n":"code","l":"，揪出以空格而非 tab 开头的行（你可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKM"]],"x":"tabwidth","n":"code","l":" 选项控制它）；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKN"]],"x":"tab-in-indent","n":"code","l":"，监视在行头表示缩进的 tab；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKO"]],"x":"cr-at-eol","n":"code","l":"，告诉 Git 忽略行尾的回车。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKH"]],"x":"blank-at-eol","n":"code","l":"，查找行尾的空格；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKI"]],"x":"blank-at-eof","n":"code","l":"，盯住文件底部的空行；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNKJ"]],"x":"space-before-tab","n":"code","l":"，警惕行头 tab 前面的空格。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNKE"]],"x":"core.whitespace","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_core_autocrlf_code"],["aid","CCNJI"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNJK"]],"x":"\n假如你正在 Windows 上写程序，而你的同伴用的是其他系统（或相反），你可能会遇到 CRLF 问题。\n这是因为 Windows 使用回车（CR）和换行（LF）两个字符来结束一行，而 Mac 和 Linux 只使用换行（LF）一个字符。\n虽然这是小问题，但它会极大地扰乱跨平台协作。许多 Windows 上的编辑器会悄悄把行尾的换行字符转换成回车和换行，或在用户按下 Enter 键时，插入回车和换行两个字符。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNJL"]],"x":"Git 可以在你提交时自动地把回车和换行转换成换行，而在检出代码时把换行转换成回车和换行。\n你可以用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNJO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNJT"]],"x":"如果使用以换行作为行结束符的 Linux 或 Mac，你不需要 Git 在检出文件时进行自动的转换；然而当一个以回车加换行作为行结束符的文件不小心被引入时，你肯定想让 Git 修正。\n你可以把 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNJV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNK4"]],"x":"这样在 Windows 上的检出文件中会保留回车和换行，而在 Mac 和 Linux 上，以及版本库中会保留换行。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNK5"]],"x":"如果你是 Windows 程序员，且正在开发仅运行在 Windows 上的项目，可以设置 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNK7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNK8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNK9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNKA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNKB"]],"x":"$","n":"span","l":" git config --global core.autocrlf false"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNK6"]],"x":"false","n":"code","l":" 取消此功能，把回车保留在版本库中："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNK0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNK1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNK2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNK3"]],"x":"$","n":"span","l":" git config --global core.autocrlf input"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNJU"]],"x":"core.autocrlf","n":"code","l":" 设置成 input 来告诉 Git 在提交时把回车和换行转换成换行，检出时不转换："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNJP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNJQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNJR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNJS"]],"x":"$","n":"span","l":" git config --global core.autocrlf true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNJM"]],"x":"core.autocrlf","n":"code","l":" 来打开此项功能。\n如果是在 Windows 系统上，把它设置成 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNJN"]],"x":"true","n":"code","l":"，这样在检出代码时，换行会被转换成回车和换行："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNJJ"]],"x":"core.autocrlf","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNJB"]],"x":"extMerge","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNJC"]],"x":"extDiff","n":"code","l":" 文件，Git 会用 KDiff3 做合并，让内置的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNJD"]],"x":"diff","n":"code","l":" 来做比较。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNJ6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNJ7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNJ8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNJ9"]],"x":"$","n":"span","l":" git config --global merge.tool kdiff3"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNJ0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNJ1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNJ2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNJ3"]],"x":"$","n":"span","l":" git mergetool --tool-help\n'git mergetool --tool=<tool>' may be set to one of the following:\n        emerge\n        gvimdiff\n        gvimdiff2\n        opendiff\n        p4merge\n        vimdiff\n        vimdiff2\n\nThe following tools are valid, but not currently available:\n        araxis\n        bc3\n        codecompare\n        deltawalker\n        diffmerge\n        diffuse\n        ecmerge\n        kdiff3\n        meld\n        tkdiff\n        tortoisemerge\n        xxdiff\n\nSome of the tools listed above only work in a windowed\nenvironment. If run in a terminal-only session, they will fail."},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNIO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNIP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNIQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNIR"]],"x":"$","n":"span","l":" cat /usr/local/bin/extMerge\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNIS"]],"x":"#","n":"span","l":"!/bin/sh\n/Applications/kdiff3.app/Contents/MacOS/kdiff3 $*"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNIK"]],"x":"extDiff","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNIL"]],"x":"extMerge","n":"code","l":" 的工具改成 KDiff3，你要做的仅仅是编辑 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNIM"]],"x":"extMerge","n":"code","l":" 脚本文件："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNII"]],"x":"git mergetool","n":"code","l":"，Git 会调用 P4Merge 让你通过图形界面来解决冲突。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","CCNIF"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","CCNIG"]],"x":"Figure 1. P4Merge.","n":"figcaption","l":"\n"},{"a":[["alt","P4Merge."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001E?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNI9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNIA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNIB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNIC"]],"x":"$","n":"span","l":" git diff 32d1776b1^ 32d1776b1"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNHT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNHU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNHV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNI0"]],"x":"[merge]","n":"span","l":"\n  tool = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNI1"]],"x":"extMerge","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNI2"]],"x":"[mergetool \"extMerge\"]","n":"span","l":"\n  cmd = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNI3"]],"x":"extMerge \"$BASE\" \"$LOCAL\" \"$REMOTE\" \"$MERGED\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNI4"]],"x":"  trustExitCode = false","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNI5"]],"x":"[diff]","n":"span","l":"\n  external = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNI6"]],"x":"extDiff","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNHR"]],"x":"~/.gitconfig","n":"code","l":" 文件，添加以下各行："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNHH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNHI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNHJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNHK"]],"x":"$","n":"span","l":" git config --global merge.tool extMerge\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNHL"]],"x":"$","n":"span","l":" git config --global mergetool.extMerge.cmd "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","CCNHM"]],"x":"\\","n":"span","l":"\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNHN"]],"x":"'extMerge \\\"$BASE\\\" \\\"$LOCAL\\\" \\\"$REMOTE\\\" \\\"$MERGED\\\"'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNHO"]],"x":"$","n":"span","l":" git config --global mergetool.extMerge.trustExitCode false\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNHP"]],"x":"$","n":"span","l":" git config --global diff.external extDiff"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNHC"]],"x":"merge.tool","n":"code","l":" 通知 Git 该使用哪个合并工具， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNHD"]],"x":"mergetool.<tool>.cmd","n":"code","l":" 规定命令运行的方式，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNHE"]],"x":"mergetool.<tool>.trustExitCode","n":"code","l":" 会通知 Git 程序的返回值是否表示合并操作成功，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNHF"]],"x":"diff.external","n":"code","l":" 通知 Git 该用什么命令做比较。\n因此，你可以运行以下四条配置命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNH6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNH7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNH8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNH9"]],"x":"$","n":"span","l":" sudo chmod +x /usr/local/bin/extMerge\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNHA"]],"x":"$","n":"span","l":" sudo chmod +x /usr/local/bin/extDiff"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNGV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNH0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNH1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNH2"]],"x":"$","n":"span","l":" cat /usr/local/bin/extDiff\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNH3"]],"x":"#","n":"span","l":"!/bin/sh\n[ $# -eq 7 ] && /usr/local/bin/extMerge \"$2\" \"$5\""},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNGS"]],"x":"old-file","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNGT"]],"x":"new-file","n":"code","l":" 参数，由包装 diff 的脚本来转发它们吧。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNGP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNGQ"]],"x":"path old-file old-hex old-mode new-file new-hex new-mode","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNGN"]],"x":"diff","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNGH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNGI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNGJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNGK"]],"x":"$","n":"span","l":" cat /usr/local/bin/extMerge\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNGL"]],"x":"#","n":"span","l":"!/bin/sh\n/Applications/p4merge.app/Contents/MacOS/p4merge $*"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.perforce.com/downloads/Perforce/"],["aid","CCNGD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.perforce.com/downloads/Perforce/","n":"a","l":" 下载 P4Merge。\n接下来，你要编写一个全局包装脚本来运行你的命令。\n我们会使用 Mac 上的路径来指定该脚本的位置，在其他系统上，它将是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNGE"]],"x":"p4merge","n":"code","l":" 二进制文件所在的目录。\n创建一个名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNGF"]],"x":"extMerge","n":"code","l":" 的脚本包装 merge 命令，让它把参数转发给 p4merge 二进制文件："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNGB"]],"x":"/usr/local/bin","n":"code","l":" 需要被改为你的环境中可执行文件所在的目录路径。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNG9"]],"x":"diff","n":"code","l":" 实现，而且到目前为止我们一直在使用它，但你能够用一个外部的工具替代它。\n除此以外，你还能设置一个图形化的工具来合并和解决冲突，从而不必自己手动解决。\n这里我们以一个不错且免费的工具 —— Perforce 图形化合并工具（P4Merge） —— 来展示如何用一个外部的工具来合并和解决冲突。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_中的着色"],["aid","CCNES"]],"x":"Git 中的着色","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNET"]],"x":"\nGit 充分支持对终端内容着色，对你凭肉眼简单、快速分析命令输出有很大帮助。\n你可以设置许多的相关选项来满足自己的偏好。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","color.ui"],["aid","CCNEU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","color.*"],["aid","CCNFC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_color_code"],["aid","CCNFD"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNFF"]],"x":"要想具体到哪些命令输出需要被着色以及怎样着色，你需要用到和具体命令有关的颜色配置选项。\n它们都能被置为 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre screen"],["aid","CCNFJ"]],"x":"color.branch\ncolor.diff\ncolor.interactive\ncolor.status","n":"pre","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNFK"]],"x":"另外，以上每个配置项都有子选项，它们可以被用来覆盖其父设置，以达到为输出的各个部分着色的目的。\n例如，为了让 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre screen"],["aid","CCNFM"]],"x":"$ git config --global color.diff.meta \"blue black bold\"","n":"pre","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNFN"]],"x":"你能设置的颜色有：","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFO"]],"x":"normal","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFP"]],"x":"black","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFQ"]],"x":"red","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFR"]],"x":"green","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFS"]],"x":"yellow","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFT"]],"x":"blue","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFU"]],"x":"magenta","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFV"]],"x":"cyan","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNG0"]],"x":"white","n":"code","l":"。\n正如以上例子设置的粗体属性，想要设置字体属性的话，可以选择包括："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNG1"]],"x":"bold","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNG2"]],"x":"dim","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNG3"]],"x":"ul","n":"code","l":"（下划线）、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNG4"]],"x":"blink","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNG5"]],"x":"reverse","n":"code","l":"（交换前景色和背景色）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFL"]],"x":"diff","n":"code","l":" 的输出信息以蓝色前景、黑色背景和粗体显示，你可以运行"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFG"]],"x":"true","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFH"]],"x":"false","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFI"]],"x":"always","n":"code","l":"："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNFE"]],"x":"color.*","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_color_ui_code"],["aid","CCNEV"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNF1"]],"x":"Git 会自动着色大部分输出内容，但如果你不喜欢花花绿绿，也可以关掉。\n要想关掉 Git 的终端颜色输出，试一下这个：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNF2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNF7"]],"x":"这个设置的默认值是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNF9"]],"x":"你也可以设置成 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFA"]],"x":"always","n":"code","l":"，来忽略掉管道和终端的不同，即在任何情况下着色输出。\n你很少会这么设置，在大多数场合下，如果你想在被重定向的输出中插入颜色码，可以传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNFB"]],"x":"--color","n":"code","l":" 标志给 Git 命令来强制它这么做。\n默认设置就已经能满足大多数情况下的需求了。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNF8"]],"x":"auto","n":"code","l":"，它会着色直接输出到终端的内容；而当内容被重定向到一个管道或文件时，则忽略着色功能。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNF3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNF4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNF5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNF6"]],"x":"$","n":"span","l":" git config --global color.ui false"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNF0"]],"x":"color.ui","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_help_autocorrect_code"],["aid","CCNEA"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNEC"]],"x":"\n假如你打错了一条命令，会显示：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNED"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNEI"]],"x":"Git 会尝试猜测你的意图，但是它不会越俎代庖。\n如果你把 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNEK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNEP"]],"x":"注意提示信息中的“0.1 秒”。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNEQ"]],"x":"help.autocorrect","n":"code","l":" 接受一个代表十分之一秒的整数。\n所以如果你把它设置为 50, Git 将在自动执行命令前给你 5 秒的时间改变主意。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNEL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNEM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNEN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNEO"]],"x":"$","n":"span","l":" git chekcout master\n警告：您运行一个不存在的 Git 命令 'chekcout'。继续执行假定您要要运行的\n是 'checkout'\n在 0.1 秒钟后自动运行..."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNEJ"]],"x":"help.autocorrect","n":"code","l":" 设置成 1，那么只要有一个命令被模糊匹配到了，Git 会自动运行该命令。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNEE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNEF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNEG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNEH"]],"x":"$","n":"span","l":" git chekcout master\ngit：'chekcout' 不是一个 git 命令。参见 'git --help'。\n\n您指的是这个么？\n  checkout"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNEB"]],"x":"help.autocorrect","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_core_excludesfile_code"],["aid","CCNDO"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNDQ"]],"x":"\n正如 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNDU"]],"x":"不过有些时候，你想要在你所有的版本库中忽略掉某一类文件。\n如果你的操作系统是 OS X，很可能就是指 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNE1"]],"x":"这个配置允许你设置类似于全局生效的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNE4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNE7"]],"x":"……然后运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNE8"]],"x":"git config --global core.excludesfile ~/.gitignore_global","n":"code","l":"，Git 将把那些文件永远地拒之门外。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNE5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNE6"]],"x":"*~\n.DS_Store","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNE2"]],"x":".gitignore","n":"code","l":" 文件。\n如果你按照下面的内容创建一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNE3"]],"x":"~/.gitignore_global","n":"code","l":" 文件："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNDV"]],"x":".DS_Store","n":"code","l":"。\n如果你把 Emacs 或 Vim 作为首选的编辑器，你肯定知道以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNE0"]],"x":"~","n":"code","l":" 结尾的临时文件。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000J:off:000000002E"],["id","xref--ch02-git-basics--r_ignoring"],["aid","CCNDR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"忽略文件","n":"a","l":" 所述，你可以在你的项目的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNDS"]],"x":".gitignore","n":"code","l":" 文件里面规定无需纳入 Git 管理的文件的模板，这样它们既不会出现在未跟踪列表，也不会在你运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNDT"]],"x":"git add","n":"code","l":" 后被暂存。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNDP"]],"x":"core.excludesfile","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_user_signingkey_code"],["aid","CCND7"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCND9"]],"x":"\n如果你要创建经签署的含附注的标签（正如 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNDB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNDG"]],"x":"现在，你每次运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNDI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNDJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNDK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNDL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNDM"]],"x":"$","n":"span","l":" git tag -s <tag-name>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNDH"]],"x":"git tag","n":"code","l":" 命令时，即可直接签署标签，而无需定义密钥："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNDC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNDD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNDE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNDF"]],"x":"$","n":"span","l":" git config --global user.signingkey <gpg-key-id>"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004L:off:0000000000"],["id","xref--ch07-git-tools--r_signing"],["aid","CCNDA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"签署工作","n":"a","l":" 所述），那么把你的 GPG 签署密钥设置为配置项会更好。\n如下设置你的密钥 ID："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCND8"]],"x":"user.signingkey","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_core_pager_code"],["aid","CCNCO"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNCQ"]],"x":"\n该配置项指定 Git 运行诸如 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNCV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCND5"]],"x":"这样不管命令的输出量多少，Git 都会在一页显示所有内容。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCND0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCND1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCND2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCND3"]],"x":"$","n":"span","l":" git config --global core.pager "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCND4"]],"x":"''","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNCR"]],"x":"log","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNCS"]],"x":"diff","n":"code","l":" 等命令所使用的分页器。\n你可以把它设置成用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNCT"]],"x":"more","n":"code","l":" 或者任何你喜欢的分页器（默认用的是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNCU"]],"x":"less","n":"code","l":"），当然也可以设置成空字符串，关闭该选项："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNCP"]],"x":"core.pager","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_commit_template_code"],["aid","CCNC2"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNC4"]],"x":"\n如果把此项指定为你的系统上某个文件的路径，当你提交的时候， Git 会使用该文件的内容作为提交的默认信息。\n例如：假设你创建了一个叫 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNC6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNC9"]],"x":"要想让 Git 把它作为运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNCC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNCI"]],"x":"然后当你提交时，编辑器中就会显示如下的提交信息占位符：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNCJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNCM"]],"x":"如果你的团队对提交信息有格式要求，可以在系统上创建一个文件，并配置 Git 把它作为默认的模板，这样可以更加容易地使提交信息遵循格式。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNCK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNCL"]],"x":"subject line\n\nwhat happened\n\n[ticket: X]\n# Please enter the commit message for your changes. Lines starting\n# with '#' will be ignored, and an empty message aborts the commit.\n# On branch master\n# Changes to be committed:\n#   (use \"git reset HEAD <file>...\" to unstage)\n#\n# modified:   lib/test.rb\n#\n~\n~\n\".git/COMMIT_EDITMSG\" 14L, 297C","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNCD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNCE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNCF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNCG"]],"x":"$","n":"span","l":" git config --global commit.template ~/.gitmessage.txt\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNCH"]],"x":"$","n":"span","l":" git commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNCA"]],"x":"git commit","n":"code","l":" 时显示在你的编辑器中的默认信息， 如下设置 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNCB"]],"x":"commit.template","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNC7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNC8"]],"x":"subject line\n\nwhat happened\n\n[ticket: X]","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNC5"]],"x":"~/.gitmessage.txt","n":"code","l":" 的模板文件，类似这样："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNC3"]],"x":"commit.template","n":"code"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_code_class_literal_core_editor_code"],["aid","CCNBK"]],"n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNBM"]],"x":"\n默认情况下，Git 会调用环境变量（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","CCNBR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNC0"]],"x":"现在，无论你定义了什么终端编辑器，Git 都会调用 Emacs 编辑信息。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNBS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNBT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNBU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNBV"]],"x":"$","n":"span","l":" git config --global core.editor emacs"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNBN"]],"x":"$VISUAL","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNBO"]],"x":"$EDITOR","n":"code","l":"）设置的任意文本编辑器，如果没有设置，会调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNBP"]],"x":"vi","n":"code","l":" 来创建和编辑你的提交以及标签信息。\n你可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNBQ"]],"x":"core.editor","n":"code","l":" 选项来修改默认的编辑器："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","CCNBL"]],"x":"core.editor","n":"code"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://git-scm.com/docs/git-config.html"],["aid","CCNBI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://git-scm.com/docs/git-config.html","n":"a","l":" 找到同样的内容。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNBD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNBE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNBF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNBG"]],"x":"$","n":"span","l":" man git-config"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","CCNBB"]],"x":"繁多","n":"em","l":"，但其中大部分仅仅在某些罕见的情况下有意义。\n我们只讲述最平常和最有用的选项。\n如果想得到你当前版本的 Git 支持的选项列表，请运行"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","CCNB5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","CCNB6"]],"x":"Git 的配置文件是纯文本的，所以你可以直接手动编辑这些配置文件，输入合乎语法的值。\n但是运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNB7"]],"x":"git config","n":"code","l":" 命令会更简单些。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNB2"]],"x":".git/config","n":"code","l":" 中的值会覆盖掉 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNB3"]],"x":"/etc/gitconfig","n":"code","l":" 中所对应的值。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNB0"]],"x":".git/config","n":"code","l":"）。\n这个文件中的值只对该版本库有效。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNAS"]],"x":"~/.gitconfig","n":"code","l":" 文件（或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNAT"]],"x":"~/.config/git/config","n":"code","l":" 文件）。\n你可以传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNAU"]],"x":"--global","n":"code","l":" 选项让 Git 读写该文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNAO"]],"x":"/etc/gitconfig","n":"code","l":" 文件，该文件含有系统里每位用户及他们所拥有的仓库的配置值。\n如果你传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNAP"]],"x":"--system","n":"code","l":" 选项给 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNAQ"]],"x":"git config","n":"code","l":"，它就会读写该文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","CCNAG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","CCNAH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","CCNAI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNAJ"]],"x":"$","n":"span","l":" git config --global user.name "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","CCNAK"]],"x":"\"John Doe\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","CCNAL"]],"x":"$","n":"span","l":" git config --global user.email johndoe@example.com"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0006:off:0000000000"],["id","xref--ch01-introduction"],["aid","CCNAD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"起步","n":"a","l":" 中看到，可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","CCNAE"]],"x":"git config","n":"code","l":" 配置 Git。\n首先要做的事情就是设置你的名字和邮件地址："},{"a":[["class","pcalibre6 pcalibre pcalibre1 calibre5"],["aid","CCNA9"]],"x":"到目前为止，我们已经阐述了 Git 基本的运作机制和使用方式，介绍了许多 Git 提供的工具来帮助你简单且有效地使用它。\n在本章，我们将演示如何借助 Git 的一些重要的配置方法和钩子机制，来满足自定义的需求。\n通过这些工具，它会和你、你的公司或你的团队配合得天衣无缝。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","CCNA3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","CCNA4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","CCNA5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","CCNA6"]],"x":"自定义","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","CCNA7"]],"x":"Git","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","配置 Git"],["aid","CCNAA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 属性"],["aid","CCNMS"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 钩子"],["aid","CCNUU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使用强制策略的一个例子"],["aid","CCO1T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","服务器端钩子"],["aid","CCO21"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","客户端钩子"],["aid","CCO9O"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","指定基于用户的访问权限控制列表（ACL）系统"],["aid","CCO50"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","客户端钩子"],["aid","CCNVA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","二进制文件"],["aid","CCNN2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","关键字展开"],["aid","CCNPF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","比较二进制文件"],["aid","CCNNI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","客户端基本配置"],["aid","CCNB8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","外部的合并与比较工具"],["aid","CCNG6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结_2"],["aid","BE9K3"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9K4"]],"x":"你已经接触了很多能够精确地操控提交和暂存区的高级工具。\n当你碰到问题时，你应该可以很容易找出是哪个分支在什么时候由谁引入了它们。\n如果你想在项目中使用子项目，你也已经知道如何来满足这些需求。\n到此，你应该能毫无压力地在命令行中使用 Git 来完成日常中的大部分事情。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9JT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9JU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9JV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9K0"]],"x":"$","n":"span","l":" git config --global credential.helper read-only --file /mnt/shared/creds"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9JN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9JO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9JP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9JQ"]],"x":"$","n":"span","l":" git credential-read-only --file=/mnt/shared/creds get\nprotocol=https\nhost=mygithost\n\nprotocol=https\nhost=mygithost\nusername=bob\npassword=s3cre7"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9JK"]],"x":"git-credential-read-only","n":"code","l":"，放到我们的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9JL"]],"x":"PATH","n":"code","l":" 路径下并且给予执行权限。\n一个交互式会话类似："},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","BE9J6"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9J7"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9JA"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9JD"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9JG"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","4"],["aid","BE9JH"]],"x":"④","n":"i","l":" 这个循环读取存储文件中的内容，寻找匹配的行。\n如果 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9JI"]],"x":"known","n":"code","l":" 中的协议和主机名与该行相匹配，这个程序输出结果并退出。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","BE9JE"]],"x":"③","n":"i","l":" 这个循环从标准输入读取数据，直到读取到第一个空行。\n输入的数据被保存到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9JF"]],"x":"known","n":"code","l":" 哈希表中，之后需要用到。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","BE9JB"]],"x":"②","n":"i","l":" 这个程序只有在接受到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9JC"]],"x":"get","n":"code","l":" 行为的请求并且后端存储的文件存在时才会有输出。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","BE9J8"]],"x":"①","n":"i","l":" 我们在这里解析命令行参数，允许用户指定输入文件，默认是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9J9"]],"x":"~/.git-credentials","n":"code","l":"."},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9HH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9HI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9HJ"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9HK"]],"x":"#!/usr/bin/env ruby","n":"span","l":"\n\nrequire "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9HL"]],"x":"'optparse'","n":"span","l":"\n\npath = File.expand_path "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9HM"]],"x":"'~/.git-credentials'","n":"span","l":" "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","BE9HN"]],"x":"①","n":"i","l":"\nOptionParser.new "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9HO"]],"x":"do","n":"span","l":" |opts|\n    opts.banner = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9HP"]],"x":"'USAGE: git-credential-read-only [options] <action>'","n":"span","l":"\n    opts.on("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9HQ"]],"x":"'-f'","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9HR"]],"x":"'--file PATH'","n":"span","l":", "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9HS"]],"x":"'Specify path for backing store'","n":"span","l":") "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9HT"]],"x":"do","n":"span","l":" |argpath|\n        path = File.expand_path argpath\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9HU"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9HV"]],"x":"end","n":"span","l":".parse!\n\nexit(0) "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9I0"]],"x":"unless","n":"span","l":" ARGV[0].downcase == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9I1"]],"x":"'get'","n":"span","l":" "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","BE9I2"]],"x":"②","n":"i","l":"\nexit(0) "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9I3"]],"x":"unless","n":"span","l":" File.exists? path\n\nknown = {} "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","BE9I4"]],"x":"③","n":"i","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9I5"]],"x":"while","n":"span","l":" line = STDIN.gets\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9I6"]],"x":"break","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9I7"]],"x":"if","n":"span","l":" line.strip == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9I8"]],"x":"''","n":"span","l":"\n    k,v = line.strip.split "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9I9"]],"x":"'='","n":"span","l":", 2\n    known[k] = v\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9IA"]],"x":"end","n":"span","l":"\n\nFile.readlines(path).each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9IB"]],"x":"do","n":"span","l":" |fileline| "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","4"],["aid","BE9IC"]],"x":"④","n":"i","l":"\n    prot,user,pass,host = fileline.scan("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9ID"]],"x":"/^(.*?):\\/\\/(.*?):(.*?)@(.*)$/","n":"span","l":").first\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9IE"]],"x":"if","n":"span","l":" prot == known["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IF"]],"x":"'protocol'","n":"span","l":"] "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9IG"]],"x":"and","n":"span","l":" host == known["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IH"]],"x":"'host'","n":"span","l":"] "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9II"]],"x":"then","n":"span","l":"\n        puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IJ"]],"x":"\"protocol=","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9IK"]],"x":"#{","n":"span","l":"prot"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9IL"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IM"]],"x":"\"","n":"span","l":"\n        puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IN"]],"x":"\"host=","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9IO"]],"x":"#{","n":"span","l":"host"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9IP"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IQ"]],"x":"\"","n":"span","l":"\n        puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IR"]],"x":"\"username=","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9IS"]],"x":"#{","n":"span","l":"user"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9IT"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IU"]],"x":"\"","n":"span","l":"\n        puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9IV"]],"x":"\"password=","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9J0"]],"x":"#{","n":"span","l":"pass"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE9J1"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9J2"]],"x":"\"","n":"span","l":"\n        exit(0)\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9J3"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9J4"]],"x":"end","n":"span"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","BE9H4"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE9H5"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE9HA"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE9HD"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9HE"]],"x":"凭证文件的路径一般是固定的，但我们应该允许用户传入一个自定义路径以防万一。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9HB"]],"x":"共享的凭证文件格式和 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9HC"]],"x":"git-credential-store","n":"code","l":" 使用的格式相同。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9H6"]],"x":"我们唯一需要关注的行为是 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9H7"]],"x":"get","n":"code","l":"；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9H8"]],"x":"store","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9H9"]],"x":"erase","n":"code","l":" 是写操作，所以当接受到这两个请求时我们直接退出即可。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9H1"]],"x":"git-credential-store","n":"code","l":" 之类的是和 Git 是相互独立的程序，就不难理解 Git 凭证辅助工具可以是 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE9H2"]],"x":"任意","n":"em","l":" 程序。\n虽然 Git 提供的辅助工具覆盖了大多数常见的使用场景，但并不能满足所有情况。\n比如，假设你的整个团队共享一些凭证，也许是在部署时使用。\n这些凭证是保存在一个共享目录里，由于这些凭证经常变更，所以你不想把它们复制到你自己的凭证仓库中。\n现有的辅助工具无法满足这种情况；来看看我们如何自己实现一个。\n这个程序应该拥有几个核心功能："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GR"]],"x":"osxkeychain","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GS"]],"x":"winstore","n":"code","l":" 辅助工具使用它们后端存储的原生格式，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GT"]],"x":"cache","n":"code","l":" 使用它的内存格式（其他进程无法读取）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9GO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9GP"]],"x":"https://bob:s3cre7@mygithost","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GM"]],"x":"~/git.store","n":"code","l":" 文件的内容类似："},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","BE9GA"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9GB"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9GF"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9GI"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","BE9GJ"]],"x":"③","n":"i","l":" "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GK"]],"x":"git-credential-store","n":"code","l":" 输出我们之前保存的用户名和密码。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","BE9GG"]],"x":"②","n":"i","l":" 现在我们取出这个凭证。\n我们提供连接这部分的信息（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GH"]],"x":"https://mygithost","n":"code","l":"）以及一个空行。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","BE9GC"]],"x":"①","n":"i","l":" 我们告诉 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GD"]],"x":"git-credential-store","n":"code","l":" 去保存凭证：当访问 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9GE"]],"x":"https://mygithost","n":"code","l":" 时使用用户名 “bob”，密码是 “s3cre7”。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9G1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9G2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9G3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9G4"]],"x":"$","n":"span","l":" git credential-store --file ~/git.store store "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","BE9G5"]],"x":"①","n":"i","l":"\nprotocol=https\nhost=mygithost\nusername=bob\npassword=s3cre7\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9G6"]],"x":"$","n":"span","l":" git credential-store --file ~/git.store get "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","BE9G7"]],"x":"②","n":"i","l":"\nprotocol=https\nhost=mygithost\n\nusername=bob "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","BE9G8"]],"x":"③","n":"i","l":"\npassword=s3cre7"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FR"]],"x":"store","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FS"]],"x":"erase","n":"code","l":" 两个行为是不需要返回数据的（Git 也会忽略掉）。\n然而对于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FT"]],"x":"get","n":"code","l":"，Git 对辅助工具的返回信息十分感兴趣。"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","BE9FG"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9FH"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9FK"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9FN"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9FO"]],"n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FP"]],"x":"erase","n":"code","l":" 会将给定的证书从辅助工具内存中清除。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9FL"]],"n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FM"]],"x":"store","n":"code","l":" 是请求保存一个凭证到辅助工具的内存。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9FI"]],"n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FJ"]],"x":"get","n":"code","l":" 是请求输入一对用户名和密码。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FD"]],"x":"git-credential-cache","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9FE"]],"x":"git-credential-store","n":"code","l":" 之类，我们可以配置它们来接受命令行参数。\n通常的格式是 “git-credential-foo [args] <action>.”\n标准输入/输出协议和 git-credential 一样，但它们使用的是一套稍微不太一样的行为："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9FB"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","pcalibre1 table pcalibre"]],"x":"\n","n":"table","l":"\n"},{"a":[["class","pcalibre1 calibre20 pcalibre"]],"x":"\n","n":"colgroup","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre22"]],"x":"\n","n":"thead","l":"\n"},{"a":[["class","calibre25 pcalibre1 pcalibre"]],"x":"\n","n":"tbody","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"!","n":"code","l":" 后面的代码会在shell执行"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"!f() { echo \"password=s3cre7\"; }; f","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"执行 ","n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"/absolute/path/foo -xyz","n":"code"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"/absolute/path/foo -xyz","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"执行 ","n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"git-credential-foo -a --opt=bcd","n":"code"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"foo -a --opt=bcd","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"执行 ","n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"git-credential-foo","n":"code"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"foo","n":"code"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"配置值","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"行为","n":"th","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9F9"]],"x":"credential.helper","n":"code","l":" 配置的值有关。\n这个配置有多种格式："},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","BE9ET"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9EU"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9F0"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9F2"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9F4"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE9F6"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","5"],["aid","BE9F7"]],"x":"⑤","n":"i","l":" 如果没有找到对应的凭证，Git 会询问用户的用户名和密码，我们将这些信息输入到在标准输出的地方（这个例子中是同一个控制台）。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","4"],["aid","BE9F5"]],"x":"④","n":"i","l":" 接下来由 Git-credential 接管，并且将找到的信息打印到标准输出。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","BE9F3"]],"x":"③","n":"i","l":" 一个空行代表输入已经完成，凭证系统应该输出它所知道的信息。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","BE9F1"]],"x":"②","n":"i","l":" Git-credential 接下来会等待标准输入。\n我们提供我们所知道的信息：协议和主机名。"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","BE9EV"]],"x":"①","n":"i","l":" 这是开始交互的命令。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9EI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9EJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9EK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9EL"]],"x":"$","n":"span","l":" git credential fill "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","BE9EM"]],"x":"①","n":"i","l":"\nprotocol=https "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","BE9EN"]],"x":"②","n":"i","l":"\nhost=mygithost\n "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","BE9EO"]],"x":"③","n":"i","l":"\nprotocol=https "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","4"],["aid","BE9EP"]],"x":"④","n":"i","l":"\nhost=mygithost\nusername=bob\npassword=s3cre7\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9EQ"]],"x":"$","n":"span","l":" git credential fill "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","5"],["aid","BE9ER"]],"x":"⑤","n":"i","l":"\nprotocol=https\nhost=unknownhost\n\nUsername for 'https://unknownhost': bob\nPassword for 'https://bob@unknownhost':\nprotocol=https\nhost=unknownhost\nusername=bob\npassword=s3cre7"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9EG"]],"x":"mygithost","n":"code","l":" 的凭证信息。\n下面是一个使用 “fill” 命令的会话，当 Git 尝试寻找一个服务器的凭证时就会被调用。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9EE"]],"x":"git credential","n":"code","l":"，这个命令接收一个参数，并通过标准输入获取更多的参数。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9E5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9E6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9E7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9E8"]],"x":"[credential]","n":"span","l":"\n    helper = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9E9"]],"x":"store --file /mnt/thumbdrive/.git-credentials","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9EA"]],"x":"    helper = cache --timeout 30000","n":"span"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE9E2"]],"x":"所有","n":"strong","l":" 配置列表中的辅助工具，它们会按自己的方式处理用户名和密码。\n如果你在闪存上有一个凭证文件，但又希望在该闪存被拔出的情况下使用内存缓存来保存用户名密码，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9E3"]],"x":".gitconfig","n":"code","l":" 配置文件如下："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9DT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9DU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9DV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9E0"]],"x":"$","n":"span","l":" git config --global credential.helper store --file ~/.my-credentials"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9DQ"]],"x":"--file <path>","n":"code","l":" 参数，可以自定义存放密码的文件路径（默认是`~/.git-credentials`）。\n“cache” 模式有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9DR"]],"x":"--timeout <seconds>","n":"code","l":" 参数，可以设置后台进程的存活时间（默认是 “900”，也就是 15 分钟）。\n下面是一个配置 “store” 模式自定义路径的例子："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9DL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9DM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9DN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9DO"]],"x":"$","n":"span","l":" git config --global credential.helper cache"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","BE9D7"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9D8"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9DA"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9DC"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9DE"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","BE9DG"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9DH"]],"x":"如果你使用的是 Windows，你可以安装一个叫做 “winstore” 的辅助工具。\n这和上面说的 “osxkeychain” 十分类似，但是是使用 Windows Credential Store 来控制敏感信息。\n可以在 ","n":"span","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://gitcredentialstore.codeplex.com"],["aid","BE9DI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://gitcredentialstore.codeplex.com","n":"a","l":" 下载。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9DF"]],"x":"如果你使用的是 Mac，Git 还有一种 “osxkeychain” 模式，它会将凭证缓存到你系统用户的钥匙串中。\n这种方式将凭证存放在磁盘中，并且永不过期，但是是被加密的，这种加密方式与存放 HTTPS 凭证以及 Safari 的自动填写是相同的。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9DD"]],"x":"“store” 模式会将凭证用明文的形式存放在磁盘中，并且永不过期。\n这意味着除非你修改了你在 Git 服务器上的密码，否则你永远不需要再次输入你的凭证信息。\n这种方式的缺点是你的密码是用明文的方式存放在你的 home 目录下。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9DB"]],"x":"“cache” 模式会将凭证存放在内存中一段时间。\n密码永远不会被存储在磁盘中，并且在15分钟后从内存中清除。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE9D9"]],"x":"默认所有都不缓存。\n每一次连接都会询问你的用户名和密码。","n":"span","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9CS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9CT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9CU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9CV"]],"x":"$","n":"span","l":" git "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9D0"]],"x":"for","n":"span","l":"-each-ref\ne146b5f14e79d4935160c0e83fb9ebe526b8da0d commit\trefs/heads/master\nc6e1e95051d41771a649f3145423f8809d1a74d4 commit\trefs/remotes/history/master\ne146b5f14e79d4935160c0e83fb9ebe526b8da0d commit\trefs/remotes/origin/HEAD\ne146b5f14e79d4935160c0e83fb9ebe526b8da0d commit\trefs/remotes/origin/master\nc6e1e95051d41771a649f3145423f8809d1a74d4 commit\trefs/replace/81a708dd0e167a3f691541c7a6463343bc457040"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9CN"]],"x":"81a708d","n":"code","l":" 真正的父提交是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9CO"]],"x":"622e882","n":"code","l":" 占位提交，而非呈现的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9CP"]],"x":"9c68fdce","n":"code","l":" 提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9CI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9CJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9CK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9CL"]],"x":"$","n":"span","l":" git cat-file -p 81a708d\ntree 7bc544cf438903b65ca9104a1e30345eee6c083d\nparent 9c68fdceee073230f19ebb8b5e7fc71b479c0252\nauthor Scott Chacon <schacon@gmail.com> 1268712581 -0700\ncommitter Scott Chacon <schacon@gmail.com> 1268712581 -0700\n\nfourth commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9CE"]],"x":"c6e1e95","n":"code","l":" 提交数据来进行替换，它的 SHA-1 仍显示为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9CF"]],"x":"81a708d","n":"code","l":"。\n即使你运行了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9CG"]],"x":"cat-file","n":"code","l":" 命令，它仍会显示你替换的数据："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9CC"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","replace5"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002B?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9C9"]],"x":"bisect","n":"code","l":"，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9CA"]],"x":"blame","n":"code","l":" 等）也都奏效。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9C4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9C5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9C6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9C7"]],"x":"$","n":"span","l":" git log --oneline master\ne146b5f fifth commit\n81a708d fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9C2"]],"x":"master","n":"code","l":" 分支中的历史信息，显示如下："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9BT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9BU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9BV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9C0"]],"x":"$","n":"span","l":" git replace 81a708d c6e1e95"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9BQ"]],"x":"git replace","n":"code","l":" 命令加上你想替换的提交信息来进行替换。\n这样一来，我们就可以将 master 分支中的第四个提交替换为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9BR"]],"x":"project-history/master","n":"code","l":" 分支中的“第四个”提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9BK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9BL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9BM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9BN"]],"x":"$","n":"span","l":" git log --oneline master\ne146b5f fifth commit\n81a708d fourth commit\n622e88e get history from blah blah blah\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9BO"]],"x":"$","n":"span","l":" git log --oneline project-history/master\nc6e1e95 fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9BH"]],"x":"master","n":"code","l":" 分支中拥有他们最近的提交并且在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9BI"]],"x":"project-history/master","n":"code","l":" 分支中拥有过去的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9B8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9B9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9BA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9BB"]],"x":"$","n":"span","l":" git clone https://github.com/schacon/project\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9BC"]],"x":"$","n":"span","l":" cd project\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9BD"]],"x":"$","n":"span","l":" git log --oneline master\ne146b5f fifth commit\n81a708d fourth commit\n622e88e get history from blah blah blah\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9BE"]],"x":"$","n":"span","l":" git remote add project-history https://github.com/schacon/project-history\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9BF"]],"x":"$","n":"span","l":" git fetch project-history\nFrom https://github.com/schacon/project-history\n * [new branch]      master     -> project-history/master"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9B4"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","replace4"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002M?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9AV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9B0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9B1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9B2"]],"x":"$","n":"span","l":" git rebase --onto 622e88 9c68fdc\nFirst, rewinding head to replay your work on top of it...\nApplying: fourth commit\nApplying: fifth commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9AQ"]],"x":"git rebase --onto","n":"code","l":" 命令来将剩余的历史变基到基础提交之上。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9AR"]],"x":"--onto","n":"code","l":" 参数是刚才 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9AS"]],"x":"commit-tree","n":"code","l":" 命令返回的 SHA 值，变基点会成为第三个提交（我们想留下的第一个提交的父提交，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9AT"]],"x":"9c68fdc","n":"code","l":"）："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE9AO"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","replace3"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0041?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","BE9AI"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE9AJ"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9AK"]],"x":"commit-tree","n":"code","l":" 命令属于底层指令。有许多指令并非直接使用，而是被 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE9AL"]],"x":"其他的","n":"strong","l":" Git 命令用来做更小一些的工作。有时当我们做一些像这样的奇怪事情时，它们允许我们做一些不适用于日常使用但真正底层的东西。更多关于底层命令的内容请参见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:000000020F"],["id","xref--ch10-git-internals--r_plumbing_porcelain"],["aid","BE9AM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"底层命令和高层命令","n":"a"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9AC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9AD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9AE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9AF"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE9AG"]],"x":"'get history from blah blah blah'","n":"span","l":" | git commit-tree 9c68fdc^{tree}\n622e88e9cbfbacfb75b5279245b9fb38dfea10cf"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9A9"]],"x":"9c68fdc","n":"code","l":"）。因此我们的提交将基于此提交树。我们可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE9AA"]],"x":"commit-tree","n":"code","l":" 命令来创建基础提交，这样我们就有了一个树，并返回一个全新的、无父节点的 SHA 提交对象。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE9A3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE9A4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE9A5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9A6"]],"x":"$","n":"span","l":" git log --oneline --decorate\nef989d8 (HEAD, master) fifth commit\nc6e1e95 (history) fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE99S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE99T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE99U"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE99V"]],"x":"$","n":"span","l":" git remote add project-history https://github.com/schacon/project-history\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE9A0"]],"x":"$","n":"span","l":" git push project-history history:master\nCounting objects: 12, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (4/4), done.\nWriting objects: 100% (12/12), 907 bytes, done.\nTotal 12 (delta 0), reused 0 (delta 0)\nUnpacking objects: 100% (12/12), done.\nTo git@github.com:schacon/project-history.git\n * [new branch]      history -> master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE99P"]],"x":"history","n":"code","l":" 分支推送到我们新仓库的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE99Q"]],"x":"master","n":"code","l":" 分支："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE99N"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","replace2"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005K?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE99H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE99I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE99J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE99K"]],"x":"$","n":"span","l":" git branch history c6e1e95\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE99L"]],"x":"$","n":"span","l":" git log --oneline --decorate\nef989d8 (HEAD, master) fifth commit\nc6e1e95 (history) fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE99E"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","replace1"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000Q?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE998"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE999"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE99A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE99B"]],"x":"$","n":"span","l":" git log --oneline\nef989d8 fifth commit\nc6e1e95 fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE995"]],"x":"replace","n":"code","l":" 命令来合并他们。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE993"]],"x":"replace","n":"code","l":" 老仓库中最新的提交来连接历史，这种方式可以把一条历史移植到其他历史上。\n这意味着你不用在新历史中真正替换每一个提交（因为历史来源会影响 SHA 的值），你可以加入他们。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE991"]],"x":"replace","n":"code","l":" 命令可以让你在 Git 中指定一个对象并可以声称“每次你遇到这个 Git 对象时，假装它是其他的东西”。\n在你用一个不同的提交替换历史中的一个提交时，这会非常有用。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE98S"]],"x":"git bundle","n":"code","l":" 很适合用于共享或者网络类型的操作。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE98N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE98O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE98P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE98Q"]],"x":"$","n":"span","l":" git log --oneline --decorate --graph --all\n* 8255d41 (HEAD, master) third commit - first repo\n| * 71b84da (other-master) last commit - second repo\n| * c99cf5b fourth commit - second repo\n| * 7011d3d third commit - second repo\n|/\n* 9a466c5 second commit\n* b1ec324 first commit"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE98K"]],"x":"other-master","n":"em","l":" 分支，以及在这期间我们自己在 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE98L"]],"x":"master","n":"em","l":" 分支上的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE98F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE98G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE98H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE98I"]],"x":"$","n":"span","l":" git fetch ../commits.bundle master:other-master\nFrom ../commits.bundle\n * [new branch]      master     -> other-master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE989"]],"x":"verify","n":"code","l":" 子命令同样可以告诉你有哪些顶端。\n该功能的目的是查看哪些是可以被拉入的，所以你可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE98A"]],"x":"fetch","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE98B"]],"x":"pull","n":"code","l":" 命令从包中导入提交。\n这里我们要从包中取出 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE98C"]],"x":"master","n":"code","l":" 分支到我们仓库中的 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE98D"]],"x":"other-master","n":"em","l":" 分支："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE984"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE985"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE986"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE987"]],"x":"$","n":"span","l":" git bundle list-heads ../commits.bundle\n71b84daaf49abed142a373b6e5c59a22dc6560dc refs/heads/master"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE97U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE97V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE980"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE981"]],"x":"$","n":"span","l":" git bundle verify ../commits-bad.bundle\nerror: Repository lacks these prerequisite commits:\nerror: 7011d3d8fc200abe0ad561c011c3852a4b7bbe95 third commit - second repo"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE97S"]],"x":"verify","n":"code","l":" 的输出类似："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE97N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE97O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE97P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE97Q"]],"x":"$","n":"span","l":" git bundle verify ../commits.bundle\nThe bundle contains 1 ref\n71b84daaf49abed142a373b6e5c59a22dc6560dc refs/heads/master\nThe bundle requires these 1 ref\n9a466c572fe88b195efd356c3f2bbeccdb504102 second commit\n../commits.bundle is okay"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE97L"]],"x":"bundle verify","n":"code","l":" 命令可以检查这个文件是否是一个合法的 Git 包，是否拥有共同的祖先来导入。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE97J"]],"x":"commits.bundle","n":"code","l":" 文件。\n如果我们把这个文件发送给我们的合作者，她可以将这个文件导入到原始的仓库中，即使在这期间已经有其他的工作提交到这个仓库中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE97E"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE97F"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE97G"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE97H"]],"x":"$","n":"span","l":" git bundle create commits.bundle master ^9a466c5\nCounting objects: 11, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (3/3), done.\nWriting objects: 100% (9/9), 775 bytes, done.\nTotal 9 (delta 0), reused 0 (delta 0)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE97C"]],"x":"git bundle create","n":"code","l":" 命令，加上我们想用的文件名，以及要打包的提交区间。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE977"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE978"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE979"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE97A"]],"x":"$","n":"span","l":" git log --oneline master ^origin/master\n71b84da last commit - second repo\nc99cf5b fourth commit - second repo\n7011d3d third commit - second repo"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004C:off:0000000000"],["id","xref-r_commit_ranges"],["aid","BE972"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交区间","n":"a","l":" 介绍的，你有很多种方式去指明一个提交区间。\n我们可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE973"]],"x":"origin/master..master","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE974"]],"x":"master ^origin/master","n":"code","l":" 之类的方法来获取那 3 个在我们的 master 分支而不在原始仓库中的提交。\n你可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE975"]],"x":"log","n":"code","l":" 命令来测试。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE96S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE96T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE96U"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE96V"]],"x":"$","n":"span","l":" git log --oneline\n71b84da last commit - second repo\nc99cf5b fourth commit - second repo\n7011d3d third commit - second repo\n9a466c5 second commit\nb1ec324 first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE96P"]],"x":"-b master","n":"code","l":" 或者其他被引入的分支，否则 Git 不知道应该检出哪一个分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE96I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE96J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE96K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE96L"]],"x":"$","n":"span","l":" git clone repo.bundle repo\nInitialized empty Git repository in /private/tmp/bundle/repo/.git/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE96M"]],"x":"$","n":"span","l":" cd repo\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE96N"]],"x":"$","n":"span","l":" git log --oneline\n9a466c5 second commit\nb1ec324 first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE96G"]],"x":"repo.bundle","n":"code","l":" 文件并希望你在这个项目上工作。\n你可以从这个二进制文件中克隆出一个目录，就像从一个 URL 克隆一样。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE96E"]],"x":"repo.bundle","n":"code","l":" 文件通过邮件或者U盘传给别人。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE96A"]],"x":"repo.bundle","n":"code","l":" 的文件，该文件包含了所有重建该仓库 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE96B"]],"x":"master","n":"code","l":" 分支所需的数据。\n在使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE96C"]],"x":"bundle","n":"code","l":" 命令时，你需要列出所有你希望打包的引用或者提交的区间。\n如果你希望这个仓库可以在别处被克隆，你应该像例子中那样增加一个 HEAD 引用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE965"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE966"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE967"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE968"]],"x":"$","n":"span","l":" git bundle create repo.bundle HEAD master\nCounting objects: 6, done.\nDelta compression using up to 2 threads.\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (6/6), 441 bytes, done.\nTotal 6 (delta 0), reused 0 (delta 0)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE963"]],"x":"git bundle create","n":"code","l":" 命令来打包。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE95U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE95V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE960"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE961"]],"x":"$","n":"span","l":" git log\ncommit 9a466c572fe88b195efd356c3f2bbeccdb504102\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Wed Mar 10 07:34:10 2010 -0800\n\n    second commit\n\ncommit b1ec3248f39900d2a406049d762aa68e9641be25\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Wed Mar 10 07:34:01 2010 -0800\n\n    first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95P"]],"x":"git bundle","n":"code","l":" 就会很有用。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95Q"]],"x":"bundle","n":"code","l":" 命令会将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95R"]],"x":"git push","n":"code","l":" 命令所传输的所有内容打包成一个二进制文件，你可以将这个文件通过邮件或者闪存传给其他人，然后解包到其他的仓库中。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95N"]],"x":"format-patch","n":"code","l":" 的方式传输 40 个提交。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_子模块的问题"],["aid","BE93L"]],"x":"子模块的问题","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE93M"]],"x":"然而使用子模块还是有一些小问题。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE93N"]],"x":"例如在有子模块的项目中切换分支可能会造成麻烦。\n如果你创建一个新分支，在其中添加一个子模块，之后切换到没有该子模块的分支上时，你仍然会有一个还未跟踪的子模块目录。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE93O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE942"]],"x":"移除那个目录并不困难，但是有一个目录在那儿会让人有一点困惑。\n如果你移除它然后切换回有那个子模块的分支，需要运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE944"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE94D"]],"x":"再说一遍，这真的不难，只是会让人有点儿困惑。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE94E"]],"x":"另一个主要的告诫是许多人遇到了将子目录转换为子模块的问题。\n如果你在项目中已经跟踪了一些文件，然后想要将它们移动到一个子模块中，那么请务必小心，否则 Git 会对你发脾气。\n假设项目内有一些文件在子目录中，你想要将其转换为一个子模块。\n如果删除子目录然后运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE94G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE94M"]],"x":"你必须要先取消暂存 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE94O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE94U"]],"x":"现在假设你在一个分支下做了这样的工作。\n如果尝试切换回的分支中那些文件还在子目录而非子模块中时 - 你会得到这个错误：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE94V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE954"]],"x":"你可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE956"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE95B"]],"x":"当你切换回来之后，因为某些原因你得到了一个空的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE95G"]],"x":"要特别注意的是，近来子模块会将它们的所有 Git 数据保存在顶级项目的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE95I"]],"x":"拥有了这些工具，使用子模块会成为可以在几个相关但却分离的项目上同时开发的相当简单有效的方法。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95H"]],"x":".git","n":"code","l":" 目录中，所以不像旧版本的 Git，摧毁一个子模块目录并不会丢失任何提交或分支。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95C"]],"x":"CryptoLibrary","n":"code","l":" 目录，并且 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95D"]],"x":"git submodule update","n":"code","l":" 也无法修复它。\n你需要进入到子模块目录中运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95E"]],"x":"git checkout .","n":"code","l":" 来找回所有的文件。\n你也可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE95F"]],"x":"submodule foreach","n":"code","l":" 脚本来为多个子模块运行它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE957"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE958"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE959"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE95A"]],"x":"$","n":"span","l":" git checkout -f master\nwarning: unable to rmdir CryptoLibrary: Directory not empty\nSwitched to branch 'master'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE955"]],"x":"checkout -f","n":"code","l":" 来强制切换，但是要小心，如果其中还有未保存的修改，这个命令会把它们覆盖掉。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE950"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE951"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE952"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE953"]],"x":"$","n":"span","l":" git checkout master\nerror: The following untracked working tree files would be overwritten by checkout:\n  CryptoLibrary/Makefile\n  CryptoLibrary/includes/crypto.h\n  ...\nPlease move or remove them before you can switch branches.\nAborting"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE94P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE94Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE94R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE94S"]],"x":"$","n":"span","l":" git rm -r CryptoLibrary\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE94T"]],"x":"$","n":"span","l":" git submodule add https://github.com/chaconinc/CryptoLibrary\nCloning into 'CryptoLibrary'...\nremote: Counting objects: 11, done.\nremote: Compressing objects: 100% (10/10), done.\nremote: Total 11 (delta 0), reused 11 (delta 0)\nUnpacking objects: 100% (11/11), done.\nChecking connectivity... done."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE94N"]],"x":"CryptoLibrary","n":"code","l":" 目录。\n然后才可以添加子模块："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE94H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE94I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE94J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE94K"]],"x":"$","n":"span","l":" rm -Rf CryptoLibrary/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE94L"]],"x":"$","n":"span","l":" git submodule add https://github.com/chaconinc/CryptoLibrary\n'CryptoLibrary' already exists in the index"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE94F"]],"x":"submodule add","n":"code","l":"，Git 会朝你大喊："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE945"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE946"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE947"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE948"]],"x":"$","n":"span","l":" git clean -fdx\nRemoving CryptoLibrary/\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE949"]],"x":"$","n":"span","l":" git checkout add-crypto\nSwitched to branch 'add-crypto'\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE94A"]],"x":"$","n":"span","l":" ls CryptoLibrary/\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE94B"]],"x":"$","n":"span","l":" git submodule update --init\nSubmodule path 'CryptoLibrary': checked out 'b8dda6aa182ea4464f3f3264b11e0268545172af'\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE94C"]],"x":"$","n":"span","l":" ls CryptoLibrary/\nMakefile\tincludes\tscripts\t\tsrc"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE943"]],"x":"submodule update --init","n":"code","l":" 来重新建立和填充。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE93P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE93Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE93R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE93S"]],"x":"$","n":"span","l":" git checkout -b add-crypto\nSwitched to a new branch 'add-crypto'\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE93T"]],"x":"$","n":"span","l":" git submodule add https://github.com/chaconinc/CryptoLibrary\nCloning into 'CryptoLibrary'...\n...\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE93U"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE93V"]],"x":"'adding crypto library'","n":"span","l":"\n[add-crypto 4445836] adding crypto library\n 2 files changed, 4 insertions(+)\n create mode 160000 CryptoLibrary\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE940"]],"x":"$","n":"span","l":" git checkout master\nwarning: unable to rmdir CryptoLibrary: Directory not empty\nSwitched to branch 'master'\nYour branch is up-to-date with 'origin/master'.\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE941"]],"x":"$","n":"span","l":" git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\n\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n\tCryptoLibrary/\n\nnothing added to commit but untracked files present (use \"git add\" to track)"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_子模块技巧"],["aid","BE927"]],"x":"子模块技巧","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE928"]],"x":"你可以做几件事情来让用子模块工作轻松一点儿。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","子模块遍历"],["aid","BE929"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","有用的别名"],["aid","BE933"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_有用的别名"],["aid","BE934"]],"x":"有用的别名","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE935"]],"x":"你可能想为其中一些命令设置别名，因为它们可能会非常长而你又不能设置选项作为它们的默认选项。\n我们在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE937"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE93H"]],"x":"这样当你想要更新子模块时可以简单地运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE93I"]],"x":"git supdate","n":"code","l":"，或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE93J"]],"x":"git spush","n":"code","l":" 检查子模块依赖后推送。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE938"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE939"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE93A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE93B"]],"x":"$","n":"span","l":" git config alias.sdiff "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE93C"]],"x":"'!'\"git diff && git submodule foreach 'git diff'\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE93D"]],"x":"$","n":"span","l":" git config alias.spush "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE93E"]],"x":"'push --recurse-submodules=on-demand'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE93F"]],"x":"$","n":"span","l":" git config alias.supdate "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE93G"]],"x":"'submodule update --remote --merge'","n":"span"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0016:off:000000002C"],["id","xref--ch02-git-basics--r_git_aliases"],["aid","BE936"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 别名","n":"a","l":" 介绍了设置 Git 别名，但是如果你计划在 Git 中大量使用子模块的话，这里有一些例子。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_子模块遍历"],["aid","BE92A"]],"x":"子模块遍历","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE92B"]],"x":"有一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE92D"]],"x":"例如，假设我们想要开始开发一项新功能或者修复一些错误，并且需要在几个子模块内工作。\n我们可以轻松地保存所有子模块的工作进度。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE92E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE92K"]],"x":"然后我们可以创建一个新分支，并将所有子模块都切换过去。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE92L"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE92R"]],"x":"你应该明白。\n能够生成一个主项目与所有子项目的改动的统一差异是非常有用的。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE92S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE932"]],"x":"在这里，我们看到子模块中定义了一个函数并在主项目中调用了它。\n这明显是个简化了的例子，但是希望它能让你明白这种方法的用处。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE92T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE92U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE92V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE930"]],"x":"$","n":"span","l":" git diff; git submodule foreach "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE931"]],"x":"'git diff'","n":"span","l":"\nSubmodule DbConnector contains modified content\ndiff --git a/src/main.c b/src/main.c\nindex 210f1ae..1f0acdc 100644\n--- a/src/main.c\n+++ b/src/main.c\n@@ -245,6 +245,8 @@ static int handle_alias(int *argcp, const char ***argv)\n\n      commit_pager_choice();\n\n+     url = url_decode(url_orig);\n+\n      /* build alias_argv */\n      alias_argv = xmalloc(sizeof(*alias_argv) * (argc + 1));\n      alias_argv[0] = alias_string + 1;\nEntering 'DbConnector'\ndiff --git a/src/db.c b/src/db.c\nindex 1aaefb6..5297645 100644\n--- a/src/db.c\n+++ b/src/db.c\n@@ -93,6 +93,11 @@ char *url_decode_mem(const char *url, int len)\n        return url_decode_internal(&url, len, NULL, &out, 0);\n }\n\n+char *url_decode(const char *url)\n+{\n+       return url_decode_mem(url, strlen(url));\n+}\n+\n char *url_decode_parameter_name(const char **query)\n {\n        struct strbuf out = STRBUF_INIT;"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE92M"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE92N"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE92O"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE92P"]],"x":"$","n":"span","l":" git submodule foreach "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE92Q"]],"x":"'git checkout -b featureA'","n":"span","l":"\nEntering 'CryptoLibrary'\nSwitched to a new branch 'featureA'\nEntering 'DbConnector'\nSwitched to a new branch 'featureA'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE92F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE92G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE92H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE92I"]],"x":"$","n":"span","l":" git submodule foreach "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE92J"]],"x":"'git stash'","n":"span","l":"\nEntering 'CryptoLibrary'\nNo local changes to save\nEntering 'DbConnector'\nSaved working directory and index state WIP on stable: 82d2ad3 Merge from origin/stable\nHEAD is now at 82d2ad3 Merge from origin/stable"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE92C"]],"x":"foreach","n":"code","l":" 子模块命令，它能在每一个子模块中运行任意命令。\n如果项目中包含了大量子模块，这会非常有用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE91S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE91T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE91U"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE91V"]],"x":"$","n":"span","l":" cd DbConnector/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE920"]],"x":"$","n":"span","l":" git merge 9fd905e\nUpdating eb41d76..9fd905e\nFast-forward\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE921"]],"x":"$","n":"span","l":" cd ..\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE922"]],"x":"$","n":"span","l":" git add DbConnector\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE923"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE924"]],"x":"'Fast forwarded to a common submodule child'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE91Q"]],"x":"git add","n":"code","l":" 那样，这样会清除冲突然后提交。不过你可能不应该这样做。你可以轻松地进入子模块目录，查看差异是什么，快进到这次提交，恰当地测试，然后提交它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE91L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE91M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE91N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE91O"]],"x":"$","n":"span","l":" git merge origin/master\nwarning: Failed to merge submodule DbConnector (not fast-forward)\nFound a possible merge resolution for the submodule:\n 9fd905e5d7f45a0d4cbc43d1ee550f16a30e825a: > merged our changes\nIf this is correct simply add it to the index for example\nby using:\n\n  git update-index --cacheinfo 160000 9fd905e5d7f45a0d4cbc43d1ee550f16a30e825a \"DbConnector\"\n\nwhich will accept this suggestion.\nAuto-merging DbConnector\nCONFLICT (submodule): Merge conflict in DbConnector\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE91H"]],"x":"这样","n":"strong","l":" 做。\n它让人困惑是因为"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE91I"]],"x":"谁能想到它会尝试这样做？","n":"strong"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE91F"]],"x":"两边","n":"strong","l":"的提交，那么 Git 会建议你将它作为一个可行的解决方案。\n它看到有人在子模块项目的某一点上合并了包含这两次提交的分支，所以你可能想要那个。"},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","BE912"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE913"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE915"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE917"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE919"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","BE91B"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","5"],["aid","BE91C"]],"x":"⑤","n":"i","l":" 提交我们的合并"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","4"],["aid","BE91A"]],"x":"④","n":"i","l":" 解决冲突的子模块记录"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","BE918"]],"x":"③","n":"i","l":" 再次检查 SHA-1 值"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","BE916"]],"x":"②","n":"i","l":" 然后返回到主项目目录中"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","BE914"]],"x":"①","n":"i","l":" 首先解决冲突"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE90G"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE90H"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE90I"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90J"]],"x":"$","n":"span","l":" vim src/main.c "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","BE90K"]],"x":"①","n":"i","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90L"]],"x":"$","n":"span","l":" git add src/main.c\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90M"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE90N"]],"x":"'merged our changes'","n":"span","l":"\nRecorded resolution for 'src/main.c'.\n[master 9fd905e] merged our changes\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90O"]],"x":"$","n":"span","l":" cd .. "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","BE90P"]],"x":"②","n":"i","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90Q"]],"x":"$","n":"span","l":" git diff "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","BE90R"]],"x":"③","n":"i","l":"\ndiff --cc DbConnector\nindex eb41d76,c771610..0000000\n--- a/DbConnector\n+++ b/DbConnector\n@@@ -1,1 -1,1 +1,1 @@@\n- Subproject commit eb41d764bccf88be77aced643c13a7fa86714135\n -Subproject commit c77161012afbbe1f58b5053316ead08f4b7e6d1d\n++Subproject commit 9fd905e5d7f45a0d4cbc43d1ee550f16a30e825a\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90S"]],"x":"$","n":"span","l":" git add DbConnector "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","4"],["aid","BE90T"]],"x":"④","n":"i","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90U"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE90V"]],"x":"\"Merge Tom's Changes\"","n":"span","l":" "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","5"],["aid","BE910"]],"x":"⑤","n":"i","l":"\n[master 10d2c60] Merge Tom's Changes"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE907"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE908"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE909"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90A"]],"x":"$","n":"span","l":" cd DbConnector\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90B"]],"x":"$","n":"span","l":" git rev-parse HEAD\neb41d764bccf88be77aced643c13a7fa86714135\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90C"]],"x":"$","n":"span","l":" git branch try-merge c771610\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE90D"]],"x":"(DbConnector) $","n":"span","l":" git merge try-merge\nAuto-merging src/main.c\nCONFLICT (content): Merge conflict in src/main.c\nRecorded preimage for 'src/main.c'\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE905"]],"x":"git diff","n":"code","l":" 的第二个 SHA 创建一个分支然后手动合并。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8VV"]],"x":"eb41d76","n":"code","l":" 是我们的子模块中"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE900"]],"x":"大家共有","n":"strong","l":"的提交，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE901"]],"x":"c771610","n":"code","l":" 是上游拥有的提交。\n如果我们进入子模块目录中，它应该已经在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE902"]],"x":"eb41d76","n":"code","l":" 上了，因为合并没有动过它。\n如果不是的话，无论什么原因，你都可以简单地创建并检出一个指向它的分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8VQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8VR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8VS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8VT"]],"x":"$","n":"span","l":" git diff\ndiff --cc DbConnector\nindex eb41d76,c771610..0000000\n--- a/DbConnector\n+++ b/DbConnector"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8VO"]],"x":"git diff","n":"code","l":"，就会得到试图合并的两个分支中记录的提交的 SHA-1 值。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8VI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8VJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8VK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8VL"]],"x":"$","n":"span","l":" git pull\nremote: Counting objects: 2, done.\nremote: Compressing objects: 100% (1/1), done.\nremote: Total 2 (delta 1), reused 2 (delta 1)\nUnpacking objects: 100% (2/2), done.\nFrom https://github.com/chaconinc/MainProject\n   9a377d1..eb974f8  master     -> origin/master\nFetching submodule DbConnector\nwarning: Failed to merge submodule DbConnector (merge following commits not found)\nAuto-merging DbConnector\nCONFLICT (submodule): Merge conflict in DbConnector\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_publishing_submodules"],["aid","BE8UJ"]],"x":"发布子模块改动","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8UK"]],"x":"现在我们的子模块目录中有一些改动。\n其中有一些是我们通过更新从上游引入的，而另一些是本地生成的，由于我们还没有推送它们，所以对任何其他人都不可用。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8UL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8UQ"]],"x":"如果我们在主项目中提交并推送但并不推送子模块上的改动，其他尝试检出我们修改的人会遇到麻烦，因为他们无法得到依赖的子模块改动。\n那些改动只存在于我们本地的拷贝中。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8UR"]],"x":"为了确保这不会发生，你可以让 Git 在推送到主项目前检查所有子模块是否已推送。\n","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8UV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8V4"]],"x":"如你所见，它也给我们了一些有用的建议，指导接下来该如何做。\n最简单的选项是进入每一个子模块中然后手动推送到远程仓库，确保它们能被外部访问到，之后再次尝试这次推送。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8V5"]],"x":"另一个选项是使用 “on-demand” 值，它会尝试为你这样做。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8V6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8VB"]],"x":"如你所见，Git 进入到 DbConnector 模块中然后在推送主项目前推送了它。\n如果那个子模块因为某些原因推送失败，主项目也会推送失败。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8V7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8V8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8V9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8VA"]],"x":"$","n":"span","l":" git push --recurse-submodules=on-demand\nPushing submodule 'DbConnector'\nCounting objects: 9, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (8/8), done.\nWriting objects: 100% (9/9), 917 bytes | 0 bytes/s, done.\nTotal 9 (delta 3), reused 0 (delta 0)\nTo https://github.com/chaconinc/DbConnector\n   c75e92a..82d2ad3  stable -> stable\nCounting objects: 2, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (2/2), 266 bytes | 0 bytes/s, done.\nTotal 2 (delta 1), reused 0 (delta 0)\nTo https://github.com/chaconinc/MainProject\n   3d6d338..9a377d1  master -> master"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8V0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8V1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8V2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8V3"]],"x":"$","n":"span","l":" git push --recurse-submodules=check\nThe following submodule paths contain changes that can\nnot be found on any remote:\n  DbConnector\n\nPlease try\n\n\tgit push --recurse-submodules=on-demand\n\nor cd to the path and use\n\n\tgit push\n\nto push them to a remote."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8US"]],"x":"git push","n":"code","l":" 命令接受可以设置为 “check” 或 “on-demand” 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8UT"]],"x":"--recurse-submodules","n":"code","l":" 参数。\n如果任何提交的子模块改动没有推送那么 “check” 选项会直接使 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8UU"]],"x":"push","n":"code","l":" 操作失败。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8UM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8UN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8UO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8UP"]],"x":"$","n":"span","l":" git diff\nSubmodule DbConnector c87d55d..82d2ad3:\n  > Merge from origin/stable\n  > updated setup script\n  > unicode support\n  > remove unnecessary method\n  > add new option for conn pooling"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_在子模块上工作"],["aid","BE8SM"]],"x":"在子模块上工作","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8SN"]],"x":"你很有可能正在使用子模块，因为你确实想在子模块中编写代码的同时，还想在主项目上编写代码（或者跨子模块工作）。\n否则你大概只能用简单的依赖管理系统（如 Maven 或 Rubygems）来替代了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8SO"]],"x":"现在我们将通过一个例子来演示如何在子模块与主项目中同时做修改，以及如何同时提交与发布那些修改。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8SP"]],"x":"到目前为止，当我们运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8SR"]],"x":"为了将子模块设置得更容易进入并修改，你需要做两件事。\n首先，进入每个子模块并检出其相应的工作分支。\n接着，若你做了更改就需要告诉 Git 它该做什么，然后运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8ST"]],"x":"首先，让我们进入子模块目录然后检出一个分支。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8SU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8T3"]],"x":"然后尝试用 “merge” 选项。\n为了手动指定它，我们只需给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8T6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8TB"]],"x":"如果我们进入 DbConnector 目录，可以发现新的改动已经合并入本地 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8TD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8TL"]],"x":"如果我们现在更新子模块，就会看到当我们在本地做了更改时上游也有一个改动，我们需要将它并入本地。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8TM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8TR"]],"x":"如果你忘记 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8TU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8U3"]],"x":"即便这真的发生了也不要紧，你只需回到目录中再次检出你的分支（即还包含着你的工作的分支）然后手动地合并或变基 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8U5"]],"x":"如果你没有提交子模块的改动，那么运行一个子模块更新也不会出现问题，此时 Git 会只抓取更改而并不会覆盖子模块目录中未保存的工作。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8U6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8UB"]],"x":"如果你做了一些与上游改动冲突的改动，当运行更新时 Git 会让你知道。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8UC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8UH"]],"x":"你可以进入子模块目录中然后就像平时那样修复冲突。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8UD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8UE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8UF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8UG"]],"x":"$","n":"span","l":" git submodule update --remote --merge\nAuto-merging scripts/setup.sh\nCONFLICT (content): Merge conflict in scripts/setup.sh\nRecorded preimage for 'scripts/setup.sh'\nAutomatic merge failed; fix conflicts and then commit the result.\nUnable to merge 'c75e92a2b3855c9e5b66f915308390d9db204aca' in submodule path 'DbConnector'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8U7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8U8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8U9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8UA"]],"x":"$","n":"span","l":" git submodule update --remote\nremote: Counting objects: 4, done.\nremote: Compressing objects: 100% (3/3), done.\nremote: Total 4 (delta 0), reused 4 (delta 0)\nUnpacking objects: 100% (4/4), done.\nFrom https://github.com/chaconinc/DbConnector\n   5d60ef9..c75e92a  stable     -> origin/stable\nerror: Your local changes to the following files would be overwritten by checkout:\n\tscripts/setup.sh\nPlease, commit your changes or stash them before you can switch branches.\nAborting\nUnable to checkout 'c75e92a2b3855c9e5b66f915308390d9db204aca' in submodule path 'DbConnector'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8U4"]],"x":"origin/stable","n":"code","l":"（或任何一个你想要的远程分支）就行了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8TV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8U0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8U1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8U2"]],"x":"$","n":"span","l":" git submodule update --remote\nSubmodule path 'DbConnector': checked out '5d60ef9bbebf5a0c1c1050f242ceeb54ad58da94'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8TS"]],"x":"--rebase","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8TT"]],"x":"--merge","n":"code","l":"，Git 会将子模块更新为服务器上的状态。并且会将项目重置为一个游离的 HEAD 状态。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8TN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8TO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8TP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8TQ"]],"x":"$","n":"span","l":" git submodule update --remote --rebase\nFirst, rewinding head to replay your work on top of it...\nApplying: unicode support\nSubmodule path 'DbConnector': rebased into '5d60ef9bbebf5a0c1c1050f242ceeb54ad58da94'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8TE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8TF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8TG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8TH"]],"x":"$","n":"span","l":" cd DbConnector/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8TI"]],"x":"$","n":"span","l":" vim src/db.c\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8TJ"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE8TK"]],"x":"'unicode support'","n":"span","l":"\n[stable f906e16] unicode support\n 1 file changed, 1 insertion(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8TC"]],"x":"stable","n":"code","l":" 分支。\n现在让我们看看当我们对库做一些本地的改动而同时其他人推送另外一个修改到上游时会发生什么。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8T7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8T8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8T9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8TA"]],"x":"$","n":"span","l":" git submodule update --remote --merge\nremote: Counting objects: 4, done.\nremote: Compressing objects: 100% (2/2), done.\nremote: Total 4 (delta 2), reused 4 (delta 2)\nUnpacking objects: 100% (4/4), done.\nFrom https://github.com/chaconinc/DbConnector\n   c87d55d..92c7337  stable     -> origin/stable\nUpdating c87d55d..92c7337\nFast-forward\n src/main.c | 1 +\n 1 file changed, 1 insertion(+)\nSubmodule path 'DbConnector': merged in '92c7337b30ef9e0893e758dac2459d07362ab5ea'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8T4"]],"x":"update","n":"code","l":" 添加 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8T5"]],"x":"--merge","n":"code","l":" 选项即可。\n这时我们将会看到服务器上的这个子模块有一个改动并且它被合并了进来。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8SV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8T0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8T1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8T2"]],"x":"$","n":"span","l":" git checkout stable\nSwitched to branch 'stable'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8SS"]],"x":"git submodule update --remote","n":"code","l":" 来从上游拉取新工作。\n你可以选择将它们合并到你的本地工作中，也可以尝试将你的工作变基到新的更改上。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8SQ"]],"x":"git submodule update","n":"code","l":" 从子模块仓库中抓取修改时，Git 将会获得这些改动并更新子目录中的文件，但是会将子仓库留在一个称作 “游离的 HEAD” 的状态。\n这意味着没有本地工作分支（例如 “master”）跟踪改动。\n所以你做的任何改动都不会被跟踪。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8SJ"]],"x":"git submodule update --remote","n":"code","l":" 时，Git 默认会尝试更新"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE8SK"]],"x":"所有","n":"strong","l":"子模块，所以如果有很多子模块的话，你可以传递想要更新的子模块的名字。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8SE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8SF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8SG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8SH"]],"x":"$","n":"span","l":" git log -p --submodule\ncommit 0a24cfc121a8a3c118e0105ae4ae4c00281cf7ae\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Wed Sep 17 16:37:02 2014 +0200\n\n    updating DbConnector for bug fixes\n\ndiff --git a/.gitmodules b/.gitmodules\nindex 6fc0b3d..fd1cc29 100644\n--- a/.gitmodules\n+++ b/.gitmodules\n@@ -1,3 +1,4 @@\n [submodule \"DbConnector\"]\n        path = DbConnector\n        url = https://github.com/chaconinc/DbConnector\n+       branch = stable\nSubmodule DbConnector c3f01dc..c87d55d:\n  > catch non-null terminated lines\n  > more robust error handling\n  > more efficient db routine\n  > better connection routine"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8SC"]],"x":"git log -p","n":"code","l":" 查看这个信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8S7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8S8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8S9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8SA"]],"x":"$","n":"span","l":" git diff\ndiff --git a/.gitmodules b/.gitmodules\nindex 6fc0b3d..fd1cc29 100644\n--- a/.gitmodules\n+++ b/.gitmodules\n@@ -1,3 +1,4 @@\n [submodule \"DbConnector\"]\n        path = DbConnector\n        url = https://github.com/chaconinc/DbConnector\n+       branch = stable\n Submodule DbConnector c3f01dc..c87d55d:\n  > catch non-null terminated lines\n  > more robust error handling\n  > more efficient db routine\n  > better connection routine"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8S5"]],"x":"git diff","n":"code","l":"，可以看到我们修改了 .gitmodules 文件，同时还有几个已拉取的提交需要提交到我们自己的子模块项目中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8RV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8S0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8S1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8S2"]],"x":"$","n":"span","l":" git config status.submodulesummary 1\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8S3"]],"x":"$","n":"span","l":" git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n\tmodified:   .gitmodules\n\tmodified:   DbConnector (new commits)\n\nSubmodules changed but not updated:\n\n* DbConnector c3f01dc...c87d55d (4):\n  > catch non-null terminated lines"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8RT"]],"x":"status.submodulesummary","n":"code","l":"，Git 也会显示你的子模块的更改摘要："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8RO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8RP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8RQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8RR"]],"x":"$","n":"span","l":" git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n  modified:   .gitmodules\n  modified:   DbConnector (new commits)\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8RM"]],"x":"git status","n":"code","l":"，Git 会显示子模块中有 “新提交”。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8RK"]],"x":"-f .gitmodules","n":"code","l":" 选项，那么它只会为你做修改。但是在仓库中保留跟踪信息更有意义一些，因为其他人也可以得到同样的效果。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8RE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8RF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8RG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8RH"]],"x":"$","n":"span","l":" git config -f .gitmodules submodule.DbConnector.branch stable\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8RI"]],"x":"$","n":"span","l":" git submodule update --remote\nremote: Counting objects: 4, done.\nremote: Compressing objects: 100% (2/2), done.\nremote: Total 4 (delta 2), reused 4 (delta 2)\nUnpacking objects: 100% (4/4), done.\nFrom https://github.com/chaconinc/DbConnector\n   27cf5d3..c87d55d  stable -> origin/stable\nSubmodule path 'DbConnector': checked out 'c87d55d4c6d4b05ee34fbc8cb6f7bf4585ae6687'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8R9"]],"x":"master","n":"code","l":" 分支。\n不过你也可以设置为想要的其他分支。\n例如，你想要 DbConnector 子模块跟踪仓库的 “stable” 分支，那么既可以在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8RA"]],"x":".gitmodules","n":"code","l":" 文件中设置（这样其他人也可以跟踪它），也可以只在本地的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8RB"]],"x":".git/config","n":"code","l":" 文件中设置。\n让我们在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8RC"]],"x":".gitmodules","n":"code","l":" 文件中设置它："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8R4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8R5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8R6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8R7"]],"x":"$","n":"span","l":" git submodule update --remote DbConnector\nremote: Counting objects: 4, done.\nremote: Compressing objects: 100% (2/2), done.\nremote: Total 4 (delta 2), reused 4 (delta 2)\nUnpacking objects: 100% (4/4), done.\nFrom https://github.com/chaconinc/DbConnector\n   3f19983..d0354fc  master     -> origin/master\nSubmodule path 'DbConnector': checked out 'd0354fc054692d3906c85c3af05ddce39a1c0644'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8R2"]],"x":"git submodule update --remote","n":"code","l":"，Git 将会进入子模块然后抓取并更新。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8QR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8QS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8QT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8QU"]],"x":"$","n":"span","l":" git config --global diff.submodule log\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8QV"]],"x":"$","n":"span","l":" git diff\nSubmodule DbConnector c3f01dc..d0354fc:\n  > more efficient db routine\n  > better connection routine"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8QM"]],"x":"git diff --submodule","n":"code","l":"，就会看到子模块被更新的同时获得了一个包含新添加提交的列表。\n如果你不想每次运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8QN"]],"x":"git diff","n":"code","l":" 时都输入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8QO"]],"x":"--submodle","n":"code","l":"，那么可以将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8QP"]],"x":"diff.submodule","n":"code","l":" 设置为 “log” 来将其作为默认行为。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8QG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8QH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8QI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8QJ"]],"x":"$","n":"span","l":" git fetch\nFrom https://github.com/chaconinc/DbConnector\n   c3f01dc..d0354fc  master     -> origin/master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8QK"]],"x":"$","n":"span","l":" git merge origin/master\nUpdating c3f01dc..d0354fc\nFast-forward\n scripts/connect.sh | 1 +\n src/db.c           | 1 +\n 2 files changed, 2 insertions(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8QD"]],"x":"git fetch","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8QE"]],"x":"git merge","n":"code","l":"，合并上游分支来更新本地代码。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_cloning_submodules"],["aid","BE8P6"]],"x":"克隆含有子模块的项目","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8P7"]],"x":"接下来我们将会克隆一个含有子模块的项目。\n当你在克隆这样的项目时，默认会包含该子模块目录，但其中还没有任何文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8P8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8PI"]],"x":"其中有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8PM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8PS"]],"x":"现在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8PU"]],"x":"不过还有更简单一点的方式。\n如果给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8Q1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8Q2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8Q3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8Q4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8Q5"]],"x":"$","n":"span","l":" git clone --recursive https://github.com/chaconinc/MainProject\nCloning into 'MainProject'...\nremote: Counting objects: 14, done.\nremote: Compressing objects: 100% (13/13), done.\nremote: Total 14 (delta 1), reused 13 (delta 0)\nUnpacking objects: 100% (14/14), done.\nChecking connectivity... done.\nSubmodule 'DbConnector' (https://github.com/chaconinc/DbConnector) registered for path 'DbConnector'\nCloning into 'DbConnector'...\nremote: Counting objects: 11, done.\nremote: Compressing objects: 100% (10/10), done.\nremote: Total 11 (delta 0), reused 11 (delta 0)\nUnpacking objects: 100% (11/11), done.\nChecking connectivity... done.\nSubmodule path 'DbConnector': checked out 'c3f01dc8862123d317dd46284b05b6892c7b29bc'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8PV"]],"x":"git clone","n":"code","l":" 命令传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8Q0"]],"x":"--recursive","n":"code","l":" 选项，它就会自动初始化并更新仓库中的每一个子模块。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8PT"]],"x":"DbConnector","n":"code","l":" 子目录是处在和之前提交时相同的状态了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8PN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8PO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8PP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PQ"]],"x":"$","n":"span","l":" git submodule init\nSubmodule 'DbConnector' (https://github.com/chaconinc/DbConnector) registered for path 'DbConnector'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PR"]],"x":"$","n":"span","l":" git submodule update\nCloning into 'DbConnector'...\nremote: Counting objects: 11, done.\nremote: Compressing objects: 100% (10/10), done.\nremote: Total 11 (delta 0), reused 11 (delta 0)\nUnpacking objects: 100% (11/11), done.\nChecking connectivity... done.\nSubmodule path 'DbConnector': checked out 'c3f01dc8862123d317dd46284b05b6892c7b29bc'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8PJ"]],"x":"DbConnector","n":"code","l":" 目录，不过是空的。\n你必须运行两个命令："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8PK"]],"x":"git submodule init","n":"code","l":" 用来初始化本地配置文件，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8PL"]],"x":"git submodule update","n":"code","l":" 则从该项目中抓取所有数据并检出父项目中列出的合适的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8P9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8PA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8PB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PC"]],"x":"$","n":"span","l":" git clone https://github.com/chaconinc/MainProject\nCloning into 'MainProject'...\nremote: Counting objects: 14, done.\nremote: Compressing objects: 100% (13/13), done.\nremote: Total 14 (delta 1), reused 13 (delta 0)\nUnpacking objects: 100% (14/14), done.\nChecking connectivity... done.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PD"]],"x":"$","n":"span","l":" cd MainProject\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PE"]],"x":"$","n":"span","l":" ls -la\ntotal 16\ndrwxr-xr-x   9 schacon  staff  306 Sep 17 15:21 .\ndrwxr-xr-x   7 schacon  staff  238 Sep 17 15:21 ..\ndrwxr-xr-x  13 schacon  staff  442 Sep 17 15:21 .git\n-rw-r--r--   1 schacon  staff   92 Sep 17 15:21 .gitmodules\ndrwxr-xr-x   2 schacon  staff   68 Sep 17 15:21 DbConnector\n-rw-r--r--   1 schacon  staff  756 Sep 17 15:21 Makefile\ndrwxr-xr-x   3 schacon  staff  102 Sep 17 15:21 includes\ndrwxr-xr-x   4 schacon  staff  136 Sep 17 15:21 scripts\ndrwxr-xr-x   4 schacon  staff  136 Sep 17 15:21 src\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PF"]],"x":"$","n":"span","l":" cd DbConnector/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PG"]],"x":"$","n":"span","l":" ls\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8PH"]],"x":"$","n":"span"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_starting_submodules"],["aid","BE8NC"]],"x":"开始使用子模块","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8ND"]],"x":"我们将要演示如何在一个被分成一个主项目与几个子项目的项目上开发。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8NE"]],"x":"我们首先将一个已存在的 Git 仓库添加为正在工作的仓库的子模块。\n你可以通过在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8NG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8NL"]],"x":"默认情况下，子模块会将子项目放到一个与仓库同名的目录中，本例中是 “DbConnector”。\n如果你想要放到其他地方，那么可以在命令结尾添加一个不同的路径。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8NM"]],"x":"如果这时运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8NO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8NT"]],"x":"首先应当注意到新的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8NV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8O4"]],"x":"如果有多个子模块，该文件中就会有多条记录。\n要重点注意的是，该文件也像 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","BE8O6"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8OA"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8OD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8OI"]],"x":"虽然 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8OK"]],"x":"如果你想看到更漂亮的差异输出，可以给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8ON"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8OS"]],"x":"当你提交时，会看到类似下面的信息：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8OT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8P3"]],"x":"注意 DbConnector 记录的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8P4"]],"x":"160000","n":"code","l":" 模式。\n这是 Git 中的一种特殊模式，它本质上意味着你是将一次提交记作一项目录记录的，而非将它记录成一个子目录或者一个文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8OU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8OV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8P0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8P1"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE8P2"]],"x":"'added DbConnector module'","n":"span","l":"\n[master fb9093c] added DbConnector module\n 2 files changed, 4 insertions(+)\n create mode 100644 .gitmodules\n create mode 160000 DbConnector"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8OO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8OP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8OQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8OR"]],"x":"$","n":"span","l":" git diff --cached --submodule\ndiff --git a/.gitmodules b/.gitmodules\nnew file mode 100644\nindex 0000000..71fc376\n--- /dev/null\n+++ b/.gitmodules\n@@ -0,0 +1,3 @@\n+[submodule \"DbConnector\"]\n+       path = DbConnector\n+       url = https://github.com/chaconinc/DbConnector\nSubmodule DbConnector 0000000...c3f01dc (new submodule)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8OL"]],"x":"git diff","n":"code","l":" 传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8OM"]],"x":"--submodule","n":"code","l":" 选项。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8OJ"]],"x":"DbConnector","n":"code","l":" 是工作目录中的一个子目录，但 Git 还是会将它视作一个子模块。当你不在那个目录中时，Git 并不会跟踪它的内容，\n而是将它看作该仓库中的一个特殊提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8OE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8OF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8OG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8OH"]],"x":"$","n":"span","l":" git diff --cached DbConnector\ndiff --git a/DbConnector b/DbConnector\nnew file mode 160000\nindex 0000000..c3f01dc\n--- /dev/null\n+++ b/DbConnector\n@@ -0,0 +1 @@\n+Subproject commit c3f01dc8862123d317dd46284b05b6892c7b29bc"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8OB"]],"x":"git status","n":"code","l":" 输出中列出的另一个是项目文件夹记录。\n如果你运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8OC"]],"x":"git diff","n":"code","l":"，会看到类似下面的信息："},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","BE8O7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8O8"]],"x":"由于 .gitmodules 文件中的 URL 是人们首先尝试克隆/拉取的地方，因此请尽可能确保你使用的URL 大家都能访问。\n例如，若你要使用的推送 URL 与他人的拉取 URL 不同，那么请使用他人能访问到的 URL。\n你也可以根据自己的需要，通过在本地执行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8O9"]],"x":"git config submodule.DbConnector.url <私有URL>","n":"code","l":" 来覆盖这个选项的值。\n如果可行的话，一个相对路径会很有帮助。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8O5"]],"x":".gitignore","n":"code","l":" 文件一样受到（通过）版本控制。\n它会和该项目的其他部分一同被拉取推送。\n这就是克隆该项目的人知道去哪获得子模块的原因。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8O0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8O1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8O2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8O3"]],"x":"$","n":"span","l":" cat .gitmodules\n[submodule \"DbConnector\"]\n\tpath = DbConnector\n\turl = https://github.com/chaconinc/DbConnector"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8NU"]],"x":".gitmodules","n":"code","l":" 文件。\n该配置文件保存了项目 URL 与已经拉取的本地目录之间的映射："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8NP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8NQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8NR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8NS"]],"x":"$","n":"span","l":" git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\n\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n\tnew file:   .gitmodules\n\tnew file:   DbConnector"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8NN"]],"x":"git status","n":"code","l":"，你会注意到几件事。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8NH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8NI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8NJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8NK"]],"x":"$","n":"span","l":" git submodule add https://github.com/chaconinc/DbConnector\nCloning into 'DbConnector'...\nremote: Counting objects: 11, done.\nremote: Compressing objects: 100% (10/10), done.\nremote: Total 11 (delta 0), reused 11 (delta 0)\nUnpacking objects: 100% (11/11), done.\nChecking connectivity... done."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8NF"]],"x":"git submodule add","n":"code","l":" 命令后面加上想要跟踪的项目 URL 来添加新的子模块。\n在本例中，我们将会添加一个名为 “DbConnector” 的库。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_binary_search"],["aid","BE8LF"]],"x":"二分查找","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8LG"]],"x":"当你知道问题是在哪里引入的情况下文件标注可以帮助你查找问题。\n如果你不知道哪里出了问题，并且自从上次可以正常运行到现在已经有数十个或者上百个提交，这个时候你可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8LJ"]],"x":"假设你刚刚在线上环境部署了你的代码，接着收到一些 bug 反馈，但这些 bug 在你之前的开发环境里没有出现过，这让你百思不得其解。\n你重新查看了你的代码，发现这个问题是可以被重现的，但是你不知道哪里出了问题。\n你可以用二分法来找到这个问题。\n首先执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8LN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8LU"]],"x":"Git 发现在你标记为正常的提交(v1.0)和当前的错误版本之间有大约12次提交，于是 Git 检出中间的那个提交。\n现在你可以执行测试，看看在这个提交下问题是不是还是存在。\n如果还存在，说明问题是在这个提交之前引入的；如果问题不存在，说明问题是在这个提交之后引入的。\n假设测试结果是没有问题的，你可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8M0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8M5"]],"x":"现在你在另一个提交上了，这个提交是刚刚那个测试通过的提交和有问题的提交的中点。\n你再一次执行测试，发现这个提交下是有问题的，因此你可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8M7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8MC"]],"x":"这个提交是正常的，现在 Git 拥有的信息已经可以确定引入问题的位置在哪里。\n它会告诉你第一个错误提交的 SHA-1 值并显示一些提交说明，以及哪些文件在那次提交里修改过，这样你可以找出引入 bug 的根源：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8MD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8MI"]],"x":"当你完成这些操作之后，你应该执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8MK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8MP"]],"x":"这是一个可以帮助你在几分钟内从数百个提交中找到 bug 的强大工具。\n事实上，如果你有一个脚本在项目是正常的情况下返回 0，在不正常的情况下返回非 0，你可以使 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8MS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8N2"]],"x":"Git 会自动在每个被检出的提交里执行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8N3"]],"x":"test-error.sh","n":"code","l":" 直到找到第一个项目不正常的提交。\n你也可以执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8N4"]],"x":"make","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8N5"]],"x":"make tests","n":"code","l":" 或者其他东西来进行自动化测试。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8MT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8MU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8MV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8N0"]],"x":"$","n":"span","l":" git bisect start HEAD v1.0\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8N1"]],"x":"$","n":"span","l":" git bisect run test-error.sh"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8MQ"]],"x":"git bisect","n":"code","l":" 自动化这些操作。\n首先，你设定好项目正常以及不正常所在提交的二分查找范围。\n你可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8MR"]],"x":"bisect start","n":"code","l":" 命令的参数来设定这两个提交，第一个参数是项目不正常的提交，第二个参数是项目正常的提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8ML"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8MM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8MN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8MO"]],"x":"$","n":"span","l":" git bisect reset"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8MJ"]],"x":"git bisect reset","n":"code","l":" 重置你的 HEAD 指针到最开始的位置，否则你会停留在一个很奇怪的状态："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8ME"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8MF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8MG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8MH"]],"x":"$","n":"span","l":" git bisect good\nb047b02ea83310a70fd603dc8cd7a6cd13d15c04 is first bad commit\ncommit b047b02ea83310a70fd603dc8cd7a6cd13d15c04\nAuthor: PJ Hyett <pjhyett@example.com>\nDate:   Tue Jan 27 14:48:32 2009 -0800\n\n    secure this thing\n\n:040000 040000 40ee3e7821b895e52c1695092db9bdc4c61d1730\nf24d3c6ebcfc639b1a3814550e62d60b8e68a8e4 M  config"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8M8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8M9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8MA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8MB"]],"x":"$","n":"span","l":" git bisect bad\nBisecting: 1 revisions left to test after this\n[f71ce38690acf49c1f3c9bea38e09d82a5ce6014] drop exceptions table"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8M6"]],"x":"git bisect bad","n":"code","l":" 告诉 Git："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8M1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8M2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8M3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8M4"]],"x":"$","n":"span","l":" git bisect good\nBisecting: 3 revisions left to test after this\n[b047b02ea83310a70fd603dc8cd7a6cd13d15c04] secure this thing"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8LV"]],"x":"git bisect good","n":"code","l":" 来告诉 Git，然后继续寻找。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8LO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8LP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8LQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8LR"]],"x":"$","n":"span","l":" git bisect start\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8LS"]],"x":"$","n":"span","l":" git bisect bad\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8LT"]],"x":"$","n":"span","l":" git bisect good v1.0\nBisecting: 6 revisions left to test after this\n[ecb6e1bc347ccecc5f9350d878ce677feb13d3b2] error handling on repo"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8LK"]],"x":"git bisect start","n":"code","l":" 来启动，接着执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8LL"]],"x":"git bisect bad","n":"code","l":" 来告诉系统当前你所在的提交是有问题的。\n然后你必须告诉 bisect 已知的最后一次正常状态是哪次提交，使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8LM"]],"x":"git bisect good [good_commit]","n":"code","l":"："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8LH"]],"x":"git bisect","n":"code","l":" 来帮助查找。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8LI"]],"x":"bisect","n":"code","l":" 命令会对你的提交历史进行二分查找来帮助你尽快找到是哪一个提交引入了问题。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_file_annotation"],["aid","BE8KL"]],"x":"文件标注","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8KM"]],"x":"如果你在追踪代码中的一个 bug，并且想知道是什么时候以及为何会引入，文件标注通常是最好用的工具。\n它展示了文件中每一行最后一次修改的提交。\n所以，如果你在代码中看到一个有问题的方法，你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8KP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8KU"]],"x":"请注意，第一个字段是最后一次修改该行的提交的部分 SHA-1 值。\n接下来两个字段的值是从提交中提取出来的——作者的名字以及提交的时间——所以你就可以很轻易地找到是谁在什么时候修改了那一行。\n接下来就是行号和文件内容。\n注意一下 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8L1"]],"x":"另一件比较酷的事情是 Git 不会显式地记录文件的重命名。\n它会记录快照，然后在事后尝试计算出重命名的动作。\n这其中有一个很有意思的特性就是你可以让 Git 找出所有的代码移动。\n如果你在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8L8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8LD"]],"x":"这个功能很有用。\n通常来说，你会认为复制代码过来的那个提交是最原始的提交，因为那是你第一次在这个文件中修改了这几行。\n但 Git 会告诉你，你第一次写这几行代码的那个提交才是原始提交，即使这是在另外一个文件里写的。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8L9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8LA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8LB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8LC"]],"x":"$","n":"span","l":" git blame -C -L 141,153 GITPackUpload.m\nf344f58d GITServerHandler.m (Scott 2009-01-04 141)\nf344f58d GITServerHandler.m (Scott 2009-01-04 142) - (void) gatherObjectShasFromC\nf344f58d GITServerHandler.m (Scott 2009-01-04 143) {\n70befddd GITServerHandler.m (Scott 2009-03-22 144)         //NSLog(@\"GATHER COMMI\nad11ac80 GITPackUpload.m    (Scott 2009-03-24 145)\nad11ac80 GITPackUpload.m    (Scott 2009-03-24 146)         NSString *parentSha;\nad11ac80 GITPackUpload.m    (Scott 2009-03-24 147)         GITCommit *commit = [g\nad11ac80 GITPackUpload.m    (Scott 2009-03-24 148)\nad11ac80 GITPackUpload.m    (Scott 2009-03-24 149)         //NSLog(@\"GATHER COMMI\nad11ac80 GITPackUpload.m    (Scott 2009-03-24 150)\n56ef2caf GITServerHandler.m (Scott 2009-01-05 151)         if(commit) {\n56ef2caf GITServerHandler.m (Scott 2009-01-05 152)                 [refDict setOb\n56ef2caf GITServerHandler.m (Scott 2009-01-05 153)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8L2"]],"x":"git blame","n":"code","l":" 后面加上一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8L3"]],"x":"-C","n":"code","l":"，Git 会分析你正在标注的文件，并且尝试找出文件中从别的地方复制过来的代码片段的原始出处。\n比如，你将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8L4"]],"x":"GITServerHandler.m","n":"code","l":" 这个文件拆分为数个文件，其中一个文件是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8L5"]],"x":"GITPackUpload.m","n":"code","l":"。\n对 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8L6"]],"x":"GITPackUpload.m","n":"code","l":" 执行带 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8L7"]],"x":"-C","n":"code","l":" 参数的blame命令，你就可以看到代码块的原始出处："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8KV"]],"x":"^4832fe2","n":"code","l":" 这个提交的那些行，这些指的是这个文件第一次提交的那些行。\n这个提交是这个文件第一次加入到这个项目时的提交，并且这些行从未被修改过。\n这会带来小小的困惑，因为你已经至少看到三种 Git 使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8L0"]],"x":"^","n":"code","l":" 来修饰一个提交的 SHA-1 值的不同含义，但这里确实就是这个意思。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8KQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8KR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8KS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8KT"]],"x":"$","n":"span","l":" git blame -L 12,22 simplegit.rb\n^4832fe2 (Scott Chacon  2008-03-15 10:31:28 -0700 12)  def show(tree = 'master')\n^4832fe2 (Scott Chacon  2008-03-15 10:31:28 -0700 13)   command(\"git show #{tree}\")\n^4832fe2 (Scott Chacon  2008-03-15 10:31:28 -0700 14)  end\n^4832fe2 (Scott Chacon  2008-03-15 10:31:28 -0700 15)\n9f6560e4 (Scott Chacon  2008-03-17 21:52:20 -0700 16)  def log(tree = 'master')\n79eaf55d (Scott Chacon  2008-04-06 10:15:08 -0700 17)   command(\"git log #{tree}\")\n9f6560e4 (Scott Chacon  2008-03-17 21:52:20 -0700 18)  end\n9f6560e4 (Scott Chacon  2008-03-17 21:52:20 -0700 19)\n42cf2861 (Magnus Chacon 2008-04-13 10:45:01 -0700 20)  def blame(path)\n42cf2861 (Magnus Chacon 2008-04-13 10:45:01 -0700 21)   command(\"git blame #{path}\")\n42cf2861 (Magnus Chacon 2008-04-13 10:45:01 -0700 22)  end"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8KN"]],"x":"git blame","n":"code","l":" 标注这个文件，查看这个方法每一行的最后修改时间以及是被谁修改的。\n这个例子使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8KO"]],"x":"-L","n":"code","l":" 选项来限制输出范围在第12至22行："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8KG"]],"x":"rerere","n":"code","l":" 功能可以帮助你的生活变得更美好。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8KA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8KB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8KC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8KD"]],"x":"$","n":"span","l":" git add hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8KE"]],"x":"$","n":"span","l":" git rebase --continue\nApplying: i18n one word"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8K8"]],"x":"rerere","n":"code","l":" 缓存的解决方案来自动重新解决了文件冲突。\n现在可以添加并继续变基来完成它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8K1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8K2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8K3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8K4"]],"x":"$","n":"span","l":" git rerere\nResolved 'hello.rb' using previous resolution.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8K5"]],"x":"$","n":"span","l":" cat hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8K6"]],"x":"#","n":"span","l":"! /usr/bin/env ruby\n\ndef hello\n  puts 'hola mundo'\nend"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0056:off:0000000000"],["id","xref-r_advanced_merging"],["aid","BE8JU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"高级合并","n":"a","l":" 中看到这个的一个例子。\n然而现在，让我们通过运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8JV"]],"x":"rerere","n":"code","l":" 来重新解决它："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8JM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8JN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8JO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8JP"]],"x":"$","n":"span","l":" git checkout --conflict=merge hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8JQ"]],"x":"$","n":"span","l":" cat hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8JR"]],"x":"#","n":"span","l":"! /usr/bin/env ruby\n\ndef hello\n<<<<<<< ours\n  puts 'hola world'\n=======\n  puts 'hello mundo'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8JS"]],"x":">","n":"span","l":">>>>>> theirs\nend"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8JK"]],"x":"checkout","n":"code","l":" 命令重新恢复到冲突时候的文件状态："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE8JI"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","rerere3"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003D?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8JC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8JD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8JE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8JF"]],"x":"$","n":"span","l":" git diff\ndiff --cc hello.rb\nindex a440db6,54336ba..0000000\n--- a/hello.rb\n+++ b/hello.rb\n@@@ -1,7 -1,7 +1,7 @@@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8JG"]],"x":"  #","n":"span","l":"! /usr/bin/env ruby\n\n  def hello\n-   puts 'hola world'\n -  puts 'hello mundo'\n++  puts 'hola mundo'\n  end"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8JA"]],"x":"git diff","n":"code","l":" 将会显示出它是如何自动地重新解决的："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8J4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8J5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8J6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8J7"]],"x":"$","n":"span","l":" cat hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8J8"]],"x":"#","n":"span","l":"! /usr/bin/env ruby\n\ndef hello\n  puts 'hola mundo'\nend"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8J2"]],"x":"Resolved FILE using previous resolution","n":"code","l":" 这行。\n如果我们看这个文件，会发现它已经被解决了，而且在它里面没有合并冲突标记。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8IS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8IT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8IU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8IV"]],"x":"$","n":"span","l":" git checkout i18n-world\nSwitched to branch 'i18n-world'\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8J0"]],"x":"$","n":"span","l":" git rebase master\nFirst, rewinding head to replay your work on top of it...\nApplying: i18n one word\nUsing index info to reconstruct a base tree...\nFalling back to patching base and 3-way merge...\nAuto-merging hello.rb\nCONFLICT (content): Merge conflict in hello.rb\nResolved 'hello.rb' using previous resolution.\nFailed to merge in the changes.\nPatch failed at 0001 i18n one word"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8IM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8IN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8IO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8IP"]],"x":"$","n":"span","l":" git reset --hard HEAD^\nHEAD is now at ad63f15 i18n the hello"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004V:off:0000000000"],["aid","BE8IJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重置揭密","n":"a","l":" 看到的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8IK"]],"x":"reset","n":"code","l":" 来回滚分支。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE8IH"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","rerere2"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003I?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8IA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8IB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8IC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8ID"]],"x":"$","n":"span","l":" git add hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8IE"]],"x":"$","n":"span","l":" git commit\nRecorded resolution for 'hello.rb'.\n[master 68e16e5] Merge branch 'i18n'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8I7"]],"x":"hello.rb","n":"code","l":" 文件的一个块冲突中有 “hello mundo” 在一边与 “hola world” 在另一边，它会将其解决为 “hola mundo”。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8I1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8I2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8I3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8I4"]],"x":"$","n":"span","l":" git rerere diff\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,11 +1,7 @@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8I5"]],"x":" #","n":"span","l":"! /usr/bin/env ruby\n\n def hello\n-<<<<<<<\n-  puts 'hello mundo'\n-=======\n-  puts 'hola world'\n->>>>>>>\n+  puts 'hola mundo'\n end"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8HU"]],"x":"puts 'hola mundo'","n":"code","l":" 来解决它，可以再次运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8HV"]],"x":"rerere diff","n":"code","l":" 命令来查看 rerere 将会记住的内容："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8HP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8HQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8HR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8HS"]],"x":"$","n":"span","l":" git ls-files -u\n100644 39804c942a9c1f2c03dc7c5ebcd7f3e3a6b97519 1\thello.rb\n100644 a440db6e8d1fd76ad438a49025a9ad9ce746f581 2\thello.rb\n100644 54336ba847c3758ab604876419607e9443848474 3\thello.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8HM"]],"x":"rerere","n":"code","l":" 有关系），可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8HN"]],"x":"ls-files -u","n":"code","l":" 来查看冲突文件的之前、左边与右边版本："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8HG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8HH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8HI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8HJ"]],"x":"$","n":"span","l":" git rerere diff\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,11 +1,11 @@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8HK"]],"x":" #","n":"span","l":"! /usr/bin/env ruby\n\n def hello\n-<<<<<<<\n-  puts 'hello mundo'\n-=======\n+<<<<<<< HEAD\n   puts 'hola world'\n->>>>>>>\n+=======\n+  puts 'hello mundo'\n+>>>>>>> i18n-world\n end"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8HE"]],"x":"git rerere diff","n":"code","l":" 将会显示解决方案的当前状态 - 开始解决前与解决后的样子。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8H9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8HA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8HB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8HC"]],"x":"$","n":"span","l":" git rerere status\nhello.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8H6"]],"x":"git rerere","n":"code","l":" 也会通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8H7"]],"x":"git rerere status","n":"code","l":" 告诉你它记录的合并前状态。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8GO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8GP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8GQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8GR"]],"x":"$","n":"span","l":" git status\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8GS"]],"x":"#","n":"span","l":" On branch master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8GT"]],"x":"#","n":"span","l":" Unmerged paths:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8GU"]],"x":"#","n":"span","l":"   (use "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE8GV"]],"x":"\"git reset HEAD <file>...\"","n":"span","l":" to unstage)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8H0"]],"x":"#","n":"span","l":"   (use "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE8H1"]],"x":"\"git add <file>...\"","n":"span","l":" to mark resolution)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8H2"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8H3"]],"x":"#","n":"span","l":"\tboth modified:      hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8H4"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8GK"]],"x":"Recorded preimage for FILE","n":"code","l":"。\n除此之外它应该看起来就像一个普通的合并冲突。\n在这个时候，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8GL"]],"x":"rerere","n":"code","l":" 可以告诉我们几件事。\n和往常一样，在这个时候你可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8GM"]],"x":"git status","n":"code","l":" 来查看所有冲突的内容："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8GF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8GG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8GH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8GI"]],"x":"$","n":"span","l":" git merge i18n-world\nAuto-merging hello.rb\nCONFLICT (content): Merge conflict in hello.rb\nRecorded preimage for 'hello.rb'\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE8GC"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","rerere1"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0054?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8G6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8G7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8G8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8G9"]],"x":"#","n":"span","l":"! /usr/bin/env ruby\n\ndef hello\n  puts 'hello world'\nend"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8G3"]],"x":".git/rr-cache","n":"code","l":" 目录来开启它，但是设置选项更干净并且可以应用到全局。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8FU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8FV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8G0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8G1"]],"x":"$","n":"span","l":" git config --global rerere.enabled true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8FS"]],"x":"rerere","n":"code","l":" 功能，仅仅需要运行这个配置选项："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8FN"]],"x":"rerere","n":"code","l":" 功能打开后偶尔合并，解决冲突，然后返回到合并前。\n如果你持续这样做，那么最终的合并会很容易，因为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8FO"]],"x":"rerere","n":"code","l":" 可以为你自动做所有的事情。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8FL"]],"x":"git rerere","n":"code","l":" 功能是一个隐藏的功能。\n正如它的名字 “reuse recorded resolution” 所指，它允许你让 Git 记住解决一个块冲突的方法，这样在下一次看到相同冲突时，Git 可以为你自动地解决它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8FE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8FF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8FG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8FH"]],"x":"$","n":"span","l":" git diff-tree -p rack_remote/master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8FB"]],"x":"rack","n":"code","l":" 子目和最近一次从服务器上抓取的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8FC"]],"x":"master","n":"code","l":" 分支进行比较，你可以运行："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8F6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8F7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8F8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8F9"]],"x":"$","n":"span","l":" git diff-tree -p rack_branch"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8F1"]],"x":"rack","n":"code","l":" 子目录和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8F2"]],"x":"rack_branch","n":"code","l":" 分支的差异——来确定你是否需要合并它们——你不能使用普通的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8F3"]],"x":"diff","n":"code","l":" 命令。\n取而代之的是，你必须使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8F4"]],"x":"git diff-tree","n":"code","l":" 来和你的目标分支做比较："},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005N:off:0000000000"],["id","xref-r_git_submodules"],["aid","BE8EV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"子模块","n":"a","l":" 中介绍）。\n我们可以在自己的仓库中保持一些和其他项目相关的分支，偶尔使用子树合并将它们合并到我们的项目中。\n某些时候这种方式很有用，例如当所有的代码都提交到一个地方的时候。\n然而，它同时也有缺点，它更加复杂且更容易让人犯错，例如重复合并改动或者不小心将分支提交到一个无关的仓库上去。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8ES"]],"x":"rack","n":"code","l":" 子目录中做改动然后将它们合并入你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8ET"]],"x":"rack_branch","n":"code","l":" 分支中，之后你可能将其提交给项目维护着或者将它们推送到上游。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8EM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8EN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8EO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8EP"]],"x":"$","n":"span","l":" git checkout master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8EQ"]],"x":"$","n":"span","l":" git merge --squash -s recursive -Xsubtree=rack rack_branch\nSquash commit -- not updating HEAD\nAutomatic merge went well; stopped before committing as requested"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8EI"]],"x":"master","n":"code","l":" 分支。\n使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8EJ"]],"x":"--squash","n":"code","l":" 选项和使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8EK"]],"x":"-Xsubtree","n":"code","l":" 选项（它采用递归合并策略），都可以用来可以拉取变更并且预填充提交信息。\n（递归策略在这里是默认的，提到它是为了让读者有个清晰的概念。）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8EC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8ED"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8EE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8EF"]],"x":"$","n":"span","l":" git checkout rack_branch\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8EG"]],"x":"$","n":"span","l":" git pull"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8E6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8E7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8E8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8E9"]],"x":"$","n":"span","l":" git read-tree --prefix=rack/ -u rack_branch"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8DT"]],"x":"master","n":"code","l":" 项目中作为一个子目录。\n我们可以在 Git 中执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8DU"]],"x":"git read-tree","n":"code","l":" 来实现。\n你可以在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["aid","BE8DV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" 中查看更多 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8E0"]],"x":"read-tree","n":"code","l":" 的相关信息，现在你只需要知道它会读取一个分支的根目录树到当前的暂存区和工作目录里。\n先切回你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8E1"]],"x":"master","n":"code","l":" 分支，将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8E2"]],"x":"rack_back","n":"code","l":" 分支拉取到我们项目的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8E3"]],"x":"master","n":"code","l":" 分支中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8E4"]],"x":"rack","n":"code","l":" 子目录。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8DL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8DM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8DN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8DO"]],"x":"$","n":"span","l":" ls\nAUTHORS         KNOWN-ISSUES   Rakefile      contrib         lib\nCOPYING         README         bin           example         test\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8DP"]],"x":"$","n":"span","l":" git checkout master\nSwitched to branch \"master\"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8DQ"]],"x":"$","n":"span","l":" ls\nREADME"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8DI"]],"x":"rack_branch","n":"code","l":" 分支里就有 Rack 项目的根目录，而我们的项目则在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8DJ"]],"x":"master","n":"code","l":" 分支里。\n如果你从一个分支切换到另一个分支，你可以看到它们的项目根目录是不同的："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8DB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8DC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8DD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8DE"]],"x":"$","n":"span","l":" git remote add rack_remote https://github.com/rack/rack\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8DF"]],"x":"$","n":"span","l":" git fetch rack_remote\nwarning: no common commits\nremote: Counting objects: 3184, done.\nremote: Compressing objects: 100% (1465/1465), done.\nremote: Total 3184 (delta 1952), reused 2770 (delta 1675)\nReceiving objects: 100% (3184/3184), 677.42 KiB | 4 KiB/s, done.\nResolving deltas: 100% (1952/1952), done.\nFrom https://github.com/rack/rack\n * [new branch]      build      -> rack_remote/build\n * [new branch]      master     -> rack_remote/master\n * [new branch]      rack-0.4   -> rack_remote/rack-0.4\n * [new branch]      rack-0.9   -> rack_remote/rack-0.9\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8DG"]],"x":"$","n":"span","l":" git checkout -b rack_branch rack_remote/master\nBranch rack_branch set up to track remote branch refs/remotes/rack_remote/master.\nSwitched to a new branch \"rack_branch\""},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_我们的或他们的偏好"],["aid","BE8BK"]],"x":"我们的或他们的偏好","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8BL"]],"x":"首先，有另一种我们可以通过 “recursive” 合并模式做的有用工作。\n我们之前已经看到传递给 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8BP"]],"x":"默认情况下，当 Git 看到两个分支合并中的冲突时，它会将合并冲突标记添加到你的代码中并标记文件为冲突状态来让你解决。\n如果你希望 Git 简单地选择特定的一边并忽略另外一边而不是让你手动合并冲突，你可以传递给 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8BT"]],"x":"如果 Git 看到这个，它并不会增加冲突标记。\n任何可以合并的区别，它会直接合并。\n任何有冲突的区别，它会简单地选择你全局指定的一边，包括二进制文件。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8BU"]],"x":"如果我们回到之前我们使用的 “hello world” 例子中，我们可以看到合并入我们的分支时引发了冲突。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8BV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8C4"]],"x":"然而如果我们运行时增加 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8C7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8CC"]],"x":"在上例中，它并不会为 “hello mundo” 与 “hola world” 标记合并冲突，它只会简单地选取 “hola world”。\n然而，在那个分支上所有其他非冲突的改动都可以被成功地合并入。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8CD"]],"x":"这个选项也可以传递给我们之前看到的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8CG"]],"x":"如果想要做类似的事情但是甚至并不想让 Git 尝试合并另外一边的修改，有一个更严格的选项，它是 “ours” 合并 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8CJ"]],"x":"这本质上会做一次假的合并。\n它会记录一个以两边分支作为父结点的新合并提交，但是它甚至根本不关注你正合并入的分支。\n它只会简单地把当前分支的代码当作合并结果记录下来。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8CK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8CR"]],"x":"你可以看到合并后与合并前我们的分支并没有任何区别。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8CS"]],"x":"当再次合并时从本质上欺骗 Git 认为那个分支已经合并过经常是很有用的。\n例如，假设你有一个分叉的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8CT"]],"x":"release","n":"code","l":" 分支并且在上面做了一些你想要在未来某个时候合并回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8CU"]],"x":"master","n":"code","l":" 的工作。\n与此同时 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8CV"]],"x":"master","n":"code","l":" 分支上的某些 bugfix 需要向后移植回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8D0"]],"x":"release","n":"code","l":" 分支。\n你可以合并 bugfix 分支进入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8D1"]],"x":"release","n":"code","l":" 分支同时也 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8D2"]],"x":"merge -s ours","n":"code","l":" 合并进入你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8D3"]],"x":"master","n":"code","l":" 分支（即使那个修复已经在那儿了）这样当你之后再次合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8D4"]],"x":"release","n":"code","l":" 分支时，就不会有来自 bugfix 的冲突。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8CL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8CM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8CN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8CO"]],"x":"$","n":"span","l":" git merge -s ours mundo\nMerge made by the 'ours' strategy.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8CP"]],"x":"$","n":"span","l":" git diff HEAD HEAD~\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8CQ"]],"x":"$","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE8CH"]],"x":"策略","n":"em","l":"。\n这与 “ours” recursive 合并 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE8CI"]],"x":"选项","n":"em","l":" 不同。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8CE"]],"x":"git merge-file","n":"code","l":" 命令，通过运行类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8CF"]],"x":"git merge-file --ours","n":"code","l":" 的命令来合并单个文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8C8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8C9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8CA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8CB"]],"x":"$","n":"span","l":" git merge -Xours mundo\nAuto-merging hello.rb\nMerge made by the 'recursive' strategy.\n hello.rb | 2 +-\n test.sh  | 2 ++\n 2 files changed, 3 insertions(+), 1 deletion(-)\n create mode 100644 test.sh"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8C5"]],"x":"-Xours","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8C6"]],"x":"-Xtheirs","n":"code","l":" 参数就不会有冲突。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8C0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8C1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8C2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8C3"]],"x":"$","n":"span","l":" git merge mundo\nAuto-merging hello.rb\nCONFLICT (content): Merge conflict in hello.rb\nResolved 'hello.rb' using previous resolution.\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BQ"]],"x":"merge","n":"code","l":" 命令一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BR"]],"x":"-Xours","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BS"]],"x":"-Xtheirs","n":"code","l":" 参数。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BM"]],"x":"-X","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BN"]],"x":"ignore-all-space","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BO"]],"x":"ignore-space-change","n":"code","l":" 选项，但是我们也可以告诉 Git 当它看见一个冲突时直接选择一边。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_reverse_commit"],["aid","BE89K"]],"x":"还原提交","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE89L"]],"x":"如果移动分支指针并不适合你，Git 给你一个生成一个新提交的选项，提交将会撤消一个已存在提交的所有修改。\nGit 称这个操作为 “还原”，在这个特定的场景下，你可以像这样调用它：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE89M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE89R"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8A4"]],"x":"有还原提交的历史看起来像这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE8A5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8A9"]],"x":"新的提交 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8AF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8AK"]],"n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE8AP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8AS"]],"x":"解决这个最好的方式是撤消还原原始的合并，因为现在你想要引入被还原出去的修改，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE8AU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE8B4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE8B7"]],"x":"在本例中，","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8B8"]],"x":"M","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8B9"]],"x":"^M","n":"code","l":" 抵消了。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BA"]],"x":"^^M","n":"code","l":" 事实上合并入了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BB"]],"x":"C3","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BC"]],"x":"C4","n":"code","l":" 的修改，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BD"]],"x":"C8","n":"code","l":" 合并了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BE"]],"x":"C7","n":"code","l":" 的修改，所以现在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8BF"]],"x":"topic","n":"code","l":" 已经完全被合并了。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE8B5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","BE8B6"]],"x":"Figure 6. 在重新合并一个还原合并后的历史","n":"figcaption","l":"\n"},{"a":[["alt","在重新合并一个还原合并后的历史"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000B?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8AV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8B0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8B1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8B2"]],"x":"$","n":"span","l":" git revert ^M\n[master 09f0126] Revert \"Revert \"Merge branch 'topic'\"\"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8B3"]],"x":"$","n":"span","l":" git merge topic"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE8AT"]],"x":"然后","n":"strong","l":" 创建一个新的合并提交："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE8AQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","BE8AR"]],"x":"Figure 5. 含有坏掉合并的历史","n":"figcaption","l":"\n"},{"a":[["alt","含有坏掉合并的历史"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001O?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AL"]],"x":"topic","n":"code","l":" 中并没有东西不能从 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AM"]],"x":"master","n":"code","l":" 中追踪到达。\n更糟的是，如果你在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AN"]],"x":"topic","n":"code","l":" 中增加工作然后再次合并，Git 只会引入被还原的合并 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE8AO"]],"x":"之后","n":"em","l":" 的修改。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE8AG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE8AH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE8AI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE8AJ"]],"x":"$","n":"span","l":" git merge topic\nAlready up-to-date."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AA"]],"x":"^M","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AB"]],"x":"C6","n":"code","l":" 有完全一样的内容，所以从这儿开始就像合并从未发生过，除了“现在还没合并”的提交依然在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AC"]],"x":"HEAD","n":"code","l":" 的历史中。\n如果你尝试再次合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AD"]],"x":"topic","n":"code","l":" 到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8AE"]],"x":"master","n":"code","l":" Git 会感到困惑："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE8A6"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","BE8A7"]],"x":"Figure 4. 在 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","BE8A8"]],"x":"git revert -m 1","n":"code","l":" 后的历史"},{"a":[["alt","在 `git revert -m 1` 后的历史"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0037?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE89S"]],"x":"-m 1","n":"code","l":" 标记指出 “mainline” 需要被保留下来的父结点。\n当你引入一个合并到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE89T"]],"x":"HEAD","n":"code","l":"（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE89U"]],"x":"git merge topic","n":"code","l":"），新提交有两个父结点：第一个是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE89V"]],"x":"HEAD","n":"code","l":"（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8A0"]],"x":"C6","n":"code","l":"），第二个是将要合并入分支的最新提交（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8A1"]],"x":"C4","n":"code","l":"）。\n在本例中，我们想要撤消所有由父结点 #2（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8A2"]],"x":"C4","n":"code","l":"）合并引入的修改，同时保留从父结点 #1（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE8A3"]],"x":"C4","n":"code","l":"）开始的所有内容。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE89N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE89O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE89P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE89Q"]],"x":"$","n":"span","l":" git revert -m 1 HEAD\n[master b1d8379] Revert \"Merge branch 'topic'\""},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_修复引用"],["aid","BE88Q"]],"x":"修复引用","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE88R"]],"x":"如果这个不想要的合并提交只存在于你的本地仓库中，最简单且最好的解决方案是移动分支到你想要它指向的地方。\n大多数情况下，如果你在错误的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE88U"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE892"]],"x":"我们之前在 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE896"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE89G"]],"x":"这个方法的缺点是它会重写历史，在一个共享的仓库中这会造成问题的。\n查阅 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001S:off:000000002H"],["id","xref--ch03-git-branching--r_rebase_peril"],["aid","BE89H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基的风险","n":"a","l":" 来了解更多可能发生的事情；用简单的话说就是如果其他人已经有你将要重写的提交，你应当避免使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE89I"]],"x":"reset","n":"code","l":"。\n如果有任何其他提交在合并之后创建了，那么这个方法也会无效；移动引用实际上会丢失那些改动。"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","BE897"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE898"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE89C"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE89E"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE89F"]],"x":"使工作目录看起来像索引。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE89D"]],"x":"使索引看起来像 HEAD。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE899"]],"x":"移动 HEAD 指向的分支。\n在本例中，我们想要移动 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE89A"]],"x":"master","n":"code","l":" 到合并提交（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE89B"]],"x":"C6","n":"code","l":"）之前所在的位置。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004V:off:0000000000"],["id","xref-r_git_reset"],["aid","BE893"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重置揭密","n":"a","l":" 已经介绍了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE894"]],"x":"reset","n":"code","l":"，所以现在指出这里发生了什么并不是很困难。\n让我们快速复习下："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE895"]],"x":"reset --hard","n":"code","l":" 通常会经历三步："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE88V"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","BE890"]],"x":"Figure 3. 在 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","BE891"]],"x":"git reset --hard HEAD~","n":"code","l":" 之后的历史"},{"a":[["alt","在 `git reset --hard HEAD~` 之后的历史"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002I?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE88S"]],"x":"git merge","n":"code","l":" 后运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE88T"]],"x":"git reset --hard HEAD~","n":"code","l":"，这会重置分支指向所以它们看起来像这样："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE88M"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","BE88N"]],"x":"Figure 2. 意外的合并提交","n":"figcaption","l":"\n"},{"a":[["alt","意外的合并提交"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0058?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE88K"]],"x":"master","n":"code","l":" 中，现在提交历史看起来是这样："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_组合式差异格式"],["aid","BE87C"]],"x":"组合式差异格式","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE87D"]],"x":"因为 Git 暂存合并成功的结果，当你在合并冲突状态下运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE87F"]],"x":"在合并冲突后直接运行的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE87H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE87N"]],"x":"这种叫作 “组合式差异” 的格式会在每一行给你两列数据。\n第一列为你显示 “ours” 分支与工作目录的文件区别（添加或删除），第二列显示 “theirs” 分支与工作目录的拷贝区别。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE87O"]],"x":"所以在上面的例子中可以看到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE87R"]],"x":"如果我们解决冲突再次运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE87T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE884"]],"x":"这里显示出 “hola world” 在我们这边但不在工作拷贝中，那个 “hello mundo” 在他们那边但不在工作拷贝中，最终 “hola mundo” 不在任何一边但是现在在工作拷贝中。\n在提交解决方案前这对审核很有用。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE885"]],"x":"也可以在合并后通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE88A"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE88B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE88C"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE88D"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE88E"]],"x":"$","n":"span","l":" git log --cc -p -1\ncommit 14f41939956d80b9e17bb8721354c33f8d5b5a79\nMerge: f1270f7 e3eb223\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri Sep 19 18:14:49 2014 +0200\n\n    Merge branch 'mundo'\n\n    Conflicts:\n        hello.rb\n\ndiff --cc hello.rb\nindex 0399cd5,59727f0..e1d0799\n--- a/hello.rb\n+++ b/hello.rb\n@@@ -1,7 -1,7 +1,7 @@@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE88F"]],"x":"  #","n":"span","l":"! /usr/bin/env ruby\n\n  def hello\n-   puts 'hola world'\n -  puts 'hello mundo'\n++  puts 'hola mundo'\n  end\n\n  hello()"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE886"]],"x":"git log","n":"code","l":" 来获取相同信息，并查看冲突是如何解决的。\n如果你对一个合并提交运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE887"]],"x":"git show","n":"code","l":" 命令 Git 将会输出这种格式，或者你也可以在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE888"]],"x":"git log -p","n":"code","l":"（默认情况下该命令只会展示还没有合并的补丁）命令之后加上 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE889"]],"x":"--cc","n":"code","l":" 选项。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE87U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE87V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE880"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE881"]],"x":"$","n":"span","l":" vim hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE882"]],"x":"$","n":"span","l":" git diff\ndiff --cc hello.rb\nindex 0399cd5,59727f0..0000000\n--- a/hello.rb\n+++ b/hello.rb\n@@@ -1,7 -1,7 +1,7 @@@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE883"]],"x":"  #","n":"span","l":"! /usr/bin/env ruby\n\n  def hello\n-   puts 'hola world'\n -  puts 'hello mundo'\n++  puts 'hola mundo'\n  end\n\n  hello()"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE87S"]],"x":"git diff","n":"code","l":"，我们将会看到同样的事情，但是它有一点帮助。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE87P"]],"x":"<<<<<<<","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE87Q"]],"x":">>>>>>>","n":"code","l":" 行在工作拷贝中但是并不在合并的任意一边中。\n这很有意义，合并工具因为我们的上下文被困住了，它期望我们去移除它们。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE87I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE87J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE87K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE87L"]],"x":"$","n":"span","l":" git diff\ndiff --cc hello.rb\nindex 0399cd5,59727f0..0000000\n--- a/hello.rb\n+++ b/hello.rb\n@@@ -1,7 -1,7 +1,11 @@@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE87M"]],"x":"  #","n":"span","l":"! /usr/bin/env ruby\n\n  def hello\n++<<<<<<< HEAD\n +  puts 'hola world'\n++=======\n+   puts 'hello mundo'\n++>>>>>>> mundo\n  end\n\n  hello()"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE87G"]],"x":"git diff","n":"code","l":" 会给你一个相当独特的输出格式。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE87E"]],"x":"git diff","n":"code","l":" 时，只会得到现在还在冲突状态的区别。\n当需要查看你还需要解决哪些冲突时这很有用。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_merge_log"],["aid","BE86H"]],"x":"合并日志","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE86I"]],"x":"另一个解决合并冲突有用的工具是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE86K"]],"x":"为了得到此次合并中包含的每一个分支的所有独立提交的列表，我们可以使用之前在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE86M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE86U"]],"x":"这个漂亮的列表包含 6 个提交和每一个提交所在的不同开发路径。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE86V"]],"x":"我们可以通过更加特定的上下文来进一步简化这个列表。\n如果我们添加 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE872"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE878"]],"x":"如果你运行命令时用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE879"]],"x":"-p","n":"code","l":" 选项代替，你会得到所有冲突文件的区别。\n快速获得你需要帮助理解为什么发生冲突的上下文，以及如何聪明地解决它，这会 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE87A"]],"x":"非常","n":"strong","l":" 有用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE873"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE874"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE875"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE876"]],"x":"$","n":"span","l":" git log --oneline --left-right --merge\n< 694971d update phrase to hola world\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE877"]],"x":">","n":"span","l":" c3ffff1 changed text to hello mundo"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE870"]],"x":"--merge","n":"code","l":" 选项到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE871"]],"x":"git log","n":"code","l":" 中，它会只显示任何一边接触了合并冲突文件的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE86N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE86O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE86P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE86Q"]],"x":"$","n":"span","l":" git log --oneline --left-right HEAD...MERGE_HEAD\n< f1270f7 update README\n< 9af9d3b add a README\n< 694971d update phrase to hola world\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE86R"]],"x":">","n":"span","l":" e3eb223 add more tests\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE86S"]],"x":">","n":"span","l":" 7cff591 add testing script\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE86T"]],"x":">","n":"span","l":" c3ffff1 changed text to hello mundo"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004D:off:0000000028"],["id","xref-r_triple_dot"],["aid","BE86L"],["target","_blank"],["rel","noopener noreferrer"]],"x":"三点","n":"a","l":" 学习的 “三点” 语法。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE86J"]],"x":"git log","n":"code","l":"。\n这可以帮助你得到那些对冲突有影响的上下文。\n回顾一点历史来记起为什么两条线上的开发会触碰同一片代码有时会很有用。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_checking_out_conflicts"],["aid","BE84D"]],"x":"检出冲突","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE84E"]],"x":"也许有时我们并不满意这样的解决方案，或许有时还要手动编辑一边或者两边的冲突，但还是依旧无法正常工作，这时我们需要更多的上下文关联来解决这些冲突。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE84F"]],"x":"让我们来稍微改动下例子。\n对于本例，我们有两个长期分支，每一个分支都有几个提交，但是在合并时却创建了一个合理的冲突。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE84G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE84L"]],"x":"现在有只在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE84Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE84V"]],"x":"我们想要看一下合并冲突是什么。\n如果我们打开这个文件，我们将会看到类似下面的内容：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE850"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE859"]],"x":"合并的两边都向这个文件增加了内容，但是导致冲突的原因是其中一些提交修改了文件的同一个地方。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE85A"]],"x":"让我们探索一下现在你手边可用来查明这个冲突是如何产生的工具。\n应该如何修复这个冲突看起来或许并不明显。\n这时你需要更多上下文。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE85B"]],"x":"一个很有用的工具是带 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE85E"]],"x":"可以传递给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE85J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE85O"]],"x":"一旦我们运行它，文件看起来会像下面这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE85P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE863"]],"x":"如果你喜欢这种格式，可以通过设置 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE866"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE86B"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE86F"]],"x":"当有二进制文件冲突时这可能会特别有用，因为可以简单地选择一边，或者可以只合并另一个分支的特定文件 - 可以做一次合并然后在提交前检出一边或另一边的特定文件。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE86C"]],"x":"git checkout","n":"code","l":" 命令也可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE86D"]],"x":"--ours","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE86E"]],"x":"--theirs","n":"code","l":" 选项，这是一种无需合并的快速方式，你可以选择留下一边的修改而丢弃掉另一边修改。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE867"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE868"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE869"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE86A"]],"x":"$","n":"span","l":" git config --global merge.conflictstyle diff3"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE864"]],"x":"merge.conflictstyle","n":"code","l":" 选项为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE865"]],"x":"diff3","n":"code","l":" 来做为以后合并冲突的默认选项。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE85Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE85R"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE85S"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE85T"]],"x":"#! /usr/bin/env ruby","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE85U"]],"x":"def","n":"span","l":" hello\n<<<<<<< ours\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE85V"]],"x":"'hola world'","n":"span","l":"\n||||||| base\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE860"]],"x":"'hello world'","n":"span","l":"\n=======\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE861"]],"x":"'hello mundo'","n":"span","l":"\n>>>>>>> theirs\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE862"]],"x":"end","n":"span","l":"\n\nhello()"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE85K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE85L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE85M"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE85N"]],"x":"$","n":"span","l":" git checkout --conflict=diff3 hello.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE85F"]],"x":"--conflict","n":"code","l":" 参数 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE85G"]],"x":"diff3","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE85H"]],"x":"merge","n":"code","l":"（默认选项）。\n如果传给它 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE85I"]],"x":"diff3","n":"code","l":"，Git 会使用一个略微不同版本的冲突标记：不仅仅只给你 “ours” 和 “theirs” 版本，同时也会有 “base” 版本在中间来给你更多的上下文。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE85C"]],"x":"--conflict","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE85D"]],"x":"git checkout","n":"code","l":"。\n这会重新检出文件并替换合并冲突标记。\n如果想要重置标记并尝试再次解决它们的话这会很有用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE851"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE852"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE853"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE854"]],"x":"#! /usr/bin/env ruby","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE855"]],"x":"def","n":"span","l":" hello\n<<<<<<< HEAD\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE856"]],"x":"'hola world'","n":"span","l":"\n=======\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE857"]],"x":"'hello mundo'","n":"span","l":"\n>>>>>>> mundo\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE858"]],"x":"end","n":"span","l":"\n\nhello()"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE84R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE84S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE84T"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE84U"]],"x":"$","n":"span","l":" git merge mundo\nAuto-merging hello.rb\nCONFLICT (content): Merge conflict in hello.rb\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE84M"]],"x":"master","n":"code","l":" 分支上的三次单独提交，还有其他三次提交在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE84N"]],"x":"mundo","n":"code","l":" 分支上。\n如果我们尝试将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE84O"]],"x":"mundo","n":"code","l":" 分支合并入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE84P"]],"x":"master","n":"code","l":" 分支，我们得到一个冲突。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE84H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE84I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE84J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE84K"]],"x":"$","n":"span","l":" git log --graph --oneline --decorate --all\n* f1270f7 (HEAD, master) update README\n* 9af9d3b add a README\n* 694971d update phrase to hola world\n| * e3eb223 (mundo) add more tests\n| * 7cff591 add testing script\n| * c3ffff1 changed text to hello mundo\n|/\n* b7dcc89 initial hello world code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE848"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE849"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE84A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE84B"]],"x":"$","n":"span","l":" git clean -f\nRemoving hello.common.rb\nRemoving hello.ours.rb\nRemoving hello.theirs.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE846"]],"x":"git clean","n":"code","l":" 命令来清理我们为手动合并而创建但不再有用的额外文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE840"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE841"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE842"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE843"]],"x":"$","n":"span","l":" git diff --base -b\n* Unmerged path hello.rb\ndiff --git a/hello.rb b/hello.rb\nindex ac51efd..44d0a25 100755\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,7 +1,8 @@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE844"]],"x":" #","n":"span","l":"! /usr/bin/env ruby\n\n+# prints out a greeting\n def hello\n-  puts 'hello world'\n+  puts 'hello mundo'\n end\n\n hello()"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE83U"]],"x":"git diff --base","n":"code","l":" 来查看文件在两边是如何改动的。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE83O"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE83P"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE83Q"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE83R"]],"x":"$","n":"span","l":" git diff --theirs -b\n* Unmerged path hello.rb\ndiff --git a/hello.rb b/hello.rb\nindex e85207e..44d0a25 100755\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,5 +1,6 @@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE83S"]],"x":" #","n":"span","l":"! /usr/bin/env ruby\n\n+# prints out a greeting\n def hello\n   puts 'hello mundo'\n end"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE83K"]],"x":"git diff --theirs","n":"code","l":"。\n在本例及后续的例子中，我们会使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE83L"]],"x":"-b","n":"code","l":" 来去除空白，因为我们将它与 Git 中的，而不是我们清理过的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE83M"]],"x":"hello.theirs.rb","n":"code","l":" 文件比较。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE83D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE83E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE83F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE83G"]],"x":"$","n":"span","l":" git diff --ours\n* Unmerged path hello.rb\ndiff --git a/hello.rb b/hello.rb\nindex 36c06c8..44d0a25 100755\n--- a/hello.rb\n+++ b/hello.rb\n@@ -2,7 +2,7 @@\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE83H"]],"x":" #","n":"span","l":" prints out a greeting\n def hello\n-  puts 'hello world'\n+  puts 'hello mundo'\n end\n\n hello()"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE83B"]],"x":"git diff --ours","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE839"]],"x":"git diff","n":"code","l":" 来比较将要提交作为合并结果的工作目录与其中任意一个阶段的文件差异。\n让我们看看它们。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE836"]],"x":"ignore-space-change","n":"code","l":" 选项要更好，因为在合并前真正地修复了空白修改而不是简单地忽略它们。\n在使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE837"]],"x":"ignore-space-change","n":"code","l":" 进行合并操作后，我们最终得到了有几行是 DOS 行尾的文件，从而使提交内容混乱了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE82T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE82U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE82V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE830"]],"x":"$","n":"span","l":" dos2unix hello.theirs.rb\ndos2unix: converting file hello.theirs.rb to Unix format ...\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE831"]],"x":"$","n":"span","l":" git merge-file -p "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE832"]],"x":"\\","n":"span","l":"\n    hello.ours.rb hello.common.rb hello.theirs.rb > hello.rb\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE833"]],"x":"$","n":"span","l":" git diff -b\ndiff --cc hello.rb\nindex 36c06c8,e85207e..0000000\n--- a/hello.rb\n+++ b/hello.rb\n@@@ -1,8 -1,7 +1,8 @@@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE834"]],"x":"  #","n":"span","l":"! /usr/bin/env ruby\n\n +# prints out a greeting\n  def hello\n-   puts 'hello world'\n+   puts 'hello mundo'\n  end\n\n  hello()"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE82R"]],"x":"git merge-file","n":"code","l":" 命令来重新合并那个文件。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE82P"]],"x":":1:hello.rb","n":"code","l":" 只是查找那个 blob 对象 SHA-1 值的简写。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE82K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE82L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE82M"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE82N"]],"x":"$","n":"span","l":" git ls-files -u\n100755 ac51efdc3df4f4fd328d1a02ad05331d8e2c9111 1\thello.rb\n100755 36c06c8752c78d2aff89571132f3bf7841a7b5c3 2\thello.rb\n100755 e85207e04dfdd5eb0a1e9febbc67fd837c44a1cd 3\thello.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE82I"]],"x":"ls-files -u","n":"code","l":" 底层命令来得到这些文件的 Git blob 对象的实际 SHA-1 值。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE82B"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE82C"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE82D"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE82E"]],"x":"$","n":"span","l":" git show :1:hello.rb > hello.common.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE82F"]],"x":"$","n":"span","l":" git show :2:hello.rb > hello.ours.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE82G"]],"x":"$","n":"span","l":" git show :3:hello.rb > hello.theirs.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE829"]],"x":"git show","n":"code","l":" 命令与一个特别的语法，你可以将冲突文件的这些版本释放出一份拷贝。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE827"]],"x":"MERGE_HEAD","n":"code","l":"，即你将要合并入的版本（“theirs”）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE824"]],"x":"dos2unix","n":"code","l":" 程序。\n所以如果那样的话，我们该如何做？"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_忽略空白"],["aid","BE81J"]],"x":"忽略空白","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE81K"]],"x":"在这个特定的例子中，冲突与空白有关。\n我们知道这点是因为这个例子很简单，但是在实际的例子中发现这样的冲突也很容易，因为每一行都被移除而在另一边每一行又被加回来了。\n默认情况下，Git 认为所有这些行都改动了，所以它不会合并文件。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE81L"]],"x":"默认合并策略可以带有参数，其中的几个正好是关于忽略空白改动的。\n如果你看到在一次合并中有大量的空白问题，你可以简单地中止它并重做一次，这次使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE81P"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE81U"]],"x":"因为在本例中，实际上文件修改并没有冲突，一旦我们忽略空白修改，每一行都能被很好地合并。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE81V"]],"x":"如果你的团队中的某个人可能不小心重新格式化空格为制表符或者相反的操作，这会是一个救命稻草。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE81Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE81R"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE81S"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE81T"]],"x":"$","n":"span","l":" git merge -Xignore-space-change whitespace\nAuto-merging hello.rb\nMerge made by the 'recursive' strategy.\n hello.rb | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE81M"]],"x":"-Xignore-all-space","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE81N"]],"x":"-Xignore-space-change","n":"code","l":" 选项。\n第一个选项忽略任意 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE81O"]],"x":"数量","n":"strong","l":" 的已有空白的修改，第二个选项忽略所有空白修改。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_abort_merge"],["aid","BE810"]],"x":"中断一次合并","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE811"]],"x":"我们现在有几个选项。\n首先，让我们介绍如何摆脱这个情况。\n你可能不想处理冲突这种情况，完全可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE813"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE81E"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE81G"]],"x":"如果因为某些原因你发现自己处在一个混乱的状态中然后只是想要重来一次，也可以运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE81H"]],"x":"git reset --hard HEAD","n":"code","l":" 回到之前的状态或其他你想要恢复的状态。\n请牢记这会将清除工作目录中的所有内容，所以确保你不需要保存这里的任意改动。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE81F"]],"x":"git merge --abort","n":"code","l":" 选项会尝试恢复到你运行合并前的状态。\n但当运行命令前，在工作目录中有未储藏、未提交的修改时它不能完美处理，除此之外它都工作地很好。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE814"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE815"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE816"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE817"]],"x":"$","n":"span","l":" git status -sb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE818"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE819"]],"x":"# master","n":"span","l":"\nUU hello.rb\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE81A"]],"x":"$","n":"span","l":" git merge --abort\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE81B"]],"x":"$","n":"span","l":" git status -sb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE81C"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE81D"]],"x":"# master","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE812"]],"x":"git merge --abort","n":"code","l":" 来简单地退出合并。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE80R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE80S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE80T"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE80U"]],"x":"$","n":"span","l":" git merge whitespace\nAuto-merging hello.rb\nCONFLICT (content): Merge conflict in hello.rb\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE80P"]],"x":"whitespace","n":"code","l":" 分支，因为修改了空白字符，所以合并会出现冲突。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE80F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE80G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE80H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE80I"]],"x":"$","n":"span","l":" git checkout master\nSwitched to branch 'master'\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE80J"]],"x":"$","n":"span","l":" vim hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE80K"]],"x":"$","n":"span","l":" git diff\ndiff --git a/hello.rb b/hello.rb\nindex ac51efd..36c06c8 100755\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,5 +1,6 @@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE80L"]],"x":" #","n":"span","l":"! /usr/bin/env ruby\n\n+# prints out a greeting\n def hello\n   puts 'hello world'\n end\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE80M"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE80N"]],"x":"'document the function'","n":"span","l":"\n[master bec6336] document the function\n 1 file changed, 1 insertion(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE80D"]],"x":"master","n":"code","l":" 分支并为函数增加一些注释。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE800"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE801"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE802"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE803"]],"x":"$","n":"span","l":" git checkout -b whitespace\nSwitched to a new branch 'whitespace'\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE804"]],"x":"$","n":"span","l":" unix2dos hello.rb\nunix2dos: converting file hello.rb to DOS format ...\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE805"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE806"]],"x":"'converted hello.rb to DOS'","n":"span","l":"\n[whitespace 3270f76] converted hello.rb to DOS\n 1 file changed, 7 insertions(+), 7 deletions(-)\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE807"]],"x":"$","n":"span","l":" vim hello.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE808"]],"x":"$","n":"span","l":" git diff -b\ndiff --git a/hello.rb b/hello.rb\nindex ac51efd..e85207e 100755\n--- a/hello.rb\n+++ b/hello.rb\n@@ -1,7 +1,7 @@\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE809"]],"x":" #","n":"span","l":"! /usr/bin/env ruby\n\n def hello\n-  puts 'hello world'\n+  puts 'hello mundo'^M\n end\n\n hello()\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE80A"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE80B"]],"x":"'hello mundo change'","n":"span","l":"\n[whitespace 6d338d2] hello mundo change\n 1 file changed, 1 insertion(+), 1 deletion(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7VU"]],"x":"whitespace","n":"code","l":" 的新分支并将所有 Unix 换行符修改为 DOS 换行符，实质上虽然改变了文件的每一行，但改变的都只是空白字符。\n然后我们修改行 “hello world” 为 “hello mundo”。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7VM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7VN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7VO"]],"n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7VP"]],"x":"#! /usr/bin/env ruby","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7VQ"]],"x":"def","n":"span","l":" hello\n  puts "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7VR"]],"x":"'hello world'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7VS"]],"x":"end","n":"span","l":"\n\nhello()"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7VK"]],"x":"hello world","n":"em","l":" 的 Ruby 文件。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001G:off:0000000000"],["id","xref--ch03-git-branching--r_basic_merge_conflicts"],["aid","BE7VH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"遇到冲突时的分支合并","n":"a","l":" 介绍了解决合并冲突的一些基础知识，对于更复杂的冲突，Git 提供了几个工具来帮助你指出将会发生什么以及如何更好地处理冲突。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_总结"],["aid","BE7V0"]],"x":"总结","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7V1"]],"x":"希望你现在熟悉并理解了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7V4"]],"x":"下面的速查表列出了命令对树的影响。\n“HEAD” 一列中的 “REF” 表示该命令移动了 HEAD 指向的分支引用，而`‘HEAD’' 则表示只移动了 HEAD 自身。\n特别注意 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7V7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7V8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","pcalibre1 table pcalibre"]],"x":"\n","n":"table","l":"\n"},{"a":[["class","pcalibre1 calibre20 pcalibre"]],"x":"\n","n":"colgroup","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre22"]],"x":"\n","n":"thead","l":"\n"},{"a":[["class","calibre25 pcalibre1 pcalibre"]],"x":"\n","n":"tbody","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","calibre12 pcalibre1 pcalibre"]],"x":"NO","n":"strong"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"NO","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"checkout (commit) [file]","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"NO","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"NO","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"reset (commit) [file]","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","calibre12 pcalibre1 pcalibre"]],"x":"File Level","n":"strong"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"HEAD","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"checkout [commit]","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","calibre12 pcalibre1 pcalibre"]],"x":"NO","n":"strong"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"REF","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"reset --hard [commit]","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"NO","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"REF","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"reset [commit]","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"YES","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"NO","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"NO","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"REF","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"reset --soft [commit]","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","calibre12 pcalibre1 pcalibre"]],"x":"Commit Level","n":"strong"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"HEAD","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"Index","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"Workdir","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"WD Safe?","n":"th","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7V5"]],"x":"WD Safe?","n":"em","l":" 一列 - 如果它标记为 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7V6"]],"x":"NO","n":"strong","l":"，那么运行该命令之前请考虑一下。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7V2"]],"x":"reset","n":"code","l":" 命令，不过关于它和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7V3"]],"x":"checkout","n":"code","l":" 之间的区别，你可能还是会有点困惑，毕竟不太可能记住不同调用的所有规则。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_检出"],["aid","BE7TG"]],"x":"检出","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7TH"]],"x":"最后，你大概还想知道 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","不带路径"],["aid","BE7TM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","带路径"],["aid","BE7UI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_带路径"],["aid","BE7UJ"]],"x":"带路径","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7UK"]],"x":"运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7UQ"]],"x":"此外，同 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UR"]],"x":"git reset","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7US"]],"x":"git add","n":"code","l":" 一样，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UT"]],"x":"checkout","n":"code","l":" 也接受一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UU"]],"x":"--patch","n":"code","l":" 选项，允许你根据选择一块一块地恢复文件内容。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UL"]],"x":"checkout","n":"code","l":" 的另一种方式就是指定一个文件路径，这会像 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UM"]],"x":"reset","n":"code","l":" 一样不会移动 HEAD。\n它就像 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UN"]],"x":"git reset [branch] file","n":"code","l":" 那样用该次提交中的那个文件来更新索引，但是它也会覆盖工作目录中对应的文件。\n它就像是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UO"]],"x":"git reset --hard [branch] file","n":"code","l":"（如果 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UP"]],"x":"reset","n":"code","l":" 允许你这样运行的话）- 这样对工作目录并不安全，它也不会移动 HEAD。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_不带路径"],["aid","BE7TN"]],"x":"不带路径","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7TO"]],"x":"运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7TS"]],"x":"首先不同于 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7U0"]],"x":"第二个重要的区别是如何更新 HEAD。\n","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7U3"]],"x":"例如，假设我们有 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7UD"]],"x":"所以，虽然在这两种情况下我们都移动 HEAD 使其指向了提交 A，但_做法_是非常不同的。\n","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7UG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7UH"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset checkout"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001A?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UE"]],"x":"reset","n":"code","l":" 会移动 HEAD 分支的指向，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UF"]],"x":"checkout","n":"code","l":" 则移动 HEAD 自身。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U4"]],"x":"master","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U5"]],"x":"develop","n":"code","l":" 分支，它们分别指向不同的提交；我们现在在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U6"]],"x":"develop","n":"code","l":" 上（所以 HEAD 指向它）。\n如果我们运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U7"]],"x":"git reset master","n":"code","l":"，那么 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U8"]],"x":"develop","n":"code","l":" 自身现在会和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U9"]],"x":"master","n":"code","l":" 指向同一个提交。\n而如果我们运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UA"]],"x":"git checkout master","n":"code","l":" 的话，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UB"]],"x":"develop","n":"code","l":" 不会移动，HEAD 自身会移动。\n现在 HEAD 将会指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7UC"]],"x":"master","n":"code","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U1"]],"x":"reset","n":"code","l":" 会移动 HEAD 分支的指向，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7U2"]],"x":"checkout","n":"code","l":" 只会移动 HEAD 自身来指向另一个分支。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TT"]],"x":"reset --hard","n":"code","l":"，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TU"]],"x":"checkout","n":"code","l":" 对工作目录是安全的，它会通过检查来确保不会将已更改的文件弄丢。\n其实它还更聪明一些。它会在工作目录中先试着简单合并一下，这样所有_还未修改过的_文件都会被更新。\n而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TV"]],"x":"reset --hard","n":"code","l":" 则会不做检查就全面地替换所有东西。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TP"]],"x":"git checkout [branch]","n":"code","l":" 与运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TQ"]],"x":"git reset --hard [branch]","n":"code","l":" 非常相似，它会更新所有三棵树使其看起来像 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TR"]],"x":"[branch]","n":"code","l":"，不过有两点重要的区别。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TI"]],"x":"checkout","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TJ"]],"x":"reset","n":"code","l":" 之间的区别。\n和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TK"]],"x":"reset","n":"code","l":" 一样，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TL"]],"x":"checkout","n":"code","l":" 也操纵三棵树，不过它有一点不同，这取决于你是否传给该命令一个文件路径。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_压缩"],["aid","BE7SQ"]],"x":"压缩","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7SR"]],"x":"我们来看看如何利用这种新的功能来做一些有趣的事情 - 压缩提交。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7SS"]],"x":"假设你的一系列提交信息中有 “oops.”、“WIP” 和 “forgot this file”，\n聪明的你就能使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7T0"]],"x":"假设你有一个项目，第一次提交中有一个文件，第二次提交增加了一个新的文件并修改了第一个文件，第三次提交再次修改了第一个文件。\n由于第二次提交是一个未完成的工作，因此你想要压缩它。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7T1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7T3"]],"x":"那么可以运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7T5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7T7"]],"x":"然后只需再次运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7T9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7TB"]],"x":"现在你可以查看可到达的历史，即将会推送的历史，现在看起来有个 v1 版 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TC"]],"x":"file-a.txt","n":"code","l":" 的提交，接着第二个提交将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TD"]],"x":"file-a.txt","n":"code","l":" 修改成了 v3 版并增加了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7TE"]],"x":"file-b.txt","n":"code","l":"。\n包含 v2 版本的文件已经不在历史中了。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7TA"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset squash r3"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0020?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7T8"]],"x":"git commit","n":"code","l":"："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7T6"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset squash r2"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002T?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7T4"]],"x":"git reset --soft HEAD~2","n":"code","l":" 来将 HEAD 分支移动到一个旧一点的提交上（即你想要保留的第一个提交）："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7T2"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset squash r1"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001F?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7ST"]],"x":"reset","n":"code","l":" 来轻松快速地将它们压缩成单个提交，也显出你的聪明。\n（"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004S:off:00000001L7"],["id","xref-r_squashing"],["aid","BE7SU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"压缩提交","n":"a","l":" 展示了另一种方式，不过在本例中用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7SV"]],"x":"reset","n":"code","l":" 更简单。）"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_通过路径来重置"],["aid","BE7RD"]],"x":"通过路径来重置","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7RE"]],"x":"前面讲述了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7RI"]],"x":"现在，假如我们运行 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7RN"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7RV"]],"x":"所以它本质上只是将 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7S1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7S3"]],"x":"它还有 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7S6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7S8"]],"x":"这就是为什么 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7SB"]],"x":"我们可以不让 Git 从 HEAD 拉取数据，而是通过具体指定一个提交来拉取该文件的对应版本。\n我们只需运行类似于 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7SD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7SF"]],"x":"它其实做了同样的事情，也就是把工作目录中的文件恢复到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7SL"]],"x":"还有一点同 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7SM"]],"x":"git add","n":"code","l":" 一样，就是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7SN"]],"x":"reset","n":"code","l":" 命令也可以接受一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7SO"]],"x":"--patch","n":"code","l":" 选项来一块一块地取消暂存的内容。\n这样你就可以根据选择来取消暂存或恢复内容了。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7SG"]],"x":"v1","n":"strong","l":" 版本，运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7SH"]],"x":"git add","n":"code","l":" 添加它，然后再将它恢复到 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7SI"]],"x":"v3","n":"strong","l":" 版本（只是不用真的过一遍这些步骤）。\n如果我们现在运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7SJ"]],"x":"git commit","n":"code","l":"，它就会记录一条“将该文件恢复到 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7SK"]],"x":"v1","n":"strong","l":" 版本”的更改，尽管我们并未在工作目录中真正地再次拥有它。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7SE"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset path3"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000D?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7SC"]],"x":"git reset eb43bf file.txt","n":"code","l":" 的命令即可。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7S9"]],"x":"git status","n":"code","l":" 命令的输出会建议运行此命令来取消暂存一个文件。\n（查看 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000U:off:00000002DF"],["id","xref--ch02-git-basics--r_unstaging"],["aid","BE7SA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"取消暂存的文件","n":"a","l":" 来了解更多。）"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7S7"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset path2"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001S?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7S4"]],"x":"取消暂存文件","n":"em","l":" 的实际效果。\n如果我们查看该命令的示意图，然后再想想 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7S5"]],"x":"git add","n":"code","l":" 所做的事，就会发现它们正好相反。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7S2"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset path1"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003C?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7S0"]],"x":"file.txt","n":"code","l":" 从 HEAD 复制到索引中。"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","BE7RO"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE7RP"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE7RS"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE7RT"]],"x":"让索引看起来像 HEAD ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7RU"]],"x":"（到此处停止）","n":"em"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE7RQ"]],"x":"移动 HEAD 分支的指向 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7RR"]],"x":"（已跳过）","n":"em"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7RJ"]],"x":"git reset file.txt","n":"code","l":"\n（这其实是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7RK"]],"x":"git reset --mixed HEAD file.txt","n":"code","l":" 的简写形式，因为你既没有指定一个提交的 SHA-1 或分支，也没有指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7RL"]],"x":"--soft","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7RM"]],"x":"--hard","n":"code","l":"），它会："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7RF"]],"x":"reset","n":"code","l":" 基本形式的行为，不过你还可以给它提供一个作用路径。\n若指定了一个路径，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7RG"]],"x":"reset","n":"code","l":" 将会跳过第 1 步，并且将它的作用范围限定为指定的文件或文件集合。\n这样做自然有它的道理，因为 HEAD 只是一个指针，你无法让它同时指向两个提交中各自的一部分。\n不过索引和工作目录 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7RH"]],"x":"可以部分更新","n":"em","l":"，所以重置会继续进行第 2、3 步。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_回顾"],["aid","BE7QT"]],"x":"回顾","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7QU"]],"n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7R0"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","BE7R1"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE7R2"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE7R6"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","BE7RA"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE7RB"]],"x":"使工作目录看起来像索引","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE7R7"]],"x":"使索引看起来像 HEAD ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7R8"]],"x":"（若未指定 ","n":"em"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7R9"]],"x":"--hard","n":"code","l":"，则到此停止）"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","BE7R3"]],"x":"移动 HEAD 分支的指向 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7R4"]],"x":"（若指定了 ","n":"em"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7R5"]],"x":"--soft","n":"code","l":"，则到此停止）"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QV"]],"x":"reset","n":"code","l":" 命令会以特定的顺序重写这三棵树，在你指定以下选项时停止："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_第_3_步_更新工作目录_hard"],["aid","BE7QB"]],"x":"第 3 步：更新工作目录（--hard）","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7QC"]],"n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7QF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7QH"]],"x":"现在让我们回想一下刚才发生的事情。\n你撤销了最后的提交、","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7QL"]],"x":"必须注意，","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QM"]],"x":"--hard","n":"code","l":" 标记是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QN"]],"x":"reset","n":"code","l":" 命令唯一的危险用法，它也是 Git 会真正地销毁数据的仅有的几个操作之一。\n其他任何形式的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QO"]],"x":"reset","n":"code","l":" 调用都可以轻松撤消，但是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QP"]],"x":"--hard","n":"code","l":" 选项不能，因为它强制覆盖了工作目录中的文件。\n在这种特殊情况下，我们的 Git 数据库中的一个提交内还留有该文件的 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7QQ"]],"x":"v3","n":"strong","l":" 版本，我们可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QR"]],"x":"reflog","n":"code","l":" 来找回它。但是若该文件还未提交，Git 仍会覆盖它从而导致无法恢复。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QI"]],"x":"git add","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QJ"]],"x":"git commit","n":"code","l":" 命令"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7QK"]],"x":"以及","n":"strong","l":"工作目录中的所有工作。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7QG"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset hard"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0050?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QD"]],"x":"reset","n":"code","l":" 要做的的第三件事情就是让工作目录看起来像索引。\n如果使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7QE"]],"x":"--hard","n":"code","l":" 选项，它将会继续这一步。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_第_2_步_更新索引_mixed"],["aid","BE7PQ"]],"x":"第 2 步：更新索引（--mixed）","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7PR"]],"x":"注意，如果你现在运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7PT"]],"x":"接下来，","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7PV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7Q1"]],"x":"如果指定 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7Q5"]],"x":"现在再看一眼上图，理解一下发生的事情：它依然会撤销一上次 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7Q6"]],"x":"提交","n":"code","l":"，但还会 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7Q7"]],"x":"取消暂存","n":"em","l":" 所有的东西。\n于是，我们回滚到了所有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7Q8"]],"x":"git add","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7Q9"]],"x":"git commit","n":"code","l":" 的命令执行之前。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7Q2"]],"x":"--mixed","n":"code","l":" 选项，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7Q3"]],"x":"reset","n":"code","l":" 将会在这时停止。\n这也是默认行为，所以如果没有指定任何选项（在本例中只是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7Q4"]],"x":"git reset HEAD~","n":"code","l":"），这就是命令将会停止的地方。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7Q0"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset mixed"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000A?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PU"]],"x":"reset","n":"code","l":" 会用 HEAD 指向的当前快照的内容来更新索引。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PS"]],"x":"git status","n":"code","l":" 的话，就会看到新的 HEAD 和以绿色标出的它和索引之间的区别。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_第_1_步_移动_head"],["aid","BE7P2"]],"x":"第 1 步：移动 HEAD","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7P3"]],"n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7PC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7PE"]],"x":"无论你调用了何种形式的带有一个提交的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7PH"]],"x":"现在看一眼上图，理解一下发生的事情：它本质上是撤销了上一次 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PI"]],"x":"git commit","n":"code","l":" 命令。\n当你在运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PJ"]],"x":"git commit","n":"code","l":" 时，Git 会创建一个新的提交，并移动 HEAD 所指向的分支来使其指向该提交。\n当你将它 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PK"]],"x":"reset","n":"code","l":" 回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PL"]],"x":"HEAD~","n":"code","l":"（HEAD 的父结点）时，其实就是把该分支移动回原来的位置，而不会改变索引和工作目录。\n现在你可以更新索引并再次运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PM"]],"x":"git commit","n":"code","l":" 来完成 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PN"]],"x":"git commit --amend","n":"code","l":" 所要做的事情了（见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004P:off:00000000VT"],["id","xref-r_git_amend"],["aid","BE7PO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"修改最后一次提交","n":"a","l":"）。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PF"]],"x":"reset","n":"code","l":"，它首先都会尝试这样做。\n使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PG"]],"x":"reset --soft","n":"code","l":"，它将仅仅停在那儿。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7PD"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset soft"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001Q?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7P4"]],"x":"reset","n":"code","l":" 做的第一件事是移动 HEAD 的指向。\n这与改变 HEAD 自身不同（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7P5"]],"x":"checkout","n":"code","l":" 所做的）；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7P6"]],"x":"reset","n":"code","l":" 移动 HEAD 指向的分支。\n这意味着如果 HEAD 设置为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7P7"]],"x":"master","n":"code","l":" 分支（例如，你正在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7P8"]],"x":"master","n":"code","l":" 分支上），运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7P9"]],"x":"git reset 9e5e64a","n":"code","l":" 将会使 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PA"]],"x":"master","n":"code","l":" 指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7PB"]],"x":"9e5e64a","n":"code","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7P0"]],"x":"reset","n":"code","l":" 看看它都做了什么。\n它以一种简单可预见的方式直接操纵这三棵树。\n它做了三个基本操作。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7OU"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset start"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003A?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7OS"]],"x":"file.txt","n":"code","l":" 文件并第三次提交它。\n现在的历史看起来是这样的："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7OQ"]],"x":"reset","n":"code","l":" 命令会更有意义。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_工作流程"],["aid","BE7NC"]],"x":"工作流程","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7ND"]],"x":"Git 主要的目的是通过操纵这三棵树来以更加连续的状态记录项目的快照。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7NE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7NG"]],"x":"让我们来可视化这个过程：假设我们进入到一个新目录，其中有一个文件。\n我们称其为该文件的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7NK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7NM"]],"x":"此时，只有工作目录有内容。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7NN"]],"x":"现在我们想要提交这个文件，所以用 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7NP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7NR"]],"x":"接着运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7NU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7O0"]],"x":"此时如果我们运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7O2"]],"x":"现在我们想要对文件进行修改然后提交它。\n我们将会经历同样的过程；首先在工作目录中修改文件。\n我们称其为该文件的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7O4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7O6"]],"x":"如果现在运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7O9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7OB"]],"x":"此时，由于索引和 HEAD 不同，若运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","BE7OE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7OG"]],"x":"现在运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7OI"]],"x":"切换分支或克隆的过程也类似。\n当检出一个分支时，它会修改 ","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7OJ"]],"x":"HEAD","n":"strong","l":" 指向新的分支引用，将 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7OK"]],"x":"索引","n":"strong","l":" 填充为该次提交的快照，然后将 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7OL"]],"x":"索引","n":"strong","l":" 的内容复制到 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7OM"]],"x":"工作目录","n":"strong","l":" 中。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7OH"]],"x":"git status","n":"code","l":" 会没有输出，因为三棵树又变得相同了。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7OF"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset ex6"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004R?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7OC"]],"x":"git status","n":"code","l":" 的话就会看到 “Changes to be committed” 下的该文件变为绿色\n——也就是说，现在预期的下一次提交与上一次提交不同。\n最后，我们运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7OD"]],"x":"git commit","n":"code","l":" 来完成提交。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7OA"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset ex5"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0007?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7O7"]],"x":"git status","n":"code","l":"，我们会看到文件显示在 “Changes not staged for commit,” 下面并被标记为红色，因为该条目在索引与工作目录之间存在不同。\n接着我们运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7O8"]],"x":"git add","n":"code","l":" 来将它暂存到索引中。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7O5"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset ex4"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001N?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7O3"]],"x":"v2","n":"strong","l":" 版本，并将它标记为红色。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7O1"]],"x":"git status","n":"code","l":"，会发现没有任何改动，因为现在三棵树完全相同。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7NV"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset ex3"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002R?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7NS"]],"x":"git commit","n":"code","l":"，它会取得索引中的内容并将它保存为一个永久的快照，然后创建一个指向该快照的提交对象，最后更新 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7NT"]],"x":"master","n":"code","l":" 来指向本次提交。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7NQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset ex2"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003U?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7NO"]],"x":"git add","n":"code","l":" 来获取工作目录中的内容，并将其复制到索引中。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7NL"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset ex1"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0005?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7NH"]],"x":"v1","n":"strong","l":" 版本，将它标记为蓝色。\n现在运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7NI"]],"x":"git init","n":"code","l":"，这会创建一个 Git 仓库，其中的 HEAD 引用指向未创建的分支（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7NJ"]],"x":"master","n":"code","l":" 还不存在）。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7NF"]],"x":"\n","n":"div","l":"\n"},{"a":[["alt","reset workflow"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001I?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_三棵树"],["aid","BE7LT"]],"x":"三棵树","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7LU"]],"x":"理解 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7M1"]],"x":"Git 作为一个系统，是以它的一般操作来管理并操纵这三棵树的：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7M2"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","HEAD"],["aid","BE7M4"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","索引"],["aid","BE7MI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","工作目录"],["aid","BE7N1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_工作目录"],["aid","BE7N2"]],"x":"工作目录","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7N3"]],"x":"最后，你就有了自己的工作目录。\n另外两棵树以一种高效但并不直观的方式，将它们的内容存储在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7N6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7N7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7N8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7N9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7NA"]],"x":"$","n":"span","l":" tree\n.\n├── README\n├── Rakefile\n└── lib\n    └── simplegit.rb\n\n1 directory, 3 files"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7N4"]],"x":".git","n":"code","l":" 文件夹中。\n工作目录会将它们解包为实际的文件以便编辑。\n你可以把工作目录当做 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7N5"]],"x":"沙盒","n":"strong","l":"。在你将修改提交到暂存区并记录到历史之前，可以随意更改。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_the_index"],["aid","BE7MJ"]],"x":"索引","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7MK"]],"x":"索引是你的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7MN"]],"x":"Git 将上一次检出到工作目录中的所有文件填充到索引区，它们看起来就像最初被检出时的样子。\n之后你会将其中一些文件替换为新版本，接着通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7MP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7MU"]],"x":"再说一次，我们在这里又用到了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7N0"]],"x":"确切来说，索引并非技术上的树结构，它其实是以扁平的清单实现的。不过对我们而言，把它当做树就够了。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7MV"]],"x":"ls-files","n":"code","l":" 这个幕后的命令，它会显示出索引当前的样子。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7MQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7MR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7MS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7MT"]],"x":"$","n":"span","l":" git ls-files -s\n100644 a906cb2a4a904a152e80877d4088654daad0c859 0\tREADME\n100644 8f94139338f9404f26296befa88755fc2598c289 0\tRakefile\n100644 47c6340d6459e05787f644c2447d2595f5d3a54b 0\tlib/simplegit.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7MO"]],"x":"git commit","n":"code","l":" 将它们转换为树来用作新的提交。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7ML"]],"x":"预期的下一次提交","n":"strong","l":"。\n我们也会将这个概念引用为 Git 的 “暂存区域”，这就是当你运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7MM"]],"x":"git commit","n":"code","l":" 时 Git 看起来的样子。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_head"],["aid","BE7M5"]],"x":"HEAD","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7M6"]],"x":"HEAD 是当前分支引用的指针，它总是指向该分支上的最后一次提交。\n这表示 HEAD 将是下一次提交的父结点。\n通常，理解 HEAD 的最简方式，就是将它看做 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7M8"]],"x":"其实，查看快照的样子很容易。\n下例就显示了 HEAD 快照实际的目录列表，以及其中每个文件的 SHA-1 校验和：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7M9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7MF"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7MG"]],"x":"cat-file","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7MH"]],"x":"ls-tree","n":"code","l":" 是底层命令，它们一般用于底层工作，在日常工作中并不使用。不过它们能帮助我们了解到底发生了什么。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7MA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7MB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7MC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7MD"]],"x":"$","n":"span","l":" git cat-file -p HEAD\ntree cfda3bf379e4f8dba8717dee55aab78aef7f4daf\nauthor Scott Chacon  1301511835 -0700\ncommitter Scott Chacon  1301511835 -0700\n\ninitial commit\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7ME"]],"x":"$","n":"span","l":" git ls-tree -r HEAD\n100644 blob a906cb2a4a904a152...   README\n100644 blob 8f94139338f9404f2...   Rakefile\n040000 tree 99f1a6d12cb4b6f19...   lib"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7M7"]],"x":"你的上一次提交","n":"strong","l":" 的快照。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE7M3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","pcalibre1 table pcalibre"]],"x":"\n","n":"table","l":"\n"},{"a":[["class","pcalibre1 calibre20 pcalibre"]],"x":"\n","n":"colgroup","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre22"]],"x":"\n","n":"thead","l":"\n"},{"a":[["class","calibre25 pcalibre1 pcalibre"]],"x":"\n","n":"tbody","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"沙盒","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"Working Directory","n":"p"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"预期的下一次提交的快照","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"Index","n":"p"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"上一次提交的快照，下一次提交的父结点","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"HEAD","n":"p"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"树","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"用途","n":"th","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7LV"]],"x":"reset","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7M0"]],"x":"checkout","n":"code","l":" 的最简方法，就是以 Git 的思维框架（将其作为内容管理器）来管理三棵不同的树。\n“树” 在我们这里的实际意思是 “文件的集合”，而不是指特定的数据结构。\n（在某些情况下索引看起来并不像一棵树，不过我们现在的目的是用简单的方式思考它。）"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7LQ"]],"x":"reset","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7LR"]],"x":"checkout","n":"code","l":"。\n在你初次遇到的 Git 命令中，这两个是最让人困惑的。\n它们能做很多事情，所以看起来我们很难真正地理解并恰当地运用它们。\n针对这一点，我们先来做一个简单的比喻。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_核武器级选项_filter_branch"],["aid","BE7K8"]],"x":"核武器级选项：filter-branch","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7K9"]],"x":"有另一个历史改写的选项，如果想要通过脚本的方式改写大量提交的话可以使用它 - 例如，全局修改你的邮箱地址或从每一个提交中移除一个文件。\n这个命令是 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","从每一个提交移除一个文件"],["aid","BE7KB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使一个子目录做为新的根目录"],["aid","BE7KU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","全局修改邮箱地址"],["aid","BE7LA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_全局修改邮箱地址"],["aid","BE7LB"]],"x":"全局修改邮箱地址","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7LC"]],"x":"另一个常见的情形是在你开始工作时忘记运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7LG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7LM"]],"x":"这会遍历并重写每一个提交来包含你的新邮箱地址。\n因为提交包含了它们父提交的 SHA-1 校验和，这个命令会修改你的历史中的每一个提交的 SHA-1 校验和，而不仅仅只是那些匹配邮箱地址的提交。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7LH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7LI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7LJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7LK"]],"x":"$","n":"span","l":" git filter-branch --commit-filter "},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","BE7LL"]],"x":"'","n":"span","l":"\n        if [ \"$GIT_AUTHOR_EMAIL\" = \"schacon@localhost\" ];\n        then\n                GIT_AUTHOR_NAME=\"Scott Chacon\";\n                GIT_AUTHOR_EMAIL=\"schacon@example.com\";\n                git commit-tree \"$@\";\n        else\n                git commit-tree \"$@\";\n        fi' HEAD"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7LD"]],"x":"git config","n":"code","l":" 来设置你的名字与邮箱地址，或者你想要开源一个项目并且修改所有你的工作邮箱地址为你的个人邮箱地址。\n任何情形下，你也可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7LE"]],"x":"filter-branch","n":"code","l":" 来一次性修改多个提交中的邮箱地址。\n需要小心的是只修改你自己的邮箱地址，所以你使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7LF"]],"x":"--commit-filter","n":"code","l":"："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_使一个子目录做为新的根目录"],["aid","BE7KV"]],"x":"使一个子目录做为新的根目录","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7L0"]],"x":"假设已经从另一个源代码控制系统中导入，并且有几个没意义的子目录（trunk、tags 等等）。\n如果想要让 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7L3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7L8"]],"x":"现在新项目根目录是 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7L9"]],"x":"trunk","n":"code","l":" 子目录了。\nGit 会自动移除所有不影响子目录的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7L4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7L5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7L6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7L7"]],"x":"$","n":"span","l":" git filter-branch --subdirectory-filter trunk HEAD\nRewrite 856f0bf61e41a27326cdae8f09fe708d679f596f (12/12)\nRef 'refs/heads/master' was rewritten"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7L1"]],"x":"trunk","n":"code","l":" 子目录作为每一个提交的新的项目根目录，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7L2"]],"x":"filter-branch","n":"code","l":" 也可以帮助你那么做："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_removing_file_every_commit"],["aid","BE7KC"]],"x":"从每一个提交移除一个文件","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7KD"]],"x":"这经常发生。\n有人粗心地通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7KI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7KO"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7KR"]],"x":"最后将可以看到 Git 重写树与提交然后移动分支指针。\n通常一个好的想法是在一个测试分支中做这件事，然后当你决定最终结果是真正想要的，可以硬重置 master 分支。\n为了让 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KS"]],"x":"filter-branch","n":"code","l":" 在所有分支上运行，可以给命令传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KT"]],"x":"--all","n":"code","l":" 选项。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KP"]],"x":"--tree-filter","n":"code","l":" 选项在检出项目的每一个提交后运行指定的命令然后重新提交结果。\n在本例中，你从每一个快照中移除了一个叫作 passwords.txt 的文件，无论它是否存在。\n如果想要移除所有偶然提交的编辑器备份文件，可以运行类似 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KQ"]],"x":"git filter-branch --tree-filter 'rm -f *~' HEAD","n":"code","l":" 的命令。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7KJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7KK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7KL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7KM"]],"x":"$","n":"span","l":" git filter-branch --tree-filter "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7KN"]],"x":"'rm -f passwords.txt'","n":"span","l":" HEAD\nRewrite 6b9b3cf04e7c5686a9cb838c3f36a8cb6a0fc2bd (21/21)\nRef 'refs/heads/master' was rewritten"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KE"]],"x":"git add .","n":"code","l":" 提交了一个巨大的二进制文件，你想要从所有地方删除它。\n可能偶然地提交了一个包括一个密码的文件，然而你想要开源项目。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KF"]],"x":"filter-branch","n":"code","l":" 是一个可能会用来擦洗整个提交历史的工具。\n为了从整个提交历史中移除一个叫做 passwords.txt 的文件，可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KG"]],"x":"--tree-filter","n":"code","l":" 选项给 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KH"]],"x":"filter-branch","n":"code","l":"："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7KA"]],"x":"filter-branch","n":"code","l":"，它可以改写历史中大量的提交，除非你的项目还没有公开并且其他人没有基于要改写的工作的提交做的工作，你不应当使用它。\n然而，它可以很有用。\n你将会学习到几个常用的用途，这样就得到了它适合使用地方的想法。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_拆分提交"],["aid","BE7J6"]],"x":"拆分提交","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7J7"]],"x":"拆分一个提交会撤消这个提交，然后多次地部分地暂存与提交直到完成你所需次数的提交。\n例如，假设想要拆分三次提交的中间那次提交。\n想要将它拆分为两次提交：第一个  “updated README formatting”，第二个 “added blame” 来代替原来的 “updated README formatting and added blame”。\n可以通过修改 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7J9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7JD"]],"x":"然后，当脚本将你进入到命令行时，重置那个提交，拿到被重置的修改，从中创建几次提交。\n当保存并退出编辑器时，Git 带你到列表中第一个提交的父提交，应用第一个提交（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7JI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7JU"]],"x":"Git 在脚本中应用最后一次提交（","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7K0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7K6"]],"x":"再次强调，这些改动了所有在列表中的提交的 SHA-1 校验和，所以要确保列表中的提交还没有推送到共享仓库中。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7K1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7K2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7K3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7K4"]],"x":"$","n":"span","l":" git log -4 --pretty=format:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7K5"]],"x":"\"%h %s\"","n":"span","l":"\n1c002dd added cat-file\n9b29157 added blame\n35cfb2b updated README formatting\nf3cc40e changed my name a bit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7JV"]],"x":"a5f4a0d","n":"code","l":"），历史记录看起来像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7JJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7JK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7JL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7JM"]],"x":"$","n":"span","l":" git reset HEAD^\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7JN"]],"x":"$","n":"span","l":" git add README\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7JO"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7JP"]],"x":"'updated README formatting'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7JQ"]],"x":"$","n":"span","l":" git add lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7JR"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7JS"]],"x":"'added blame'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7JT"]],"x":"$","n":"span","l":" git rebase --continue"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7JE"]],"x":"f7f3f6d","n":"code","l":"），应用第二个提交（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7JF"]],"x":"310154e","n":"code","l":"），然后让你进入命令行。\n那里，可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7JG"]],"x":"git reset HEAD^","n":"code","l":" 做一次针对那个提交的混合重置，实际上将会撤消那次提交并将修改的文件未暂存。\n现在可以暂存并提交文件直到有几个提交，然后当完成时运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7JH"]],"x":"git rebase --continue","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7JA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7JB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7JC"]],"n":"span","l":"pick f7f3f6d changed my name a bit\nedit 310154e updated README formatting and added blame\npick a5f4a0d added cat-file"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7J8"]],"x":"rebase -i","n":"code","l":" 的脚本来做到这点，将要拆分的提交的指令修改为 “edit”："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_squashing"],["aid","BE7HR"]],"x":"压缩提交","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7HS"]],"x":"通过交互式变基工具，也可以将一连串提交压缩成一个单独的提交。\n在变基信息中脚本给出了有用的指令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7HT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7IL"]],"x":"如果，指定 “squash” 而不是 “pick” 或 “edit”，Git 将应用两者的修改并合并提交信息在一起。\n所以，如果想要这三次提交变为一个提交，可以这样修改脚本：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7IM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7IQ"]],"x":"当保存并退出编辑器时，Git 应用所有的三次修改然后将你放到编辑器中来合并三次提交信息：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7IR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7J4"]],"x":"当你保存之后，你就拥有了一个包含前三次提交的全部变更的提交。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7IS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7IT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7IU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IV"]],"x":"#","n":"span","l":" This is a combination of 3 commits.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7J0"]],"x":"#","n":"span","l":" The first commit"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","BE7J1"]],"x":"'","n":"span","l":"s message is:\nchanged my name a bit\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7J2"]],"x":"#","n":"span","l":" This is the 2nd commit message:\n\nupdated README formatting and added blame\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7J3"]],"x":"#","n":"span","l":" This is the 3rd commit message:\n\nadded cat-file"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7IN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7IO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7IP"]],"n":"span","l":"pick f7f3f6d changed my name a bit\nsquash 310154e updated README formatting and added blame\nsquash a5f4a0d added cat-file"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7HU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7HV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7I0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I1"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I2"]],"x":"#","n":"span","l":" Commands:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I3"]],"x":"#","n":"span","l":"  p, pick = use commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I4"]],"x":"#","n":"span","l":"  r, reword = use commit, but edit the commit message\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I5"]],"x":"#","n":"span","l":"  e, edit = use commit, but stop "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I6"]],"x":"for","n":"span","l":" amending\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I7"]],"x":"#","n":"span","l":"  s, squash = use commit, but meld into previous commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7I8"]],"x":"#","n":"span","l":"  f, fixup = like "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7I9"]],"x":"\"squash\"","n":"span","l":", but discard this commit"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","BE7IA"]],"x":"'","n":"span","l":"s log message\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IB"]],"x":"#","n":"span","l":"  x, exec = run command (the rest of the line) using shell\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IC"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7ID"]],"x":"#","n":"span","l":" These lines can be re-ordered; they are executed from top to bottom.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IE"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IF"]],"x":"#","n":"span","l":" If you remove a line here THAT COMMIT WILL BE LOST.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IG"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IH"]],"x":"#","n":"span","l":" However, "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7II"]],"x":"if","n":"span","l":" you remove everything, the rebase will be aborted.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IJ"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7IK"]],"x":"#","n":"span","l":" Note that empty commits are commented out"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_重新排序提交"],["aid","BE7HC"]],"x":"重新排序提交","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7HD"]],"x":"也可以使用交互式变基来重新排序或完全移除提交。\n如果想要移除 “added cat-file” 提交然后修改另外两个提交引入的顺序，可以将变基脚本从这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7HE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7HI"]],"x":"改为这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7HJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7HN"]],"x":"当保存并退出编辑器时，Git 将你的分支带回这些提交的父提交，应用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7HO"]],"x":"310154e","n":"code","l":" 然后应用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7HP"]],"x":"f7f3f6d","n":"code","l":"，最后停止。\n事实修改了那些提交的顺序并完全地移除了 “added cat-file” 提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7HK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7HL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7HM"]],"n":"span","l":"pick 310154e updated README formatting and added blame\npick f7f3f6d changed my name a bit"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7HF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7HG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7HH"]],"n":"span","l":"pick f7f3f6d changed my name a bit\npick 310154e updated README formatting and added blame\npick a5f4a0d added cat-file"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7H6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7H7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7H8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7H9"]],"x":"$","n":"span","l":" git rebase --continue"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7H0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7H1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7H2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7H3"]],"x":"$","n":"span","l":" git commit --amend"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7GQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7GR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7GS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7GT"]],"x":"$","n":"span","l":" git rebase -i HEAD~3\nStopped at f7f3f6d... changed my name a bit\nYou can amend the commit now, with\n\n       git commit --amend\n\nOnce you’re satisfied with your changes, run\n\n       git rebase --continue"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7GL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7GM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7GN"]],"n":"span","l":"edit f7f3f6d changed my name a bit\npick 310154e updated README formatting and added blame\npick a5f4a0d added cat-file"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7GI"]],"x":"HEAD~3","n":"code","l":"）开始，从上到下的依次重演每一个提交引入的修改。\n它将最旧的而不是最新的列在上面，因为那会是第一个将要重演的。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7GC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7GD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7GE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7GF"]],"x":"$","n":"span","l":" git log --pretty=format:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7GG"]],"x":"\"%h %s\"","n":"span","l":" HEAD~3..HEAD\na5f4a0d added cat-file\n310154e updated README formatting and added blame\nf7f3f6d changed my name a bit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7G9"]],"x":"log","n":"code","l":" 命令，这些提交显示的顺序是相反的。\n运行一次 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE7GA"]],"x":"log","n":"em","l":" 命令，会看到类似这样的东西："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7FG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7FH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7FI"]],"n":"span","l":"pick f7f3f6d changed my name a bit\npick 310154e updated README formatting and added blame\npick a5f4a0d added cat-file\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FJ"]],"x":"#","n":"span","l":" Rebase 710f0f8..a5f4a0d onto 710f0f8\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FK"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FL"]],"x":"#","n":"span","l":" Commands:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FM"]],"x":"#","n":"span","l":"  p, pick = use commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FN"]],"x":"#","n":"span","l":"  r, reword = use commit, but edit the commit message\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FO"]],"x":"#","n":"span","l":"  e, edit = use commit, but stop "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FP"]],"x":"for","n":"span","l":" amending\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FQ"]],"x":"#","n":"span","l":"  s, squash = use commit, but meld into previous commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FR"]],"x":"#","n":"span","l":"  f, fixup = like "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7FS"]],"x":"\"squash\"","n":"span","l":", but discard this commit"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","BE7FT"]],"x":"'","n":"span","l":"s log message\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FU"]],"x":"#","n":"span","l":"  x, exec = run command (the rest of the line) using shell\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FV"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G0"]],"x":"#","n":"span","l":" These lines can be re-ordered; they are executed from top to bottom.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G1"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G2"]],"x":"#","n":"span","l":" If you remove a line here THAT COMMIT WILL BE LOST.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G3"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G4"]],"x":"#","n":"span","l":" However, "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G5"]],"x":"if","n":"span","l":" you remove everything, the rebase will be aborted.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G6"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7G7"]],"x":"#","n":"span","l":" Note that empty commits are commented out"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7FD"]],"x":"HEAD~3..HEAD","n":"code","l":" 范围内的每一个提交都会被重写，无论你是否修改信息。\n不要涉及任何已经推送到中央服务器的提交 - 这样做会产生一次变更的两个版本，因而使他人困惑。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7F8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7F9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7FA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7FB"]],"x":"$","n":"span","l":" git rebase -i HEAD~3"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7F3"]],"x":"git rebase -i","n":"code","l":" 命令，即  "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7F4"]],"x":"HEAD~2^","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7F5"]],"x":"HEAD~3","n":"code","l":"。\n记住 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7F6"]],"x":"~3","n":"code","l":" 可能比较容易，因为你正尝试修改最后三次提交；但是注意实际上指定了以前的四次提交，即想要修改提交的父提交："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7F0"]],"x":"git rebase","n":"code","l":" 增加 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7F1"]],"x":"-i","n":"code","l":" 选项来交互式地运行变基。\n必须指定想要重写多久远的历史，这可以通过告诉命令将要变基到的提交来做到。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_amend"],["aid","BE7EF"]],"x":"修改最后一次提交","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7EG"]],"x":"修改你最近一次提交可能是所有修改历史提交的操作中最常见的一个。\n对于你的最近一次提交，你往往想做两件事情：修改提交信息，或者修改你添加、修改和移除的文件的快照。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7EH"]],"x":"如果，你只是想修改最近一次提交的提交信息，那么很简单：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7EI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7EN"]],"x":"这会把你带入文本编辑器，里面包含了你最近一条提交信息，供你修改。\n当保存并关闭编辑器后，编辑器将会用你输入的内容替换最近一条提交信息。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7EO"]],"x":"如果你已经完成提交，又因为之前提交时忘记添加一个新创建的文件，想通过添加或修改文件来更改提交的快照，也可以通过类似的操作来完成。\n通过修改文件然后运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7ES"]],"x":"使用这个技巧的时候需要小心，因为修正会改变提交的 SHA-1 校验和。\n它类似于一个小的变基 - 如果已经推送了最后一次提交就不要修正它。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7EP"]],"x":"git add","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7EQ"]],"x":"git rm","n":"code","l":" 一个已追踪的文件，随后运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7ER"]],"x":"git commit --amend","n":"code","l":" 拿走当前的暂存区域并使其做为新提交的快照。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7EJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7EK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7EL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7EM"]],"x":"$","n":"span","l":" git commit --amend"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_日志搜索"],["aid","BE7D9"]],"x":"Git 日志搜索","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7DA"]],"x":"或许你不想知道某一项在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7DE"]],"x":"例如，如果我们想找到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7DH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7DM"]],"x":"如果我们查看这些提交的 diff，我们可以看到在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7DP"]],"x":"如果你希望得到更精确的结果，你可以使用 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","行日志搜索"],["aid","BE7DR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_行日志搜索"],["aid","BE7DS"]],"x":"行日志搜索","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7DT"]],"x":"行日志搜索是另一个相当高级并且有用的日志搜索功能。\n这是一个最近新增的不太知名的功能，但却是十分有用。\n在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7E0"]],"x":"例如，假设我们想查看 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7E3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7E8"]],"x":"如果 Git 无法计算出如何匹配你代码中的函数或者方法，你可以提供一个正则表达式。\n例如，这个命令和上面的是等同的：","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7E9"]],"x":"git log -L '/unsigned long git_deflate_bound/',/^}/:zlib.c","n":"code","l":"。\n你也可以提供单行或者一个范围的行号来获得相同的输出。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7E4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7E5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7E6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7E7"]],"x":"$","n":"span","l":" git log -L :git_deflate_bound:zlib.c\ncommit ef49a7a0126d64359c974b4b3b71d7ad42ee3bca\nAuthor: Junio C Hamano <gitster@pobox.com>\nDate:   Fri Jun 10 11:52:15 2011 -0700\n\n    zlib: zlib can only process 4GB at a time\n\ndiff --git a/zlib.c b/zlib.c\n--- a/zlib.c\n+++ b/zlib.c\n@@ -85,5 +130,5 @@\n-unsigned long git_deflate_bound(z_streamp strm, unsigned long size)\n+unsigned long git_deflate_bound(git_zstream *strm, unsigned long size)\n {\n-       return deflateBound(strm, size);\n+       return deflateBound(&strm->z, size);\n }\n\n\ncommit 225a6f1068f71723a910e8565db4e252b3ca21fa\nAuthor: Junio C Hamano <gitster@pobox.com>\nDate:   Fri Jun 10 11:18:17 2011 -0700\n\n    zlib: wrap deflateBound() too\n\ndiff --git a/zlib.c b/zlib.c\n--- a/zlib.c\n+++ b/zlib.c\n@@ -81,0 +85,5 @@\n+unsigned long git_deflate_bound(z_streamp strm, unsigned long size)\n+{\n+       return deflateBound(strm, size);\n+}\n+"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7E1"]],"x":"zlib.c","n":"code","l":" 文件中`git_deflate_bound` 函数的每一次变更，我们可以执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7E2"]],"x":"git log -L :git_deflate_bound:zlib.c","n":"code","l":"。\nGit 会尝试找出这个函数的范围，然后查找历史记录，并且显示从函数创建之后一系列变更对应的补丁。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DU"]],"x":"git log","n":"code","l":" 后加上 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DV"]],"x":"-L","n":"code","l":" 选项即可调用，它可以展示代码中一行或者一个函数的历史。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DQ"]],"x":"-G","n":"code","l":" 选项来使用正则表达式搜索。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DN"]],"x":"ef49a7a","n":"code","l":" 这个提交引入了常量，并且在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DO"]],"x":"e01503b","n":"code","l":" 这个提交中被修改了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7DI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7DJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7DK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7DL"]],"x":"$","n":"span","l":" git log -SZLIB_BUF_MAX --oneline\ne01503b zlib: allow feeding more than 4GB in one go\nef49a7a zlib: zlib can only process 4GB at a time"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DF"]],"x":"ZLIB_BUF_MAX","n":"code","l":" 常量是什么时候引入的，我们可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DG"]],"x":"-S","n":"code","l":" 选项来显示新增和删除该字符串的提交。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7DB"]],"x":"哪里","n":"strong","l":" ，而是想知道是什么 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","BE7DC"]],"x":"时候","n":"strong","l":" 存在或者引入的。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7DD"]],"x":"git log","n":"code","l":" 命令有许多强大的工具可以通过提交信息甚至是 diff 的内容来找到某个特定的提交。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_grep"],["aid","BE7BL"]],"x":"Git Grep","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7BM"]],"x":"Git 提供了一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7BO"]],"x":"默认情况下 Git 会查找你工作目录的文件。\n你可以传入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7BQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7C1"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7C3"]],"x":"例如，你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7C5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7CA"]],"x":"如果你想看匹配的行是属于哪一个方法或者函数，你可以传入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7CC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7CH"]],"x":"在这里我们可以看到在 date.c 文件中有 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7CL"]],"x":"你还可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7CN"]],"x":"这里我们也用到了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7CQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7D4"]],"x":"相比于一些常用的搜索命令比如 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7D5"]],"x":"grep","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7D6"]],"x":"ack","n":"code","l":"，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7D7"]],"x":"git grep","n":"code","l":" 命令有一些的优点。\n第一就是速度非常快，第二是你不仅仅可以可以搜索工作目录，还可以搜索任意的 Git 树。\n在上一个例子中，我们在一个旧版本的 Git 源代码中查找，而不是当前检出的版本。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7CR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7CS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7CT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7CU"]],"x":"$","n":"span","l":" git grep --break --heading "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE7CV"]],"x":"\\","n":"span","l":"\n    -n -e "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7D0"]],"x":"'#define'","n":"span","l":" --and "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE7D1"]],"x":"\\(","n":"span","l":" -e LINK -e BUF_MAX "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","BE7D2"]],"x":"\\)","n":"span","l":" v1.8.0\nv1.8.0:builtin/index-pack.c\n62:#define FLAG_LINK (1u<<20)\n\nv1.8.0:cache.h\n73:#define S_IFGITLINK  0160000\n74:#define S_ISGITLINK(m)       (((m) & S_IFMT) == S_IFGITLINK)\n\nv1.8.0:environment.c\n54:#define OBJECT_CREATION_MODE OBJECT_CREATION_USES_HARDLINKS\n\nv1.8.0:strbuf.c\n326:#define STRBUF_MAXLINK (2*PATH_MAX)\n\nv1.8.0:symlinks.c\n53:#define FL_SYMLINK  (1 << 2)\n\nv1.8.0:zlib.c\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7D3"]],"x":"30:/* #","n":"span","l":"define ZLIB_BUF_MAX ((uInt)-1) */\n31:#define ZLIB_BUF_MAX ((uInt) 1024 * 1024 * 1024) /* 1GB */"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7CO"]],"x":"--break","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7CP"]],"x":"--heading","n":"code","l":" 选项来使输出更加容易阅读。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7CM"]],"x":"--and","n":"code","l":" 标志来查看复杂的字符串组合，也就是在同一行同时包含多个匹配。\n比如，我们要查看在旧版本 1.8.0 的 Git 代码库中定义了常量名包含 “LINK” 或者 “BUF_MAX” 这两个字符串所在的行。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7CI"]],"x":"match_multi_number","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7CJ"]],"x":"match_digit","n":"code","l":" 两个函数调用了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7CK"]],"x":"gmtime_r","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7CD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7CE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7CF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7CG"]],"x":"$","n":"span","l":" git grep -p gmtime_r *.c\ndate.c=static int match_multi_number(unsigned long num, char c, const char *date, char *end, struct tm *tm)\ndate.c:         if (gmtime_r(&now, &now_tm))\ndate.c=static int match_digit(const char *date, struct tm *tm, int *offset, int *tm_gmt)\ndate.c:         if (gmtime_r(&time, tm)) {"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7CB"]],"x":"-p","n":"code","l":" 选项："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7C6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7C7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7C8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7C9"]],"x":"$","n":"span","l":" git grep --count gmtime_r\ncompat/gmtime.c:4\ncompat/mingw.c:1\ncompat/mingw.h:1\ndate.c:2\ngit-compat-util.h:2"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7C4"]],"x":"--count","n":"code","l":" 选项来使 Git 输出概述的信息，仅仅包括哪些文件包含匹配以及每个文件包含了多少个匹配。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7C2"]],"x":"grep","n":"code","l":" 命令有一些有趣的选项。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7BR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7BS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7BT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7BU"]],"x":"$","n":"span","l":" git grep -n gmtime_r\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7BV"]],"x":"compat/gmtime.c:3:#","n":"span","l":"undef gmtime_r\ncompat/gmtime.c:8:      return git_gmtime_r(timep, &result);\ncompat/gmtime.c:11:struct tm *git_gmtime_r(const time_t *timep, struct tm *result)\ncompat/gmtime.c:16:     ret = gmtime_r(timep, result);\ncompat/mingw.c:606:struct tm *gmtime_r(const time_t *timep, struct tm *result)\ncompat/mingw.h:162:struct tm *gmtime_r(const time_t *timep, struct tm *result);\ndate.c:429:             if (gmtime_r(&now, &now_tm))\ndate.c:492:             if (gmtime_r(&time, tm)) {\ngit-compat-util.h:721:struct tm *git_gmtime_r(const time_t *, struct tm *);\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7C0"]],"x":"git-compat-util.h:723:#","n":"span","l":"define gmtime_r git_gmtime_r"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7BP"]],"x":"-n","n":"code","l":" 参数来输出 Git 所找到的匹配行行号。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7BN"]],"x":"grep","n":"code","l":" 命令，你可以很方便地从提交历史或者工作目录中查找一个字符串或者正则表达式。\n我们用 Git 本身源代码的查找作为例子。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_每个人必须签署"],["aid","BE7BF"]],"x":"每个人必须签署","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7BG"]],"x":"签署标签与提交很棒，但是如果决定在正常的工作流程中使用它，你必须确保团队中的每一个人都理解如何这样做。\n如果没有，你将会花费大量时间帮助其他人找出并用签名的版本重写提交。\n在采用签署成为标准工作流程的一部分前，确保你完全理解 GPG 及签署带来的好处。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_signing_commits"],["aid","BE79S"]],"x":"签署提交","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE79T"]],"x":"在最新版本的 Git 中（v1.7.9 及以上），也可以签署个人提交。\n如果相对于标签而言你对直接签署到提交更感兴趣的话，所有要做的只是增加一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7A0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7A6"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7A9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7AE"]],"x":"另外，也可以配置 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7AH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7AN"]],"x":"这里我们可以看到只有最后一次提交是签署并有效的，而之前的提交都不是。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7AO"]],"x":"在 Git 1.8.3 及以后的版本中，“git merge” 与“git pull” 可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7AQ"]],"x":"如果使用这个选项来合并一个包含未签名或有效的提交的分支时，合并不会生效。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7AR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7B0"]],"x":"如果合并包含的只有有效的签名的提交，合并命令会提示所有的签名它已经检查过了然后会继续向前。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7B1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE7B6"]],"x":"也可以给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE7B9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7BA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7BB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7BC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7BD"]],"x":"$","n":"span","l":" git merge --verify-signatures -S  signed-branch\nCommit 13ad65e has a good GPG signature by Scott Chacon (Git signing key) <schacon@gmail.com>\n\nYou need a passphrase to unlock the secret key for\nuser: \"Scott Chacon (Git signing key) <schacon@gmail.com>\"\n2048-bit RSA key, ID 0A46826A, created 2014-06-04\n\nMerge made by the 'recursive' strategy.\n README | 2 ++\n 1 file changed, 2 insertions(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7B7"]],"x":"git merge","n":"code","l":" 命令附加 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7B8"]],"x":"-S","n":"code","l":" 选项来签署自己生成的合并提交。\n下面的例子演示了验证将要合并的分支的每一个提交都是签名的并且签署最后生成的合并提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7B2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7B3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7B4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7B5"]],"x":"$","n":"span","l":" git merge --verify-signatures signed-branch\nCommit 13ad65e has a good GPG signature by Scott Chacon (Git signing key) <schacon@gmail.com>\nUpdating 5c3386c..13ad65e\nFast-forward\n README | 2 ++\n 1 file changed, 2 insertions(+)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7AS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7AT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7AU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7AV"]],"x":"$","n":"span","l":" git merge --verify-signatures non-verify\nfatal: Commit ab06180 does not have a GPG signature."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7AP"]],"x":"--verify-signatures","n":"code","l":" 选项来检查并拒绝没有携带可信 GPG 签名的提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7AI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7AJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7AK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7AL"]],"x":"$","n":"span","l":" git log --pretty="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7AM"]],"x":"\"format:%h %G? %aN  %s\"","n":"span","l":"\n\n5c3386c G Scott Chacon  signed commit\nca82a6d N Scott Chacon  changed the version number\n085bb3b N Scott Chacon  removed unnecessary test code\na11bef0 N Scott Chacon  first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7AF"]],"x":"git log","n":"code","l":" 来验证任何找到的签名并将它们以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7AG"]],"x":"%G?","n":"code","l":" 格式列在输出中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7AA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7AB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7AC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7AD"]],"x":"$","n":"span","l":" git log --show-signature -1\ncommit 5c3386cf54bba0a33a32da706aa52bc0155503c2\ngpg: Signature made Wed Jun  4 19:49:17 2014 PDT using RSA key ID 0A46826A\ngpg: Good signature from \"Scott Chacon (Git signing key) <schacon@gmail.com>\"\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Wed Jun 4 19:49:17 2014 -0700\n\n    signed commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7A7"]],"x":"git log","n":"code","l":" 也有一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE7A8"]],"x":"--show-signature","n":"code","l":" 选项来查看及验证这些签名。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE7A1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE7A2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE7A3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE7A4"]],"x":"$","n":"span","l":" git commit -a -S -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE7A5"]],"x":"'signed commit'","n":"span","l":"\n\nYou need a passphrase to unlock the secret key for\nuser: \"Scott Chacon (Git signing key) <schacon@gmail.com>\"\n2048-bit RSA key, ID 0A46826A, created 2014-06-04\n\n[master 5c3386c] signed commit\n 4 files changed, 4 insertions(+), 24 deletions(-)\n rewrite Rakefile (100%)\n create mode 100644 lib/git.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE79U"]],"x":"-S","n":"code","l":" 到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE79V"]],"x":"git commit","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_验证标签"],["aid","BE79E"]],"x":"验证标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE79F"]],"x":"要验证一个签署的标签，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE79H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE79M"]],"x":"如果没有签署者的公钥，那么你将会得到类似下面的东西：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE79N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE79O"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE79P"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE79Q"]],"n":"span","l":"gpg: Signature made Wed Sep 13 02:08:25 2006 PDT using DSA key ID F3119B9A\ngpg: Can't check signature: public key not found\nerror: could not verify the tag 'v1.4.2.1'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE79I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE79J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE79K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE79L"]],"x":"$","n":"span","l":" git tag -v v1.4.2.1\nobject 883653babd8ee7ea23e6a5c392bb739348b1eb61\ntype commit\ntag v1.4.2.1\ntagger Junio C Hamano <junkio@cox.net> 1158138501 -0700\n\nGIT 1.4.2.1\n\nMinor fixes since 1.4.2, including git-mv and git-http with alternates.\ngpg: Signature made Wed Sep 13 02:08:25 2006 PDT using DSA key ID F3119B9A\ngpg: Good signature from \"Junio C Hamano <junkio@cox.net>\"\ngpg:                 aka \"[jpeg image of size 1513]\"\nPrimary key fingerprint: 3565 2A26 2040 E066 C9A7  4A7D C0C6 D9A4 F311 9B9A"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE79G"]],"x":"git tag -v [tag-name]","n":"code","l":"。\n这个命令使用 GPG 来验证签名。\n为了验证能正常工作，签署者的公钥需要在你的钥匙链中。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_签署标签"],["aid","BE78S"]],"x":"签署标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE78T"]],"x":"如果已经设置好一个 GPG 私钥，可以使用它来签署新的标签。\n所有需要做的只是使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE790"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE796"]],"x":"如果在那个标签上运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE798"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE799"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE79A"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE79B"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE79C"]],"x":"$","n":"span","l":" git show v1.5\ntag v1.5\nTagger: Ben Straub <ben@straub.cc>\nDate:   Sat May 3 20:29:41 2014 -0700\n\nmy signed 1.5 tag\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJTZbQlAAoJEF0+sviABDDrZbQH/09PfE51KPVPlanr6q1v4/Ut\nLQxfojUWiLQdg2ESJItkcuweYg+kc3HCyFejeDIBw9dpXt00rY26p05qrpnG+85b\nhM1/PswpPLuBSr+oCIDj5GMC2r2iEKsfv2fJbNW8iWAXVLoWZRF8B0MfqX/YTMbm\necorc4iXzQu7tupRihslbNkfvfciMnSDeSvzCpWAHl7h8Wj6hhqePmLm9lAYqnKp\n8S5B/1SSQuEAjRZgI4IexpZoeKGVDptPHxLLS38fozsyi0QyDyzEgJxcJQVMXxVi\nRUysgqjcpT8+iQM1PblGfHR4XAhuOqN5Fx06PSaFZhqvWFezJ28/CLyX5q+oIVk=\n=EFTF\n-----END PGP SIGNATURE-----\n\ncommit ca82a6dff817ec66f44342007202690a93763949\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Mon Mar 17 21:52:11 2008 -0700\n\n    changed the version number"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE797"]],"x":"git show","n":"code","l":"，会看到你的 GPG 签名附属在后面："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE791"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE792"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE793"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE794"]],"x":"$","n":"span","l":" git tag -s v1.5 -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE795"]],"x":"'my signed 1.5 tag'","n":"span","l":"\n\nYou need a passphrase to unlock the secret key for\nuser: \"Ben Straub <ben@straub.cc>\"\n2048-bit RSA key, ID 800430EB, created 2014-05-04"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE78U"]],"x":"-s","n":"code","l":" 代替 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE78V"]],"x":"-a","n":"code","l":" 即可："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_gpg_介绍"],["aid","BE787"]],"x":"GPG 介绍","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE788"]],"x":"首先，在开始签名之前你需要先配置 GPG 并安装个人密钥。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE789"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE78E"]],"x":"如果你还没有安装一个密钥，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE78G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE78K"]],"x":"一旦你有一个可以签署的私钥，可以通过设置 Git 的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE78M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE78Q"]],"x":"现在 Git 默认使用你的密钥来签署标签与提交。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE78N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE78O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE78P"]],"n":"span","l":"git config --global user.signingkey 0A46826A"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE78L"]],"x":"user.signingkey","n":"code","l":" 选项来签署。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE78H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE78I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE78J"]],"n":"span","l":"gpg --gen-key"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE78F"]],"x":"gpg --gen-key","n":"code","l":" 生成一个。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE78A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE78B"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE78C"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE78D"]],"x":"$","n":"span","l":" gpg --list-keys\n/Users/schacon/.gnupg/pubring.gpg\n---------------------------------\npub   2048R/0A46826A 2014-06-04\nuid                  Scott Chacon (Git signing key) <schacon@gmail.com>\nsub   2048R/874529A9 2014-06-04"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_clean"],["aid","BE76P"]],"x":"清理工作目录","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE76Q"]],"x":"对于工作目录中一些工作或文件，你想做的也许不是储藏而是移除。\n","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE76S"]],"x":"有一些通用的原因比如说为了移除由合并或外部工具生成的东西，或是为了运行一个干净的构建而移除之前构建的残留。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE76T"]],"x":"你需要谨慎地使用这个命令，因为它被设计为从工作目录中移除未被追踪的文件。\n如果你改变主意了，你也不一定能找回来那些文件的内容。\n一个更安全的选项是运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE76V"]],"x":"你可以使用`git clean`命令去除冗余文件或者清理工作目录。\n使用`git clean -f -d`命令来移除工作目录中所有未追踪的文件以及空的子目录。\n","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE772"]],"x":"如果只是想要看看它会做什么，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE775"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE77A"]],"x":"默认情况下，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE77F"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE77M"]],"x":"如果不知道 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE77S"]],"x":"这将会以交互模式运行 clean 命令。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE77T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE782"]],"x":"这种方式下可以分别地检查每一个文件或者交互地指定删除的模式。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE77U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE77V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE780"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE781"]],"x":"$","n":"span","l":" git clean -x -i\nWould remove the following items:\n  build.TMP  test.o\n*** Commands ***\n    1: clean                2: filter by pattern    3: select by numbers    4: ask each             5: quit\n    6: help\nWhat now>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77N"]],"x":"git clean","n":"code","l":" 命令将会做什么，在将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77O"]],"x":"-n","n":"code","l":" 改为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77P"]],"x":"-f","n":"code","l":" 来真正做之前总是先用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77Q"]],"x":"-n","n":"code","l":" 来运行它做双重检查。\n另一个小心处理过程的方式是使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77R"]],"x":"-i","n":"code","l":" 或 “interactive” 标记来运行它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE77G"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE77H"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE77I"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE77J"]],"x":"$","n":"span","l":" git status -s\n M lib/simplegit.rb\n?? build.TMP\n?? tmp/\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE77K"]],"x":"$","n":"span","l":" git clean -n -d\nWould remove build.TMP\nWould remove tmp/\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE77L"]],"x":"$","n":"span","l":" git clean -n -d -x\nWould remove build.TMP\nWould remove test.o\nWould remove tmp/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77B"]],"x":"git clean","n":"code","l":" 命令只会移除没有忽略的未跟踪文件。\n任何与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77C"]],"x":".gitiignore","n":"code","l":" 或其他忽略文件中的模式匹配的文件都不会被移除。\n如果你也想要移除那些文件，例如为了做一次完全干净的构建而移除所有由构建生成的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77D"]],"x":".o","n":"code","l":" 文件，可以给 clean 命令增加一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE77E"]],"x":"-x","n":"code","l":" 选项。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE776"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE777"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE778"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE779"]],"x":"$","n":"span","l":" git clean -d -n\nWould remove test.o\nWould remove tmp/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE773"]],"x":"-n","n":"code","l":" 选项来运行命令，这意味着 “做一次演习然后告诉你 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE774"]],"x":"将要","n":"em","l":" 移除什么”。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE770"]],"x":"-f","n":"code","l":" 意味着 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","BE771"]],"x":"强制","n":"em","l":" 或 “确定移除”。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE76U"]],"x":"git stash --all","n":"code","l":" 来移除每一样东西并存放在栈中。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE76R"]],"x":"git clean","n":"code","l":" 命令会帮你做这些事。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_从储藏创建一个分支"],["aid","BE762"]],"x":"从储藏创建一个分支","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE763"]],"x":"如果储藏了一些工作，将它留在那儿了一会儿，然后继续在储藏的分支上工作，在重新应用工作时可能会有问题。\n如果应用尝试修改刚刚修改的文件，你会得到一个合并冲突并不得不解决它。\n如果想要一个轻松的方式来再次测试储藏的改动，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE765"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE76N"]],"x":"这是在新分支轻松恢复储藏工作并继续工作的一个很不错的途径。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE766"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE767"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE768"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE769"]],"x":"$","n":"span","l":" git stash branch testchanges\nSwitched to a new branch \"testchanges\"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76A"]],"x":"#","n":"span","l":" On branch testchanges\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76B"]],"x":"#","n":"span","l":" Changes to be committed:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76C"]],"x":"#","n":"span","l":"   (use "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE76D"]],"x":"\"git reset HEAD <file>...\"","n":"span","l":" to unstage)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76E"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76F"]],"x":"#","n":"span","l":"      modified:   index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76G"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76H"]],"x":"#","n":"span","l":" Changed but not updated:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76I"]],"x":"#","n":"span","l":"   (use "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE76J"]],"x":"\"git add <file>...\"","n":"span","l":" to update what will be committed)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76K"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76L"]],"x":"#","n":"span","l":"      modified:   lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE76M"]],"x":"#","n":"span","l":"\nDropped refs/stash@{0} (f0dfc4d5dc332d1cee34a634182e168c4efc3359)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE764"]],"x":"git stash branch","n":"code","l":" 创建一个新分支，检出储藏工作时所在的提交，重新在那应用工作，然后在应用成功后扔掉储藏："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_创造性的储藏"],["aid","BE752"]],"x":"创造性的储藏","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE753"]],"x":"有几个储藏的变种可能也很有用。\n第一个非常流行的选项是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE756"]],"x":"当你做了几个改动并只想提交其中的一部分，过一会儿再回来处理剩余改动时，这个功能会很有用。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE757"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE75E"]],"x":"另一个经常使用储藏来做的事情是像储藏跟踪文件一样储藏未跟踪文件。\n默认情况下，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE75I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE75Q"]],"x":"最终，如果指定了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE75S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE75T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE75U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE75V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE760"]],"x":"$","n":"span","l":" git stash --patch\ndiff --git a/lib/simplegit.rb b/lib/simplegit.rb\nindex 66d332e..8bb5674 100644\n--- a/lib/simplegit.rb\n+++ b/lib/simplegit.rb\n@@ -16,6 +16,10 @@ class SimpleGit\n         return `#{git_cmd} 2>&1`.chomp\n       end\n     end\n+\n+    def show(treeish = 'master')\n+      command(\"git show #{treeish}\")\n+    end\n\n end\n test\nStash this hunk [y,n,q,a,d,/,e,?]? y\n\nSaved working directory and index state WIP on master: 1b65b17 added the index file"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE75R"]],"x":"--patch","n":"code","l":" 标记，Git 不会储藏所有修改过的任何东西，但是会交互式地提示哪些改动想要储藏、哪些改动需要保存在工作目录中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE75J"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE75K"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE75L"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE75M"]],"x":"$","n":"span","l":" git status -s\nM  index.html\n M lib/simplegit.rb\n?? new-file.txt\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE75N"]],"x":"$","n":"span","l":" git stash -u\nSaved working directory and index state WIP on master: 1b65b17 added the index file\nHEAD is now at 1b65b17 added the index file\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE75O"]],"x":"$","n":"span","l":" git status -s\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE75P"]],"x":"$","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE75F"]],"x":"git stash","n":"code","l":" 只会储藏已经在索引中的文件。\n如果指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE75G"]],"x":"--include-untracked","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE75H"]],"x":"-u","n":"code","l":" 标记，Git 也会储藏任何创建的未跟踪文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE758"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE759"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE75A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE75B"]],"x":"$","n":"span","l":" git status -s\nM  index.html\n M lib/simplegit.rb\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE75C"]],"x":"$","n":"span","l":" git stash --keep-index\nSaved working directory and index state WIP on master: 1b65b17 added the index file\nHEAD is now at 1b65b17 added the index file\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE75D"]],"x":"$","n":"span","l":" git status -s\nM  index.html"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE754"]],"x":"stash save","n":"code","l":" 命令的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE755"]],"x":"--keep-index","n":"code","l":" 选项。\n它告诉 Git 不要储藏任何你通过 git add 命令已暂存的东西。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE750"]],"x":"git stash pop","n":"code","l":" 来应用储藏然后立即从栈上扔掉它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE74Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE74R"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE74S"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74T"]],"x":"$","n":"span","l":" git stash list\nstash@{0}: WIP on master: 049d078 added the index file\nstash@{1}: WIP on master: c264051 Revert \"added file_size\"\nstash@{2}: WIP on master: 21d80a5 added number to log\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74U"]],"x":"$","n":"span","l":" git stash drop stash@{0}\nDropped stash@{0} (364e91f3f268f0900bc3ee613f9f733e82aaed43)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE74O"]],"x":"git stash drop","n":"code","l":" 加上将要移除的储藏的名字来移除它："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE746"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE747"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE748"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE749"]],"x":"$","n":"span","l":" git stash apply --index\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74A"]],"x":"#","n":"span","l":" On branch master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74B"]],"x":"#","n":"span","l":" Changes to be committed:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74C"]],"x":"#","n":"span","l":"   (use "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE74D"]],"x":"\"git reset HEAD <file>...\"","n":"span","l":" to unstage)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74E"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74F"]],"x":"#","n":"span","l":"      modified:   index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74G"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74H"]],"x":"#","n":"span","l":" Changed but not updated:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74I"]],"x":"#","n":"span","l":"   (use "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE74J"]],"x":"\"git add <file>...\"","n":"span","l":" to update what will be committed)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74K"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74L"]],"x":"#","n":"span","l":"      modified:   lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE74M"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE743"]],"x":"--index","n":"code","l":" 选项来运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE744"]],"x":"git stash apply","n":"code","l":" 命令，来尝试重新应用暂存的修改。\n如果已经那样做了，那么你将回到原来的位置："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE73L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE73M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE73N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73O"]],"x":"$","n":"span","l":" git stash apply\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73P"]],"x":"#","n":"span","l":" On branch master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73Q"]],"x":"#","n":"span","l":" Changed but not updated:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73R"]],"x":"#","n":"span","l":"   (use "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE73S"]],"x":"\"git add <file>...\"","n":"span","l":" to update what will be committed)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73T"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73U"]],"x":"#","n":"span","l":"      modified:   index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73V"]],"x":"#","n":"span","l":"      modified:   lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE740"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE73I"]],"x":"git stash apply","n":"code","l":"。\n如果想要应用其中一个更旧的储藏，可以通过名字指定它，像这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE73J"]],"x":"git stash apply stash@{2}","n":"code","l":"。\n如果不指定一个储藏，Git 认为指定的是最近的储藏："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE73D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE73E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE73F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE73G"]],"x":"$","n":"span","l":" git stash list\nstash@{0}: WIP on master: 049d078 added the index file\nstash@{1}: WIP on master: c264051 Revert \"added file_size\"\nstash@{2}: WIP on master: 21d80a5 added number to log"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE73B"]],"x":"git stash list","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE735"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE736"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE737"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE738"]],"x":"$","n":"span","l":" git status\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE739"]],"x":"#","n":"span","l":" On branch master\nnothing to commit, working directory clean"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE72V"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE730"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE731"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE732"]],"x":"$","n":"span","l":" git stash\nSaved working directory and index state \\\n  \"WIP on master: 049d078 added the index file\"\nHEAD is now at 049d078 added the index file\n(To restore them type \"git stash apply\")"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE72S"]],"x":"git stash","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE72T"]],"x":"git stash save","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE72N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE72O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE72P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE72Q"]],"x":"$","n":"span","l":" git status\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n\tmodified:   index.html\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n\tmodified:   lib/simplegit.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE72L"]],"x":"git status","n":"code","l":"，可以看到有改动的状态："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE72G"]],"x":"git stash","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_暂存补丁"],["aid","BE71H"]],"x":"暂存补丁","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE71I"]],"x":"Git 也可以暂存文件的特定部分。\n例如，如果在 simplegit.rb 文件中做了两处修改，但只想要暂存其中的一个而不是另一个，Git 会帮你轻松地完成。\n从交互式提示符中，输入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE71L"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE71P"]],"x":"这时有很多选项。\n输入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE71R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE71V"]],"x":"通常情况下可以输入 y 或 n 来选择是否要暂存每一个区块，当然，暂存特定文件中的所有部分或为之后的选择跳过一个区块也是非常有用的。\n如果你只暂存文件的一部分，状态输出可能会像下面这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE720"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE724"]],"x":"simplegit.rb 文件的状态很有趣。\n它显示出若干行被暂存与若干行未被暂存。\n已经部分地暂存了这个文件。\n在这时，可以退出交互式添加脚本并且运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE726"]],"x":"也可以不必在交互式添加模式中做部分文件暂存 - 可以在命令行中使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE729"]],"x":"更进一步地，可以使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE72A"]],"x":"reset --patch","n":"code","l":" 命令的补丁模式来部分重置文件，通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE72B"]],"x":"checkout --patch","n":"code","l":" 命令来部分检出文件与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE72C"]],"x":"stash save --patch","n":"code","l":" 命令来部分暂存文件。\n我们将会在接触这些命令的高级使用方法时了解更多详细信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE727"]],"x":"git add -p","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE728"]],"x":"git add --patch","n":"code","l":" 来启动同样的脚本。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE725"]],"x":"git commit","n":"code","l":" 来提交部分暂存的文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE721"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE722"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE723"]],"n":"span","l":"What now> 1\n           staged     unstaged path\n  1:    unchanged        +0/-1 TODO\n  2:        +1/-1      nothing index.html\n  3:        +1/-1        +4/-0 lib/simplegit.rb"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE71S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE71T"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE71U"]],"n":"span","l":"Stage this hunk [y,n,a,d,/,j,J,g,e,?]? ?\ny - stage this hunk\nn - do not stage this hunk\na - stage this and all the remaining hunks in the file\nd - do not stage this hunk nor any of the remaining hunks in the file\ng - select a hunk to go to\n/ - search for a hunk matching the given regex\nj - leave this hunk undecided, see next undecided hunk\nJ - leave this hunk undecided, see next hunk\nk - leave this hunk undecided, see previous undecided hunk\nK - leave this hunk undecided, see previous hunk\ns - split the current hunk into smaller hunks\ne - manually edit the current hunk\n? - print help"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE71Q"]],"x":"?","n":"code","l":" 显示所有可以使用的命令列表："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE71M"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE71N"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE71O"]],"n":"span","l":"diff --git a/lib/simplegit.rb b/lib/simplegit.rb\nindex dd5ecc4..57399e0 100644\n--- a/lib/simplegit.rb\n+++ b/lib/simplegit.rb\n@@ -22,7 +22,7 @@ class SimpleGit\n   end\n\n   def log(treeish = 'master')\n-    command(\"git log -n 25 #{treeish}\")\n+    command(\"git log -n 30 #{treeish}\")\n   end\n\n   def blame(path)\nStage this hunk [y,n,a,d,/,j,J,g,e,?]?"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE71J"]],"x":"5","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE71K"]],"x":"p","n":"code","l":"（补丁）。\nGit 会询问你想要部分暂存哪些文件；然后，对已选择文件的每一个部分，它都会一个个地显示文件区别并询问你是否想要暂存它们："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_暂存与取消暂存文件"],["aid","BE706"]],"x":"暂存与取消暂存文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE707"]],"x":"如果在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE70B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE70F"]],"x":"要暂存 TODO 与 index.html 文件，可以输入数字：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE70G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE70K"]],"x":"每个文件前面的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE70N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE70R"]],"x":"现在可以看到 TODO 与 index.html 文件已经被暂存而 simplegit.rb 文件还未被暂存。\n如果这时想要取消暂存 TODO 文件，使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE70U"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE712"]],"x":"再次查看 Git 状态，可以看到已经取消暂存 TODO 文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE713"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE717"]],"x":"如果想要查看已暂存内容的区别，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE71B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE71F"]],"x":"通过这些基本命令，可以使用交互式添加模式来轻松地处理暂存区。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE71C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE71D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE71E"]],"n":"span","l":"*** Commands ***\n  1: status     2: update      3: revert     4: add untracked\n  5: patch      6: diff        7: quit       8: help\nWhat now> 6\n           staged     unstaged path\n  1:        +1/-1      nothing index.html\nReview diff>> 1\ndiff --git a/index.html b/index.html\nindex 4d07108..4335f49 100644\n--- a/index.html\n+++ b/index.html\n@@ -16,7 +16,7 @@ Date Finder\n\n <p id=\"out\">...</p>\n\n-<div id=\"footer\">contact : support@github.com</div>\n+<div id=\"footer\">contact : email.support@github.com</div>\n\n <script type=\"text/javascript\">"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE718"]],"x":"6","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE719"]],"x":"d","n":"code","l":"（区别）命令。\n它会显示暂存文件的一个列表，可以从中选择想要查看的暂存区别。\n这跟你在命令行指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE71A"]],"x":"git diff --cached","n":"code","l":" 非常相似："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE714"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE715"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE716"]],"n":"span","l":"*** Commands ***\n  1: status     2: update      3: revert     4: add untracked\n  5: patch      6: diff        7: quit       8: help\nWhat now> 1\n           staged     unstaged path\n  1:    unchanged        +0/-1 TODO\n  2:        +1/-1      nothing index.html\n  3:    unchanged        +5/-1 lib/simplegit.rb"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE70V"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE710"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE711"]],"n":"span","l":"*** Commands ***\n  1: status     2: update      3: revert     4: add untracked\n  5: patch      6: diff        7: quit       8: help\nWhat now> 3\n           staged     unstaged path\n  1:        +0/-1      nothing TODO\n  2:        +1/-1      nothing index.html\n  3:    unchanged        +5/-1 lib/simplegit.rb\nRevert>> 1\n           staged     unstaged path\n* 1:        +0/-1      nothing TODO\n  2:        +1/-1      nothing index.html\n  3:    unchanged        +5/-1 lib/simplegit.rb\nRevert>> [enter]\nreverted one path"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE70S"]],"x":"3","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE70T"]],"x":"r","n":"code","l":"（撤消）选项："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE70O"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE70P"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE70Q"]],"n":"span","l":"Update>>\nupdated 2 paths\n\n*** Commands ***\n  1: status     2: update      3: revert     4: add untracked\n  5: patch      6: diff        7: quit       8: help\nWhat now> 1\n           staged     unstaged path\n  1:        +0/-1      nothing TODO\n  2:        +1/-1      nothing index.html\n  3:    unchanged        +5/-1 lib/simplegit.rb"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE70L"]],"x":"*","n":"code","l":" 意味着选中的文件将会被暂存。\n如果在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE70M"]],"x":"Update>>","n":"code","l":" 提示符后不输入任何东西并直接按回车，Git 将会暂存之前选择的文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE70H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE70I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE70J"]],"n":"span","l":"Update>> 1,2\n           staged     unstaged path\n* 1:    unchanged        +0/-1 TODO\n* 2:    unchanged        +1/-1 index.html\n  3:    unchanged        +5/-1 lib/simplegit.rb\nUpdate>>"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE70C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE70D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE70E"]],"n":"span","l":"What now> 2\n           staged     unstaged path\n  1:    unchanged        +0/-1 TODO\n  2:    unchanged        +1/-1 index.html\n  3:    unchanged        +5/-1 lib/simplegit.rb\nUpdate>>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE708"]],"x":"What now>","n":"code","l":" 提示符后键入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE709"]],"x":"2","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE70A"]],"x":"u","n":"code","l":"，脚本将会提示想要暂存哪个文件："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE703"]],"x":"git status","n":"code","l":" 是相同的信息，但是更简明扼要一些。\n它将暂存的修改列在左侧，未暂存的修改列在右侧。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6VU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6VV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE700"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE701"]],"x":"$","n":"span","l":" git add -i\n           staged     unstaged path\n  1:    unchanged        +0/-1 TODO\n  2:    unchanged        +1/-1 index.html\n  3:    unchanged        +5/-1 lib/simplegit.rb\n\n*** Commands ***\n  1: status     2: update      3: revert     4: add untracked\n  5: patch      6: diff        7: quit       8: help\nWhat now>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6VQ"]],"x":"git add","n":"code","l":" 时使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6VR"]],"x":"-i","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6VS"]],"x":"--interactive","n":"code","l":" 选项，Git 将会进入一个交互式终端模式，显示类似下面的东西："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_triple_dot"],["aid","BE6V1"]],"x":"三点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6V2"]],"x":"最后一种主要的区间选择语法是三点，这个语法可以选择出被两个引用中的一个包含但又不被两者同时包含的提交。\n再看看之前双点例子中的提交历史。\n如果你想看 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6V5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6VA"]],"x":"这和通常 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6VC"]],"x":"这种情形下，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6VF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6VM"]],"x":"有了这些工具，你就可以十分方便地查看你 Git 仓库中的提交。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6VG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6VH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6VI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6VJ"]],"x":"$","n":"span","l":" git log --left-right master...experiment\n< F\n< E\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6VK"]],"x":">","n":"span","l":" D\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6VL"]],"x":">","n":"span","l":" C"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6VD"]],"x":"log","n":"code","l":" 命令的一个常用参数是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6VE"]],"x":"--left-right","n":"code","l":"，它会显示每个提交到底处于哪一侧的分支。\n这会让输出数据更加清晰。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6VB"]],"x":"log","n":"code","l":" 按日期排序的输出一样，仅仅给出了4个提交的信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6V6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6V7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6V8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6V9"]],"x":"$","n":"span","l":" git log master...experiment\nF\nE\nD\nC"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6V3"]],"x":"master","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6V4"]],"x":"experiment","n":"code","l":" 中包含的但不是两者共有的提交，你可以执行"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_多点"],["aid","BE6UA"]],"x":"多点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6UB"]],"x":"双点语法很好用，但有时候你可能需要两个以上的分支才能确定你所需要的修订，比如查看哪些提交是被包含在某些分支中的一个，但是不在你当前的分支上。\nGit 允许你在任意引用前加上 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6UE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6UL"]],"x":"这个语法很好用，因为你可以在查询中指定超过两个的引用，这是双点语法无法实现的。\n比如，你想查看所有被 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6UP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6UV"]],"x":"这就构成了一个十分强大的修订查询系统，你可以通过它来查看你的分支里包含了哪些东西。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6UQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6UR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6US"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6UT"]],"x":"$","n":"span","l":" git log refA refB ^refC\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6UU"]],"x":"$","n":"span","l":" git log refA refB --not refC"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6UM"]],"x":"refA","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6UN"]],"x":"refB","n":"code","l":" 包含的但是不被 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6UO"]],"x":"refC","n":"code","l":" 包含的提交，你可以输入下面中的任意一个命令"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6UF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6UG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6UH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6UI"]],"x":"$","n":"span","l":" git log refA..refB\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6UJ"]],"x":"$","n":"span","l":" git log ^refA refB\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6UK"]],"x":"$","n":"span","l":" git log refB --not refA"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6UC"]],"x":"^","n":"code","l":" 字符或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6UD"]],"x":"--not","n":"code","l":" 来指明你不希望提交被包含其中的分支。\n因此下列3个命令是等价的："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_双点"],["aid","BE6T4"]],"x":"双点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6T5"]],"x":"最常用的指明提交区间语法是双点。\n这种语法可以让 Git 选出在一个分支中而不在另一个分支中的提交。\n例如，你有如下的提交历史 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rdouble_dot"],["aid","BE6T7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6TA"]],"x":"你想要查看 experiment 分支中还有哪些提交尚未被合并入 master 分支。\n你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6TC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6TH"]],"x":"反过来，如果你想查看在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6TN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6TS"]],"x":"这可以让你保持 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6TU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6U3"]],"x":"这个命令会输出在你当前分支中而不在远程 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6U4"]],"x":"origin","n":"code","l":" 中的提交。\n如果你执行了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6U5"]],"x":"git push","n":"code","l":" 并且你的当前分支正在跟踪 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6U6"]],"x":"origin/master","n":"code","l":"，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6U7"]],"x":"git log origin/master..HEAD","n":"code","l":" 所输出的提交将会被传输到远端服务器。\n如果你留空了其中的一边， Git 会默认为 HEAD。\n例如， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6U8"]],"x":"git log origin/master..","n":"code","l":" 将会输出与之前例子相同的结果 —— Git 使用 HEAD 来代替留空的一边。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6TV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6U0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6U1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6U2"]],"x":"$","n":"span","l":" git log origin/master..HEAD"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6TT"]],"x":"experiment","n":"code","l":" 分支跟随最新的进度以及查看你即将合并的内容。\n另一个常用的场景是查看你即将推送到远端的内容："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6TO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6TP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6TQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6TR"]],"x":"$","n":"span","l":" git log experiment..master\nF\nE"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6TI"]],"x":"master","n":"code","l":" 分支中而不在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6TJ"]],"x":"experiment","n":"code","l":" 分支中的提交，你只要交换分支名即可。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6TK"]],"x":"experiment..master","n":"code","l":" 会显示在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6TL"]],"x":"master","n":"code","l":" 分支中而不在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6TM"]],"x":"experiment","n":"code","l":" 分支中的提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6TD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6TE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6TF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6TG"]],"x":"$","n":"span","l":" git log master..experiment\nD\nC"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6TB"]],"x":"master..experiment","n":"code","l":" 来让 Git 显示这些提交。也就是 “在 experiment 分支中而不在 master 分支中的提交”。\n为了使例子简单明了，我使用了示意图中提交对象的字母来代替真实日志的输出，所以会显示："},{"a":[["class","content pcalibre1 pcalibre"],["aid","BE6T8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","BE6T9"]],"x":"Figure 1. Example history for range selection.","n":"figcaption","l":"\n"},{"a":[["alt","Example history for range selection."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0036?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004C:off:00000000UR"],["id","xref-rdouble_dot"],["aid","BE6T6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Example history for range selection.","n":"a"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_祖先引用"],["aid","BE6RJ"]],"x":"祖先引用","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6RK"]],"x":"祖先引用是另一种指明一个提交的方式。\n如果你在引用的尾部加上一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6RM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6RS"]],"x":"你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6RU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6S3"]],"x":"你也可以在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6S6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6SC"]],"x":"另一种指明祖先提交的方法是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6SI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6SN"]],"x":"也可以写成 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6SP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6SU"]],"x":"你也可以组合使用这两个语法 —— 你可以通过 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6SV"]],"x":"HEAD~3^2","n":"code","l":" 来取得之前引用的第二父提交（假设它是一个合并提交）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6SQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6SR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6SS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6ST"]],"x":"$","n":"span","l":" git show HEAD^^^\ncommit 1c3618887afb5fbcbea25b7c013f4e2114448b8d\nAuthor: Tom Preston-Werner <tom@mojombo.com>\nDate:   Fri Nov 7 13:47:59 2008 -0500\n\n    ignore *.gem"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6SO"]],"x":"HEAD^^^","n":"code","l":"，也是第一父提交的第一父提交的第一父提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6SJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6SK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6SL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6SM"]],"x":"$","n":"span","l":" git show HEAD~3\ncommit 1c3618887afb5fbcbea25b7c013f4e2114448b8d\nAuthor: Tom Preston-Werner <tom@mojombo.com>\nDate:   Fri Nov 7 13:47:59 2008 -0500\n\n    ignore *.gem"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6SD"]],"x":"~","n":"code","l":"。\n同样是指向第一父提交，因此 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6SE"]],"x":"HEAD~","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6SF"]],"x":"HEAD^","n":"code","l":" 是等价的。\n而区别在于你在后面加数字的时候。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6SG"]],"x":"HEAD~2","n":"code","l":" 代表 “第一父提交的第一父提交”，也就是 “祖父提交” —— Git 会根据你指定的次数获取对应的第一父提交。\n例如，在之前的列出的提交历史中，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6SH"]],"x":"HEAD~3","n":"code","l":" 就是"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6S7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6S8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6S9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6SA"]],"x":"$","n":"span","l":" git show d921970^\ncommit 1c002dd4b536e7479fe34593e72e6c6c1819e53b\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Thu Dec 11 14:58:32 2008 -0800\n\n    added some blame and merge stuff\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6SB"]],"x":"$","n":"span","l":" git show d921970^2\ncommit 35cfb2b795a55793d7cc56a6cc2060b4bb732548\nAuthor: Paul Hedderly <paul+git@mjr.org>\nDate:   Wed Dec 10 22:22:03 2008 +0000\n\n    Some rdoc changes"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6S4"]],"x":"^","n":"code","l":" 后面添加一个数字——例如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6S5"]],"x":"d921970^2","n":"code","l":" 代表 “d921970 的第二父提交”\n这个语法只适用于合并(merge)的提交，因为合并提交会有多个父提交。\n第一父提交是你合并时所在分支，而第二父提交是你所合并的分支："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6RV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6S0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6S1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6S2"]],"x":"$","n":"span","l":" git show HEAD^\ncommit d921970aadf03b3cf0e71becdaab3147ba71cdef\nMerge: 1c002dd... 35cfb2b...\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Thu Dec 11 15:08:43 2008 -0800\n\n    Merge commit 'phedders/rdocs'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6RT"]],"x":"HEAD^","n":"code","l":" 来查看上一个提交，也就是 “HEAD 的父提交”："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6RN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6RO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6RP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6RQ"]],"x":"$","n":"span","l":" git log --pretty=format:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","BE6RR"]],"x":"'%h %s'","n":"span","l":" --graph\n* 734713b fixed refs handling, added gc auto, updated tests\n*   d921970 Merge commit 'phedders/rdocs'\n|\\\n| * 35cfb2b Some rdoc changes\n* | 1c002dd added some blame and merge stuff\n|/\n* 1c36188 ignore *.gem\n* 9b29157 add open3_detach to gemspec file list"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6RL"]],"x":"^","n":"code","l":"， Git 会将其解析为该引用的上一个提交。\n假设你的提交历史是："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_reflog"],["aid","BE6QC"]],"x":"引用日志","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6QD"]],"x":"当你在工作时， Git 会在后台保存一个引用日志(reflog)，引用日志记录了最近几个月你的 HEAD 和分支引用所指向的历史。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6QE"]],"x":"你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6QG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6QL"]],"x":"每当你的 HEAD 所指向的位置发生了变化，Git 就会将这个信息存储到引用日志这个历史记录里。\n通过这些数据，你可以很方便地获取之前的提交历史。\n如果你想查看仓库中 HEAD 在五次前的所指向的提交，你可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6QN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6QS"]],"x":"你同样可以使用这个语法来查看某个分支在一定时间前的位置。\n例如，查看你的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6QU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6R3"]],"x":"就会显示昨天该分支的顶端指向了哪个提交。\n这个方法只对还在你引用日志里的数据有用，所以不能用来查好几个月之前的提交。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6R4"]],"x":"可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6R7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6RC"]],"x":"值得注意的是，引用日志只存在于本地仓库，一个记录你在你自己的仓库里做过什么的日志。\n其他人拷贝的仓库里的引用日志不会和你的相同；而你新克隆一个仓库的时候，引用日志是空的，因为你在仓库里还没有操作。\n","n":"p","l":"\n"},{"a":[["class","pcalibre10 pcalibre1 admonition2"],["title","Tip: 将引用日志想作 Git 版的 shell 历史记录"],["type","help"],["aid","BE6RE"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","BE6RF"]],"x":"将引用日志想作 Git 版的 shell 历史记录","n":"h2","l":"\n"},{"a":[["class","content3 pcalibre1 pcalibre"],["aid","BE6RG"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6RH"]],"x":"如果你有 UNIX 或者 Linux 的背景，你不妨将引用日志想作 Git 版的 shell 历史记录，重点在于仅与你和你的会话相关，而与他人无关。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6RD"]],"x":"git show HEAD@{2.months.ago}","n":"code","l":" 这条命令只有在你克隆了一个项目至少两个月时才会有用——如果你是五分钟前克隆的仓库，那么它将不会有结果返回。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6R8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6R9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6RA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6RB"]],"x":"$","n":"span","l":" git log -g master\ncommit 734713bc047d87bf7eac9674765ae793478c50d3\nReflog: master@{0} (Scott Chacon <schacon@gmail.com>)\nReflog message: commit: fixed refs handling, added gc auto, updated\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri Jan 2 18:32:33 2009 -0800\n\n    fixed refs handling, added gc auto, updated tests\n\ncommit d921970aadf03b3cf0e71becdaab3147ba71cdef\nReflog: master@{1} (Scott Chacon <schacon@gmail.com>)\nReflog message: merge phedders/rdocs: Merge made by recursive.\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Thu Dec 11 15:08:43 2008 -0800\n\n    Merge commit 'phedders/rdocs'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6R5"]],"x":"git log -g","n":"code","l":" 来查看类似于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6R6"]],"x":"git log","n":"code","l":" 输出格式的引用日志信息："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6QV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6R0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6R1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6R2"]],"x":"$","n":"span","l":" git show master@{yesterday}"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6QT"]],"x":"master","n":"code","l":" 分支在昨天的时候指向了哪个提交，你可以输入"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6QO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6QP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6QQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6QR"]],"x":"$","n":"span","l":" git show HEAD@{5}"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6QM"]],"x":"@{n}","n":"code","l":" 来引用 reflog 中输出的提交记录。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6QH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6QI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6QJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6QK"]],"x":"$","n":"span","l":" git reflog\n734713b HEAD@{0}: commit: fixed refs handling, added gc auto, updated\nd921970 HEAD@{1}: merge phedders/rdocs: Merge made by recursive.\n1c002dd HEAD@{2}: commit: added some blame and merge stuff\n1c36188 HEAD@{3}: rebase -i (squash): updating HEAD\n95df984 HEAD@{4}: commit: # This is a combination of two commits.\n1c36188 HEAD@{5}: rebase -i (squash): updating HEAD\n7e05da5 HEAD@{6}: rebase -i (pick): updating HEAD"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6QF"]],"x":"git reflog","n":"code","l":" 来查看引用日志"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_branch_references"],["aid","BE6PN"]],"x":"分支引用","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6PO"]],"x":"指明一次提交最直接的方法是有一个指向它的分支引用。\n这样你就可以在任意一个 Git 命令中使用这个分支名来代替对应的提交对象或者 SHA-1 值。\n例如，你想要查看一个分支的最后一次提交的对象，假设 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6PR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6Q1"]],"x":"如果你想知道某个分支指向哪个特定的 SHA-1，或者想看任何一个例子中被简写的 SHA-1 ，你可以使用一个叫做 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6Q6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6Q7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6Q8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6Q9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6QA"]],"x":"$","n":"span","l":" git rev-parse topic1\nca82a6dff817ec66f44342007202690a93763949"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6Q2"]],"x":"rev-parse","n":"code","l":" 的 Git 探测工具。\n你可以在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["id","xref--ch10-git-internals"],["aid","BE6Q3"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" 中查看更多关于探测工具的信息。简单来说，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6Q4"]],"x":"rev-parse","n":"code","l":" 是为了底层操作而不是日常操作设计的。\n不过，有时你想看 Git 现在到底处于什么状态时，它可能会很有用。\n你可以在你的分支上执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6Q5"]],"x":"rev-parse","n":"code"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6PS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6PT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6PU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6PV"]],"x":"$","n":"span","l":" git show ca82a6dff817ec66f44342007202690a93763949\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6Q0"]],"x":"$","n":"span","l":" git show topic1"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6PP"]],"x":"topic1","n":"code","l":" 分支指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6PQ"]],"x":"ca82a6d","n":"code","l":" ，那么以下的命令是等价的:"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_简短的_sha_1"],["aid","BE6OH"]],"x":"简短的 SHA-1","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6OI"]],"x":"Git 十分智能，你只需要提供 SHA-1 的前几个字符就可以获得对应的那次提交，当然你提供的 SHA-1 字符数量不得少于 4 个，并且没有歧义——也就是说，当前仓库中只有一个对象以这段 SHA-1 开头。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6OJ"]],"x":"例如查看一次指定的提交，假设你执行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6OL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6OQ"]],"x":"假设这个提交是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6OT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6P4"]],"x":"Git 可以为 SHA-1 值生成出简短且唯一的缩写。\n如果你在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","BE6P7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6PC"]],"x":"通常 8 到 10 个字符就已经足够在一个项目中避免 SHA-1 的歧义。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6PD"]],"x":"比如 Linux 内核这个相当大的 Git 项目，目前有超过 45 万个提交，包含 360 万个对象，也只需要前 11 个字符就能保证唯一性。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note: 关于 SHA-1 的简短说明"],["type","note"],["aid","BE6PE"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","BE6PF"]],"x":"关于 SHA-1 的简短说明","n":"h2","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","BE6PG"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6PH"]],"x":"许多人觉得他们的仓库里有可能出现两个 SHA-1 值相同的对象。\n然后呢？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6PI"]],"x":"如果你真的向仓库里提交了一个跟之前的某个对象具有相同 SHA-1 值的对象，Git 发现仓库里已经存在了拥有相同 HASH 值的对象，就会认为这个新的提交是已经被写入仓库的。\n如果之后你想检出那个对象时，你将得到先前那个对象的数据。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6PJ"]],"x":"但是这种情况发生的概率十分渺小。\nSHA-1 摘要长度是 20 字节，也就是 160 位。\n2^80 个随机哈希对象才有 50% 的概率出现一次冲突\n（计算冲突机率的公式是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6PL"]],"x":"举例说一下怎样才能产生一次 SHA-1 冲突。\n如果地球上 65 亿个人类都在编程，每人每秒都在产生等价于整个 Linux 内核历史（360 万个 Git 对象）的代码，并将之提交到一个巨大的 Git 仓库里面，这样持续两年的时间才会产生足够的对象，使其拥有 50% 的概率产生一次 SHA-1 对象冲突。\n这要比你编程团队的成员同一个晚上在互不相干的意外中被狼袭击并杀死的机率还要小。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6PK"]],"x":"p = (n(n-1)/2) * (1/2^160))","n":"code","l":" ）。2^80\n是 1.2 x 10^24\n也就是一亿亿亿。\n那是地球上沙粒总数的 1200 倍。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6P8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6P9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6PA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6PB"]],"x":"$","n":"span","l":" git log --abbrev-commit --pretty=oneline\nca82a6d changed the version number\n085bb3b removed unnecessary test code\na11bef0 first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6P5"]],"x":"git log","n":"code","l":" 后加上 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6P6"]],"x":"--abbrev-commit","n":"code","l":" 参数，输出结果里就会显示简短且唯一的值；默认使用七个字符，不过有时为了避免 SHA-1 的歧义，会增加字符数："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6OU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6OV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6P0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6P1"]],"x":"$","n":"span","l":" git show 1c002dd4b536e7479fe34593e72e6c6c1819e53b\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6P2"]],"x":"$","n":"span","l":" git show 1c002dd4b536e7479f\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6P3"]],"x":"$","n":"span","l":" git show 1c002d"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6OR"]],"x":"1c002dd....","n":"code","l":"，如果你想 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6OS"]],"x":"git show","n":"code","l":" 这个提交，下面的命令是等价的（假设简短的版本没有歧义）："},{"a":[["class","source pcalibre1 pcalibre"],["aid","BE6OM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","BE6ON"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","BE6OO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","BE6OP"]],"x":"$","n":"span","l":" git log\ncommit 734713bc047d87bf7eac9674765ae793478c50d3\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri Jan 2 18:32:33 2009 -0800\n\n    fixed refs handling, added gc auto, updated tests\n\ncommit d921970aadf03b3cf0e71becdaab3147ba71cdef\nMerge: 1c002dd... 35cfb2b...\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Thu Dec 11 15:08:43 2008 -0800\n\n    Merge commit 'phedders/rdocs'\n\ncommit 1c002dd4b536e7479fe34593e72e6c6c1819e53b\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Thu Dec 11 14:58:32 2008 -0800\n\n    added some blame and merge stuff"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","BE6OK"]],"x":"git log","n":"code","l":" 命令来查看之前新增一个功能的那次提交:"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_单个修订版本"],["aid","BE6OE"]],"x":"单个修订版本","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","BE6OF"]],"x":"你可以通过 Git 给出的 SHA-1 值来获取一次提交，不过还有很多更人性化的方式来做同样的事情。\n本节将会介绍获取单个提交的多种方法。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","BE6O3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","BE6O4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","BE6O5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","BE6O6"]],"x":"Git","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","BE6O7"]],"x":"工具","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","选择修订版本"],["aid","BE6OA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","交互式暂存"],["aid","BE6VN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","储藏与清理"],["aid","BE72D"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","签署工作"],["aid","BE783"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","搜索"],["aid","BE7BH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","重写历史"],["aid","BE7EA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","重置揭密"],["aid","BE7LN"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","高级合并"],["aid","BE7V9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Rerere"],["aid","BE8FI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使用 Git 调试"],["aid","BE8KH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","子模块"],["aid","BE8N6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","打包"],["aid","BE95J"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","替换"],["aid","BE98T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","凭证存储"],["aid","BE9D2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","底层实现"],["aid","BE9EB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","自定义凭证缓存"],["aid","BE9GU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在包含子模块的项目上工作"],["aid","BE8Q6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","拉取上游修改"],["aid","BE8Q9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并子模块改动"],["aid","BE8VC"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并冲突"],["aid","BE7VE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","撤消合并"],["aid","BE88G"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","其他类型的合并"],["aid","BE8BG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","子树合并"],["aid","BE8D5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","手动文件再合并"],["aid","BE820"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","重置的作用"],["aid","BE7ON"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","修改多个提交信息"],["aid","BE7ET"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","储藏工作"],["aid","BE72I"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","提交区间"],["aid","BE6T0"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","AFN3K"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN3L"]],"x":"现在你已经是一名 GitHub 用户了。\n你知道了如何创建账户、管理组织、创建和推送版本库、向别人的项目提供贡献以及接受别人的贡献。\n在下一章中，你将学习更多强有力的工具，以及处理复杂情况的知识，这些将使你成为真正的 Git 大师。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_octokit"],["aid","AFN3D"]],"x":"Octokit","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN3E"]],"x":"尽管我们在这些例子中都是通过 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN3H"]],"x":"希望这些工具能帮助你自定义与修改 GitHub 来更好地为特定的工作流程工作。\n关于全部 API 的完整文档与常见任务的指南，请查阅 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://developer.github.com"],["aid","AFN3I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://developer.github.com","n":"a","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFN3F"]],"x":"curl","n":"code","l":" 与基本的 HTTP 请求来做几乎所有的事情，还有一些以更自然的方式利用 API 的开源库存在着。\n在写这篇文章的时候，被支持的语言包括 Go、Objective-C、Ruby 与 .NET。\n访问 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://github.com/octokit"],["aid","AFN3G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://github.com/octokit","n":"a","l":" 了解更多相关信息，它们帮你处理了更多 HTTP 相关的内容。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_修改_pull_request_的状态"],["aid","AFN14"]],"x":"修改 Pull Request 的状态","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN15"]],"x":"如果使用 Pull Requests 的话我们将要看到的最后一个例子会很有用。\n每一个提交可以有一个或多个与它关联的状态，有 API 来添加与查询状态。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN16"]],"x":"大多数持续集成与测试服务通过测试推送的代码后使用这个 API 来回应，然后报告提交是否通过了全部测试。\n你也可以使用该接口来检查提交信息是否经过合适的格式化、提交者是否遵循了所有你的贡献准则、提交是否经过有效的签名 — 种种这类事情。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN17"]],"x":"假设在仓库中设置了一个 web 钩子访问一个用来检查提交信息中的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFN19"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN2V"]],"x":"希望这相当容易做。\n在这个 web 钩子处理器中我们浏览刚刚推送上来的每一个提交，在提交信息中查找字符串 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN32"]],"x":"在本例中可以发送一个状态（","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN36"]],"x":"如果某人在 GitHub 中打开了一个新的 Pull Request 并且这个钩子已经设置，会看到类似 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_commit_status"],["aid","AFN38"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN3B"]],"x":"现在可以看到一个小的绿色对勾标记在提交信息中有 “Signed-off-by” 的提交旁边，红色的对勾标记在作者忘记签名的提交旁边。\n也可以看到 Pull Request 显示在那个分支上的最后提交的状态，如果失败的话会警告你。\n如果对测试结果使用这个 API 那么就不会不小心合并某些未通过测试的最新提交。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFN39"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFN3A"]],"x":"Figure 55. 通过 API 的提交状态","n":"figcaption","l":"\n"},{"a":[["alt","提交状态"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004L?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0045:off:00000006QD"],["id","xref-r_commit_status"],["aid","AFN37"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通过 API 的提交状态","n":"a","l":" 的信息。"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFN33"]],"x":"success","n":"em","l":", "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFN34"]],"x":"failure","n":"em","l":", "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFN35"]],"x":"error","n":"em","l":"）、一个发生了什么的描述信息、一个用户可以了解更多信息的目标 URL 与一个 “context” 以防一个单独的提交有多个状态。\n例如，一个测试服务可以提供一个状态与一个类似这样的验证服务也可能提供一个状态 — “context” 字段是用来区别它们的。"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFN30"]],"x":"Signed-off-by","n":"em","l":" 并且最终使用 HTTP 向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFN31"]],"x":"/repos/<user>/<repo>/statuses/<commit_sha>","n":"code","l":" API 接口发送一个带有状态的 POST 请求。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFN1A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFN1B"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFN1C"]],"n":"span","l":"require "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1D"]],"x":"'httparty'","n":"span","l":"\nrequire "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1E"]],"x":"'sinatra'","n":"span","l":"\nrequire "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1F"]],"x":"'json'","n":"span","l":"\n\npost "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1G"]],"x":"'/payload'","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFN1H"]],"x":"do","n":"span","l":"\n  push = JSON.parse(request.body.read) "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1I"]],"x":"# parse the JSON","n":"span","l":"\n  repo_name = push["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1J"]],"x":"'repository'","n":"span","l":"]["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1K"]],"x":"'full_name'","n":"span","l":"]\n\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1L"]],"x":"# look through each commit message","n":"span","l":"\n  push["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1M"]],"x":"\"commits\"","n":"span","l":"].each "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFN1N"]],"x":"do","n":"span","l":" |commit|\n\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1O"]],"x":"# look for a Signed-off-by string","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFN1P"]],"x":"if","n":"span","l":" "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1Q"]],"x":"/Signed-off-by/","n":"span","l":".match commit["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1R"]],"x":"'message'","n":"span","l":"]\n      state = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1S"]],"x":"'success'","n":"span","l":"\n      description = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1T"]],"x":"'Successfully signed off!'","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFN1U"]],"x":"else","n":"span","l":"\n      state = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN1V"]],"x":"'failure'","n":"span","l":"\n      description = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN20"]],"x":"'No signoff found.'","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFN21"]],"x":"end","n":"span","l":"\n\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN22"]],"x":"# post status to GitHub","n":"span","l":"\n    sha = commit["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN23"]],"x":"\"id\"","n":"span","l":"]\n    status_url = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN24"]],"x":"\"https://api.github.com/repos/","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","AFN25"]],"x":"#{","n":"span","l":"repo_name"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","AFN26"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN27"]],"x":"/statuses/","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","AFN28"]],"x":"#{","n":"span","l":"sha"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","AFN29"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2A"]],"x":"\"","n":"span","l":"\n\n    status = {\n      "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2B"]],"x":"\"state\"","n":"span","l":"       => state,\n      "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2C"]],"x":"\"description\"","n":"span","l":" => description,\n      "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2D"]],"x":"\"target_url\"","n":"span","l":"  => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2E"]],"x":"\"http://example.com/how-to-signoff\"","n":"span","l":",\n      "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2F"]],"x":"\"context\"","n":"span","l":"     => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2G"]],"x":"\"validate/signoff\"","n":"span","l":"\n    }\n    HTTParty.post(status_url,\n      "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2H"]],"x":":body","n":"span","l":" => status.to_json,\n      "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2I"]],"x":":headers","n":"span","l":" => {\n        "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2J"]],"x":"'Content-Type'","n":"span","l":"  => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2K"]],"x":"'application/json'","n":"span","l":",\n        "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2L"]],"x":"'User-Agent'","n":"span","l":"    => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2M"]],"x":"'tonychacon/signoff'","n":"span","l":",\n        "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2N"]],"x":"'Authorization'","n":"span","l":" => "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2O"]],"x":"\"token ","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","AFN2P"]],"x":"#{","n":"span","l":"ENV["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2Q"]],"x":"'TOKEN'","n":"span","l":"]"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","AFN2R"]],"x":"}","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN2S"]],"x":"\"","n":"span","l":" }\n    )\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFN2T"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFN2U"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFN18"]],"x":"Signed-off-by","n":"code","l":" 字符串的小的 web 服务。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_在一个问题上评论"],["aid","AFMVP"]],"x":"在一个问题上评论","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMVQ"]],"x":"然而，如果想要在网站上进行一个操作，如在 Issue 或 Pull Request 上评论，或者想要查看私有内容或与其交互，你需要授权。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMVR"]],"x":"这里提供了几种授权方式。\n你可以使用仅需用户名与密码的基本授权，但是通常更好的主意是使用一个个人访问令牌。\n可以从设置页的 “Applications” 标签生成访问令牌。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_access_token"],["aid","AFMVS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMVV"]],"x":"它会询问这个令牌的作用域与一个描述。\n确保使用一个好的描述信息，这样当脚本或应用不再使用时你会很放心地移除。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN00"]],"x":"GitHub 只会显示令牌一次，所以记得一定要拷贝它。\n现在可以在脚本中使用它代替使用用户名写密码来授权。\n这很漂亮，因为可以限制想要做的范围并且令牌是可废除的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN01"]],"x":"这也会有一个提高频率上限的附加优点。\n如果没有授权的话，你会被限制在一小时最多发起 60 次请求。\n如果授权则可以一小时最多发起 5000 次请求。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN02"]],"x":"所以让我们利用它来对我们的其中一个问题进行评论。\n想要对一个特定问题 Issue #6 留下一条评论。\n必须使用刚刚生成的令牌作为 Authorization 头信息，发送一个到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFN04"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN0T"]],"x":"现在如果进入到那个问题，可以看到我们刚刚发布的评论，像 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_api_comment"],["aid","AFN0V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFN12"]],"x":"可以使用 API 去做任何可以在网站上做的事情 — 创建与设置里程碑、指派人员到 Issues 与 Pull Requests，创建与修改标签、访问提交数据、创建新的提交与分支、打开关闭或合并 Pull Requests、创建与编辑团队、在 Pull Request 中评论某行代码、搜索网站等等。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFN10"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFN11"]],"x":"Figure 54. 从 GitHub API 发布的一条评论","n":"figcaption","l":"\n"},{"a":[["alt","API 评论"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0002?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0044:off:00000004JQ"],["id","xref-r_api_comment"],["aid","AFN0U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从 GitHub API 发布的一条评论","n":"a","l":" 一样。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFN05"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFN06"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFN07"]],"n":"span","l":"$ curl -H "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN08"]],"x":"\"Content-Type: application/json\"","n":"span","l":" \\\n       -H "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN09"]],"x":"\"Authorization: token TOKEN\"","n":"span","l":" \\\n       --data "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0A"]],"x":"'{\"body\":\"A new comment, :+1:\"}'","n":"span","l":" \\\n       https:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0B"]],"x":"//api.github.com/repos/schacon/blink/issues/6/comments","n":"span","l":"\n{\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0C"]],"x":"\"id\"","n":"span","l":": 58322100,\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0D"]],"x":"\"html_url\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0E"]],"x":"\"https://github.com/schacon/blink/issues/6#issuecomment-58322100\"","n":"span","l":",\n  ...\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0F"]],"x":"\"user\"","n":"span","l":": {\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0G"]],"x":"\"login\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0H"]],"x":"\"tonychacon\"","n":"span","l":",\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0I"]],"x":"\"id\"","n":"span","l":": 7874698,\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0J"]],"x":"\"avatar_url\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0K"]],"x":"\"https://avatars.githubusercontent.com/u/7874698?v=2\"","n":"span","l":",\n    "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0L"]],"x":"\"type\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0M"]],"x":"\"User\"","n":"span","l":",\n  },\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0N"]],"x":"\"created_at\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0O"]],"x":"\"2014-10-08T07:48:19Z\"","n":"span","l":",\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0P"]],"x":"\"updated_at\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0Q"]],"x":"\"2014-10-08T07:48:19Z\"","n":"span","l":",\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0R"]],"x":"\"body\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFN0S"]],"x":"\"A new comment, :+1:\"","n":"span","l":"\n}"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFN03"]],"x":"repos/<user>/<repo>/issues/<num>/comments","n":"code","l":" 的 HTTP POST 请求。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMVT"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMVU"]],"x":"Figure 53. 从设置页的 “Applications” 标签生成访问令牌。","n":"figcaption","l":"\n"},{"a":[["alt","访问令牌"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001H?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_基本用途"],["aid","AFMUD"]],"x":"基本用途","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMUE"]],"x":"可以做的最基本的事情是向一个不需要授权的接口上发送一个简单的 GET 请求。\n该接口可能是一个用户或开源项目的只读信息。\n例如，如果我们想要知道更多关于名为 “schacon” 的用户信息，我们可以运行类似下面的东西：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMUF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMV4"]],"x":"有大量类似这样的接口来获得关于组织、项目、问题、提交的信息 — 差不多就是你能在 GitHub 上看到的所有东西。\n甚至可以使用 API 来渲染任意 Markdown 或寻找一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMV6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMV7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMV8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMV9"]],"n":"span","l":"$ curl https:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVA"]],"x":"//api.github.com/gitignore/templates/Java","n":"span","l":"\n{\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVB"]],"x":"\"name\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVC"]],"x":"\"Java\"","n":"span","l":",\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVD"]],"x":"\"source\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVE"]],"x":"\"*.class","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVF"]],"x":"# Mobile Tools for Java (J2ME)","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVG"]],"x":".mtj.tmp/","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVH"]],"x":"# Package Files #","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVI"]],"x":"*.jar","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVJ"]],"x":"*.war","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVK"]],"x":"*.ear","n":"span","l":"\n\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVL"]],"x":"# virtual machine crash logs, see http://www.java.com/en/download/help/error_hotspot.xml","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVM"]],"x":"hs_err_pid*","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMVN"]],"x":"\"","n":"span","l":"\n}"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMV5"]],"x":".gitignore","n":"code","l":" 模板。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMUG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMUH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMUI"]],"n":"span","l":"$ curl https:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUJ"]],"x":"//api.github.com/users/schacon","n":"span","l":"\n{\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUK"]],"x":"\"login\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUL"]],"x":"\"schacon\"","n":"span","l":",\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUM"]],"x":"\"id\"","n":"span","l":": 70,\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUN"]],"x":"\"avatar_url\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUO"]],"x":"\"https://avatars.githubusercontent.com/u/70\"","n":"span","l":",\n"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","AFMUP"]],"x":"#","n":"span","l":" "},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","AFMUQ"]],"x":"…","n":"span","l":"\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUR"]],"x":"\"name\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUS"]],"x":"\"Scott Chacon\"","n":"span","l":",\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUT"]],"x":"\"company\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUU"]],"x":"\"GitHub\"","n":"span","l":",\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMUV"]],"x":"\"following\"","n":"span","l":": 19,\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMV0"]],"x":"\"created_at\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMV1"]],"x":"\"2008-01-27T17:19:28Z\"","n":"span","l":",\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMV2"]],"x":"\"updated_at\"","n":"span","l":": "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMV3"]],"x":"\"2014-06-10T02:37:23Z\"","n":"span","l":"\n}"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_github_api"],["aid","AFMU9"]],"x":"GitHub API","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMUA"]],"x":"\n服务与钩子给你提供了一种方式来接收关于在仓库中发生的事件的推送通知，但是如何获取相关事件的详情呢？如何自动化一些诸如添加协作者或给问题加标签的事情呢？","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMUB"]],"x":"这是 GitHub API 派上用场的地方。\n在自动化流行的趋势下，GitHub 提供了大量的 API 接口，可以进行几乎任何能在网站上进行的操作。\n在本节中我们将会学习如何授权与连接到 API，如何通过 API 在一个问题上评论与如何修改一个 Pull Request 的状态。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_钩子_2"],["aid","AFMSH"]],"x":"钩子","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMSI"]],"x":"如果需要做一些更具体的事，或者想要整合一个不在这个列表中的服务或站点，可以转而使用更通用的钩子系统。\nGitHub 仓库钩子是非常简单的。\n指定一个 URL 然后 GitHub 在任一期望的事件发生时就会发送一个 HTTP 请求到那个 URL 。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMSJ"]],"x":"通常做这件事的方式是可以设置一个小的 web 服务来监听 GitHub 钩子请求然后使用收到的数据做一些事情。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMSK"]],"x":"为了启用一个钩子，点击 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_web_hook"],["aid","AFMSN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMSQ"]],"x":"Web 钩子的设置非常简单。\n大多数情况下只需要输入一个 URL 与一个密钥然后点击 “Add webhook”。\n有几个选项可以指定在哪个事件时想要 GitHub 发送请求 — 默认的行为是只有当某人推送新代码到仓库的任一分支时的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMSS"]],"x":"让我们看一个设置处理 web 钩子的 web 服务的小例子。\n我们将会使用 Ruby web 框架 Sinatra，因为它相当简洁，应该能够轻松地看到我们正在做什么。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMST"]],"x":"假设我们想要在某个特定的人推送到我们的项目的特定分支并修改一个特定文件时得到一封邮件。\n我们可以相当容易地使用类似下面的代码做到：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMSU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMU0"]],"x":"这里我们拿到一个 GitHub 传送给我们的 JSON 请求然后查找推送者，他们推送到了什么分支以及推送的所有提交都改动了哪些文件。\n然后我们检查它是否与我们的条件区配，如果匹配则发送一封邮件。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMU1"]],"x":"为了开发与测试类似这样的东西，在设置钩子的地方有一个漂亮的开发者控制台。\n可以看到 GitHub 为那个 webhook 的最后几次请求。\n对每一个钩子，当它发送后都可以深入挖掘，检测它是否是成功的与请求及回应的消息头与消息体。\n这使得测试与调试钩子非常容易。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_web_hook_debug"],["aid","AFMU2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMU5"]],"x":"开发者控制台的另一个很棒的功能是可以轻松地重新发送任何请求来测试你的服务。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMU6"]],"x":"关于如何编写 web 钩子与所有可监听的不同事件类型的更多信息，请访问在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://developer.github.com/webhooks/"],["aid","AFMU7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://developer.github.com/webhooks/","n":"a","l":" 的 GitHub 开发者文档。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMU3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMU4"]],"x":"Figure 52. Web 钩子调试信息","n":"figcaption","l":"\n"},{"a":[["alt","Web 钩子调试信息"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0031?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMSV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMT0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMT1"]],"n":"span","l":"require "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMT2"]],"x":"'sinatra'","n":"span","l":"\nrequire "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMT3"]],"x":"'json'","n":"span","l":"\nrequire "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMT4"]],"x":"'mail'","n":"span","l":"\n\npost "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMT5"]],"x":"'/payload'","n":"span","l":" "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMT6"]],"x":"do","n":"span","l":"\n  push = JSON.parse(request.body.read) "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMT7"]],"x":"# parse the JSON","n":"span","l":"\n\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMT8"]],"x":"# gather the data we're looking for","n":"span","l":"\n  pusher = push["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMT9"]],"x":"\"pusher\"","n":"span","l":"]["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTA"]],"x":"\"name\"","n":"span","l":"]\n  branch = push["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTB"]],"x":"\"ref\"","n":"span","l":"]\n\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTC"]],"x":"# get a list of all the files touched","n":"span","l":"\n  files = push["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTD"]],"x":"\"commits\"","n":"span","l":"].map "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMTE"]],"x":"do","n":"span","l":" |commit|\n    commit["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTF"]],"x":"'added'","n":"span","l":"] + commit["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTG"]],"x":"'modified'","n":"span","l":"] + commit["},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTH"]],"x":"'removed'","n":"span","l":"]\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMTI"]],"x":"end","n":"span","l":"\n  files = files.flatten.uniq\n\n  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTJ"]],"x":"# check for our criteria","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMTK"]],"x":"if","n":"span","l":" pusher == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTL"]],"x":"'schacon'","n":"span","l":" &&\n     branch == "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTM"]],"x":"'ref/heads/special-branch'","n":"span","l":" &&\n     files.include?("},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTN"]],"x":"'special-file.txt'","n":"span","l":")\n\n    Mail.deliver "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMTO"]],"x":"do","n":"span","l":"\n      from     "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTP"]],"x":"'tchacon@example.com'","n":"span","l":"\n      to       "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTQ"]],"x":"'tchacon@example.com'","n":"span","l":"\n      subject  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTR"]],"x":"'Scott Changed the File'","n":"span","l":"\n      body     "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMTS"]],"x":"\"ALARM\"","n":"span","l":"\n    "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMTT"]],"x":"end","n":"span","l":"\n  "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMTU"]],"x":"end","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMTV"]],"x":"end","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMSR"]],"x":"push","n":"code","l":" 事件获得一个请求。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMSO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMSP"]],"x":"Figure 51. Web 钩子配置","n":"figcaption","l":"\n"},{"a":[["alt","Web 钩子配置"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004G?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0041:off:00000000RD"],["aid","AFMSL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"服务与钩子配置区域","n":"a","l":" 中的 “Add webhook” 按钮。\n这会将你引导至一个类似 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0042:off:000000015P"],["id","xref-r_web_hook"],["aid","AFMSM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Web 钩子配置","n":"a","l":" 的页面。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_服务"],["aid","AFMS3"]],"x":"服务","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMS4"]],"x":"首先我们来看一下服务。\n钩子与服务整合都可以在仓库的设置区块中找到，就在我们之前添加协作者与改变项目的默认分支的地方。\n在 “Webhooks and Services” 标签下你会看到与 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_services_hooks"],["aid","AFMS6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMS9"]],"x":"有许多可以选择的服务，大多数是整合到其他的商业与开源系统中。\n它们中的大多数是为了整合持续集成服务、BUG 与问题追踪系统、聊天室系统与文档系统。\n我们将会通过设置一个非常简单的例子来介绍。\n如果从 “Add Service” 选择 “email”，会得到一个类似 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_service_config"],["aid","AFMSB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMSE"]],"x":"在本例中，如果我们点击 “Add service” 按钮，每次有人推送内容到仓库时，指定的电子邮件地址都会收到一封邮件。\n服务可以监听许多不同类型的事件，但是大多数只监听推送事件然后使用那些数据做一些事情。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMSF"]],"x":"如果有一个正在使用的系统想要整合到 GitHub，应当先检查这里看有没有已有的可用的服务整合。\n例如，如果正使用 Jenkins 来测试你的代码库，当每次有人推送到你的仓库时你可以启用 Jenkins 内置的整合启动测试运行。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMSC"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMSD"]],"x":"Figure 50. 电子邮件服务配置","n":"figcaption","l":"\n"},{"a":[["alt","电子邮件服务"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004D?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0041:off:00000001PK"],["id","xref-r_service_config"],["aid","AFMSA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"电子邮件服务配置","n":"a","l":" 的配置屏幕。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMS7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMS8"]],"x":"Figure 49. 服务与钩子配置区域","n":"figcaption","l":"\n"},{"a":[["alt","服务与钩子"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000R?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0041:off:00000000RD"],["id","xref-r_services_hooks"],["aid","AFMS5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"服务与钩子配置区域","n":"a","l":" 类似的内容。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_github_orgs"],["aid","AFMQ6"]],"x":"管理组织","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQ7"]],"x":"\n除了个人帐户之外，GitHub 还提供被称为组织（Organizations）的帐户。\n组织账户和个人账户一样都有一个用于存放所拥有项目的命名空间，但是许多其他的东西都是不同的。\n组织帐户代表了一组共同拥有多个项目的人，同时也提供一些工具用于对成员进行分组管理。\n通常，这种账户被用于开源群组（例如：“perl”或者“rails”），或者公司（例如：“google”或者“twitter”）。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","组织的基本知识"],["aid","AFMQ8"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","团队"],["aid","AFMQK"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","审计日志"],["aid","AFMRJ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_审计日志"],["aid","AFMRK"]],"x":"审计日志","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMRL"]],"x":"组织的拥有者还可以访问组织中发生的事情的所有信息。\n在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_audit_log"],["aid","AFMRN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMRQ"]],"x":"你也可以通过选定某一类型的事件、某个地方、某个人对日志进行过滤。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMRO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMRP"]],"x":"Figure 48. 审计日志","n":"figcaption","l":"\n"},{"a":[["alt","orgs 03 audit"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0016?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFMRM"]],"x":"Audit Log","n":"em","l":" 标签页有整个组织的日志，你可以看到谁在世界上哪个地方做了什么事。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_团队"],["aid","AFMQL"]],"x":"团队","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQM"]],"x":"组织使用团队（Teams）来管理成员，团队就是组织中的一组个人账户和版本库，以及团队成员对这些版本库的访问权限。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQN"]],"x":"例如，假设你的公司有三个版本库：","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQV"]],"x":"组织页面主要由一个面板（dashboard）构成，这个仪表盘包含了这个组织内的所有版本库，用户和团队。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_org_page"],["aid","AFMR0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMR3"]],"x":"你可以点击 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_team_page"],["aid","AFMR6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMR9"]],"x":"当你邀请一个用户加入团队，该用户会收到一封通知他被邀请的邮件。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMRA"]],"x":"除此之外，团队也类似于个人帐户，有 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMRD"]],"x":"一个用户可以加入任意数量的团队，所以别把自己局限于拥有访问控制的团队。\n对于某一类课题，像 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMRE"]],"x":"ux","n":"code","l":", "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMRF"]],"x":"css","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMRG"]],"x":"refactoring","n":"code","l":" 这样有着特殊关注点的团队就显得很有帮助，而像 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMRH"]],"x":"legal","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMRI"]],"x":"colorblind","n":"code","l":" 这样的就完全是针对它们各自领域的。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMRB"]],"x":"@mentions","n":"code","l":"（例如："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMRC"]],"x":"@acmecorp/frontend","n":"code","l":"）的功能，不同之处就在于被提及的团队内*所有*成员都会成为这个话题的订阅者。\n当你希望得到团队中某个人的关注，又不知道具体应该问谁的时候，这个功能就显得很有帮助。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMR7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMR8"]],"x":"Figure 47. 团队页面","n":"figcaption","l":"\n"},{"a":[["alt","团队页面"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002H?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003V:off:000000044V"],["id","xref-r_org_page"],["aid","AFMR4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"组织页面","n":"a","l":" 右边的团队侧边栏（Teams）来管理你的团队。\n点击之后，你会进入一个新页面，在这里你可以添加新成员和版本库到团队中，或者管理团队的访问权限和其它设置。\n每个团队对于版本库可以有只读、读写和管理三种权限。\n你可以通过点击在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003V:off:000000057U"],["id","xref-r_team_page"],["aid","AFMR5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"团队页面","n":"a","l":" 内的 “Settings” 按钮更改相应权限等级。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMR1"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMR2"]],"x":"Figure 46. 组织页面","n":"figcaption","l":"\n"},{"a":[["alt","组织页面"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003S?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMQO"]],"x":"frontend","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMQP"]],"x":"backend","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMQQ"]],"x":"deployscripts","n":"code","l":"。\n你会希望你的 HTML/CSS/Javascript 开发者有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMQR"]],"x":"frontend","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMQS"]],"x":"backend","n":"code","l":" 的访问权限，操作人员有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMQT"]],"x":"backend","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMQU"]],"x":"deployscripts","n":"code","l":" 的访问权限。\n团队让这个任务变得更简单，而不用为每个版本库管理它的协作者。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_组织的基本知识"],["aid","AFMQ9"]],"x":"组织的基本知识","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQA"]],"x":"我们可以很简单地创建一个组织，只需要点击任意 GitHub 页面右上角的“+”图标，在菜单中选择“New organization”即可。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMQB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQE"]],"x":"首先你必须提供组织的名称和组织的主要联系邮箱。\n然后，如果你希望的话，也可以邀请其他用户作为共同拥有人。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQF"]],"x":"完成以上步骤后，你就会拥有一个全新的组织。\n类似于个人帐户，如果组织的所有内容都是开源的，那么你就可以免费使用这个组织。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQG"]],"x":"作为一个组织的拥有者，当你在派生一个版本库的时候，你可以选择把它派生到你的组织的命名空间内。\n当你新建版本库时，你可以把它存放到你的个人帐户或你拥有的组织内。\n同时，你也会自动地“关注”所有这些组织内的新版本库。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQH"]],"x":"就像","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQJ"]],"x":"下面我们来说一些组织和个人帐户不同的地方。","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003B:off:00000004C0"],["id","xref-r_personal_avatar"],["aid","AFMQI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"头像","n":"a","l":"，你可以为你的组织上传头像，使它更个性化。\n同时，也和个人帐户类似，组织会有一个着陆页（landing page），用于列出该组织所有的版本库，并且该页面可供所有人浏览。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMQC"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMQD"]],"x":"Figure 45. ‘`New organization’'菜单项","n":"figcaption","l":"\n"},{"a":[["alt","``New organization''菜单项"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005F?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_项目管理"],["aid","AFMPK"]],"x":"项目管理","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMPL"]],"x":"对于一个单个项目其实没有很多管理事务要做，但也有几点有趣的。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","改变默认分支"],["aid","AFMPM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","移交项目"],["aid","AFMPT"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_移交项目"],["aid","AFMPU"]],"x":"移交项目","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMPV"]],"x":"如果你想把一个项目移交给 GitHub 中的另一个人或另一个组织，还是设置页面的这个 ＂options＂标签下有一个 “Transfer ownership” 选项可以用来干这个。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_transfer_project"],["aid","AFMQ0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQ3"]],"x":"当你正准备放弃一个项目且正好有别人想要接手时，或者你的项目壮大了想把它移到一个组织里时，这就管用了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMQ4"]],"x":"这么做不仅会把版本库连带它所有的观察和星标数都移到另一个地方，它还会将你的 URL 重定向到新的位置。\n它也重定向了来自 Git 的克隆和抓取，而不仅仅是网页端请求。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMQ1"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMQ2"]],"x":"Figure 44. 把项目移交给另一个 GitHub 用户或组织。","n":"figcaption","l":"\n"},{"a":[["alt","移交"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004C?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_改变默认分支"],["aid","AFMPN"]],"x":"改变默认分支","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMPO"]],"x":"如果你想用 “master” 之外的分支作为你的默认分支，其他人将默认会在这个分支上开启合并请求或进行浏览，你可以在你版本库的设置页面的 \"options\" 标签下修改。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_default_branch"],["aid","AFMPP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMPS"]],"x":"简单地改变默认分支下拉列表中的选项，它就会作为所有主要操作的默认分支，他人进行克隆时该分支也将被默认检出。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMPQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMPR"]],"x":"Figure 43. 改变项目的默认分支.","n":"figcaption","l":"\n"},{"a":[["alt","默认分支"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0057?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_贡献_contributing"],["aid","AFMPA"]],"x":"贡献 CONTRIBUTING","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMPB"]],"x":"另一个 GitHub 可以识别的特殊文件是 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_contrib_file"],["aid","AFMPF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMPI"]],"x":"这个的作用就是你可以在这里指出对于你的项目开启的合并请求你想要的／不想要的各种事情。\n这样别人在开启合并请求之前可以读到这些指导方针。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMPG"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMPH"]],"x":"Figure 42. 开启合并请求时有 CONTRIBUTING 文件存在.","n":"figcaption","l":"\n"},{"a":[["alt","贡献注意事项"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001M?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMPC"]],"x":"CONTRIBUTING","n":"code","l":" 。\n如果你有一个任意扩展名的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMPD"]],"x":"CONTRIBUTING","n":"code","l":" 文件，当有人开启一个合并请求时 GitHub 会显示 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003T:off:000000069Q"],["id","xref-r_contrib_file"],["aid","AFMPE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"开启合并请求时有 CONTRIBUTING 文件存在.","n":"a","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_readme"],["aid","AFMOL"]],"x":"README","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMOM"]],"x":"第一个就是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMOR"]],"x":"很多团队在这个文件里放版本库或项目新人需要了解的所有相关的信息。\n它一般包含这些内容：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMOS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMP8"]],"x":"因为 GitHub 会渲染这个文件，你可以在文件里植入图片或链接让它更容易理解。","n":"p","l":"\n"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","AFMOT"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","AFMOU"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","AFMP0"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","AFMP2"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","AFMP4"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","AFMP6"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFMP7"]],"x":"如何向项目贡献力量","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFMP5"]],"x":"项目的许可证","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFMP3"]],"x":"有关如何使用和运行的例子","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFMP1"]],"x":"如何配置与安装","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFMOV"]],"x":"该项目的作用","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMON"]],"x":"README","n":"code","l":" 文件，可以是几乎任何 GitHub 可以识别的格式。\n例如，它可以是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOO"]],"x":"README","n":"code","l":" ，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOP"]],"x":"README.md","n":"code","l":" ， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOQ"]],"x":"README.asciidoc","n":"code","l":" 。\n如果 GitHub 在你的版本库中找到 README 文件，会把它在项目的首页渲染出来。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_特殊文件"],["aid","AFMOI"]],"x":"特殊文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMOJ"]],"x":"如果你的版本库中有一些特殊文件，GitHub 会提醒你。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_邮件通知"],["aid","AFMNU"]],"x":"邮件通知","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMNV"]],"x":"邮件通知是你处理 GitHub 通知的另一种方式。\n如果你打开这个选项，每当有通知时，你会收到一封邮件。\n我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMO2"]],"x":"GitHub 在发送给你的邮件头中附带了很多元数据，这对于设置过滤器和邮件规则非常有帮助。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMO3"]],"x":"举个例子，我们来看一看在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMO5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMO9"]],"x":"这里有一些有趣的东西。\n如果你想高亮或者转发这个项目甚至这个合并请求相关的邮件，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMOD"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMOG"]],"x":"值得注意的是，如果你同时打开了邮件和网页通知，那么当你在邮件客户端允许加载图片的情况下阅读邮件通知时，对应的网页通知也将会同时被标记为已读。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOE"]],"x":"List-Post","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOF"]],"x":"List-Unsubscribe","n":"code","l":" 字段表示如果你的邮件客户端能够处理这些，那么你可以很容易地在列表中发贴或取消对这个相关帖子的订阅。\n那会很有效率，就像在页面中点击静音按钮或在问题／合并请求页面点击 “Unsubscribe” 一样。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOA"]],"x":"Message-ID","n":"code","l":" 中的信息会以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOB"]],"x":"<user>/<project>/<type>/<id>","n":"code","l":" 的格式展现所有的数据。\n例如，如果这是一个问题(issue)，那么 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMOC"]],"x":"<type>","n":"code","l":" 字段就会是 “issues” 而不是 “pull” 。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMO6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMO7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMO8"]],"n":"span","l":"To: tonychacon/fade <fade@noreply.github.com>\nMessage-ID: <tonychacon/fade/pull/1@github.com>\nSubject: [fade] Wait longer to see the dimming effect better (#1)\nX-GitHub-Recipient: tonychacon\nList-ID: tonychacon/fade <fade.tonychacon.github.com>\nList-Archive: https://github.com/tonychacon/fade\nList-Post: <mailto:reply+i-4XXX@reply.github.com>\nList-Unsubscribe: <mailto:unsub+i-XXX@reply.github.com>，...\nX-GitHub-Recipient-Address: tchacon@example.com"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003O:off:000000018G"],["aid","AFMO4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"新的合并请求的邮件通知.","n":"a","l":" 中发给 Tony 的一封真实邮件的头部，我们会看到下面这些："},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003G:off:00000001JN"],["id","xref-r_email_notification"],["aid","AFMO0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通过电子邮件发送的评论提醒","n":"a","l":" 和 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003O:off:000000018G"],["aid","AFMO1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"新的合并请求的邮件通知.","n":"a","l":" 看到了一些例子。\n邮件也会被合适地按话题组织在一起，如果你使用一个具有会话功能的邮件客户端那会很方便。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_网页通知"],["aid","AFMNK"]],"x":"网页通知","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMNL"]],"x":"网页通知只在 GitHub 上存在，你也只能在 GitHub 上查看。\n如果你打开了这个选项并且有一个你的通知，你会在你屏幕上方的通知图标上看到一个小蓝点。参见 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_not_center"],["aid","AFMNN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMNQ"]],"x":"如果你点击那个玩意儿，你会看到你被通知到的所有条目，按照项目分好了组。\n你可以点击左边栏的项目名字来过滤项目相关的通知。\n你可以点击通知旁边的对号图标把通知标为已读，或者点击组上面的图标把项目中 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMNS"]],"x":"所有这些工具对于处理大量通知非常有用。\n很多 GitHub 资深用户都关闭邮件通知，在这个页面上处理他们所有的通知。","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","AFMNR"]],"x":"所有的","n":"strong","l":" 通知标为已读。\n在每个对号图标旁边都有一个静音按钮，你可以点一下，以后就不会收到它相关的通知。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMNO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMNP"]],"x":"Figure 41. 通知中心.","n":"figcaption","l":"\n"},{"a":[["alt","通知中心"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001V?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003S:off:00000003LJ"],["id","xref-r_not_center"],["aid","AFMNM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"通知中心.","n":"a","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_通知页面"],["aid","AFMND"]],"x":"通知页面","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMNE"]],"x":"当我们在这提到特指 GitHub 的 “notifications” ，指的是当 GitHub 上有事件发生时，它通知你的方式，这里有几种不同的方式来配置它们。\n如果你打开配置页面的 “Notification center” 标签，你可以看到一些选项。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMNF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMNI"]],"x":"有两个选项，通过＂邮件(Email)＂和通过＂网页(Web)＂，你可以选用一个或者都不选或者都选。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMNG"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMNH"]],"x":"Figure 40. 通知中心选项.","n":"figcaption","l":"\n"},{"a":[["alt","通知中心"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003E?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_提醒和通知"],["aid","AFMN0"]],"x":"提醒和通知","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMN1"]],"x":"GitHub 内置了一个很好的通知系统，当你需要与别人或别的团队交流时用起来很方便。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMN2"]],"x":"在任何评论中你可以先输入一个`@`，系统会自动补全项目中合作者或贡献者的名字和用户名。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMN3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMN6"]],"x":"你也可以提醒不在列表中的用户，但是通常自动补全用起更快。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMN7"]],"x":"当你发布了一个带用户提醒的评论，那个用户会收到通知。\n这意味着把人们拉进会话中要比让他们投票有效率得多。\n对于 GitHub 上的合并请求，人们经常把他们团队或公司中的其它人拉来审查问题或合并请求。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMN8"]],"x":"如果有人收到了合并请求或问题的提醒，他们会＂订阅＂它，后面有新的活动发生他们都会持续收到提醒。\n如果你是合并请求或者问题的发起方你也会被订阅上，比如你在关注一个版本库或者你评论了什么东西。\n如果你不想再收到提醒，在页面上有个 “Unsubscribe” 按钮，点一下就不会再收到更新了。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMN9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMNA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMNB"]],"x":"Figure 39. 取消订阅一个问题或合并请求.","n":"figcaption","l":"\n"},{"a":[["alt","取消订阅"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005V?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMN4"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMN5"]],"x":"Figure 38. 输入 @ 来提醒某人.","n":"figcaption","l":"\n"},{"a":[["alt","提醒"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0019?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_合并请求之上的合并请求"],["aid","AFMMM"]],"x":"合并请求之上的合并请求","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMMN"]],"x":"你不仅可以在主分支或者说 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMMP"]],"x":"如果你看到一个合并请求在向正确的方向发展，然后你想在这个合并请求上做一些修改或者你不太确定这是个好主意，或者你没有目标分支的推送权限，你可以直接在合并请求上开启一个合并请求。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMMQ"]],"x":"当你开启一个合并请求时，在页面的顶端有一个框框显示你要合并到哪个分支和你从哪个分支合并过来的。\n如果你点击那个框框右边的 “Edit” 按钮，你不仅可以改变分支，还可以选择哪个 fork。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_targets"],["aid","AFMMR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMMU"]],"x":"这里你可以很简单地指明合并你的分支到哪一个合并请求或 fork。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMMS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMMT"]],"x":"Figure 37. 手工修改合并请求的目标.","n":"figcaption","l":"\n"},{"a":[["alt","合并目标"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001U?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMMO"]],"x":"master","n":"code","l":" 分支上开启合并请求，实际上你可以在网络上的任何一个分支上开启合并请求。\n其实，你甚至可以在另一个合并请求上开启一个合并请求。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMMJ"]],"x":"head","n":"code","l":" 。\n在 GitHub 那边也有一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMMK"]],"x":"refs/pull/#/merge","n":"code","l":" 引用，它代表的是如果你在网站上按了 “merge” 按钮对应的提交记录。\n这甚至让你可以在按按钮之前就测试这个合并。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMME"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMMF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMMG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMMH"]],"x":"$","n":"span","l":" git checkout pr/2\nChecking out files: 100% (3769/3769)， done.\nBranch pr/2 set up to track remote branch pr/2 from origin.\nSwitched to a new branch 'pr/2'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMM6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMM7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMM8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMM9"]],"x":"$","n":"span","l":" git fetch\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMMA"]],"x":"#","n":"span","l":" …\n * [new ref]         refs/pull/1/head -> origin/pr/1\n * [new ref]         refs/pull/2/head -> origin/pr/2\n * [new ref]         refs/pull/4/head -> origin/pr/4\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMMB"]],"x":"#","n":"span","l":" …"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMM2"]],"x":"refs/pull/123/head","n":"code","l":" 的引用应该在本地版本库像 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMM3"]],"x":"refs/remotes/origin/pr/123","n":"code","l":" 一样存储”\n现在，如果你保存那个文件，执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMM4"]],"x":"git fetch","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMLV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMM0"]],"x":"[remote \"origin\"]\n    url = https://github.com/libgit2/libgit2.git\n    fetch = +refs/heads/*:refs/remotes/origin/*\n    fetch = +refs/pull/*/head:refs/remotes/origin/pr/*","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLQ"]],"x":"fetch =","n":"code","l":" 开头的行是一个 “refspec.”\n它是一种把 remote 的名称映射到你本地 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLR"]],"x":".git","n":"code","l":" 目录的方法。\n这一条（就是上面的这一条）告诉 Git，“remote 上 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLS"]],"x":"refs/heads","n":"code","l":" 下面的内容在我本地版本库中都放在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLT"]],"x":"refs/remotes/origin","n":"code","l":" 。”\n你可以把这一段修改一下，添加另一个 refspec："},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMLN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMLO"]],"x":"[remote \"origin\"]\n    url = https://github.com/libgit2/libgit2\n    fetch = +refs/heads/*:refs/remotes/origin/*","n":"code"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFMLJ"]],"x":"所有的","n":"em","l":" 合并请求，并且在你连接到远程（remote）的时候保持更新。\n用你最喜欢的编辑器打开 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLK"]],"x":".git/config","n":"code","l":" ，查找 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLL"]],"x":"origin","n":"code","l":" 远程（remote）。\n看起来差不多像下面这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLD"]],"x":"origin","n":"code","l":" 这个 remote，下载名字为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLE"]],"x":"refs/pull/958/head","n":"code","l":" 的引用。”\nGit 高高兴兴去执行，下载构建那个引用需要的所有内容，然后把指针指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLF"]],"x":".git/FETCH_HEAD","n":"code","l":" 下面你想要的提交记录。\n然后你可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMLG"]],"x":"git merge FETCH_HEAD","n":"code","l":" 把它合并到你想进行测试的分支，但那个合并的提交信息看起来有点怪。\n然而，如果你需要审查 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","AFMLH"]],"x":"一大批","n":"strong","l":" 合并请求，这样操作会很麻烦。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFML8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFML9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMLA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMLB"]],"x":"$","n":"span","l":" git fetch origin refs/pull/958/head\nFrom https://github.com/libgit2/libgit2\n * branch            refs/pull/958/head -> FETCH_HEAD"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMKU"]],"x":"/head","n":"code","l":" 结尾的引用指向的提交记录与合并请求分支中的最后一个提交记录是同一个。\n所以如果有人在我们的版本库中开启了一个合并请求，他们的分支叫做 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMKV"]],"x":"bug-fix","n":"code","l":"，指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFML0"]],"x":"a5a775","n":"code","l":" 这个提交记录，那么在 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","AFML1"]],"x":"我们的","n":"strong","l":" 版本库中我们没有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFML2"]],"x":"bug-fix","n":"code","l":" 分支（因为那是在他们的 fork 中），但我们 "},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","AFML3"]],"x":"可以","n":"strong","l":" 有一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFML4"]],"x":"pull/<pr#>/head","n":"code","l":" 指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFML5"]],"x":"a5a775","n":"code","l":"。\n这意味着我们可以很容易地拉取每一个合并请求分支而不用添加一堆 remote。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMKR"]],"x":"refs/pull/","n":"code","l":" 开头的引用。\n它们实际上是分支，但因为它们不在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMKS"]],"x":"refs/heads/","n":"code","l":" 中，所以正常情况下你克隆时不会从服务器上得到它们 — 抓取过程正常情况下会忽略它们。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMKP"]],"x":"git ls-remote origin","n":"code","l":" ，它会显示相似的内容。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMKK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMKL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMKM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMKN"]],"x":"$","n":"span","l":" git ls-remote https://github.com/schacon/blink\n10d539600d86723087810ec636870a504f4fee4d\tHEAD\n10d539600d86723087810ec636870a504f4fee4d\trefs/heads/master\n6a83107c62950be9453aac297bb0193fd743cd6e\trefs/pull/1/head\nafe83c2d1a70674c9505cc1d8b7d380d5e076ed3\trefs/pull/1/merge\n3c8d735ee16296c242be7a9742ebfbc2665adec1\trefs/pull/2/head\n15c9f4f80973a2758462ab2066b6ad9fe8dcf03d\trefs/pull/2/merge\na5a7751a33b7e86c5e9bb07b26001bb17d775d1a\trefs/pull/4/head\n31a45fc257e8433c8d8804e3e848cf61c9d3166c\trefs/pull/4/merge"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMKG"]],"x":"ls-remote","n":"code","l":" 的低级命令（通常被叫做“plumbing”，我们会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:000000020F"],["id","xref--ch10-git-internals--r_plumbing_porcelain"],["aid","AFMKH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"底层命令和高层命令","n":"a","l":" 读到更多相关内容）。\n这个命令在日常 Git 操作中基本不会用到，但在显示服务器上有哪些引用（reference）时很管用。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","AFMKC"]],"x":"许多","n":"strong","l":" 合并请求，不想添加一堆 remote 或者每次都要做一次拉取，这里有一个可以在 GitHub 上用的小技巧。\n这是有点高级的技巧，但它相当有用，我们会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0096:off:0000000000"],["id","xref--ch10-git-internals--r_refspec"],["aid","AFMKD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用规格","n":"a","l":" 有更多的细节说明。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_在合并请求上进行合作"],["aid","AFMJQ"]],"x":"在合并请求上进行合作","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJR"]],"x":"就像我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJT"]],"x":"每次有人在合并请求上进行注释你都会收到通知邮件，通知你哪里发生改变。\n他们都会包含一个到改变位置的链接，你可以直接在邮件中对合并请求进行注释。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMJU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMK1"]],"x":"一旦代码符合了你的要求，你想把它合并进来，你可以把代码拉取下来在本地进行合并，也可以用我们之前提到过的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMK3"]],"x":"对于很琐碎的合并，你也可以用 GitHub 网站上的 “Merge” 按钮。\n它会做一个 “non-fast-forward” 合并，即使可以快进（fast-forward）合并也会产生一个合并提交记录。\n就是说无论如何，只要你点击 merge 按钮，就会产生一个合并提交记录。\n你可以在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_merge_button"],["aid","AFMK5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMK8"]],"x":"如果你决定不合并它，你可以把合并请求关掉，开启合并请求的人会收到通知。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMK6"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMK7"]],"x":"Figure 36. 合并按钮和手工合并一个合并请求的指令.","n":"figcaption","l":"\n"},{"a":[["alt","合并按钮"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004O?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003O:off:00000005KK"],["id","xref-r_merge_button"],["aid","AFMK4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并按钮和手工合并一个合并请求的指令.","n":"a","l":" 看到，如果你点击提示链接，GitHub 会给你所有的这些信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMK2"]],"x":"git pull <url> <branch>","n":"code","l":" 语法，或者把 fork 添加为一个 remote，然后进行抓取和合并。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMJV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMK0"]],"x":"Figure 35. Responses to emails are included in the thread.","n":"figcaption","l":"\n"},{"a":[["alt","邮件回复"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005H?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003E:off:0000000000"],["id","xref-r_github_flow"],["aid","AFMJS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitHub 流程","n":"a","l":"，_ 说过的，现在你可以跟开启合并请求的人进行会话。\n你既可以对某些代码添加注释，也可以对整个提交添加注释或对整个合并请求添加注释，在任何地方都可以用 GitHub Flavored Markdown。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_email_notifications"],["aid","AFMJ7"]],"x":"邮件通知","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJ8"]],"x":"有人来修改了你的代码，给你发了一个合并请求。\n你会收一封关于合并请求的提醒邮件，它看起来像 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_email_pr"],["aid","AFMJA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJD"]],"x":"关于这个邮件有几个要注意的地方。\n它会给你一个小的变动统计结果 — 一个包含合并请求中改变的文件和改变了多少的列表。\n它还给你一个 GitHub 上进行合并请求操作的链接。\n还有几个可以在命令行使用的 URL。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJE"]],"x":"如果你注意到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMJH"]],"x":"还有一些有趣的 URL，像 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMJK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMJL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMJM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMJN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMJO"]],"x":"$","n":"span","l":" curl http://github.com/tonychacon/fade/pull/1.patch | git am"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMJI"]],"x":".diff","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMJJ"]],"x":".patch","n":"code","l":" ，就像你猜的那样，它们提供 diff 和 patch 的标准版本。\n你可以技术性地用下面的方法合并“合并请求”："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMJF"]],"x":"git pull <url> patch-1","n":"code","l":" 这一行，这是一种合并远程分支的简单方式，无需必须添加一个远程分支。\n我们很快会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0032:off:000000002K"],["id","xref--ch05-distributed-git--r_checking_out_remotes"],["aid","AFMJG"],["target","_blank"],["rel","noopener noreferrer"]],"x":"检出远程分支","n":"a","l":"._ 讲到它。\n如果你愿意，你可以创建并切换到一个主题分支，然后运行这个命令把合并请求合并进来。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMJB"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMJC"]],"x":"Figure 34. 新的合并请求的邮件通知.","n":"figcaption","l":"\n"},{"a":[["alt","合并请求的邮件通知"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000O?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003O:off:000000018G"],["id","xref-r_email_pr"],["aid","AFMJ9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"新的合并请求的邮件通知.","n":"a","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_添加合作者"],["aid","AFMIN"]],"x":"添加合作者","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMIO"]],"x":"如果你想与他人合作，并想给他们提交的权限，你需要把他们添加为 “Collaborators”。\n如果 Ben，Jeff，Louise 都在 GitHub 上注册了，你想给他们推送的权限，你可以将他们添加到你的项目。\n这样做会给他们 “推送” 权限，就是说他们对项目和 Git 版本库都有读写的权限。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMIP"]],"x":"点击边栏底部的 “Settings” 链接。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMIQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMIT"]],"x":"然后从左侧菜单中选择 “Collaborators” 。\n然后，在输入框中填写用户名，点击 “Add collaborator.”\n如果你想授权给多个人，你可以多次重复这个步骤。\n如果你想收回权限，点击他们同一行右侧的 “X”","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMIU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMIV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMJ0"]],"x":"Figure 33. 版本库合作者.","n":"figcaption","l":"\n"},{"a":[["alt","版本库合作者."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0024?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMIR"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMIS"]],"x":"Figure 32. 版本库设置链接.","n":"figcaption","l":"\n"},{"a":[["alt","版本库设置链接."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005N?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_创建新的版本库"],["aid","AFMHU"]],"x":"创建新的版本库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMHV"]],"x":"让我们创建一个版本库来分享我们的项目。\n通过点击面板右侧的“New repository”按钮，或者顶部工具条你用户名旁边的 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMI2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_new_repo_dropdown"],["aid","AFMI5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMI8"]],"x":"这会带你到 “new repository” 表单:","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMI9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMIC"]],"x":"这里除了一个你必须要填的项目名，其他字段都是可选的。\n现在只需要点击 “Create Repository” 按钮，Duang!!! – 你就在 GitHub 上拥有了一个以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMIE"]],"x":"因为目前暂无代码，GitHub 会显示有关创建新版本库或者关联到一个已有的 Git 版本库的一些说明。\n我们不会在这里详细说明此项，如果你需要复习，去看 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMIG"]],"x":"现在你的项目就托管在 GitHub 上了，你可以把 URL 给任何你想分享的人。\nGitHub 上的项目可通过 HTTP 或 SSH 访问，格式是：HTTP ： ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","AFMIJ"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","AFMIK"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMIL"]],"x":"通常对于公开项目可以优先分享基于 HTTP 的 URL，因为用户克隆项目不需要有一个 GitHub 帐号。\n如果你分享 SSH URL，用户必须有一个帐号并且上传 SSH 密钥才能访问你的项目。\nHTTP URL 与你贴到浏览器里查看项目用的地址是一样的。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMIH"]],"x":"https://github.com/<user>/<project_name>","n":"code","l":" ， SSH ： "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMII"]],"x":"git@github.com:<user>/<project_name>","n":"code","l":" 。\nGit 可以通过以上两种 URL 进行抓取和推送，但是用户的访问权限又因连接时使用的证书不同而异。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000F:off:0000000000"],["id","xref--ch02-git-basics"],["aid","AFMIF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 基础","n":"a","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMID"]],"x":"<user>/<project_name>","n":"code","l":" 命名的新仓库了。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMIA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMIB"]],"x":"Figure 31. 这是 “new repository” 表单.","n":"figcaption","l":"\n"},{"a":[["alt","``new repository'' 表单。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0052?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMI6"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMI7"]],"x":"Figure 30. 这是 “New repository” 下拉列表.","n":"figcaption","l":"\n"},{"a":[["alt","``new repository'' 下拉列表."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002E?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMI3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMI4"]],"x":"Figure 29. 这是 ‘`Your repositories’'区域.","n":"figcaption","l":"\n"},{"a":[["alt","``Your repositories'' 区域."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002F?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMI0"]],"x":"+","n":"code","l":" 按钮来开始我们的旅程。 参见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003N:off:00000001B8"],["id","xref-r_new_repo_dropdown"],["aid","AFMI1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"这是 “New repository” 下拉列表.","n":"a","l":"。"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_图片"],["aid","AFMHJ"]],"x":"图片","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMHK"]],"x":"从技术层面来说，这并不是 GitHub 风格 Markdown 的功能，但是也很有用。如果不想使用 Markdown 语法来插入图片，GitHub 允许你通过拖拽图片到文本区来插入图片。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_md_drag"],["aid","AFMHL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMHO"]],"x":"如果你回去查看 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003J:off:00000001OD"],["aid","AFMHP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在合并请求中的交叉引用","n":"a","l":" ，你会发现文本区上有个“Parsed as Markdown”的提示。点击它你可以了解所有能在 GitHub 上使用的 Markdown 功能。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMHM"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMHN"]],"x":"Figure 28. 通过拖拽的方式自动插入图片","n":"figcaption","l":"\n"},{"a":[["alt","拖拽插入图片"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0035?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_表情符号_emoji"],["aid","AFMGS"]],"x":"表情符号（Emoji）","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMGT"]],"x":"最后，我们可以在评论中使用表情符号。这经常出现在 GitHub 的议题和合并请求的评论中。GitHub 上甚至有表情助手。如果你在输入评论时以 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_md_emoji_auto"],["aid","AFMGV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMH2"]],"x":"你也可以在评论的任何地方使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMH4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMH7"]],"x":"渲染之后，就会变成这样： ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_md_emoji"],["aid","AFMH9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMHC"]],"x":"虽然这个功能并不是非常实用，但是它在这种不方便表达感情的媒体里，加入了趣味的元素。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","AFMHD"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","AFMHE"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMHF"]],"x":"事实上现在已经有大量的在线服务可以使用表情符号，这里有个列表可以让你快速的找到能表达你的情绪的表情符号：","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMHG"]],"n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://www.emoji-cheat-sheet.com"],["aid","AFMHH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://www.emoji-cheat-sheet.com","n":"a"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMHA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMHB"]],"x":"Figure 27. 使用了大量表情符号的评论","n":"figcaption","l":"\n"},{"a":[["alt","Emoji"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004F?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003M:off:00000001OF"],["id","xref-r_md_emoji"],["aid","AFMH8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"使用了大量表情符号的评论","n":"a"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMH5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMH6"]],"x":"I :eyes: that :bug: and I :cold_sweat:.\n\n:trophy: for :microscope: it.\n\n:+1: and :sparkles: on this :ship:, it's :fire::poop:!\n\n:clap::tada::panda_face:","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMH3"]],"x":":<表情名称>:","n":"code","l":" 来添加表情符号。举个例子，你可以输入以下文字："},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMH0"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMH1"]],"x":"Figure 26. 表情符号自动完成器","n":"figcaption","l":"\n"},{"a":[["alt","表情符号自动完成器"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005U?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMGU"]],"x":":","n":"code","l":" 开头，自动完成器会帮助你找到你需要的表情。"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_引用"],["aid","AFMGE"]],"x":"引用","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMGF"]],"x":"如果你在回复一个很长的评论之中的一小段，你只需要复制你需要的片段，并在每行前添加 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMGI"]],"x":"引用的部分就像这样:","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMGJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMGM"]],"x":"经过渲染后，就会变成这样： ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_md_quote"],["aid","AFMGO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMGP"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMGQ"]],"x":"Figure 25. 渲染后的引用示例","n":"figcaption","l":"\n"},{"a":[["alt","渲染后的引用"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0018?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003L:off:000000069B"],["id","xref-r_md_quote"],["aid","AFMGN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"渲染后的引用示例","n":"a"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMGK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMGL"]],"x":"> Whether 'tis Nobler in the mind to suffer\n> The Slings and Arrows of outrageous Fortune,\n\nHow big are these slings and in particular, these arrows?","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMGG"]],"x":">","n":"code","l":" 符号即可。事实上，因为这个功能会被经常用到，它也有一个快捷键。只要你把你要回应的文字选中，并按下 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMGH"]],"x":"r","n":"code","l":" 键，选中的问题会自动引用并填入评论框。"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_摘录代码"],["aid","AFMG2"]],"x":"摘录代码","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMG3"]],"x":"你也可以在评论中摘录代码。这在你想要展示尚未提交到分支中的代码时会十分有用。它也经常被用在展示无法正常工作的代码或这个合并请求需要的代码。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMG4"]],"x":"你需要用“反引号”将需要添加的摘录代码包起来。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMG5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMG8"]],"x":"如果加入语言的名称，就像我们这里加入的“java”一样，GitHub 会自动尝试对摘录的片段进行语法高亮。在下面的例子中，它最终会渲染成这个样子： ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_md_code"],["aid","AFMGA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMGB"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMGC"]],"x":"Figure 24. 渲染后的摘录代码示例","n":"figcaption","l":"\n"},{"a":[["alt","渲染后的摘录代码"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002J?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003L:off:00000004J5"],["id","xref-r_md_code"],["aid","AFMG9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"渲染后的摘录代码示例","n":"a","l":" 。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMG6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMG7"]],"x":"```java\nfor(int i=0 ; i < 5 ; i++)\n{\n   System.out.println(\"i is : \" + i);\n}\n```","n":"code"},{"a":[["class","calibre32 pcalibre1 pcalibre"],["id","_任务列表"],["aid","AFMFF"]],"x":"任务列表","n":"h5","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMFG"]],"x":"第一个 GitHub 专属的 Markdown 功能，特别是用在合并请求中，就是任务列表。一个任务列表可以展示出一系列你想要完成的事情，并带有复选框。把它们放在议题或合并请求中时，通常可以展示你想要完成的事情。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMFH"]],"x":"你可以这样创建一个任务列表：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMFI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMFL"]],"x":"如果我们将这个列表加入合并请求或议题的描述中，它将会被渲染 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_task_lists"],["aid","AFMFN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMFQ"]],"x":"在合并请求中，任务列表经常被用来在合并之前展示这个分支将要完成的事情。最酷的地方就是，你只需要点击复选框，就能更新评论 —— 你不需要直接修改 Markdown。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMFR"]],"x":"不仅如此，GitHub 还会将你在议题和合并请求中的任务列表整理起来集中展示。举个例子，如果你在一个合并请求中有任务清单，你将会在所有合并请求的总览页面上看到它的进度。这使得人们可以把一个合并请求分解成不同的小任务，同时便于其他人了解分支的进度。你可以在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_task_list_progress"],["aid","AFMFT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMG0"]],"x":"当你在实现一个任务的早期就提交合并请求，并使用任务清单追踪你的进度，这个功能会十分的有用。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMFU"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMFV"]],"x":"Figure 23. 在合并请求列表中的任务列表总结","n":"figcaption","l":"\n"},{"a":[["alt","任务列表示例"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004H?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003L:off:00000002P5"],["id","xref-r_task_list_progress"],["aid","AFMFS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在合并请求列表中的任务列表总结","n":"a","l":" 看到一个例子。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMFO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMFP"]],"x":"Figure 22. Markdown 评论中渲染后的任务列表","n":"figcaption","l":"\n"},{"a":[["alt","任务列表示例"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005I?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003L:off:00000001G8"],["id","xref-r_task_lists"],["aid","AFMFM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Markdown 评论中渲染后的任务列表","n":"a","l":" 这样。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMFJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMFK"]],"x":"- [X] 编写代码\n- [ ] 编写所有测试程序\n- [ ] 为代码编写文档","n":"code"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMF9"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMFA"]],"x":"Figure 21. 一个 Markdown 的例子和渲染效果","n":"figcaption","l":"\n"},{"a":[["alt","Markdown 例子"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000N?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003K:off:00000000OK"],["id","xref-r_example_markdown"],["aid","AFMF7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"一个 Markdown 的例子和渲染效果","n":"a","l":" 里的例子来了解如何书写评论或文本，并通过 Markdown 进行渲染。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_参考"],["aid","AFMEC"]],"x":"参考","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMED"]],"x":"你的下个问题可能是“我该如何引用旧的合并请求？”。有许多方法可以让你在 GitHub 上的几乎任何地方引用其他东西。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMEE"]],"x":"先从如何对合并请求或议题（Issue）进行相互引用开始。所有的合并请求和议题在项目中都会有一个独一无二的编号。举个例子，你无法同时拥有 3 号合并请求和 3 号议题。如果你想要引用任何一个合并请求或议题，你只需要在提交或描述中输入 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMEI"]],"x":"我们来看一个例子。假设我们对上个例子中的分支进行了变基，并为此创建一个新的合并请求，现在我们希望能在新的合并请求中引用旧的合并请求。我们同时希望引用一个派生出的项目中的议题和一个完全不同的项目中的议题，就可以像 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_references"],["aid","AFMEK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMEN"]],"x":"当我们提交了这个合并请求，我们将会看到以上内容被渲染成这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_references_render"],["aid","AFMEP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMES"]],"x":"你会注意到完整的 GitHub 地址被简化了，只留下了必要的信息。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMET"]],"x":"如果 Tony 回去关闭了源合并请求，我们可以看到一个被引用的提示，GitHub 会自动的反向追踪事件并显示在合并请求的时间轴上。这意味着任何查看这个合并请求的人可以轻松地访问新的合并请求。这个链接就像 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_closed"],["aid","AFMEV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMF2"]],"x":"除了议题编号外，你还可以通过使用提交的 SHA-1 来引用提交。你必须完整的写出 40 位长的 SHA，GitHub 会在评论中自动地产生指向这个提交的链接。同样的，你可以像引用议题一样对“Fork”出的项目中的提交或者其他项目中的提交进行引用。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMF0"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMF1"]],"x":"Figure 20. 在合并请求中渲染后的交叉引用","n":"figcaption","l":"\n"},{"a":[["alt","合并请求关闭"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0022?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003J:off:00000003HH"],["id","xref-r_pr_closed"],["aid","AFMEU"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在合并请求中渲染后的交叉引用","n":"a","l":" 中展示的那样。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMEQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMER"]],"x":"Figure 19. 在合并请求中渲染后的交叉引用","n":"figcaption","l":"\n"},{"a":[["alt","渲染后的合并请求中的引用"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003G?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003J:off:00000002F8"],["id","xref-r_pr_references_render"],["aid","AFMEO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在合并请求中渲染后的交叉引用","n":"a"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMEL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMEM"]],"x":"Figure 18. 在合并请求中的交叉引用","n":"figcaption","l":"\n"},{"a":[["alt","合并请求中的引用"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004I?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003J:off:00000001OD"],["id","xref-r_pr_references"],["aid","AFMEJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在合并请求中的交叉引用","n":"a","l":" 这样填写描述。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMEF"]],"x":"#<编号>","n":"code","l":" 即可。你也可以指定引用其他版本库的议题或合并请求，如果你想要引用其他人对该版本库的“Fork”中的议题或合并请求，输入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMEG"]],"x":"用户名#<编号>","n":"code","l":" ，如果在不同的版本库中，输入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMEH"]],"x":"用户名/版本库名#<编号>","n":"code","l":" 。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_与上游保持同步"],["aid","AFMCS"]],"x":"与上游保持同步","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCT"]],"x":"如果你的合并请求由于过时或其他原因不能干净地合并，你需要进行修复才能让维护者对其进行合并。GitHub 会对每个提交进行测试，让你知道你的合并请求能否简洁的合并。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_fail"],["aid","AFMCU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMD1"]],"x":"如果你看到了像 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMD3"]],"x":"你有两种方法来解决这个问题。你可以把你的分支变基到目标分支中去（通常是你派生出的版本库中的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMD5"]],"x":"GitHub 上的大多数的开发者会使用后一种方法，基于我们在上一节提到的理由：我们最看重的是历史记录和最后的合并，变基除了给你带来看上去简洁的历史记录，只会让你的工作变得更加困难且更容易犯错。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMD6"]],"x":"如果你想要合并目标分支来让你的合并请求变得可合并，你需要将源版本库添加为一个新的远端，并从远端抓取内容，合并主分支的内容到你的分支中去，修复所有的问题并最终重新推送回你提交合并请求使用的分支。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMD7"]],"x":"在这个例子中，我们再次使用之前的“tonychacon”用户来进行示范，源作者提交了一个改动，使得合并请求和它产生了冲突。现在来看我们解决这个问题的步骤。","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFMD8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMDO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFME4"]],"x":"你完成了上面的步骤后，合并请求将会自动更新并重新检查是否能干净的合并。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_merge_fix"],["aid","AFME5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFME8"]],"x":"Git 的伟大之处就是你可以一直重复以上操作。如果你有一个运行了十分久的项目，你可以轻松地合并目标分支且只需要处理最近的一次冲突，这使得管理流程更加容易。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFME9"]],"x":"如果你一定想对分支做变基并进行清理，你可以这么做，但是强烈建议你不要强行的提交到已经提交了合并请求的分支。如果其他人拉取了这个分支并进行一些修改，你将会遇到 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001S:off:000000002H"],["id","xref--ch03-git-branching--r_rebase_peril"],["aid","AFMEA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"变基的风险","n":"a","l":" 中提到的问题。相对的，将变基后的分支推送到 GitHub 上的一个新分支中，并且创建一个全新的合并请求引用旧的合并请求，然后关闭旧的合并请求。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFME6"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFME7"]],"x":"Figure 17. 合并请求现在可以干净地合并了","n":"figcaption","l":"\n"},{"a":[["alt","修复了的合并请求"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0008?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","AFMDP"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMDQ"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMDS"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMDU"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFME0"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFME2"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","5"],["aid","AFME3"]],"x":"⑤","n":"i","l":" 再推送回同一个分支"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","4"],["aid","AFME1"]],"x":"④","n":"i","l":" 修复产生的冲突"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","AFMDV"]],"x":"③","n":"i","l":" 将主分支的内容合并到你的分支中"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","AFMDT"]],"x":"②","n":"i","l":" 从远端抓取最新的内容"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","AFMDR"]],"x":"①","n":"i","l":" 将源版本库添加为一个远端，并命名为“upstream”（上游）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFMD9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFMDA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMDB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMDC"]],"x":"$","n":"span","l":" git remote add upstream https://github.com/schacon/blink "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","AFMDD"]],"x":"①","n":"i","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMDE"]],"x":"$","n":"span","l":" git fetch upstream "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","AFMDF"]],"x":"②","n":"i","l":"\nremote: Counting objects: 3, done.\nremote: Compressing objects: 100% (3/3), done.\nUnpacking objects: 100% (3/3), done.\nremote: Total 3 (delta 0), reused 0 (delta 0)\nFrom https://github.com/schacon/blink\n * [new branch]      master     -> upstream/master\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMDG"]],"x":"$","n":"span","l":" git merge upstream/master "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","AFMDH"]],"x":"③","n":"i","l":"\nAuto-merging blink.ino\nCONFLICT (content): Merge conflict in blink.ino\nAutomatic merge failed; fix conflicts and then commit the result.\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMDI"]],"x":"$","n":"span","l":" vim blink.ino "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","4"],["aid","AFMDJ"]],"x":"④","n":"i","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMDK"]],"x":"$","n":"span","l":" git add blink.ino\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMDL"]],"x":"$","n":"span","l":" git commit\n[slow-blink 3c8d735] Merge remote-tracking branch 'upstream/master' \\\n    into slower-blink\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMDM"]],"x":"$","n":"span","l":" git push origin slow-blink "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","5"],["aid","AFMDN"]],"x":"⑤","n":"i","l":"\nCounting objects: 6, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (6/6), done.\nWriting objects: 100% (6/6), 682 bytes | 0 bytes/s, done.\nTotal 6 (delta 2), reused 0 (delta 0)\nTo https://github.com/tonychacon/blink\n   ef4725c..3c8d735  slower-blink -> slow-blink"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMD4"]],"x":"master","n":"code","l":" 分支），或者你可以合并目标分支到你的分支中去。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003I:off:00000000F0"],["id","xref-r_pr_fail"],["aid","AFMD2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"不能进行干净合并","n":"a","l":" 中的画面，你就需要修复你的分支让这个提示变成绿色，这样维护者就不需要再做额外的工作。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMCV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMD0"]],"x":"Figure 16. 不能进行干净合并","n":"figcaption","l":"\n"},{"a":[["alt","合并请求合并失败"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005A?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_将合并请求制作成补丁"],["aid","AFMCM"]],"x":"将合并请求制作成补丁","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCN"]],"x":"有一件重要的事情：许多项目并不认为合并请求可以作为补丁，就和通过邮件列表工作的的项目对补丁贡献的看法一样。大多数的 GitHub 项目将合并请求的分支当作对改动的交流方式，并将变更集合起来统一进行合并。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCO"]],"x":"这是个重要的差异，因为一般来说改动会在代码完成前提出，这和基于邮件列表的补丁贡献有着天差地别。这使得维护者们可以更早的沟通，由社区中的力量能提出更好的方案。当有人从合并请求提交了一些代码，并且维护者和社区提出了一些意见，这个补丁系列并不需要从头来过，只需要将改动重新提交并推送到分支中，这使得讨论的背景和过程可以齐头并进。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCP"]],"x":"举个例子，你可以回去看看 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003G:off:00000003EO"],["id","xref-r_pr_final"],["aid","AFMCQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"最终的合并请求","n":"a","l":"，你会注意到贡献者没有变基他的提交再提交一个新的合并请求，而是直接增加了新的提交并推送到已有的分支中。如果你之后再回去查看这个合并请求，你可以轻松地找到这个修改的原因。点击网页上的“Merge”（合并）按钮后，会建立一个合并提交并指向这个合并请求，你就可以很轻松的研究原来的讨论内容。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_利用合并请求"],["aid","AFMBG"]],"x":"利用合并请求","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMBH"]],"x":"现在，项目的拥有者可以看到你的改动并合并它，拒绝它或是发表评论。在这里我们就当作他喜欢这个点子，但是他想要让灯熄灭的时间比点亮的时间稍长一些。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMBI"]],"x":"接下来可能会通过电子邮件进行互动，就像我们在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMBK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMBN"]],"x":"当维护者发表评论后，提交合并请求的人，以及所有正在关注（Watching）这个版本库的用户都会收到通知。我们待会儿将会告诉你如何修改这项设置。现在，如果 Tony 有开启电子邮件提醒，他将会收到这样的一封邮件：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_email_notification"],["aid","AFMBO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMBR"]],"x":"每个人都能在合并请求中发表评论。在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_discussion"],["aid","AFMBT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMC0"]],"x":"现在贡献者可以看到如何做才能让他们的改动被接受。幸运的是，这也是一件轻松的事情。如果你使用的是电子邮件进行交流，你需要再次对代码进行修改并重新提交至邮件列表，在 GitHub 上，你只需要再次提交到你的分支中并推送即可。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMC1"]],"x":"如果贡献者完成了以上的操作，项目的拥有者会再次收到提醒，当他们查看页面时，将会看到最新的改动。事实上，只要提交中有一行代码改动，GitHub 都会注意到并处理掉旧的变更集。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pr_final"],["aid","AFMC2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMC5"]],"x":"如果你点开合并请求的“Files Changed”（更改的文件）选项卡，你将会看到“整理过的”差异表 —— 也就是这个分支被合并到主分支之后将会产生的所有改动，其实就是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMC8"]],"x":"你还会注意到，GitHub 会检查你的合并请求是否能直接合并，如果可以，将会提供一个按钮来进行合并操作。这个按钮只在你对版本库有写入权限并且可以进行简洁合并时才会显示。你点击后 GitHub 将做出一个“非快进式”（non-fast-forward）合并，即使这个合并 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCA"]],"x":"如果你需要，你还可以将分支拉取并在本地合并。如果你将这个分支合并到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCC"]],"x":"这就是大部分 GitHub 项目使用的工作流程。创建分支，基于分支创建合并请求，进行讨论，根据需要继续在分支上进行修改，最终关闭或合并合并请求。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note: 不必总是 Fork"],["type","note"],["aid","AFMCD"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","AFMCE"]],"x":"不必总是 Fork","n":"h2","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","AFMCF"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMCG"]],"x":"有件很重要的事情：你可以在同一个版本库中不同的分支提交合并请求。如果你正在和某人实现某个功能，而且你对项目有写权限，你可以推送分支到版本库，并在 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMCH"]],"x":"master","n":"code","l":" 分支提交一个合并请求并在此进行代码审查和讨论的操作。不需要进行“Fork”。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMCB"]],"x":"master","n":"code","l":" 分支中并推送到 GitHub，这个合并请求会被自动关闭。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","AFMC9"]],"x":"能够","n":"strong","l":" 快进式（fast-forward）合并，GitHub 依然会创建一个合并提交。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMC6"]],"x":"git diff master...<分支名>","n":"code","l":" 命令的执行结果。你可以浏览 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0033:off:000000002T"],["id","xref--ch05-distributed-git--r_what_is_introduced"],["aid","AFMC7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"确定引入了哪些东西","n":"a","l":" 来了解更多关于差异表的知识。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMC3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMC4"]],"x":"Figure 15. 最终的合并请求","n":"figcaption","l":"\n"},{"a":[["alt","最终的合并请求"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0032?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMBU"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMBV"]],"x":"Figure 14. 合并请求讨论页面","n":"figcaption","l":"\n"},{"a":[["alt","合并请求讨论页面"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0021?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003G:off:00000002EA"],["id","xref-r_pr_discussion"],["aid","AFMBS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并请求讨论页面","n":"a","l":" 里我们可以看到项目拥有者对某行代码发表评论，并在讨论区留下了一个普通评论。你可以看到被评论的代码也会在互动中显示出来。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMBP"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMBQ"]],"x":"Figure 13. 通过电子邮件发送的评论提醒","n":"figcaption","l":"\n"},{"a":[["alt","电子邮件提醒"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005S?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMBL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMBM"]],"x":"Figure 12. 对合并请求内的特定一行发表评论","n":"figcaption","l":"\n"},{"a":[["alt","合并请求中对某一行的评论"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000I?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002F:off:0000000000"],["id","xref--ch05-distributed-git"],["aid","AFMBJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分布式 Git","n":"a","l":" 中提到的工作流程那样，但是在 GitHub，这些都在线上完成。项目的拥有者可以审查修改，只需要单击某一行，就可以对其发表评论。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_创建合并请求"],["aid","AFM9K"]],"x":"创建合并请求","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM9L"]],"x":"Tony 在找一些能在他的 Arduino 微控制器上运行的代码，他觉得 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM9N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM9Q"]],"x":"但是有个问题，这个代码中的的闪烁频率太高，我们觉得 3 秒一次比 1 秒一次更好一些。\n所以让我们来改进这个程序，并将修改后的代码提交给这个项目。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM9R"]],"x":"首先，单击“Fork”按钮来获得这个项目的副本。\n我们使用的用户名是“tonychacon”，所以这个项目副本的访问地址是： ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","AFM9T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMAH"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMAV"]],"x":"现在到 GitHub 上查看之前的项目副本，可以看到 GitHub 提示我们有新的分支，并且显示了一个大大的绿色按钮让我们可以检查我们的改动，并给源项目创建合并请求。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMB0"]],"x":"你也可以到“Branches”（分支）页面查看分支并创建合并请求： ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMB2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMB5"]],"x":"\n如果你点击了那个绿色按钮，就会看到一个新页面，在这里我们可以对改动填写标题和描述，让项目的拥有者考虑一下我们的改动。通常花点时间来编写个清晰有用的描述是个不错的主意，这能让作者明白为什么这个改动可以给他的项目带来好处，并且让他接受合并请求。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMB6"]],"x":"同时我们也能看到比主分支中所“领先”（ahead）的提交（在这个例子中只有一个）以及所有将会被合并的改动与之前代码的对比。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFMB7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMBA"]],"x":"当你单击了“Create pull request”（创建合并请求）的按钮后，这个项目的拥有者将会收到一条包含关改动和合并请求页面的链接的提醒。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","AFMBB"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","AFMBC"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFMBD"]],"x":"虽然合并请求通常是在贡献者准备好在公开项目中提交改动的时候提交，但是也常被用在仍处于开发阶段的内部项目中。因为合并请求在提交后 ","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","AFMBE"]],"x":"依然可以加入新的改动","n":"strong","l":" ，它也经常被用来建立团队合作的环境，而不只是在最终阶段使用。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMB8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMB9"]],"x":"Figure 11. 合并请求创建页面","n":"figcaption","l":"\n"},{"a":[["alt","合并请求创建页面"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000H?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFMB3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFMB4"]],"x":"Figure 10. 合并请求按钮","n":"figcaption","l":"\n"},{"a":[["alt","合并请求按钮"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0017?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFMB1"]],"x":"https://github.com/<用户名>/<项目名>/branches","n":"code"},{"a":[["class","calibre30 pcalibre1 pcalibre"],["aid","AFMAI"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMAJ"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMAL"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMAN"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMAP"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMAR"]],"n":"li","l":"\n"},{"a":[["class","calibre31 pcalibre1 pcalibre"],["aid","AFMAT"]],"n":"li","l":"\n"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","6"],["aid","AFMAU"]],"x":"⑥","n":"i","l":" 将新分支推送到 GitHub 的副本中"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","5"],["aid","AFMAS"]],"x":"⑤","n":"i","l":" 将改动提交到分支中"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","4"],["aid","AFMAQ"]],"x":"④","n":"i","l":" 检查改动"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","3"],["aid","AFMAO"]],"x":"③","n":"i","l":" 修改代码"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","2"],["aid","AFMAM"]],"x":"②","n":"i","l":" 创建出名称有意义的分支"},{"a":[["class","conum1 pcalibre1 pcalibre"],["data-value","1"],["aid","AFMAK"]],"x":"①","n":"i","l":" 将派生出的副本克隆到本地"},{"a":[["class","source pcalibre1 pcalibre"],["aid","AFM9U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","AFM9V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","AFMA0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMA1"]],"x":"$","n":"span","l":" git clone https://github.com/tonychacon/blink "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","1"],["aid","AFMA2"]],"x":"①","n":"i","l":"\nCloning into 'blink'...\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMA3"]],"x":"$","n":"span","l":" cd blink\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMA4"]],"x":"$","n":"span","l":" git checkout -b slow-blink "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","2"],["aid","AFMA5"]],"x":"②","n":"i","l":"\nSwitched to a new branch 'slow-blink'\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMA6"]],"x":"$","n":"span","l":" sed -i "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMA7"]],"x":"''","n":"span","l":" "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMA8"]],"x":"'s/1000/3000/'","n":"span","l":" blink.ino "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","3"],["aid","AFMA9"]],"x":"③","n":"i","l":"\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMAA"]],"x":"$","n":"span","l":" git diff --word-diff "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","4"],["aid","AFMAB"]],"x":"④","n":"i","l":"\ndiff --git a/blink.ino b/blink.ino\nindex 15b9911..a6cc5a5 100644\n--- a/blink.ino\n+++ b/blink.ino\n@@ -18,7 +18,7 @@ void setup() {\n// the loop routine runs over and over again forever:\nvoid loop() {\n  digitalWrite(led, HIGH);   // turn the LED on (HIGH is the voltage level)\n  [-delay(1000);-]{+delay(3000);+}               // wait for a second\n  digitalWrite(led, LOW);    // turn the LED off by making the voltage LOW\n  [-delay(1000);-]{+delay(3000);+}               // wait for a second\n}\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMAC"]],"x":"$","n":"span","l":" git commit -a -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","AFMAD"]],"x":"'three seconds is better'","n":"span","l":" "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","5"],["aid","AFMAE"]],"x":"⑤","n":"i","l":"\n[slow-blink 5ca509d] three seconds is better\n 1 file changed, 2 insertions(+), 2 deletions(-)\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","AFMAF"]],"x":"$","n":"span","l":" git push origin slow-blink "},{"a":[["class","conum pcalibre1 pcalibre"],["data-value","6"],["aid","AFMAG"]],"x":"⑥","n":"i","l":"\nUsername for 'https://github.com': tonychacon\nPassword for 'https://tonychacon@github.com':\nCounting objects: 5, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (3/3), done.\nWriting objects: 100% (3/3), 340 bytes | 0 bytes/s, done.\nTotal 3 (delta 1), reused 0 (delta 0)\nTo https://github.com/tonychacon/blink\n * [new branch]      slow-blink -> slow-blink"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFM9S"]],"x":"https://github.com/tonychacon/blink","n":"code","l":" 。\n我们将它克隆到本地，创建一个分支，修改代码，最后再将改动推送到 GitHub。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM9O"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM9P"]],"x":"Figure 9. 他想要做出贡献的项目","n":"figcaption","l":"\n"},{"a":[["alt","他想要做出贡献的项目"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002N?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/schacon/blink"],["aid","AFM9M"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/schacon/blink","n":"a","l":" 中的代码不错。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002G:off:00000003DG"],["id","xref--ch05-distributed-git--r_integration_manager"],["aid","AFM9H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"集成管理者工作流","n":"a","l":" 中的一体化管理流程差不多，但是团队可以使用 GitHub 提供的网页工具替代电子邮件来交流和审查修改。"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","AFM92"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","AFM93"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","AFM96"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","AFM98"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","AFM9A"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","AFM9C"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","AFM9E"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFM9F"]],"x":"项目的拥有者合并或关闭你的合并请求","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFM9D"]],"x":"讨论，根据实际情况继续修改","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFM9B"]],"x":"创建一个合并请求","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFM99"]],"x":"将这个分支推送到 GitHub 上","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFM97"]],"x":"提交一些修改来改进项目","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","AFM94"]],"x":"从 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFM95"]],"x":"master","n":"code","l":" 分支中创建一个新分支"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["id","xref--ch03-git-branching"],["aid","AFM8U"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":" 的 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001K:off:000000002E"],["id","xref--ch03-git-branching--r_topic_branch"],["aid","AFM8V"],["target","_blank"],["rel","noopener noreferrer"]],"x":"特性分支","n":"a","l":" 中提到的工作流程。\n不管你是在一个紧密的团队中使用单独的版本库，或者使用许多的“Fork”来为一个由陌生人组成的国际企业或网络做出贡献，这种合作流程都能应付。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_派生_fork_项目"],["aid","AFM8G"]],"x":"派生（Fork）项目","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8H"]],"x":"\n如果你想要参与某个项目，但是并没有推送权限，这时可以对这个项目进行“派生”。\n派生的意思是指，GitHub 将在你的空间中创建一个完全属于你的项目副本，且你对其具有推送权限。","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","AFM8I"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8L"]],"x":"通过这种方式，项目的管理者不再需要忙着把用户添加到贡献者列表并给予他们推送权限。\n人们可以派生这个项目，将修改推送到派生出的项目副本中，并通过创建合并请求（Pull Request）来让他们的改动进入源版本库，下文我们会详细说明。\n创建了合并请求后，就会开启一个可供审查代码的板块，项目的拥有者和贡献者可以在此讨论相关修改，直到项目拥有者对其感到满意，并且认为这些修改可以被合并到版本库。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8M"]],"x":"你可以通过点击项目页面右上角的“Fork”按钮，来派生这个项目。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM8N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8Q"]],"x":"稍等片刻，你将被转到新项目页面，该项目包含可写的代码副本。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM8O"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM8P"]],"x":"Figure 8. “Fork”按钮","n":"figcaption","l":"\n"},{"a":[["alt","“Fork”按钮."],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0046?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","AFM8J"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8K"]],"x":"在以前，“fork”是一个贬义词，指的是某个人使开源项目向不同的方向发展，或者创建一个竞争项目，使得原项目的贡献者分裂。\n在 GitHub，“fork”指的是你自己的空间中创建的项目副本，这个副本允许你以一种更开放的方式对其进行修改。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_两步验证"],["aid","AFM83"]],"x":"两步验证","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM84"]],"x":"最后，为了额外的安全性，你绝对应当设置两步验证，简写为 “2FA”。\n两步验证是一种用于降低因你的密码被盗而带来的账户风险的验证机制，现在已经变得越来越流行。\n开启两步验证，GitHub 会要求你用两种不同的验证方法，这样，即使其中一个被攻破，攻击者也不能访问你的账户。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM85"]],"x":"你可以在 Account settings 页面的 Security 标签页中找到 Two-factor Authentication 设置。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM86"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM89"]],"x":"点击`‘Set up two-factor authentication’","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM8B"]],"x":"选择合适的方法后，按照提示步骤设置 2FA，你的账户会变得更安全，每次登录 GitHub 时都需要提供除密码以外的辅助码。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFM8A"]],"x":"按钮，会跳转到设置页面。该页面允许你选择是要在登录时使用手机 app 生成辅助码（一种`‘基于时间的一次性密码","n":"em","l":"’），还是要 GitHub 通过 SMS 发送辅助码。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM87"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM88"]],"x":"Figure 7. Security 标签页中的 2FA","n":"figcaption","l":"\n"},{"a":[["alt","Security 标签页中的 2FA"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0027?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_邮件地址"],["aid","AFM7R"]],"x":"邮件地址","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM7S"]],"x":"GitHub 使用用户邮件地址区分 Git 提交。\n如果你在自己的提交中使用了多个邮件地址，希望 GitHub 可以正确地将它们连接起来，你需要在管理页面的 Emails 部分添加你拥有的所有邮箱地址。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_add_email_addresses"],["aid","AFM7T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM80"]],"x":"在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003B:off:00000006E1"],["id","xref-r_add_email_addresses"],["aid","AFM81"],["target","_blank"],["rel","noopener noreferrer"]],"x":"添加邮件地址","n":"a","l":" 中我们可以看到一些不同的状态。\n顶部的地址是通过验证的，并且被设置为主要地址，这意味着该地址会接收到所有的通知和回复。\n第二个地址是通过验证的，如果愿意的话，可以将其设置为主要地址。\n最后一个地址是未通过验证的，这意味着你不能将其设置为主要地址。\n当 GitHub 发现任意版本库中的任意提交信息包含了这些地址，它就会将其链接到你的账户。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM7U"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM7V"]],"x":"Figure 6. 添加邮件地址","n":"figcaption","l":"\n"},{"a":[["alt","添加所有邮件地址。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001R?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_personal_avatar"],["aid","AFM7E"]],"x":"头像","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM7F"]],"x":"下一步，如果愿意的话，你可以将生成的头像换成你喜欢的图片。\n首先，来到`‘Profile’","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM7H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM7K"]],"x":"我们选择了本地磁盘上的一个 Git 图标，上传之后还可以对其进行裁剪。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM7L"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM7O"]],"x":"现在，在网站任意有你参与的位置，人们都可以在你的用户名旁边看到你的头像。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM7P"]],"x":"如果你已经把头像上传到了流行的 Gravatar 托管服务（Wordpress 账户经常使用），默认就会使用这个头像，因此，你就不需要进行这一步骤了。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM7M"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM7N"]],"x":"Figure 5. 裁剪头像","n":"figcaption","l":"\n"},{"a":[["alt","裁剪已上传的头像。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003B?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM7I"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM7J"]],"x":"Figure 4. ‘`Profile’'链接。","n":"figcaption","l":"\n"},{"a":[["alt","``Profile''链接。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004V?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","AFM7G"]],"x":"标签页（在`‘SSH Keys","n":"em","l":"'标签页上方），点击``Upload new picture’'。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_ssh_访问"],["aid","AFM6S"]],"x":"SSH 访问","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM6T"]],"x":"\n现在，你完全可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM6V"]],"x":"如果你习惯使用 SSH 远程，你需要配置一个公钥。\n（如果你没有公钥，参考 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM71"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM74"]],"x":"然后在左侧选择`‘SSH keys’'部分。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","AFM75"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM78"]],"x":"在这个页面点击“","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","AFM7A"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","AFM7B"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM7C"]],"x":"确保给你的 SSH 密钥起一个能够记得住的名字。\n你可以为每一个密钥起名字（例如，“我的笔记本电脑”或者“工作账户”等），以便以后需要吊销密钥时能够方便地区分。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFM79"]],"x":"Add an SSH key","n":"code","l":"”按钮，给你的公钥起一个名字，将你的`~/.ssh/id_rsa.pub`（或者自定义的其它名字）公钥文件的内容粘贴到文本区，然后点击`‘Add key’'。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM76"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM77"]],"x":"Figure 3. ‘`SSH keys’'链接。","n":"figcaption","l":"\n"},{"a":[["alt","``SSH keys''链接。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0009?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM72"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM73"]],"x":"Figure 2. ‘`Account settings’'链接。","n":"figcaption","l":"\n"},{"a":[["alt","``Account settings''链接。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001P?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0025:off:000000002J"],["id","xref--ch04-git-server--r_generate_ssh_key"],["aid","AFM70"],["target","_blank"],["rel","noopener noreferrer"]],"x":"生成 SSH 公钥","n":"a","l":"。）\n使用窗口右上角的链接打开你的账户设置："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","AFM6U"]],"x":"https://","n":"code","l":" 协议，通过你刚刚创建的用户名和密码访问 Git 版本库。\n但是，如果仅仅克隆公有项目，你甚至不需要注册——刚刚我们创建的账户是为了以后 fork 其它项目，以及推送我们自己的修改。"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","AFM6O"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM6P"]],"x":"GitHub 为免费账户提供了完整功能，限制是你的项目都将被完全公开（每个人都具有读权限）。\nGitHub 的付费计划可以让你拥有一定数目的私有项目，不过本书将不涉及这部分内容。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","AFM6K"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","AFM6L"]],"x":"Figure 1. GitHub 注册表单。","n":"figcaption","l":"\n"},{"a":[["alt","GitHub 注册表单。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003T?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com"],["aid","AFM6I"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com","n":"a","l":"，选择一个未被占用的用户名，提供一个电子邮件地址和密码，点击写着`‘Sign up for GitHub’'的绿色大按钮即可。"},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","AFM6C"]],"x":"接口的改变","n":"h2","l":"\n"},{"a":[["class","content2 pcalibre1 pcalibre"],["aid","AFM6D"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","AFM6E"]],"x":"需要注意一点，同很多活跃的网站一样，书中截取的界面会随时间而改变。\n希望我们试图表达的核心思想一直是不变的，但是，如果你想要这些截图的更新版本，本书的在线版本或许有更新的截图。","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0048:off:0000000000"],["id","xref--ch07-git-tools"],["aid","AFM6A"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 工具","n":"a","l":" 这一章。"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","AFM63"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","AFM64"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","AFM65"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","AFM66"]],"x":"GitHub","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","账户的创建和配置"],["aid","AFM6F"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","对项目做出贡献"],["aid","AFM8C"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","维护项目"],["aid","AFMHQ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","脚本 GitHub"],["aid","AFMRR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","钩子"],["aid","AFMRV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","管理合并请求"],["aid","AFMJ1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并请求引用"],["aid","AFMK9"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","GitHub 流程"],["aid","AFM8R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","合并请求的进阶用法"],["aid","AFMCI"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Markdown"],["aid","AFMF3"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","GitHub 风格的 Markdown"],["aid","AFMFB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结_2"],["aid","9H6I9"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6IA"]],"x":"你现在能自如地使用 Git 为项目做出贡献、维护自己的项目或采纳其他用户的贡献了。\n恭喜你成为了一个高效的 Git 开发者！\n下一章中，你将会学到如何使用规模最大最流行的 Git 托管服务，GitHub。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_the_shortlog"],["aid","9H6HV"]],"x":"制作提交简报","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6I0"]],"x":"\n现在是时候通知邮件列表里那些好奇你的项目发生了什么的人了。\n使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6I2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6I7"]],"x":"这份整洁的总结包括了自 v1.0.1 以来的所有提交，并且已经按照作者分好组，你可以通过电子邮件将其直接发送到列表中。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6I3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6I4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6I5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6I6"]],"x":"$","n":"span","l":" git shortlog --no-merges master --not v1.0.1\nChris Wanstrath (8):\n      Add support for annotated tags to Grit::Tag\n      Add packed-refs annotated tag support.\n      Add Grit::Commit#to_patch\n      Update version and History.txt\n      Remove stray `puts`\n      Make ls_tree ignore nils\n\nTom Preston-Werner (4):\n      fix dates in history\n      dynamic version method\n      Version bump to 1.0.2\n      Regenerated gemspec for version 1.0.2"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6I1"]],"x":"git shortlog","n":"code","l":" 命令可以快速生成一份包含从上次发布之后项目新增内容的修改日志（changelog）类文档。\n它会对你给定范围内的所有提交进行总结；比如，你的上一次发布名称是 v1.0.1，那么下面的命令可以给出上次发布以来所有提交的总结："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_preparing_release"],["aid","9H6H6"]],"x":"准备一次发布","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6H7"]],"x":"\n现在你可以发布一个构建了。\n其中一件事情就是为那些不使用 Git 的可怜包们创建一个最新的快照归档。\n使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6H9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6HI"]],"x":"如果有人将这个压缩包解压，他就可以得到你的项目文件夹的最新快照。\n你也可以以类似的方式创建一个 zip 压缩包，但此时你应该向 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6HL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6HT"]],"x":"现在你有了本次发布的一个 tar 包和一个 zip 包，可以将其上传到网站或以电子邮件的形式发送给人们。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6HM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6HN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6HO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6HP"]],"x":"$","n":"span","l":" git archive master --prefix="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H6HQ"]],"x":"'project/'","n":"span","l":" --format=zip > "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H6HR"]],"x":"`","n":"span","l":"git describe master"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H6HS"]],"x":"`","n":"span","l":".zip"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6HJ"]],"x":"git archive","n":"code","l":" 命令传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6HK"]],"x":"--format=zip","n":"code","l":" 选项："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6HA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6HB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6HC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6HD"]],"x":"$","n":"span","l":" git archive master --prefix="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H6HE"]],"x":"'project/'","n":"span","l":" | gzip > "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H6HF"]],"x":"`","n":"span","l":"git describe master"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H6HG"]],"x":"`","n":"span","l":".tar.gz\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6HH"]],"x":"$","n":"span","l":" ls *.tar.gz\nv1.6.2-rc1-20-g8c5b85c.tar.gz"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6H8"]],"x":"git archive","n":"code","l":" 命令完成此工作："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_build_number"],["aid","9H6GL"]],"x":"生成一个构建号","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6GM"]],"x":"\nGit 中不存在随每次提交递增的“v123”之类的数字序列，如果你想要为提交附上一个可读的名称，可以对其运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6GO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6GT"]],"x":"这样你在导出一个快照或构建时，可以给出一个便于人们理解的命名。\n实际上，如果你的 Git 是从 Git 自己的版本库克隆下来并构建的，那么 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6GV"]],"x":"注意 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6H0"]],"x":"git describe","n":"code","l":" 命令只适用于有注解的标签（即使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6H1"]],"x":"-a","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6H2"]],"x":"-s","n":"code","l":" 选项创建的标签），所以如果你在使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6H3"]],"x":"git describe","n":"code","l":" 命令的话，为了确保能为标签生成合适的名称，打发布标签时都应该采用加注解的方式。\n你也可以使用这个字符串来调用 checkout 或 show 命令，但是这依赖于其末尾的简短 SHA-1 值，因此不一定一直有效。\n比如，最近 Linux 内核为了保证 SHA-1 值对象的唯一性，将其位数由 8 位扩展到了 10 位，导致以前的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6H4"]],"x":"git describe","n":"code","l":" 输出全部失效。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6GU"]],"x":"git --version","n":"code","l":" 命令给出的结果是与此类似的。\n如果你所描述的提交自身就有一个标签，那么它将只会输出标签名，没有后面两项信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6GP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6GQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6GR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6GS"]],"x":"$","n":"span","l":" git describe master\nv1.6.2-rc1-20-g8c5b85c"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6GN"]],"x":"git describe","n":"code","l":" 命令。\nGit 将会给出一个字符串，它由最近的标签名、自该标签之后的提交数目和你所描述的提交的部分 SHA-1 值构成："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_tagging_releases"],["aid","9H6FB"]],"x":"为发布打标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6FC"]],"x":"\n当你决定进行一次发布时，你可能想要留下一个标签，这样在之后的任何一个提交点都可以重新创建该发布。\n你在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6FE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6FK"]],"x":"如果你为标签签名了，你可能会遇到分发用来签名的 PGP 公钥的问题。\nGit 项目的维护者已经解决了这一问题，其方法是在版本库中以 blob 对象的形式包含他们的公钥，并添加一个直接指向该内容的标签。\n要完成这一任务，首先你可以通过运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6FM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6FR"]],"x":"之后你可以通过导出 key 并通过管道传递给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6FU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6G3"]],"x":"既然 Git 中已经包含你的 key 的内容了，你就可以通过指定由 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6G5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6GA"]],"x":"如果你运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6GD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6GI"]],"x":"人们可以使用这个 key 来校验所有由你签名的标签。\n另外，如果你在标签信息中包含了一些操作说明，用户可以通过运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6GJ"]],"x":"git show <tag>","n":"code","l":" 来获取更多关于标签校验的说明。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6GE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6GF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6GG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6GH"]],"x":"$","n":"span","l":" git show maintainer-pgp-pub | gpg --import"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6GB"]],"x":"git push --tags","n":"code","l":" 命令，那么 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6GC"]],"x":"maintainer-pgp-pub","n":"code","l":" 标签将会被共享给所有人。\n需要校验标签的人可以通过从数据库中直接拉取 blob 对象并导入到 GPG 中来导入 PGP key："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6G6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6G7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6G8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6G9"]],"x":"$","n":"span","l":" git tag -a maintainer-pgp-pub 659ef797d181633c87ec71ac3f9ba29fe5775b92"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6G4"]],"x":"hash-object","n":"code","l":" 命令给出的新 SHA-1 值来创建一个直接指向它的标签："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6FV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6G0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6G1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6G2"]],"x":"$","n":"span","l":" gpg -a --export F721C45A | git hash-object -w --stdin\n659ef797d181633c87ec71ac3f9ba29fe5775b92"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6FS"]],"x":"git hash-object","n":"code","l":" 来直接将 key 导入到 Git 的数据库中，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6FT"]],"x":"git hash-object","n":"code","l":" 命令会向 Git 中写入一个包含其内容的新 blob 对象，并向你返回该 blob 对象的 SHA-1 值："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6FN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6FO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6FP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6FQ"]],"x":"$","n":"span","l":" gpg --list-keys\n/Users/schacon/.gnupg/pubring.gpg\n---------------------------------\npub   1024D/F721C45A 2009-02-09 [expires: 2010-02-09]\nuid                  Scott Chacon <schacon@gmail.com>\nsub   2048g/45D02282 2009-02-09 [expires: 2010-02-09]"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6FL"]],"x":"gpg --list-keys","n":"code","l":" 找出你所想要的 key："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6FF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6FG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6FH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6FI"]],"x":"$","n":"span","l":" git tag -s v1.5 -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H6FJ"]],"x":"'my signed 1.5 tag'","n":"span","l":"\nYou need a passphrase to unlock the secret key for\nuser: \"Scott Chacon <schacon@gmail.com>\"\n1024-bit DSA key, ID F721C45A, created 2009-02-09"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000F:off:0000000000"],["id","xref--ch02-git-basics"],["aid","9H6FD"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 基础","n":"a","l":" 中已经了解了创建新标签的过程。\n作为一个维护者，如果你决定要为标签签名的话，打标签的过程应该是这样子的："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_rerere"],["aid","9H6EQ"]],"x":"Rerere","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6ER"]],"x":"\n如果你在进行大量的合并或变基，或维护一个长期的特性分支，Git 提供的一个叫做“rerere”的功能会有一些帮助。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6ES"]],"x":"Rerere 是“重用已记录的冲突解决方案（reuse recorded resolution）”的意思——它是一种简化冲突解决的方法。\n当启用 rerere 时，Git 将会维护一些成功合并之前和之后的镜像，当 Git 发现之前已经修复过类似的冲突时，便会使用之前的修复方案，而不需要你的干预。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6ET"]],"x":"这个功能包含两个部分：一个配置选项和一个命令。\n其中的配置选项是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6EV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6F4"]],"x":"现在每当你进行一次需要解决冲突的合并时，解决方案都会被记录在缓存中，以备之后使用。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6F5"]],"x":"如果你需要和 rerere 的缓存交互，你可以使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6F6"]],"x":"git rerere","n":"code","l":" 命令。\n当单独调用它时，Git 会检查解决方案数据库，尝试寻找一个和当前任一冲突相关的匹配项并解决冲突（尽管当 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6F7"]],"x":"rerere.enabled","n":"code","l":" 被设置为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6F8"]],"x":"true","n":"code","l":" 时会自动进行）。\n它也有若干子命令，可用来查看记录项，删除特定解决方案和清除缓存全部内容等。\n我们将在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:005I:off:0000000000"],["id","xref--ch07-git-tools--r_rerere"],["aid","9H6F9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Rerere","n":"a","l":" 中详细探讨。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6F0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6F1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6F2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6F3"]],"x":"$","n":"span","l":" git config --global rerere.enabled true"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6EU"]],"x":"rerere.enabled","n":"code","l":"，把它放在全局配置中就可以了："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_rebase_cherry_pick"],["aid","9H6E4"]],"x":"变基与拣选工作流","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6E5"]],"x":"\n为了保持线性的提交历史，有些维护者更喜欢在 master 分支上对贡献过来的工作进行变基和拣选，而不是直接将其合并。\n当你完成了某个特性分支中的工作，并且决定要将其整合的时候，你可以在该分支中运行变基命令，在当前 master 分支（或者是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6E8"]],"x":"\n另一种将引入的工作转移到其他分支的方法是拣选。\nGit 中的拣选类似于对特定的某次提交的变基。\n它会提取该提交的补丁，之后尝试将其重新应用到当前分支上。\n这种方式在你只想引入特性分支中的某个提交，或者特性分支中只有一个提交，而你不想运行变基时很有用。\n举个例子，假设你的项目提交历史类似：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H6E9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6EC"]],"x":"如果你希望将提交 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6EE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6EJ"]],"x":"这样会拉取和 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H6EL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6EO"]],"x":"现在你可以删除这个特性分支，并丢弃不想拉入的提交。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6EM"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6EN"]],"x":"Figure 28. 拣选特性分支中的一个提交后的历史。","n":"figcaption","l":"\n"},{"a":[["alt","拣选特性分支中的一个提交后的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001K?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6EK"]],"x":"e43a6","n":"code","l":" 相同的更改，但是因为应用的日期不同，你会得到一个新的提交 SHA-1 值。\n现在你的历史会变成这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6EF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6EG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6EH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6EI"]],"x":"$","n":"span","l":" git cherry-pick e43a6fd3e94888d76779ad79fb568ed180e5fcdf\nFinished one cherry-pick.\n[master]: created a0a41a9: \"More friendly message when locking the index fails.\"\n 3 files changed, 17 insertions(+), 3 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6ED"]],"x":"e43a6","n":"code","l":" 拉取到 master 分支，你可以运行："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6EA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6EB"]],"x":"Figure 27. 拣选之前的示例历史。","n":"figcaption","l":"\n"},{"a":[["alt","拣选之前的示例历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0038?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6E6"]],"x":"develop","n":"code","l":" 等分支）的基础上重新构造修改。\n如果结果理想的话，你可以快进 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6E7"]],"x":"master","n":"code","l":" 分支，最后得到一个线性的项目提交历史。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_大项目合并工作流"],["aid","9H6DC"]],"x":"大项目合并工作流","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6DD"]],"x":"\nGit 项目包含四个长期分支：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rmerwf_f"],["aid","9H6DK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6DN"]],"x":"如果特性分支需要更多工作，它则会被并入 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H6DT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6E0"]],"x":"当特性分支最终被并入 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6E1"]],"x":"master","n":"code","l":" 分支后，便会被从版本库中删除掉。\nGit 项目还有一个从上一次发布中派生出来的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6E2"]],"x":"maint","n":"code","l":" 分支来提供向后移植过来的补丁以供发布维护更新。\n因此，当你克隆 Git 的版本库之后，就会有四个可分别评估该项目开发的不同阶段的可检出的分支，检出哪个分支，取决于你需要多新的版本，或者你想要如何进行贡献；对于维护者来说，这套结构化的工作流能帮助它们审查新的贡献。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6DU"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6DV"]],"x":"Figure 26. 将贡献的特性分支并入长期整合分支。","n":"figcaption","l":"\n"},{"a":[["alt","将贡献的特性分支并入长期整合分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004M?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DO"]],"x":"pu","n":"code","l":" 分支。\n当它们完全稳定之后，会被再次并入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DP"]],"x":"master","n":"code","l":" 分支。\n这意味着 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DQ"]],"x":"master","n":"code","l":" 分支始终在进行快进，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DR"]],"x":"next","n":"code","l":" 分支偶尔会被变基，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DS"]],"x":"pu","n":"code","l":" 分支的变基比较频繁："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6DL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6DM"]],"x":"Figure 25. 管理复杂的一系列接收贡献的平行特性分支。","n":"figcaption","l":"\n"},{"a":[["alt","管理复杂的一系列接收贡献的平行特性分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005G?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DE"]],"x":"master","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DF"]],"x":"next","n":"code","l":"，用于新工作的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DG"]],"x":"pu","n":"code","l":"（proposed updates）和用于维护性向后移植工作（maintenance backports）的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DH"]],"x":"maint","n":"code","l":" 分支。\n贡献者的新工作会以类似之前所介绍的方式收入特性分支中（见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0035:off:0000000188"],["id","xref-rmerwf_f"],["aid","9H6DI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"管理复杂的一系列接收贡献的平行特性分支。","n":"a","l":"）。\n之后对特性分支进行测试评估，检查其是否已经能够合并，或者仍需要更多工作。\n安全的特性分支会被合并入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6DJ"]],"x":"next","n":"code","l":" 分支，之后该分支会被推送使得所有人都可以尝试整合到一起的特性。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_合并工作流"],["aid","9H6C5"]],"x":"合并工作流","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6C6"]],"x":"\n一种非常简单的工作流会直接将工作合并进入 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rmerwf_a"],["aid","9H6CF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rmerwf_b"],["aid","9H6CI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6CL"]],"x":"这也许是最简单的工作流了，但是当项目更大，或更稳定，你对自己所引入的工作更加在意时，它可能会带来问题。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6CM"]],"x":"如果你的项目非常重要，你可能会使用两阶段合并循环。\n在这种情况下，你会维护两个长期分支，分别是 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rmerwf_c"],["aid","9H6D1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rmerwf_d"],["aid","9H6D4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rmerwf_e"],["aid","9H6D7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6DA"]],"x":"这样当人们克隆你项目的版本库后，既可以检出 master 分支以构建最新的稳定版本并保持更新，也可以检出包含更多新东西的 develop 分支。\n你也可以扩展这个概念，维护一个将所有工作合并到一起的整合分支。\n当该分支的代码稳定并通过测试之后，将其合并进入 develop 分支；经过一段时间，确认其稳定之后，将其以快进的形式并入 master 分支。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6D8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6D9"]],"x":"Figure 24. 一次发布之后。","n":"figcaption","l":"\n"},{"a":[["alt","一次发布之后。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0004?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6D5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6D6"]],"x":"Figure 23. 合并特性分支后。","n":"figcaption","l":"\n"},{"a":[["alt","合并特性分支后。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0033?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6D2"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6D3"]],"x":"Figure 22. 合并特性分支前。","n":"figcaption","l":"\n"},{"a":[["alt","合并特性分支前。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003O?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CN"]],"x":"master","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CO"]],"x":"develop","n":"code","l":"，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CP"]],"x":"master","n":"code","l":" 分支只会在一个非常稳定的版本发布时才会更新，而所有的新代码会首先整合进入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CQ"]],"x":"develop","n":"code","l":" 分支。\n你定期将这两个分支推送到公共版本库中。\n每次需要合并新的特性分支时（"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0034:off:00000004DB"],["id","xref-rmerwf_c"],["aid","9H6CR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并特性分支前。","n":"a","l":"），你都应该合并进入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CS"]],"x":"develop","n":"code","l":" 分支（"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0034:off:00000004OK"],["id","xref-rmerwf_d"],["aid","9H6CT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并特性分支后。","n":"a","l":"）；当打标签发布的时候，你会将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CU"]],"x":"master","n":"code","l":" 分支快进到已经稳定的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CV"]],"x":"develop","n":"code","l":" 分支（"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0034:off:000000053T"],["id","xref-rmerwf_e"],["aid","9H6D0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"一次发布之后。","n":"a","l":"）。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6CJ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6CK"]],"x":"Figure 21. 合并特性分支之后。","n":"figcaption","l":"\n"},{"a":[["alt","合并特性分支之后。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004K?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H6CG"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H6CH"]],"x":"Figure 20. 包含若干特性分支的提交历史。","n":"figcaption","l":"\n"},{"a":[["alt","包含若干特性分支的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0001?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6C7"]],"x":"master","n":"code","l":" 分支。\n在这种情况下，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6C8"]],"x":"master","n":"code","l":" 分支包含的代码是基本稳定的。\n当你完成某个特性分支的工作，或审核通过了其他人所贡献的工作时，你会将其合并进入 master 分支，之后将特性分支删除，如此反复。\n如果我们的版本库包含类似 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0034:off:00000001UF"],["id","xref-rmerwf_a"],["aid","9H6C9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"包含若干特性分支的提交历史。","n":"a","l":" 的两个名称分别为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CA"]],"x":"ruby_client","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CB"]],"x":"php_client","n":"code","l":" 的分支，并且我们先合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CC"]],"x":"ruby_client","n":"code","l":" 分支，之后合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6CD"]],"x":"php_client","n":"code","l":" 分支，那么提交历史最后会变成 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0034:off:00000002AS"],["id","xref-rmerwf_b"],["aid","9H6CE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"合并特性分支之后。","n":"a","l":" 的样子。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_what_is_introduced"],["aid","9H6AL"]],"x":"确定引入了哪些东西","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6AM"]],"x":"\n你已经有了一个包含其他人贡献的特性分支。\n现在你可以决定如何处理它们了。\n本节回顾了若干命令，以便于你检查若将其合并入主分支所引入的更改。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6AN"]],"x":"一般来说，你应该对该分支中所有 master 分支尚未包含的提交进行检查。\n通过在分支名称前加入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6AR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6B0"]],"x":"如果要查看每次提交所引入的具体修改，你应该记得可以给 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6B3"]],"x":"而要查看将该特性分支与另一个分支合并的完整 diff，你可能需要使用一个有些奇怪的技巧来得到正确的结果。\n你可能会想到这种方式：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6B4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6B9"]],"x":"这个命令会输出一个 diff，但它可能并不是我们想要的。\n如果在你创建特性分支之后，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6BD"]],"x":"如果 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6BG"]],"x":"而你真正想要检查的东西，实际上仅仅是特性分支所添加的更改——也就是该分支与 master 分支合并所要引入的工作。\n要达到此目的，你需要让 Git 对特性分支上最新的提交与该分支与 master 分支的首个公共祖先进行比较。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6BH"]],"x":"从技术的角度讲，你可以以手工的方式找出公共祖先，并对其显式运行 diff 命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6BI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6BO"]],"x":"然而，这种做法比较麻烦，所以 Git 提供了一种比较便捷的方式：三点语法。\n对于 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6BR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6C0"]],"x":"该命令仅会显示自当前特性分支与 master 分支的共同祖先起，该分支中的工作。\n这个语法很有用，应该牢记。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6BS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6BT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6BU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6BV"]],"x":"$","n":"span","l":" git diff master...contrib"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6BP"]],"x":"diff","n":"code","l":" 命令来说，你可以通过把 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6BQ"]],"x":"...","n":"code","l":" 置于另一个分支名后来对该分支的最新提交与两个分支的共同祖先进行比较："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6BJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6BK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6BL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6BM"]],"x":"$","n":"span","l":" git merge-base contrib master\n36c7dba2c95e6bbb78dfa822519ecfec6e1ca649\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6BN"]],"x":"$","n":"span","l":" git diff 36c7db"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6BE"]],"x":"master","n":"code","l":" 分支是你的特性分支的直接祖先，其实是没有任何问题的；但是一旦两个分支的历史产生了分叉，上述比对产生的 diff 看上去就像是将特性分支中所有的新东西加入，并且将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6BF"]],"x":"master","n":"code","l":" 分支所独有的东西删除。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6BA"]],"x":"master","n":"code","l":" 分支向前移动了，你获得的结果就会显得有些不对。\n这是因为 Git 会直接将该特性分支与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6BB"]],"x":"master","n":"code","l":" 分支的最新提交快照进行比较。\n比如说你在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6BC"]],"x":"master","n":"code","l":" 分支中向某个文件添加了一行内容，那么直接比对最新快照的结果看上去就像是你在特性分支中将这一行删除了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6B5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6B6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6B7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6B8"]],"x":"$","n":"span","l":" git diff master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6B1"]],"x":"git log","n":"code","l":" 命令传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6B2"]],"x":"-p","n":"code","l":" 选项，这样它会在每次提交后面附加对应的差异（diff）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6AS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6AT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6AU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6AV"]],"x":"$","n":"span","l":" git log contrib --not master\ncommit 5b6235bd297351589efc4d73316f0a68d484f118\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Fri Oct 24 09:53:59 2008 -0700\n\n    seeing if this helps the gem\n\ncommit 7482e0d16d04bea79d0dba8988cc78df655f16a0\nAuthor: Scott Chacon <schacon@gmail.com>\nDate:   Mon Oct 22 19:38:36 2008 -0700\n\n    updated the gemspec to hopefully work better"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6AO"]],"x":"--not","n":"code","l":" 选项，你可以排除 master 分支中的提交。\n这和我们之前使用的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6AP"]],"x":"master..contrib","n":"code","l":" 格式是一样的。\n假设贡献者向你发送了两个补丁，为此你创建了一个名叫 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6AQ"]],"x":"contrib","n":"code","l":" 的分支并在其上应用补丁，你可以运行："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_checking_out_remotes"],["aid","9H69U"]],"x":"检出远程分支","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H69V"]],"x":"\n如果你的贡献者建立了自己的版本库，并且向其中推送了若干修改，之后将版本库的 URL 和包含更改的远程分支发送给你，那么你可以将其添加为一个远程分支，并且在本地进行合并。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6A0"]],"x":"比如 Jessica 向你发送了一封电子邮件，内容是在她的版本库中的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6A2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6A9"]],"x":"如果她再次发邮件说另一个分支中包含另一个优秀功能，因为之前已经设置好远程分支了，你就可以直接进行抓取及检出操作。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6AA"]],"x":"这对于与他人长期合作工作来说很有用。\n而对于提交补丁频率较小的贡献者，相对于每个人维护自己的服务器，不断增删远程分支的做法，使用电子邮件来接收可能会比较省时。\n况且你也不会想要加入数百个只提供一两个补丁的远程分支。\n然而，脚本和托管服务在一定程度上可以简化这些工作——这很大程度上依赖于你和你的贡献者开发的方式。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6AB"]],"x":"这种方式的另一种优点是你可以同时得到提交历史。\n虽然代码合并中可能会出现问题，但是你能获知他人的工作是基于你的历史中的具体哪一个位置；所以Git 会默认进行三方合并，不需要提供 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H6AD"]],"x":"对于非持续性的合作，如果你依然想要以这种方式拉取数据的话，你可以对远程版本库的 URL 调用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H6AF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6AG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6AH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6AI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6AJ"]],"x":"$","n":"span","l":" git pull https://github.com/onetimeguy/project\nFrom https://github.com/onetimeguy/project\n * branch            HEAD       -> FETCH_HEAD\nMerge made by recursive."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6AE"]],"x":"git pull","n":"code","l":" 命令。\n这会执行一个一次性的抓取，而不会将该 URL 存为远程引用："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6AC"]],"x":"-3","n":"code","l":" 选项，你也不需要担心补丁是基于某个你无法访问的提交生成的。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H6A3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H6A4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H6A5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6A6"]],"x":"$","n":"span","l":" git remote add jessica git://github.com/jessica/myproject.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6A7"]],"x":"$","n":"span","l":" git fetch jessica\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H6A8"]],"x":"$","n":"span","l":" git checkout -b rubyclient jessica/ruby-client"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H6A1"]],"x":"ruby-client","n":"code","l":" 分支中有一个很不错的新功能，为了测试该功能，你可以将其添加为一个远程分支，并在本地检出："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H69N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H69O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H69P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H69Q"]],"x":"$","n":"span","l":" git am -3 -i mbox\nCommit Body is:\n--------------------------\nseeing if this helps the gem\n--------------------------\nApply? [y]es/[n]o/[e]dit/[v]iew patch/[a]ccept all"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H69L"]],"x":"am","n":"code","l":" 命令，这样在每个补丁之前，它会停住询问你是否要应用该补丁："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H69J"]],"x":"-3","n":"code","l":" 选项的话，这看起来就像是存在一个冲突。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H69E"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H69F"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H69G"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H69H"]],"x":"$","n":"span","l":" git am -3 0001-seeing-if-this-helps-the-gem.patch\nApplying: seeing if this helps the gem\nerror: patch failed: ticgit.gemspec:1\nerror: ticgit.gemspec: patch does not apply\nUsing index info to reconstruct a base tree...\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H69B"]],"x":"-3","n":"code","l":" 选项来使 Git 尝试进行三方合并。\n该选项默认并没有打开，因为如果用于创建补丁的提交并不在你的版本库内的话，这样做是没有用处的。\n而如果你确实有那个提交的话——比如补丁是基于某个公共提交的——那么通常 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H69C"]],"x":"-3","n":"code","l":" 选项对于应用有冲突的补丁是更加明智的选择。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H694"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H695"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H696"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H697"]],"x":"$","n":"span","l":" (fix the file)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H698"]],"x":"$","n":"span","l":" git add ticgit.gemspec\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H699"]],"x":"$","n":"span","l":" git am --resolved\nApplying: seeing if this helps the gem"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H692"]],"x":"git am --resolved","n":"code","l":" 继续应用下一个补丁："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H68T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H68U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H68V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H690"]],"x":"$","n":"span","l":" git am 0001-seeing-if-this-helps-the-gem.patch\nApplying: seeing if this helps the gem\nerror: patch failed: ticgit.gemspec:1\nerror: ticgit.gemspec: patch does not apply\nPatch failed at 0001.\nWhen you have resolved this problem run \"git am --resolved\".\nIf you would prefer to skip this patch, instead run \"git am --skip\".\nTo restore the original branch and stop patching run \"git am --abort\"."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H68R"]],"x":"git am","n":"code","l":" 进程将会报错并且询问你要做什么："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H68O"]],"x":"Commit","n":"code","l":" 信息表示的是应用补丁的人和应用补丁的时间。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H68P"]],"x":"Author","n":"code","l":" 信息则表示补丁的原作者和原本的创建时间。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H68L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H68M"]],"x":"$ git log --pretty=fuller -1\ncommit 6c5e70b984a60b3cecd395edd5b48a7575bf58e0\nAuthor:     Jessica Smith <jessica@example.com>\nAuthorDate: Sun Apr 6 10:17:23 2008 -0700\nCommit:     Scott Chacon <schacon@gmail.com>\nCommitDate: Thu Apr 9 09:19:06 2009 -0700\n\n   add limit to log function\n\n   Limit log functionality to the first 20","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H68H"]],"x":"From","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H68I"]],"x":"Date","n":"code","l":" 字段，提交消息则取自 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H68J"]],"x":"Subject","n":"code","l":" 和邮件正文中补丁之前的内容。\n比如，应用上面那个 mbox 示例后生成的提交是这样的："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H68C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H68D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H68E"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H68F"]],"x":"$","n":"span","l":" git am 0001-limit-log-function.patch\nApplying: add limit to log function"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H689"]],"x":"format-patch","n":"code","l":" 生成的补丁文件上传到类似 Request Ticket 的任务处理系统，你可以先将其保存到本地，之后通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H68A"]],"x":"git am","n":"code","l":" 来应用补丁："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H687"]],"x":"git am","n":"code","l":" 命令将它们一次性全部应用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H683"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H684"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H685"]],"n":"span","l":"From 330090432754092d704da8e76ca5c05c198e71a8 Mon Sep 17 00:00:00 2001\nFrom: Jessica Smith <jessica@example.com>\nDate: Sun, 6 Apr 2008 10:17:23 -0700\nSubject: [PATCH 1/2] add limit to log function\n\nLimit log functionality to the first 20"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67V"]],"x":"format-patch","n":"code","l":" 命令生成的补丁，你应该使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H680"]],"x":"git am","n":"code","l":" 命令。\n从技术的角度看，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H681"]],"x":"git am","n":"code","l":" 是为了读取 mbox 文件而构建的，mbox 是一种用来在单个文本文件中存储一个或多个电子邮件消息的简单纯文本格式。\n其大致格式如下所示："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67Q"]],"x":"format-patch","n":"code","l":" 命令来生成补丁，这样的话你的工作会变得更加轻松，因为这种补丁中包含了作者信息和提交信息供你参考。\n如果可能的话，请鼓励贡献者使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67R"]],"x":"format-patch","n":"code","l":" 而不是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67S"]],"x":"diff","n":"code","l":" 来为你生成补丁。\n而只有对老式的补丁，你才必须使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67T"]],"x":"git apply","n":"code","l":" 命令。"},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","9H67O"]],"x":"am","n":"code","l":" 命令应用补丁"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_使用_code_class_literal_apply_code_命令应用补丁"],["aid","9H66Q"]],"x":"使用 ","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H66S"]],"x":"\n如果你收到了一个使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H671"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H676"]],"x":"这会修改工作目录中的文件。\n它与运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H67E"]],"x":"在实际应用补丁前，你还可以使用 git apply 来检查补丁是否可以顺利应用——即对补丁运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H67G"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H67L"]],"x":"如果没有产生输出，则该补丁可以顺利应用。\n如果检查失败了，该命令还会以一个非零的状态退出，所以需要时你也可以在脚本中使用它。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H67H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H67I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H67J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H67K"]],"x":"$","n":"span","l":" git apply --check 0001-seeing-if-this-helps-the-gem.patch\nerror: patch failed: ticgit.gemspec:1\nerror: ticgit.gemspec: patch does not apply"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67F"]],"x":"git apply --check","n":"code","l":" 命令："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H677"]],"x":"patch -p1","n":"code","l":" 命令来应用补丁几乎是等效的，但是这种方式更加严格，相对于 patch 来说，它能够接受的模糊匹配更少。\n它也能够处理 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H678"]],"x":"git diff","n":"code","l":" 格式文件所描述的文件添加、删除和重命名操作，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H679"]],"x":"patch","n":"code","l":" 则不会。\n最后，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67A"]],"x":"git apply","n":"code","l":" 命令采用了一种“全部应用，否则就全部撤销（apply all or abort all）”的模型，即补丁只有全部内容都被应用和完全不被应用两个状态，而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67B"]],"x":"patch","n":"code","l":" 可能会导致补丁文件被部分应用，最后使你的工作目录保持在一个比较奇怪的状态。\n总体来看，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67C"]],"x":"git apply","n":"code","l":" 命令要比 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H67D"]],"x":"patch","n":"code","l":" 谨慎得多。\n并且，它不会为你创建提交——在运行之后，你需要手动暂存并提交补丁所引入的更改。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H672"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H673"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H674"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H675"]],"x":"$","n":"span","l":" git apply /tmp/patch-ruby-client.patch"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H66T"]],"x":"git diff","n":"code","l":" 或 Unix "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H66U"]],"x":"diff","n":"code","l":" 命令（不推荐使用这种方式，具体见下一节）创建的补丁，可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H66V"]],"x":"git apply","n":"code","l":" 命令来应用。\n假设你将补丁保存在了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H670"]],"x":"/tmp/patch-ruby-client.patch","n":"code","l":" 中，可以这样应用补丁："},{"a":[["class","literal2 pcalibre1 pcalibre"],["aid","9H66R"]],"x":"apply","n":"code","l":" 命令应用补丁"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H66N"]],"x":"git apply","n":"code","l":"，或者使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H66O"]],"x":"git am","n":"code","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_在特性分支中工作"],["aid","9H662"]],"x":"在特性分支中工作","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H663"]],"x":"\n如果你想向项目中整合一些新东西，最好将这些尝试局限在特性分支——一种通常用来尝试新东西的临时分支中。\n这样便于单独调整补丁，如果遇到无法正常工作的情况，可以先不用管，等到有时间的时候再来处理。\n如果你基于你所尝试进行工作的特性为分支创建一个简单的名字，比如 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H667"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H66C"]],"x":"或者如果你同时想立刻切换到新分支上的话，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H66E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H66J"]],"x":"现在你已经准备好将别人贡献的工作加入到这个特性分支，并考虑是否将其合并到长期分支中去了。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H66F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H66G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H66H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H66I"]],"x":"$","n":"span","l":" git checkout -b sc/ruby_client master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H66D"]],"x":"checkout -b","n":"code","l":" 选项："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H668"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H669"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H66A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H66B"]],"x":"$","n":"span","l":" git branch sc/ruby_client master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H664"]],"x":"ruby_client","n":"code","l":" 或者具有类似描述性的其他名字，这样即使你必须暂时抛弃它，以后回来时也不会忘记。\n项目的维护者一般还会为这些分支附带命名空间，比如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H665"]],"x":"sc/ruby_client","n":"code","l":"（其中 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H666"]],"x":"sc","n":"code","l":" 是贡献该项工作的人名称的简写）。\n你应该记得，可以使用如下方式基于 master 分支建立特性分支："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H660"]],"x":"format-patch","n":"code","l":" 生成并通过电子邮件发送过来的补丁，或对项目添加的远程版本库分支中的更改进行整合。\n但无论是管理版本库，还是帮忙验证、审核收到的补丁，都需要同其他贡献者约定某种长期可持续的工作方式。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_总结"],["aid","9H65R"]],"x":"总结","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H65S"]],"x":"这个部分介绍了处理可能会遇到的几个迥然不同类型的 Git 项目的一些常见的工作流程，介绍了帮助管理这个过程的一些新工具。\n接下来，你会了解到如何在贡献的另一面工作：维护一个 Git 项目。\n你将会学习如何成为一个仁慈的独裁者或整合管理者。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H65N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H65O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H65P"]],"n":"span","l":"(mbox) Adding cc: Jessica Smith <jessica@example.com> from\n  \\line 'From: Jessica Smith <jessica@example.com>'\nOK. Log says:\nSendmail: /usr/sbin/sendmail -i jessica@example.com\nFrom: Jessica Smith <jessica@example.com>\nTo: jessica@example.com\nSubject: [PATCH 1/2] added limit to log function\nDate: Sat, 30 May 2009 13:29:15 -0700\nMessage-Id: <1243715356-61726-1-git-send-email-jessica@example.com>\nX-Mailer: git-send-email 1.6.2.rc1.20.g8c5b.dirty\nIn-Reply-To: <y>\nReferences: <y>\n\nResult: OK"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H65H"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H65I"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H65J"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H65K"]],"x":"$","n":"span","l":" git send-email *.patch\n0001-added-limit-to-log-function.patch\n0002-changed-log-output-to-30-from-25.patch\nWho should the emails appear to be from? [Jessica Smith <jessica@example.com>]\nEmails will be sent from: Jessica Smith <jessica@example.com>\nWho should the emails be sent to? jessica@example.com\nMessage-ID to be used as In-Reply-To for the first email? y"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H65F"]],"x":"git send-email","n":"code","l":" 发送你的补丁："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H656"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H657"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H658"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H659"]],"x":"[sendemail]","n":"span","l":"\n  smtpencryption = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H65A"]],"x":"tls","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H65B"]],"x":"  smtpserver = smtp.gmail.com","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H65C"]],"x":"  smtpuser = user@gmail.com","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H65D"]],"x":"  smtpserverport = 587","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H653"]],"x":"git config","n":"code","l":" 命令来分别设置选项，或者你可以手动地将它们添加到你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H654"]],"x":"~/.gitconfig","n":"code","l":" 文件的 sendmail 区块："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H64T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H64U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H64V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H650"]],"x":"$","n":"span","l":" cat *.patch |git imap-send\nResolving imap.gmail.com... ok\nConnecting to [74.125.142.109]:993... ok\nLogging in...\nsending 2 messages\n100% (2/2) done"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H64P"]],"x":"imap://","n":"code","l":" 而不是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H64Q"]],"x":"imaps://","n":"code","l":"。\n当那些设置完成后，可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H64R"]],"x":"git imap-send","n":"code","l":" 将补丁序列放在特定 IMAP 服务器的 Drafts 文件夹中："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H64E"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H64F"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H64G"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H64H"]],"x":"[imap]","n":"span","l":"\n  folder = "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H64I"]],"x":"\"[Gmail]/Drafts\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H64J"]],"x":"  host = imaps://imap.gmail.com","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H64K"]],"x":"  user = user@gmail.com","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H64L"]],"x":"  pass = p4ssw0rd","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H64M"]],"x":"  port = 993","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H64N"]],"x":"  sslverify = false","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H64B"]],"x":"~/.gitconfig","n":"code","l":" 文件中设置 imap 区块。\n可以通过一系列的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H64C"]],"x":"git config","n":"code","l":" 命令来分别设置每一个值，或者手动添加它们，不管怎样最后配置文件应该看起来像这样："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H649"]],"x":"Documentation/SubmittingPatches","n":"code","l":" 文件的最下面了解一系列邮件程序的详细指令。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H646"]],"x":"---","n":"code","l":" 行与补丁开头（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H647"]],"x":"diff --git","n":"code","l":" 行）之间添加文本，那么开发者就可以阅读它；但是应用补丁时会排除它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H641"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H642"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H643"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H644"]],"x":"$","n":"span","l":" cat 0001-add-limit-to-log-function.patch\nFrom 330090432754092d704da8e76ca5c05c198e71a8 Mon Sep 17 00:00:00 2001\nFrom: Jessica Smith <jessica@example.com>\nDate: Sun, 6 Apr 2008 10:17:23 -0700\nSubject: [PATCH 1/2] add limit to log function\n\nLimit log functionality to the first 20\n\n---\n lib/simplegit.rb |    2 +-\n 1 files changed, 1 insertions(+), 1 deletions(-)\n\ndiff --git a/lib/simplegit.rb b/lib/simplegit.rb\nindex 76f47bc..f9815f1 100644\n--- a/lib/simplegit.rb\n+++ b/lib/simplegit.rb\n@@ -14,7 +14,7 @@ class SimpleGit\n   end\n\n   def log(treeish = 'master')\n-    command(\"git log #{treeish}\")\n+    command(\"git log -n 20 #{treeish}\")\n   end\n\n   def ls_tree(treeish = 'master')\n--\n2.1.0"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H63U"]],"x":"format-patch","n":"code","l":" 命令打印出它创建的补丁文件名字。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H63V"]],"x":"-M","n":"code","l":" 开关告诉 Git 查找重命名。\n文件最后看起来像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H63P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H63Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H63R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H63S"]],"x":"$","n":"span","l":" git format-patch -M origin/master\n0001-add-limit-to-log-function.patch\n0002-changed-log-output-to-30-from-25.patch"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H63M"]],"x":"git format-patch","n":"code","l":" 来生成可以邮寄到列表的 mbox 格式的文件 - 它将每一个提交转换为一封电子邮件，提交信息的第一行作为主题，剩余信息与提交引入的补丁作为正文。\n它有一个好处是是使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H63N"]],"x":"format-patch","n":"code","l":" 生成的一封电子邮件应用的提交正确地保留了所有的提交信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H63D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H63E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H63F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H63G"]],"x":"$","n":"span","l":" git checkout -b topicA\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H63H"]],"x":"#","n":"span","l":" (work)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H63I"]],"x":"$","n":"span","l":" git commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H63J"]],"x":"#","n":"span","l":" (work)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H63K"]],"x":"$","n":"span","l":" git commit"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H635"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H636"]],"x":"Figure 19. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","9H637"]],"x":"featureBv2","n":"code","l":" 工作之后的提交历史"},{"a":[["alt","`featureBv2` 工作之后的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001G?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H633"]],"x":"featureBv2","n":"code","l":" 分支上找到那些改动。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H630"]],"x":"--squash","n":"code","l":" 选项接受被合并的分支上的所有工作，并将其压缩至一个变更集，使仓库变成一个真正的合并发生的状态，而不会真的生成一个合并提交。\n这意味着你的未来的提交将会只有一个父提交，并允许你引入另一个分支的所有改动，然后在记录一个新提交前做更多的改动。\n同样 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H631"]],"x":"--no-commit","n":"code","l":" 选项在默认合并过程中可以用来延迟生成合并提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H62N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H62O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H62P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H62Q"]],"x":"$","n":"span","l":" git checkout -b featureBv2 origin/master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H62R"]],"x":"$","n":"span","l":" git merge --squash featureB\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H62S"]],"x":"#","n":"span","l":" (change implementation)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H62T"]],"x":"$","n":"span","l":" git commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H62U"]],"x":"$","n":"span","l":" git push myfork featureBv2"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H62I"]],"x":"master","n":"code","l":" 分支。\n你从现在的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H62J"]],"x":"origin/master","n":"code","l":" 分支开始一个新分支，在那儿压缩 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H62K"]],"x":"featureB","n":"code","l":" 的改动，解决任何冲突，改变实现，然后推送它为一个新分支。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H62E"]],"x":"-f","n":"code","l":" 选项，这样才能将服务器上有一个不是它的后代的提交的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H62F"]],"x":"featureA","n":"code","l":" 分支替换掉。\n一个替代的选项是推送这个新工作到服务器上的一个不同分支（可能称作 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H62G"]],"x":"featureAv2","n":"code","l":"）。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H62A"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H62B"]],"x":"Figure 18. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","9H62C"]],"x":"featureA","n":"code","l":" 工作之后的提交历史"},{"a":[["alt","`featureA` 工作之后的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002V?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002Q:off:0000000177"],["id","xref-rpsp_b"],["aid","9H627"],["target","_blank"],["rel","noopener noreferrer"]],"n":"a"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H628"]],"x":"featureA","n":"code","l":" 工作之后的提交历史"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H620"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H621"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H622"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H623"]],"x":"$","n":"span","l":" git checkout featureA\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H624"]],"x":"$","n":"span","l":" git rebase origin/master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H625"]],"x":"$","n":"span","l":" git push -f myfork featureA"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H61U"]],"x":"origin/master","n":"code","l":" 的顶部，为维护者解决冲突，然后重新提交你的改动："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H61Q"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H61R"]],"x":"Figure 17. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","9H61S"]],"x":"featureB","n":"code","l":" 的初始提交历史"},{"a":[["alt","`featureB` 的初始提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004E?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H61F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H61G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H61H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H61I"]],"x":"$","n":"span","l":" git checkout -b featureB origin/master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H61J"]],"x":"#","n":"span","l":" (work)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H61K"]],"x":"$","n":"span","l":" git commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H61L"]],"x":"$","n":"span","l":" git push myfork featureB\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H61M"]],"x":"#","n":"span","l":" (email maintainer)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H61N"]],"x":"$","n":"span","l":" git fetch origin"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H61B"]],"x":"origin/master","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H61C"]],"x":"master","n":"code","l":" 分支会很方便，在特性分支上做工作是因为如果它们被拒绝时你可以轻松地丢弃。\n如果同一时间主仓库移动了然后你的提交不再能干净地应用，那么使工作主题独立于特性分支也会使你变基（rebase）工作时更容易。\n例如，你想要提供第二个特性工作到项目，不要继续在刚刚推送的特性分支上工作 - 从主仓库的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H61D"]],"x":"master","n":"code","l":" 分支重新开始："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H615"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H616"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H617"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H618"]],"x":"$","n":"span","l":" git request-pull origin/master myfork\nThe following changes since commit 1edee6b1d61823a2de3b09c160d7080b8d1b3a40:\n  John Smith (1):\n        added a new function\n\nare available in the git repository at:\n\n  git://githost/simplegit.git featureA\n\nJessica Smith (2):\n      add limit to log function\n      change log output to 30 from 25\n\n lib/simplegit.rb |   10 +++++++++-\n 1 files changed, 9 insertions(+), 1 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H613"]],"x":"request-pull","n":"code","l":" 命令接受特性分支拉入的基础分支，以及它们拉入的 Git 仓库 URL，输出请求拉入的所有修改的总结。\n例如，Jessica 想要发送给 John 一个拉取请求，她已经在刚刚推送的分支上做了两次提交。她可以运行这个："},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003A:off:0000000000"],["id","xref--ch06-github"],["aid","9H610"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitHub","n":"a","l":" 介绍 - 也可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H611"]],"x":"git request-pull","n":"code","l":" 命令然后手动地将输出发送电子邮件给项目的维护者。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H60R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H60S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H60T"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H60U"]],"x":"$","n":"span","l":" git push -u myfork featureA"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H60L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H60M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H60N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H60O"]],"x":"$","n":"span","l":" git remote add myfork (url)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H60J"]],"x":"myfork","n":"code","l":"："},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","9H60E"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H60F"]],"x":"你可能会想要使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H60G"]],"x":"rebase -i","n":"code","l":" 来将工作压缩成一个单独的提交，或者重排提交中的工作使补丁更容易被维护者审核 - 查看 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004P:off:0000000000"],["aid","9H60H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重写历史","n":"a","l":" 了解关于交互式变基的更多信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H603"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H604"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H605"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H606"]],"x":"$","n":"span","l":" git clone (url)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H607"]],"x":"$","n":"span","l":" cd project\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H608"]],"x":"$","n":"span","l":" git checkout -b featureA\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H609"]],"x":"#","n":"span","l":" (work)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H60A"]],"x":"$","n":"span","l":" git commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H60B"]],"x":"#","n":"span","l":" (work)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H60C"]],"x":"$","n":"span","l":" git commit"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5VS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5VT"]],"x":"Figure 16. 这种管理团队工作流程的基本顺序","n":"figcaption","l":"\n"},{"a":[["alt","这种管理团队工作流程的基本顺序。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0060?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5VO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5VP"]],"x":"Figure 15. 合并了 Jessica 的两个特性分支后她的历史","n":"figcaption","l":"\n"},{"a":[["alt","合并了 Jessica 的两个特性分支后她的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002S?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5VL"]],"x":"featureA","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5VM"]],"x":"featureBee","n":"code","l":" 分支准备好整合到主线中了。\n在整合者合并这些分支到主线后，一次抓取会拿下来一个新的合并提交，使历史看起来像这样："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5VI"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5VJ"]],"x":"Figure 14. 在一个特性分支提交后 Jessica 的历史","n":"figcaption","l":"\n"},{"a":[["alt","在一个特性分支提交后 Jessica 的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004A?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5VA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5VB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5VC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5VD"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H5VE"]],"x":"'small tweak'","n":"span","l":"\n[featureA 774b3ed] small tweak\n 1 files changed, 1 insertions(+), 1 deletions(-)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5VF"]],"x":"$","n":"span","l":" git push\n...\nTo jessica@githost:simplegit.git\n   3300904..774b3ed  featureA -> featureA"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5V3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5V4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5V5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5V6"]],"x":"$","n":"span","l":" git checkout featureA\nSwitched to branch 'featureA'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5V7"]],"x":"$","n":"span","l":" git merge origin/featureA\nUpdating 3300904..aad881d\nFast forward\n lib/simplegit.rb |   10 +++++++++-\n1 files changed, 9 insertions(+), 1 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5V1"]],"x":"featureA","n":"code","l":" 分支："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5US"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5UT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5UU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5UV"]],"x":"$","n":"span","l":" git log featureA..origin/featureA\ncommit aad881d154acdaeb2b6b18ea0e827ed8a6d671e6\nAuthor: John Smith <jsmith@example.com>\nDate:   Fri May 29 19:57:33 2009 -0700\n\n    changed log output to 30 from 25"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5UQ"]],"x":"git log","n":"code","l":" 她可以看到哪些发生了改变："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5UL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5UM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5UN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5UO"]],"x":"$","n":"span","l":" git fetch origin\n...\nFrom jessica@githost:simplegit\n   3300904..aad881d  featureA   -> origin/featureA"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5UI"]],"x":"featureA","n":"code","l":" 分支并要求她去验证它们。\n她运行一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5UJ"]],"x":"git fetch","n":"code","l":" 来拉取下那些改动："},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","9H5UD"]],"x":"引用规格","n":"em","l":"。\n查看 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0096:off:0000000000"],["id","xref--ch10-git-internals--r_refspec"],["aid","9H5UE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"引用规格","n":"a","l":" 了解关于 Git 引用规格与通过它们可以做的不同的事情的详细讨论。\n也要注意 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5UF"]],"x":"-u","n":"code","l":" 标记；这是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5UG"]],"x":"--set-upstream","n":"code","l":" 的简写，该标记会为之后轻松地推送与拉取配置分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5U8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5U9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5UA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5UB"]],"x":"$","n":"span","l":" git push -u origin featureB:featureBee\n...\nTo jessica@githost:simplegit.git\n   fba9af8..cd685d1  featureB -> featureBee"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5U4"]],"x":"featureB","n":"code","l":" 分支上合并的工作推送到服务器上的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5U5"]],"x":"featureBee","n":"code","l":" 分支。\n她可以通过指定本地分支加上冒号（:）加上远程分支给 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5U6"]],"x":"git push","n":"code","l":" 命令来这样做："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5TV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5U0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5U1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5U2"]],"x":"$","n":"span","l":" git merge origin/featureBee\nAuto-merging lib/simplegit.rb\nMerge made by recursive.\n lib/simplegit.rb |    4 ++++\n 1 files changed, 4 insertions(+), 0 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5TT"]],"x":"git merge","n":"code","l":" 将其合并到她做的工作中："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5TO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5TP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5TQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5TR"]],"x":"$","n":"span","l":" git fetch origin\n...\nFrom jessica@githost:simplegit\n * [new branch]      featureBee -> origin/featureBee"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5TL"]],"x":"featureBee","n":"code","l":" 上了。\nJessica 在能推送到服务器前首先需要将那些改动与她自己的合并。\n然后她可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5TM"]],"x":"git fetch","n":"code","l":" 抓取 Josie 的改动："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5TI"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5TJ"]],"x":"Figure 13. Jessica 的初始提交历史","n":"figcaption","l":"\n"},{"a":[["alt","Jessica 的初始提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0034?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5T7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5T8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5T9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5TA"]],"x":"$","n":"span","l":" vim lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5TB"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H5TC"]],"x":"'made the ls-tree function recursive'","n":"span","l":"\n[featureB e5b0fdc] made the ls-tree function recursive\n 1 files changed, 1 insertions(+), 1 deletions(-)\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5TD"]],"x":"$","n":"span","l":" vim lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5TE"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H5TF"]],"x":"'add ls-files'","n":"span","l":"\n[featureB 8512791] add ls-files\n 1 files changed, 5 insertions(+), 0 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5T5"]],"x":"featureB","n":"code","l":" 分支上创建了几次提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5ST"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5SU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5SV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5T0"]],"x":"#","n":"span","l":" Jessica"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","9H5T1"]],"x":"'","n":"span","l":"s Machine\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5T2"]],"x":"$","n":"span","l":" git fetch origin\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5T3"]],"x":"$","n":"span","l":" git checkout -b featureB origin/master\nSwitched to a new branch 'featureB'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5SP"]],"x":"featureA","n":"code","l":" 分支现在可以看一看。\n当她等待 John 的反馈时，Jessica 决定与 Josie 开始在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5SQ"]],"x":"featureB","n":"code","l":" 上工作。\n为了开始工作，她基于服务器的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5SR"]],"x":"master","n":"code","l":" 分支开始了一个新分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5SK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5SL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5SM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5SN"]],"x":"$","n":"span","l":" git push -u origin featureA\n...\nTo jessica@githost:simplegit.git\n * [new branch]      featureA -> featureA"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5SH"]],"x":"featureA","n":"code","l":" 分支的提交到服务器上。\nJessica 没有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5SI"]],"x":"master","n":"code","l":" 分支的推送权限 - 只有整合者有 - 所以为了与 John 协作必须推送另一个分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5S7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5S8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5S9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5SA"]],"x":"#","n":"span","l":" Jessica"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","9H5SB"]],"x":"'","n":"span","l":"s Machine\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5SC"]],"x":"$","n":"span","l":" git checkout -b featureA\nSwitched to a new branch 'featureA'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5SD"]],"x":"$","n":"span","l":" vim lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5SE"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H5SF"]],"x":"'add limit to log function'","n":"span","l":"\n[featureA 3300904] add limit to log function\n 1 files changed, 1 insertions(+), 1 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5S5"]],"x":"featureA","n":"code","l":" 上工作。\n她为那个特性创建了一个新分支然后在那做了一些工作："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5S3"]],"x":"master","n":"code","l":" 分支只能被那些工程师更新。\n在这种情况下，所有的工作都是在基于团队的分支上完成的并且稍后会被整合者拉到一起。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5RT"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5RU"]],"x":"Figure 12. 一个简单的多人 Git 工作流程的通常事件顺序","n":"figcaption","l":"\n"},{"a":[["alt","一个简单的多人 Git 工作流程的通常事件顺序。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001B?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5RQ"]],"x":"origin/master","n":"code","l":"，最终推送到服务器上的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5RR"]],"x":"master","n":"code","l":" 分支。\n通常顺序像这样："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5RN"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5RO"]],"x":"Figure 11. 推送所有的改动回服务器后 Jessica 的历史","n":"figcaption","l":"\n"},{"a":[["alt","推送所有的改动回服务器后 Jessica 的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002O?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5RH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5RI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5RJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5RK"]],"x":"$","n":"span","l":" git push origin master\n...\nTo jessica@githost:simplegit.git\n   72bbc59..8059c15  master -> master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5RE"]],"x":"origin/master","n":"code","l":" 是可以从 Jessica 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5RF"]],"x":"master","n":"code","l":" 分支到达的，所以她应该可以成功地推送（假设同一时间 John 并没有再次推送）："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5RB"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5RC"]],"x":"Figure 10. 合并了 John 的改动后 Jessica 的历史","n":"figcaption","l":"\n"},{"a":[["alt","合并了 John 的改动后 Jessica 的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0048?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5R5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5R6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5R7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5R8"]],"x":"$","n":"span","l":" git merge origin/master\nAuto-merging lib/simplegit.rb\nMerge made by recursive.\n lib/simplegit.rb |    2 +-\n 1 files changed, 1 insertions(+), 1 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5R3"]],"x":"origin/master","n":"code","l":"）："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5QU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5QV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5R0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5R1"]],"x":"$","n":"span","l":" git merge issue54\nUpdating fbff5bc..4af4298\nFast forward\n README           |    1 +\n lib/simplegit.rb |    6 +++++-\n 2 files changed, 6 insertions(+), 1 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QQ"]],"x":"origin/master","n":"code","l":" 也可以先合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QR"]],"x":"issue54","n":"code","l":" - 它们都是上游，所以顺序并没有关系。\n不论她选择的顺序是什么最终的结果快照是完全一样的；只是历史会有一点轻微的区别。\n她选择先合并入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QS"]],"x":"issue54","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5QL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5QM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5QN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5QO"]],"x":"$","n":"span","l":" git checkout master\nSwitched to branch 'master'\nYour branch is behind 'origin/master' by 2 commits, and can be fast-forwarded."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QI"]],"x":"origin/master","n":"code","l":"）进入她的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QJ"]],"x":"master","n":"code","l":" 分支，然后再次推送回服务器。\n首先，为了整合所有这些工作她切换回她的 master 分支。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QG"]],"x":"origin/master","n":"code","l":"，也就是说将会修改她的本地工作的那个单个提交。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QB"]],"x":"issue54..origin/master","n":"code","l":" 语法是一个日志过滤器，要求 Git 只显示所有在后面分支（在本例中是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QC"]],"x":"origin/master","n":"code","l":"）但不在前面分支（在本例中是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5QD"]],"x":"issue54","n":"code","l":"）的提交的列表。\n我们将会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004C:off:0000000000"],["id","xref--ch07-git-tools--r_commit_ranges"],["aid","9H5QE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"提交区间","n":"a","l":" 中详细介绍这个语法。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5Q6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5Q7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5Q8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5Q9"]],"x":"$","n":"span","l":" git log --no-merges issue54..origin/master\ncommit 738ee872852dfaa9d6634e0dea7a324040193016\nAuthor: John Smith <jsmith@example.com>\nDate:   Fri May 29 16:01:27 2009 -0700\n\n   removed invalid default value"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5Q4"]],"x":"git log","n":"code","l":" 来找出："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5Q1"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5Q2"]],"x":"Figure 9. 抓取 John 的改动后 Jessica 的历史","n":"figcaption","l":"\n"},{"a":[["alt","抓取 John 的改动后 Jessica 的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005Q?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5PP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5PQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5PR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5PS"]],"x":"#","n":"span","l":" Jessica"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","9H5PT"]],"x":"'","n":"span","l":"s Machine\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5PU"]],"x":"$","n":"span","l":" git fetch origin\n...\nFrom jessica@githost:simplegit\n   fbff5bc..72bbc59  master     -> origin/master"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5PL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5PM"]],"x":"Figure 8. Jessica 的特性分支","n":"figcaption","l":"\n"},{"a":[["alt","Jessica 的特性分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000G?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5PJ"]],"x":"issue54","n":"code","l":" 的特性分支并且在那个分支上做了三次提交。\n她还没有抓取 John 的改动，所以她的提交历史看起来像这样："},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5PF"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5PG"]],"x":"Figure 7. 推送到 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","9H5PH"]],"x":"origin","n":"code","l":" 服务器后 John 的历史"},{"a":[["alt","推送到 `origin` 服务器后 John 的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0049?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5P9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5PA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5PB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5PC"]],"x":"$","n":"span","l":" git push origin master\n...\nTo john@githost:simplegit.git\n   fbff5bc..72bbc59  master -> master"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5P4"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5P5"]],"x":"Figure 6. 合并了 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","9H5P6"]],"x":"origin/master","n":"code","l":" 之后 John 的仓库"},{"a":[["alt","合并了 `origin/master` 之后 John 的仓库。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002P?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5OU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5OV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5P0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5P1"]],"x":"$","n":"span","l":" git merge origin/master\nMerge made by recursive.\n TODO |    1 +\n 1 files changed, 1 insertions(+), 0 deletions(-)"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5OQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5OR"]],"x":"Figure 5. John 的分叉历史","n":"figcaption","l":"\n"},{"a":[["alt","John 的分叉历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004Q?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5OK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5OL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5OM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5ON"]],"x":"$","n":"span","l":" git fetch origin\n...\nFrom john@githost:simplegit\n + 049d078...fbff5bc master     -> origin/master"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5OC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5OD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5OE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5OF"]],"x":"#","n":"span","l":" John"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","9H5OG"]],"x":"'","n":"span","l":"s Machine\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5OH"]],"x":"$","n":"span","l":" git push origin master\nTo john@githost:simplegit.git\n ! [rejected]        master -> master (non-fast forward)\nerror: failed to push some refs to 'john@githost:simplegit.git'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5O4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5O5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5O6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5O7"]],"x":"#","n":"span","l":" Jessica"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","9H5O8"]],"x":"'","n":"span","l":"s Machine\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5O9"]],"x":"$","n":"span","l":" git push origin master\n...\nTo jessica@githost:simplegit.git\n   1edee6b..fbff5bc  master -> master"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5NO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5NP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5NQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NR"]],"x":"#","n":"span","l":" Jessica"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","9H5NS"]],"x":"'","n":"span","l":"s Machine\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NT"]],"x":"$","n":"span","l":" git clone jessica@githost:simplegit.git\nInitialized empty Git repository in /home/jessica/simplegit/.git/\n...\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NU"]],"x":"$","n":"span","l":" cd simplegit/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NV"]],"x":"$","n":"span","l":" vim TODO\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5O0"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H5O1"]],"x":"'add reset task'","n":"span","l":"\n[master fbff5bc] add reset task\n 1 files changed, 1 insertions(+), 0 deletions(-)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5NC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5ND"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5NE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NF"]],"x":"#","n":"span","l":" John"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","9H5NG"]],"x":"'","n":"span","l":"s Machine\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NH"]],"x":"$","n":"span","l":" git clone john@githost:simplegit.git\nInitialized empty Git repository in /home/john/simplegit/.git/\n...\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NI"]],"x":"$","n":"span","l":" cd simplegit/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NJ"]],"x":"$","n":"span","l":" vim lib/simplegit.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","9H5NK"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","9H5NL"]],"x":"'removed invalid default value'","n":"span","l":"\n[master 738ee87] removed invalid default value\n 1 files changed, 1 insertions(+), 1 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5NA"]],"x":"...","n":"code","l":"。）"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_commit_guidelines"],["aid","9H5ME"]],"x":"提交准则","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MF"]],"x":"在我们开始查看特定的用例前，这里有一个关于提交信息的快速说明。\n有一个好的创建提交的准则并且坚持使用会让与 Git 工作和与其他人协作更容易。\nGit 项目提供了一个文档，其中列举了关于创建提交到提交补丁的若干好的提示 - 可以在 Git 源代码中的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MH"]],"x":"\n首先，你不会想要把空白错误（根据 git help diff 的描述，结合下面给出的图片，空白错误是指行尾的空格、Tab 制表符，和行首空格后跟 Tab 制表符的行为）提交上去。\nGit 提供了一个简单的方式来检查这点 - 在提交前，运行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5MJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MN"]],"x":"如果在提交前运行那个命令，可以知道提交中是否包含可能会使其他开发者恼怒的空白问题。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MO"]],"x":"接下来，尝试让每一个提交成为一个逻辑上的独立变更集。\n如果可以，尝试让改动可以理解 - 不要在整个周末编码解决五个问题，然后在周一时将它们提交为一个巨大的提交。\n即使在周末期间你无法提交，在周一时使用暂存区域将你的工作最少拆分为每个问题一个提交，并且为每一个提交附带一个有用的信息。\n如果其中一些改动修改了同一个文件，尝试使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5MS"]],"x":"最后一件要牢记的事是提交信息。\n有一个创建优质提交信息的习惯会使 Git 的使用与协作容易的多。\n一般情况下，信息应当以少于 50 个字符（25个汉字）的单行开始且简要地描述变更，接着是一个空白行，再接着是一个更详细的解释。\nGit 项目要求一个更详细的解释，包括做改动的动机和它的实现与之前行为的对比 - 这是一个值得遵循的好规则。\n在这些信息中使用现在时态祈使语气也是一个好想法。\n换句话说，使用命令。\n使用 “Add tests for.” 而不是 “I added tests for” 或 “Adding tests for,”。\n这里是一份最初由 Tim Pope 写的模板：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","9H5MT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5N1"]],"x":"如果你所有的提交信息看起来都像这样，对你与跟你工作在一起的其他开发者来说事情会变得非常容易。\nGit 项目有一个良好格式化的提交信息 - 尝试在那儿运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5N3"]],"x":"在接下来的例子中，以及贯穿本书大部分，出于简洁性的原因本书不会有像这样漂亮格式的信息；相反，我们使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5N4"]],"x":"-m","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5N5"]],"x":"git commit","n":"code","l":"。\n照我们说的做，而不是照我们做的做。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5N2"]],"x":"git log --no-merges","n":"code","l":" 来看看漂亮的格式化的项目提交历史像什么样。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","9H5MU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","9H5MV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","9H5N0"]],"n":"span","l":"修改的摘要（50 个字符或更少）\n\n如果必要的话，加入更详细的解释文字。在\n大概 72 个字符的时候换行。在某些情形下，\n第一行被当作一封电子邮件的标题，剩下的\n文本作为正文。分隔摘要与正文的空行是\n必须的（除非你完全省略正文）；如果你将\n两者混在一起，那么类似变基等工具无法\n正常工作。\n\n空行接着更进一步的段落。\n\n  - 句号也是可以的。\n\n  - 项目符号可以使用典型的连字符或星号\n    前面一个空格，之间用空行隔开，\n    但是可以依据不同的惯例有所不同。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5MP"]],"x":"git add --patch","n":"code","l":" 来部分暂存文件（在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004E:off:0000000000"],["id","xref--ch07-git-tools--r_interactive_staging"],["aid","9H5MQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"交互式暂存","n":"a","l":" 中有详细介绍）。\n不管你做一个或五个提交，只要所有的改动是在同一时刻添加的，项目分支末端的快照就是独立的，使同事开发者必须审查你的改动时尽量让事情容易些。\n当你之后需要时这个方法也会使拉出或还原一个变更集更容易些。\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004P:off:0000000000"],["id","xref--ch07-git-tools--r_rewriting_history"],["aid","9H5MR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重写历史","n":"a","l":" 描述了重写历史与交互式暂存文件的若干有用的 Git 技巧 - 在将工作发送给其他人前使用这些工具来帮助生成一个干净又易懂的历史。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5MK"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5ML"]],"x":"Figure 4. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","9H5MM"]],"x":"git diff --check","n":"code","l":" 的输出"},{"a":[["alt","`git diff --check` 的输出。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0011?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5MI"]],"x":"git diff --check","n":"code","l":"，它将会找到可能的空白错误并将它们为你列出来。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5MG"]],"x":"Documentation/SubmittingPatches","n":"code","l":" 文件中阅读它。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_工作流程总结"],["aid","9H5M4"]],"x":"工作流程总结","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5M5"]],"x":"上面介绍了在 Git 等分布式系统中经常使用的工作流程，但是在实际的开发中，你会遇到许多可能适合你的特定工作流程的变种。\n现在你应该已经清楚哪种工作流程组合可能比较适合你了，我们会给出一些如何扮演不同工作流程中主要角色的更具体的例子。\n下一节我们将会学习为项目做贡献的一些常用模式。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_司令官与副官工作流"],["aid","9H5LD"]],"x":"司令官与副官工作流","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5LE"]],"x":"\n这其实是多仓库工作流程的变种。\n一般拥有数百位协作开发者的超大型项目才会用到这样的工作方式，例如著名的 Linux 内核项目。\n被称为副官（lieutenant）的各个集成管理者分别负责集成项目中的特定部分。\n所有这些副官头上还有一位称为司令官（dictator）的总集成管理者负责统筹。\n司令官维护的仓库作为参考仓库，为所有协作者提供他们需要拉取的项目代码。\n整个流程看起来是这样的(见 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5LG"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rwfdiag_c"],["aid","9H5LV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5M2"]],"x":"这种工作流程并不常用，只有当项目极为庞杂，或者需要多级别管理时，才会体现出优势。\n利用这种方式，项目总负责人（即司令官）可以把大量分散的集成工作委托给不同的小组负责人分别处理，然后在不同时刻将大块的代码子集统筹起来，用于之后的整合。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5M0"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5M1"]],"x":"Figure 3. 司令官与副官工作流。","n":"figcaption","l":"\n"},{"a":[["alt","司令官与副官工作流。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000E?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","9H5LH"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5LI"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5LL"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5LO"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5LS"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5LT"]],"x":"司令官将集成后的 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5LU"]],"x":"master","n":"code","l":" 分支推送到参考仓库中，以便所有其他开发者以此为基础进行变基。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5LP"]],"x":"司令官将所有副官的 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5LQ"]],"x":"master","n":"code","l":" 分支并入自己的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5LR"]],"x":"master","n":"code","l":" 分支中。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5LM"]],"x":"副官将普通开发者的特性分支合并到自己的 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5LN"]],"x":"master","n":"code","l":" 分支中。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5LJ"]],"x":"普通开发者在自己的特性分支上工作，并根据 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","9H5LK"]],"x":"master","n":"code","l":" 分支进行变基。\n这里是司令官的`master`分支。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002H:off:000000027F"],["id","xref-rwfdiag_c"],["aid","9H5LF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"司令官与副官工作流。","n":"a","l":"):"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_integration_manager"],["aid","9H5KN"]],"x":"集成管理者工作流","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5KO"]],"x":"\nGit 允许多个远程仓库存在，使得这样一种工作流成为可能：每个开发者拥有自己仓库的写权限和其他所有人仓库的读权限。\n这种情形下通常会有个代表`‘官方’'项目的权威的仓库。\n要为这个项目做贡献，你需要从该项目克隆出一个自己的公开仓库，然后将自己的修改推送上去。\n接着你可以请求官方仓库的维护者拉取更新合并到主项目。\n维护者可以将你的仓库作为远程仓库添加进来，在本地测试你的变更，将其合并入他们的分支并推送回官方仓库。\n这一流程的工作方式如下所示（见 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5KQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rwfdiag_b"],["aid","9H5L8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5LB"]],"x":"\n这是 GitHub 和 GitLab 等集线器式（hub-based）工具最常用的工作流程。人们可以容易地将某个项目派生成为自己的公开仓库，向这个仓库推送自己的修改，并为每个人所见。\n这么做最主要的优点之一是你可以持续地工作，而主仓库的维护者可以随时拉取你的修改。\n贡献者不必等待维护者处理完提交的更新——每一方都可以按照自己节奏工作。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5L9"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5LA"]],"x":"Figure 2. 集成管理者工作流。","n":"figcaption","l":"\n"},{"a":[["alt","集成管理者工作流。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0015?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","9H5KR"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5KS"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5KU"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5L0"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5L2"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5L4"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","9H5L6"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5L7"]],"x":"维护者将合并后的修改推送到主仓库。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5L5"]],"x":"维护者在自己本地的仓库中，将贡献者的仓库加为远程仓库并合并修改。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5L3"]],"x":"贡献者给维护者发送邮件，请求拉取自己的更新。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5L1"]],"x":"贡献者将数据推送到自己的公开仓库。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5KV"]],"x":"贡献者克隆此仓库，做出修改。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","9H5KT"]],"x":"项目维护者推送到主仓库。","n":"span","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002G:off:00000005I5"],["id","xref-rwfdiag_b"],["aid","9H5KP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"集成管理者工作流。","n":"a","l":"）："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_集中式工作流"],["aid","9H5KE"]],"x":"集中式工作流","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5KF"]],"x":"\n集中式系统中通常使用的是单点协作模型——集中式工作流。\n一个中心集线器，或者说仓库，可以接受代码，所有人将自己的工作与之同步。\n若干个开发者则作为节点——也就是中心仓库的消费者——并且与其进行同步。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","9H5KG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5KJ"]],"x":"这意味着如果两个开发者从中心仓库克隆代码下来，同时作了一些修改，那么只有第一个开发者可以顺利地把数据推送回共享服务器。\n第二个开发者在推送修改之前，必须先将第一个人的工作合并进来，这样才不会覆盖第一个人的修改。\n这和 Subversion （或任何 CVCS）中的概念一样，而且这个模式也可以很好地运用到 Git 中。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5KK"]],"x":"如果在公司或者团队中，你已经习惯了使用这种集中式工作流程，完全可以继续采用这种简单的模式。\n只需要搭建好一个中心仓库，并给开发团队中的每个人推送数据的权限，就可以开展工作了。Git 不会让用户覆盖彼此的修改。\n例如 John 和 Jessica 同时开始工作。\nJohn 完成了他的修改并推送到服务器。\n接着 Jessica 尝试提交她自己的修改，却遭到服务器拒绝。\n她被告知她的修改正通过非快进式（non-fast-forward）的方式推送，只有将数据抓取下来并且合并后方能推送。\n这种模式的工作流程的使用非常广泛，因为大多数人对其很熟悉也很习惯。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","9H5KL"]],"x":"当然这并不局限于小团队。\n利用 Git 的分支模型，通过同时在多个分支上工作的方式，即使是上百人的开发团队也可以很好地在单个项目上协作。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","9H5KH"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","9H5KI"]],"x":"Figure 1. 集中式工作流。","n":"figcaption","l":"\n"},{"a":[["alt","集中式工作流。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002L?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","9H5K3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","9H5K4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","9H5K5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","9H5K6"]],"x":"分布式","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","9H5K7"]],"x":"Git","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分布式工作流程"],["aid","9H5KA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","向一个项目贡献"],["aid","9H5M6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","维护项目"],["aid","9H65T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","应用来自邮件的补丁"],["aid","9H66K"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","将贡献的工作整合进来"],["aid","9H6C1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使用 am 命令应用补丁"],["aid","9H67M"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","私有小型团队"],["aid","9H5N6"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","私有管理团队"],["aid","9H5RV"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","派生的公开项目"],["aid","9H5VU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","通过邮件的公开项目"],["aid","9H638"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","8ILKG"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILKH"]],"x":"你有多种远程存取 Git 仓库的选择便于与其他人合作或是分享你的工作。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILKI"]],"x":"运行你自己的服务器将有许多权限且允许你运行该服务于你自己的防火墙内，但如此通常需要耗费你大量的时间去设置与维护服务器。\n如果你放置你的资料于托管服务器内，可轻易的设置与维护；无论如何，你必须能够保存你的代码在其他服务器，且某些组织不允许此作法。\n这将直接了当的决定哪个作法或组合的方式较适合你或你的组织。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_第三方托管的选择"],["aid","8ILK9"]],"x":"第三方托管的选择","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILKA"]],"x":"如果不想设立自己的 Git 服务器，你可以选择将你的 Git 项目托管到一个外部专业的托管网站。\n这带来了一些好处：一个托管网站可以用来快速建立并开始项目，且无需进行服务器维护和监控工作。\n即使你在内部设立并且运行了自己的服务器，你仍然可以把你的开源代码托管在公共托管网站 - 这通常更有助于开源社区来发现和帮助你。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILKB"]],"x":"现在，有非常多的托管供你选择，每个选择都有不同的优缺点。\n欲查看最新列表，请浏览 Git 维基的 GitHosting 页面 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILKD"]],"x":"我们会在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:003A:off:0000000000"],["id","xref--ch06-github"],["aid","8ILKE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"GitHub","n":"a","l":" 详细讲解 GitHub，作为目前最大的 Git 托管平台，你很可能需要与托管在 GitHub 上的项目进行交互，而且你也很可能并不想去设立你自己的 Git 服务器。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://git.wiki.kernel.org/index.php/GitHosting"],["aid","8ILKC"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://git.wiki.kernel.org/index.php/GitHosting","n":"a"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_一起工作"],["aid","8ILK0"]],"x":"一起工作","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILK1"]],"x":"在一个 GitLab 项目上一起工作的最简单方法就是赋予协作者对 git 版本库的直接 push 权限。\n你可以通过项目设定的 “Members（成员）” 部分向一个项目添加写作者，并且将这个新的协作者与一个访问级别关联（不同的访问级别在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILK3"]],"x":"另外一个让合作更解耦的方法就是使用合并请求。\n它的优点在于让任何能够看到这个项目的协作者在被管控的情况下对这个项目作出贡献。\n可以直接访问的协作者能够简单的创建一个分支，向这个分支进行提交，也可以开启一个向 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILK6"]],"x":"在 GitLab 中合并请求和问题是一个长久讨论的主要部分。\n每一个合并请求都允许在提出改变的行进行讨论（它支持一个轻量级的代码审查），也允许对一个总体性话题进行讨论。\n两者都可以被分配给用户，或者组织到 milestones（里程碑） 界面。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILK7"]],"x":"这个部分主要聚焦于在 GitLab 中与 Git 相关的特性，但是 GitLab 作为一个成熟的系统，它提供了许多其他产品来帮助你协同工作，例如项目 wiki 与系统维护工具。\nGitLab 的一个优点在于，服务器设置和运行以后，你将很少需要调整配置文件或通过 SSH 连接服务器；绝大多数的管理和日常使用都可以在浏览器界面中完成。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILK4"]],"x":"master","n":"code","l":" 或者其他任何一个分支的合并请求。\n对版本库没有推送权限的协作者则可以 “fork” 这个版本库（即创建属于自己的这个库的副本），向 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8ILK5"]],"x":"那个","n":"em","l":" 副本进行提交，然后从那个副本开启一个到主项目的合并请求。\n这个模型使得项目拥有者完全控制着向版本库的提交，以及什么时候允许加入陌生协作者的贡献。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002C:off:0000000328"],["id","xref-r_gitlab_groups_section"],["aid","8ILK2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"组","n":"a","l":" 中已简单讨论）。\n通过赋予一个协作者 “Developer（开发者）” 或者更高的访问级别，这个用户就可以毫无约束地直接向版本库或者向分支进行提交。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_基本用途"],["aid","8ILJF"]],"x":"基本用途","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJG"]],"x":"你想要在 GitLab 做的第一件事就是建立一个新项目。\n这通过点击工具栏上的 “+” 图标完成。\n你会被要求填写项目名称，也就是这个项目所属的命名空间，以及它的可视层级。\n绝大多数的设定并不是永久的，可以通过设置界面重新调整。\n点击 “Create Project”，你就完成了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJH"]],"x":"项目存在后，你可能会想将它与本地的 Git 版本库连接。\n每一个项目都可以通过 HTTPS 或者 SSH 连接，任意两者都可以被用来配置远程 Git。\n在项目主页的顶栏可以看到这个项目的 URLs。\n对于一个存在的本地版本库，这个命令将会向主机位置添加一个叫 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILJJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJO"]],"x":"如果你的本地没有版本库的副本，你可以这样做：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILJP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJU"]],"x":"web 用户界面提供了几个有用的获取版本库信息的网页。\n每一个项目的主页都显示了最近的活动，并且通过顶部的链接可以使你浏览项目文件以及提交日志。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILJQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILJR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILJS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILJT"]],"x":"$","n":"span","l":" git clone https://server/namespace/project.git"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILJK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILJL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILJM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILJN"]],"x":"$","n":"span","l":" git remote add gitlab https://server/namespace/project.git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILJI"]],"x":"gitlab","n":"code","l":" 的远程仓库："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_管理"],["aid","8ILI7"]],"x":"管理","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILI8"]],"x":"GitLab 的管理界面是通过网络进入的。\n将你的浏览器转到已经安装 GitLab 的 主机名或 IP 地址，然后以管理员身份登录即可。\n默认的用户名是 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rgitlab_menu"],["aid","8ILIB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","使用者"],["aid","8ILIE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","组"],["aid","8ILIQ"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","项目"],["aid","8ILJ4"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","钩子"],["aid","8ILJB"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_钩子"],["aid","8ILJC"]],"x":"钩子","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJD"]],"x":"GitLab 在项目和系统级别上都支持钩子程序。\n对任意级别，当有相关事件发生时，GitLab 的服务器会执行一个包含描述性 JSON 数据的 HTTP 请求。\n这是自动化连接你的 git 版本库和 GitLab 实例到其他的开发工具，比如 CI 服务器，聊天室，或者部署工具的一个极好方法。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_项目"],["aid","8ILJ5"]],"x":"项目","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJ6"]],"x":"一个 GitLab 的项目相当于 git 的版本库。\n每一个项目都属于一个用户或者一个组的单个命名空间。\n如果这个项目属于一个用户，那么这个拥有者对所有可以获取这个项目的人拥有直接管理权；如果这个项目属于一个组，那么该组中用户级别的权限也会起作用。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJ7"]],"x":"每一个项目都有一个可视级别，控制着谁可以看到这个项目页面和仓库。\n如果一个项目是 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8ILJ8"]],"x":"私有","n":"em","l":" 的，这个项目的拥有者必须明确授权从而使特定的用户可以访问。\n一个 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8ILJ9"]],"x":"内部","n":"em","l":" 的项目可以被所有登录的人看到，而一个 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8ILJA"]],"x":"公开","n":"em","l":" 的项目则是对所有人可见的。\n注意，这种控制既包括 git “fetch” 的使用也包括对项目 web 用户界面的访问。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","r_gitlab_groups_section"],["aid","8ILIR"]],"x":"组","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILIS"]],"x":"一个 GitLab 的组是一些项目的集合，连同关于多少用户可以访问这些项目的数据。\n每一个组都有一个项目命名空间（与用户一样），所以如果一个叫 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rgitlab_groups"],["aid","8ILJ0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILJ3"]],"x":"每一个组都有许多用户与之关联，每一个用户对组中的项目以及组本身的权限都有级别区分。\n权限的范围从 “访客”（仅能提问题和讨论） 到 “拥有者”（完全控制组、成员和项目）。\n权限的种类太多以至于难以在这里一一列举，不过在 GitLab 的管理界面上有帮助链接。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","8ILJ1"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","8ILJ2"]],"x":"Figure 5. GitLab组 管理界面。","n":"figcaption","l":"\n"},{"a":[["alt","GitLab组 管理界面。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0044?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILIT"]],"x":"training","n":"code","l":" 的组拥有一个名称是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILIU"]],"x":"materials","n":"code","l":" 的项目，那么这个项目的 url 会是 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://server/training/materials"],["aid","8ILIV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://server/training/materials","n":"a","l":" 。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_使用者"],["aid","8ILIF"]],"x":"使用者","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILIG"]],"x":"GitLab 上的用户指的是对应协作者的帐号。\n用户帐号没有很多复杂的地方，主要是包含登录数据的用户信息集合。\n每一个用户账号都有一个 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rgitlab_users"],["aid","8ILIL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILIO"]],"x":"移除一个用户有两种方法。\n“屏蔽（Blocking）” 一个用户阻止他登录 GitLab 实例，但是该用户命名空间下的所有数据仍然会被保存，并且仍可以通过该用户提交对应的登录邮箱链接回他的个人信息页。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILIP"]],"x":"而另一方面，“销毁（Destroying）” 一个用户，会彻底的将他从数据库和文件系统中移除。\n他命名空间下的所有项目和数据都会被删除，拥有的任何组也会被移除。\n这显然是一个更永久且更具破坏力的行为，所以很少用到这种方法。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","8ILIM"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","8ILIN"]],"x":"Figure 4. GitLab 用户管理界面。","n":"figcaption","l":"\n"},{"a":[["alt",".GitLab 用户管理界面。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005O?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","8ILIH"]],"x":"命名空间","n":"strong","l":" ，即该用户项目的逻辑集合。\n如果一个叫 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILII"]],"x":"jane","n":"code","l":" 的用户拥有一个名称是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILIJ"]],"x":"project","n":"code","l":" 的项目，那么这个项目的 url 会是 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://server/jane/project"],["aid","8ILIK"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://server/jane/project","n":"a","l":" 。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","8ILIC"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","8ILID"]],"x":"Figure 3. GitLab 主栏的 “Admin area” 图标。","n":"figcaption","l":"\n"},{"a":[["alt","GitLab 主栏的 ``Admin area'' 图标。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0012?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILI9"]],"x":"admin@local.host","n":"code","l":"，默认的密码是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILIA"]],"x":"5iveL!fe","n":"code","l":"（你会得到类似 请登录后尽快更换密码 的提示）。\n登录后，点击主栏上方靠右位置的 “Admin area” 图标进行管理。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_安装"],["aid","8ILHT"]],"x":"安装","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILHU"]],"x":"GitLab 是一个数据库支持的 web 应用，所以相比于其他 git 服务器，它的安装过程涉及到更多的东西。\n幸运的是，这个过程有非常详细的文档说明和支持。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILHV"]],"x":"这里有一些可参考的方法帮你安装 GitLab 。\n为了更快速的启动和运行，你可以下载虚拟机镜像或者在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rbitnami"],["aid","8ILI1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILI4"]],"x":"无论如何，跟着 GitLab 社区版的 readme 文件一步步来，你可以在这里找到它 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://gitlab.com/gitlab-org/gitlab-ce/tree/master"],["aid","8ILI5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://gitlab.com/gitlab-org/gitlab-ce/tree/master","n":"a","l":" 。\n在这里你将会在主菜单中找到安装 GitLab 的帮助，一个可以在 Digital Ocean 上运行的虚拟机，以及 RPM 和 DEB 包（都是测试版）。\n这里还有 “非官方” 的引导让 GitLab 运行在非标准的操作系统和数据库上，一个全手动的安装脚本，以及许多其他的话题。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","8ILI2"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","8ILI3"]],"x":"Figure 2. Bitnami GitLab 虚拟机登录界面。","n":"figcaption","l":"\n"},{"a":[["alt","Bitnami GitLab 虚拟机登录界面。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002G?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://bitnami.com/stack/gitlab"],["aid","8ILI0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://bitnami.com/stack/gitlab","n":"a","l":" 上获取一键安装包，同时调整配置使之符合你特定的环境。\nBitnami 的一个优点在于它的登录界面（通过 alt-&rarr 键进入；）；它会告诉你安装好的 GitLab 的 IP 地址以及默认的用户名和密码。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_gitweb"],["aid","8ILGB"]],"x":"GitWeb","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILGC"]],"x":"\n如果你对项目有读写权限或只读权限，你可能需要建立起一个基于网页的简易查看器。\nGit 提供了一个叫做 GitWeb 的 CGI 脚本来做这项工作。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rgitweb"],["aid","8ILGD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILGG"]],"x":"如果你想要查看 GitWeb 如何展示你的项目，并且在服务器上安装了轻量级网络服务器比如 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILGO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILGT"]],"x":"这个命令启动了一个监听 1234 端口的 HTTP 服务器，并且自动打开了浏览器。\n这对你来说十分方便。\n当你已经完成了工作并想关闭这个服务器，你可以执行同一个命令，并加上 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILGV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILH4"]],"x":"如果你现在想为你的团队或你托管的开源项目持续的运行这个页面，你需要通过普通的 Web 服务器来设置 CGI 脚本。\n一些 Linux 发行版的软件库有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILH8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILHH"]],"x":"需要注意的是，你需要在命令中指定 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILHJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILHN"]],"x":"再次提醒，GitWeb 可以通过任何一个支持 CGI 或 Perl 的网络服务器架设；如果你需要的话，架设起来应该不会很困难。\n现在，你可以访问 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILHO"]],"x":"http://gitserver/","n":"code","l":" 在线查看你的版本库。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILHK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILHL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILHM"]],"n":"span","l":"<VirtualHost *:80>\n    ServerName gitserver\n    DocumentRoot /var/www/gitweb\n    <Directory /var/www/gitweb>\n        Options ExecCGI +FollowSymLinks +SymLinksIfOwnerMatch\n        AllowOverride All\n        order allow,deny\n        Allow from all\n        AddHandler cgi-script cgi\n        DirectoryIndex gitweb.cgi\n    </Directory>\n</VirtualHost>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILHI"]],"x":"GITWEB_PROJECTROOT","n":"code","l":" 变量来让程序知道你的 Git 版本库的位置。\n现在，你需要在 Apache 中使用这个 CGI 脚本，你需要为此添加一个虚拟主机："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILH9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILHA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILHB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILHC"]],"x":"$","n":"span","l":" git clone git://git.kernel.org/pub/scm/git/git.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILHD"]],"x":"$","n":"span","l":" cd git/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILHE"]],"x":"$","n":"span","l":" make GITWEB_PROJECTROOT="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILHF"]],"x":"\"/opt/git\"","n":"span","l":" prefix=/usr gitweb\n    SUBDIR gitweb\n    SUBDIR ../\nmake[2]: `GIT-VERSION-FILE' is up to date.\n    GEN gitweb.cgi\n    GEN static/gitweb.js\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILHG"]],"x":"$","n":"span","l":" sudo cp -Rf gitweb /var/www/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILH5"]],"x":"gitweb","n":"code","l":" 包，可以通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILH6"]],"x":"apt","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILH7"]],"x":"yum","n":"code","l":" 来安装，你可以先试试。\n接下来我们来快速的了解一下如何手动安装 GitWeb。\n首先，你需要获得 Git 的源代码，它包含了 GitWeb ，并可以生成自定义的 CGI 脚本："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILH0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILH1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILH2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILH3"]],"x":"$","n":"span","l":" git instaweb --httpd=webrick --stop"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGU"]],"x":"--stop","n":"code","l":" 选项："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILGP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILGQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILGR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILGS"]],"x":"$","n":"span","l":" git instaweb --httpd=webrick\n[2009-02-21 10:02:21] INFO  WEBrick 1.3.1\n[2009-02-21 10:02:21] INFO  ruby 1.8.6 (2008-03-03) [universal-darwin9.0]"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGH"]],"x":"lighttpd","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGI"]],"x":"webrick","n":"code","l":"， Git 提供了一个命令来让你启动一个临时的服务器。\n在 Linux 系统的电脑上，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGJ"]],"x":"lighttpd","n":"code","l":" 通常已经安装了，所以你只需要在项目目录里执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGK"]],"x":"git instaweb","n":"code","l":" 命令即可。\n如果你使用 Mac 系统， Mac OS X Leopard 系统已经预安装了 Ruby，所以 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGL"]],"x":"webrick","n":"code","l":" 或许是你最好的选择。\n如果不想使用 lighttpd 启动 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGM"]],"x":"instaweb","n":"code","l":" 命令，你需要在执行时加入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILGN"]],"x":"--httpd","n":"code","l":" 参数。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","8ILGE"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","8ILGF"]],"x":"Figure 1. GitWeb 的网页用户界面","n":"figcaption","l":"\n"},{"a":[["alt","GitWeb 的网页用户界面"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0040?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_smart_http"],["aid","8ILEN"]],"x":"Smart HTTP","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILEO"]],"x":"\n我们一般通过 SSH 进行授权访问，通过 git:// 进行无授权访问，但是还有一种协议可以同时实现以上两种方式的访问。\n设置 Smart HTTP 一般只需要在服务器上启用一个 Git 自带的名为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILES"]],"x":"在完成以上简单的安装步骤后，\n我们将用 Apache 来作为 CGI 服务器。\n如果你没有安装 Apache，你可以在 Linux 环境下执行如下或类似的命令来安装：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILET"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILF3"]],"x":"该操作将会启用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILF7"]],"x":"接下来我们要向 Apache 配置文件添加一些内容，来让 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILFA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILFE"]],"x":"如果留空 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILFH"]],"x":"接着你需要让 Apache 接受通过该路径的请求，添加如下的内容至 Apache 配置文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILFI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILFM"]],"x":"最后，如果想实现写操作授权验证，使用如下的未授权屏蔽配置即可：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILFN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILFR"]],"x":"这需要你创建一个包含所有合法用户密码的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILFT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILG3"]],"x":"你可以通过许多方式添加 Apache 授权用户，选择使用其中一种方式即可。\n以上仅仅只是我们可以找到的最简单的一个例子。\n如果愿意的话，你也可以通过 SSL 运行它，以保证所有数据是在加密状态下进行传输的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILG4"]],"x":"我们不想深入去讲解 Apache 配置文件，因为你可能会使用不同的 Web 服务器，或者可能有不同的授权需求。\n它的主要原理是使用一个 Git 附带的，名为 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","8ILG6"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","8ILG7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILG8"]],"x":"欲了解更多的有关配置 Apache 授权访问的信息，请通过以下链接浏览 Apache 文档： ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://httpd.apache.org/docs/current/howto/auth.html"],["aid","8ILG9"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://httpd.apache.org/docs/current/howto/auth.html","n":"a"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILG5"]],"x":"git-http-backend","n":"code","l":" 的 CGI。它被引用来处理协商通过 HTTP 发送和接收的数据。\n它本身并不包含任何授权功能，但是授权功能可以在 Web 服务器层引用它时被轻松实现。\n你可以在任何所有可以处理 CGI 的 Web 服务器上办到这点，所以随便挑一个你最熟悉的 Web 服务器试手吧。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILFU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILFV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILG0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILG1"]],"x":"$","n":"span","l":" htdigest -c /opt/git/.htpasswd "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILG2"]],"x":"\"Git Access\"","n":"span","l":" schacon"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILFS"]],"x":".htaccess","n":"code","l":" 文件。\n以下是一个添加 “schacon” 用户到此文件的例子："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILFO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILFP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILFQ"]],"n":"span","l":"<LocationMatch \"^/git/.*/git-receive-pack$\">\n    AuthType Basic\n    AuthName \"Git Access\"\n    AuthUserFile /opt/git/.htpasswd\n    Require valid-user\n</LocationMatch>"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILFJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILFK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILFL"]],"n":"span","l":"<Directory \"/usr/lib/git-core*\">\n   Options ExecCGI Indexes\n   Order allow,deny\n   Allow from all\n   Require all granted\n</Directory>"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILFF"]],"x":"GIT_HTTP_EXPORT_ALL","n":"code","l":" 这个环境变量，Git 将只对无授权客户端提供带 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILFG"]],"x":"git-daemon-export-ok","n":"code","l":" 文件的版本库，就像 Git 守护进程一样。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILFB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILFC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILFD"]],"n":"span","l":"SetEnv GIT_PROJECT_ROOT /opt/git\nSetEnv GIT_HTTP_EXPORT_ALL\nScriptAlias /git/ /usr/lib/git-core/git-http-backend/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILF8"]],"x":"git-http-backend","n":"code","l":" 作为 Web 服务器对 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILF9"]],"x":"/git","n":"code","l":" 路径请求的处理器。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILF4"]],"x":"mod_cgi","n":"code","l":"， "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILF5"]],"x":"mod_alias","n":"code","l":"， 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILF6"]],"x":"mod_env","n":"code","l":" 等 Apache 模块， 这些模块都是使该功能正常工作所必须的。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILEU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILEV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILF0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILF1"]],"x":"$","n":"span","l":" sudo apt-get install apache2 apache2-utils\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILF2"]],"x":"$","n":"span","l":" a2enmod cgi alias env"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILEP"]],"x":"git-http-backend","n":"code","l":" 的 CGI 脚本。\n该 CGI 脚本将会读取由 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILEQ"]],"x":"git fetch","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILER"]],"x":"git push","n":"code","l":" 命令向 HTTP URL 发送的请求路径和头部信息，来判断该客户端是否支持 HTTP 通信（不低于 1.6.6 版本的客户端支持此特性）。\n如果 CGI 发现该客户端支持智能（Smart）模式，它将会以智能模式与它进行通信，否则它将会回落到哑（Dumb）模式下（因此它可以对某些老的客户端实现向下兼容）。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_git_守护进程"],["aid","8ILDC"]],"x":"Git 守护进程","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILDD"]],"x":"\n接下来我们将通过 “Git” 协议建立一个基于守护进程的仓库。\n对于快速且无需授权的 Git 数据访问，这是一个理想之选。\n请注意，因为其不包含授权服务，任何通过该协议管理的内容将在其网络上公开。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILDE"]],"x":"如果运行在防火墙之外的服务器上，它应该只对那些公开的只读项目服务。\n如果运行在防火墙之内的服务器上，它可用于支撑大量参与人员或自动系统（用于持续集成或编译的主机）只读访问的项目，这样可以省去逐一配置 SSH 公钥的麻烦。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILDF"]],"x":"无论何时，该 Git 协议都是相对容易设定的。\n通常，你只需要以守护进程的形式运行该命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILDG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILDK"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILDN"]],"x":"你可以通过许多方式将该进程以守护进程的方式运行，这主要取决于你所使用的操作系统。\n在一台 Ubuntu 机器上，你可以使用一份 Upstart 脚本。\n因此，找到如下文件：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILDO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILDS"]],"x":"并添加下列脚本内容：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILDT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILE1"]],"x":"出于安全考虑，强烈建议使用一个对仓库拥有只读权限的用户身份来运行该守护进程 - 你可以创建一个新用户 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILE5"]],"x":"当你重启机器时，你的 Git 守护进程将会自动启动，并且如果进程被意外结束它会自动重新运行。\n为了在不重启的情况下直接运行，你可以运行以下命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILE6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILEA"]],"x":"在其他系统中，你可以使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILED"]],"x":"接下来，你需要告诉 Git 哪些仓库允许基于服务器的无授权访问。\n你可以在每个仓库下创建一个名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8ILEF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8ILEL"]],"x":"该文件将允许 Git 提供无需授权的项目访问服务。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILEG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILEH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILEI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILEJ"]],"x":"$","n":"span","l":" cd /path/to/project.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILEK"]],"x":"$","n":"span","l":" touch git-daemon-export-ok"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILEE"]],"x":"git-daemon-export-ok","n":"code","l":" 的文件来实现。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILEB"]],"x":"sysvinit","n":"code","l":" 系统中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILEC"]],"x":"xinetd","n":"code","l":" 脚本，或者另外的方式来实现 - 只要你能够将其命令守护进程化并实现监控。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILE7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILE8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILE9"]],"n":"span","l":"initctl start local-git-daemon"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8ILE2"]],"x":"git-ro","n":"em","l":" 并且以该用户身份来运行守护进程。\n为简便起见，我们将像 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILE3"]],"x":"git-shell","n":"code","l":" 一样，同样使用 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8ILE4"]],"x":"git","n":"em","l":" 用户来运行它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILDU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILDV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILE0"]],"n":"span","l":"start on startup\nstop on shutdown\nexec /usr/bin/git daemon \\\n    --user=git --group=git \\\n    --reuseaddr \\\n    --base-path=/opt/git/ \\\n    /opt/git/\nrespawn"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILDP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILDQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILDR"]],"n":"span","l":"/etc/event.d/local-git-daemon"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILDL"]],"x":"--reuseaddr","n":"code","l":" 允许服务器在无需等待旧连接超时的情况下重启，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILDM"]],"x":"--base-path","n":"code","l":" 选项允许用户在未完全指定路径的条件下克隆项目，结尾的路径将告诉 Git 守护进程从何处寻找仓库来导出。\n如果有防火墙正在运行，你需要开放端口 9418 的通信权限。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILDH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILDI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILDJ"]],"n":"span","l":"git daemon --reuseaddr --base-path=/opt/git/ /opt/git/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILD8"]],"x":"git","n":"code","l":" 用户的家目录下建立一个目录，来对 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILD9"]],"x":"git-shell","n":"code","l":" 命令进行一定程度的自定义。\n比如，你可以限制掉某些本应被服务器接受的 Git 命令，或者对刚才的 SSH 拒绝登录信息进行自定义，这样，当有开发者用户以类似方式尝试登录时，便会看到你的信息。\n要了解更多有关自定义 shell 的信息，请运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILDA"]],"x":"git help shell","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILD3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILD4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILD5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILD6"]],"x":"$","n":"span","l":" ssh git@gitserver\nfatal: Interactive git shell is not enabled.\nhint: ~/git-shell-commands should exist and have read and execute access.\nConnection to gitserver closed."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILD1"]],"x":"git","n":"code","l":" 就只能利用 SSH 连接对 Git 仓库进行推送和拉取操作，而不能登录机器并取得普通 shell。\n如果试图登录，你会发现尝试被拒绝，像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILCR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILCS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILCT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILCU"]],"x":"$","n":"span","l":" sudo chsh git  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILCV"]],"x":"# and enter the path to git-shell, usually: /usr/bin/git-shell","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILCP"]],"x":"chsh <username>","n":"code","l":" 命令修改任一系统用户的 shell："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILCF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILCG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILCH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILCI"]],"x":"$","n":"span","l":" cat /etc/shells   "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILCJ"]],"x":"# see if `git-shell` is already in there.  If not...","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILCK"]],"x":"$","n":"span","l":" which git-shell   "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILCL"]],"x":"# make sure git-shell is installed on your system.","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILCM"]],"x":"$","n":"span","l":" sudo vim /etc/shells  "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILCN"]],"x":"# and add the path to git-shell from last command","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILC6"]],"x":"git-shell","n":"code","l":" 的受限 shell 工具，你可以方便地将用户 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILC7"]],"x":"git","n":"code","l":" 的活动限制在与 Git 相关的范围内。该工具随 Git 软件包一同提供。\n如果将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILC8"]],"x":"git-shell","n":"code","l":" 设置为用户 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILC9"]],"x":"git","n":"code","l":" 的登录 shell（login shell），那么用户 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILCA"]],"x":"git","n":"code","l":" 便不能获得此服务器的普通 shell 访问权限。\n若要使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILCB"]],"x":"git-shell","n":"code","l":"，需要用它替换掉 bash 或 csh，使其成为系统用户的登录 shell。\n为进行上述操作，首先你必须确保 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILCC"]],"x":"git-shell","n":"code","l":" 已存在于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILCD"]],"x":"/etc/shells","n":"code","l":" 文件中："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILC2"]],"x":"git","n":"code","l":" 的身份登录服务器从而获得一个普通 shell。\n如果你想对此加以限制，则需要修改 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILC3"]],"x":"passwd","n":"code","l":" 文件中（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILC4"]],"x":"git","n":"code","l":" 用户所对应）的 shell 值。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILBN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILBO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILBP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBQ"]],"x":"$","n":"span","l":" git clone git@gitserver:/opt/git/project.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBR"]],"x":"$","n":"span","l":" cd project\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBS"]],"x":"$","n":"span","l":" vim README\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBT"]],"x":"$","n":"span","l":" git commit -am "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILBU"]],"x":"'fix for the README file'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBV"]],"x":"$","n":"span","l":" git push origin master"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILB5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILB6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILB7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILB8"]],"x":"#","n":"span","l":" on John"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILB9"]],"x":"'s computer","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBA"]],"x":"$","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILBB"]],"x":" cd myproject","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBC"]],"x":"$","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILBD"]],"x":" git init","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBE"]],"x":"$","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILBF"]],"x":" git add .","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBG"]],"x":"$","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","8ILBH"]],"x":" git commit -m '","n":"span","l":"initial commit"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","8ILBI"]],"x":"'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBJ"]],"x":"$","n":"span","l":" git remote add origin git@gitserver:/opt/git/project.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILBK"]],"x":"$","n":"span","l":" git push origin master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILB0"]],"x":"git","n":"code","l":" 用户和 Git 仓库的服务器使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILB1"]],"x":"gitserver","n":"code","l":" 作为主机名。\n同时，假设该服务器运行在内网，并且你已在 DNS 配置中将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILB2"]],"x":"gitserver","n":"code","l":" 指向此服务器。那么我们可以运行如下命令（假定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILB3"]],"x":"myproject","n":"code","l":" 是已有项目且其中已包含文件）："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILAO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILAP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILAQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILAR"]],"x":"$","n":"span","l":" cd /opt/git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILAS"]],"x":"$","n":"span","l":" mkdir project.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILAT"]],"x":"$","n":"span","l":" cd project.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILAU"]],"x":"$","n":"span","l":" git init --bare\nInitialized empty Git repository in /opt/git/project.git/"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILAL"]],"x":"--bare","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILAM"]],"x":"git init","n":"code","l":" 命令来做到这一点，该命令在初始化仓库时不会创建工作目录："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILAE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILAF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILAG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILAH"]],"x":"$","n":"span","l":" cat /tmp/id_rsa.john.pub >> ~/.ssh/authorized_keys\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILAI"]],"x":"$","n":"span","l":" cat /tmp/id_rsa.josie.pub >> ~/.ssh/authorized_keys\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILAJ"]],"x":"$","n":"span","l":" cat /tmp/id_rsa.jessica.pub >> ~/.ssh/authorized_keys"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILAA"]],"x":"git","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILAB"]],"x":".ssh","n":"code","l":" 目录下 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILAC"]],"x":"authorized_keys","n":"code","l":" 文件的末尾："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8ILA5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8ILA6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8ILA7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILA8"]],"x":"$","n":"span","l":" cat /tmp/id_rsa.john.pub\nssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCB007n/ww+ouN4gSLKssMxXnBOvf9LGt4L\nojG6rs6hPB09j9R/T17/x4lhJA0F3FR1rP6kYBRsWj2aThGw6HXLm9/5zytK6Ztg3RPKK+4k\nYjh6541NYsnEAZuXz0jTTyAUfrtU3Z5E003C4oxOj6H0rfIF1kKI9MAQLMdpGW1GYEIgS9Ez\nSdfd8AcCIicTDWbqLAcU4UpkaX8KyGlLwsNuuGztobF8m72ALC/nLF6JLtPofwFBlgc+myiv\nO7TCUSBdLQlgMVOFq1I2uPWQOkOWQAHukEOmfjy2jctxSDBQ220ymjaNsHT4kgtZg2AYYgPq\ndAv8JggJICUvax2T9va5 gsg-keypair"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILA2"]],"x":"git","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8ILA3"]],"x":"authorized_keys","n":"code","l":" 文件添加一些开发者 SSH 公钥。\n假设我们已经获得了若干受信任的公钥，并将它们保存在临时文件中。\n与前文类似，这些公钥看起来是这样的："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL9P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL9Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL9R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL9S"]],"x":"$","n":"span","l":" sudo adduser git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL9T"]],"x":"$","n":"span","l":" su git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL9U"]],"x":"$","n":"span","l":" cd\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL9V"]],"x":"$","n":"span","l":" mkdir .ssh && chmod 700 .ssh\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8ILA0"]],"x":"$","n":"span","l":" touch .ssh/authorized_keys && chmod 600 .ssh/authorized_keys"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL9L"]],"x":"authorized_keys","n":"code","l":" 方法来对用户进行认证。\n同时我们假设你使用的操作系统是标准的 Linux 发行版，比如 Ubuntu。\n首先，创建一个操作系统用户 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL9M"]],"x":"git","n":"code","l":"，并为其建立一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL9N"]],"x":".ssh","n":"code","l":" 目录。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_generate_ssh_key"],["aid","8IL8G"]],"x":"生成 SSH 公钥","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL8H"]],"x":"\n如前所述，许多 Git 服务器都使用 SSH 公钥进行认证。\n为了向 Git 服务器提供 SSH 公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。\n这个过程在所有操作系统上都是相似的。\n首先，你需要确认自己是否已经拥有密钥。\n默认情况下，用户的 SSH 密钥存储在其 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL8J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL8P"]],"x":"我们需要寻找一对以 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL91"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL96"]],"x":"首先 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL99"]],"x":"现在，进行了上述操作的用户需要将各自的公钥发送给任意一个 Git 服务器管理员（假设服务器正在使用基于公钥的 SSH 验证设置）。\n他们所要做的就是复制各自的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL9B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL9G"]],"x":"关于在多种操作系统中生成 SSH 密钥的更深入教程，请参阅 GitHub 的 SSH 密钥指南 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://help.github.com/articles/generating-ssh-keys"],["aid","8IL9H"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://help.github.com/articles/generating-ssh-keys","n":"a","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL9C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL9D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL9E"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL9F"]],"x":"$","n":"span","l":" cat ~/.ssh/id_rsa.pub\nssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU\nGPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3\nPbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA\nt3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En\nmZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx\nNrRFi9wrf+M7Q== schacon@mylaptop.local"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL9A"]],"x":".pub","n":"code","l":" 文件内容，并将其通过邮件发送。\n公钥看起来是这样的："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL97"]],"x":"ssh-keygen","n":"code","l":" 会确认密钥的存储位置（默认是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL98"]],"x":".ssh/id_rsa","n":"code","l":"），然后它会要求你输入两次密钥口令。如果你不想在使用密钥时输入口令，将其留空即可。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL92"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL93"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL94"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL95"]],"x":"$","n":"span","l":" ssh-keygen\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/home/schacon/.ssh/id_rsa):\nCreated directory '/home/schacon/.ssh'.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in /home/schacon/.ssh/id_rsa.\nYour public key has been saved in /home/schacon/.ssh/id_rsa.pub.\nThe key fingerprint is:\nd0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8Q"]],"x":"id_dsa","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8R"]],"x":"id_rsa","n":"code","l":" 命名的文件，其中一个带有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8S"]],"x":".pub","n":"code","l":" 扩展名。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8T"]],"x":".pub","n":"code","l":" 文件是你的公钥，另一个则是私钥。\n如果找不到这样的文件（或者根本没有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8U"]],"x":".ssh","n":"code","l":" 目录），你可以通过运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8V"]],"x":"ssh-keygen","n":"code","l":" 程序来创建它们。在 Linux/Mac 系统中，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL90"]],"x":"ssh-keygen","n":"code","l":" 随 SSH 软件包提供；在 Windows 上，该程序包含于 MSysGit 软件包中。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL8K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL8L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL8M"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL8N"]],"x":"$","n":"span","l":" cd ~/.ssh\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL8O"]],"x":"$","n":"span","l":" ls\nauthorized_keys2  id_dsa       known_hosts\nconfig            id_dsa.pub"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8I"]],"x":"~/.ssh","n":"code","l":" 目录下。\n进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_小型安装"],["aid","8IL82"]],"x":"小型安装","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL83"]],"x":"如果设备较少或者你只想在小型开发团队里尝试 Git ，那么一切都很简单。\n架设 Git 服务最复杂的地方在于用户管理。\n如果需要仓库对特定的用户可读，而给另一部分用户读写权限，那么访问和许可安排就会比较困难。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","SSH 连接"],["aid","8IL84"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_ssh_连接"],["aid","8IL85"]],"x":"SSH 连接","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL86"]],"x":"\n如果你有一台所有开发者都可以用 SSH 连接的服务器，架设你的第一个仓库就十分简单了，因为你几乎什么都不用做（正如我们上一节所说的）。\n如果你想在你的仓库上设置更复杂的访问控制权限，只要使用服务器操作系统的普通的文件系统权限就行了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL87"]],"x":"如果需要团队里的每个人都对仓库有写权限，又不能给每个人在服务器上建立账户，那么提供 SSH 连接就是唯一的选择了。\n我们假设用来共享仓库的服务器已经安装了 SSH 服务，而且你通过它访问服务器。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL88"]],"x":"有几个方法可以使你给团队每个成员提供访问权。\n第一个就是给团队里的每个人创建账号，这种方法很直接但也很麻烦。\n或许你不会想要为每个人运行一次 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL8A"]],"x":"第二个办法是在主机上建立一个 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL8E"]],"x":"另一个办法是让 SSH 服务器通过某个 LDAP 服务，或者其他已经设定好的集中授权机制，来进行授权。\n只要每个用户可以获得主机的 shell 访问权限，任何 SSH 授权机制你都可视为是有效的。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8IL8B"]],"x":"git","n":"em","l":" 账户，让每个需要写权限的人发送一个 SSH 公钥，然后将其加入 git 账户的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL8C"]],"x":"~/.ssh/authorized_keys","n":"code","l":" 文件。\n这样一来，所有人都将通过 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8IL8D"]],"x":"git","n":"em","l":" 账户访问主机。\n这一点也不会影响提交的数据——访问主机用的身份不会影响提交对象的提交者信息。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL89"]],"x":"adduser","n":"code","l":" 并且设置临时密码。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_bare_repo"],["aid","8IL70"]],"x":"把裸仓库放到服务器上","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL71"]],"x":"既然你有了裸仓库的副本，剩下要做的就是把裸仓库放到服务器上并设置你的协议。\n假设一个域名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL75"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL7A"]],"x":"此时，其他通过 SSH 连接这台服务器并对 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL7C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL7H"]],"x":"如果一个用户，通过使用 SSH 连接到一个服务器，并且其对 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL7J"]],"x":"如果到该项目目录中运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL7M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL7T"]],"x":"由此可见，根据现有的 Git 仓库创建一个裸仓库，然后把它放上你和协作者都有 SSH 访问权的服务器是多么容易。\n现在你们已经准备好在同一项目上展开合作了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL7U"]],"x":"值得注意的是，这的确是架设一个几个人拥有连接权的 Git 服务的全部——只要在服务器上加入可以用 SSH 登录的帐号，然后把裸仓库放在大家都有读写权限的地方。\n你已经准备好了一切，无需更多。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL7V"]],"x":"下面的几节中，你会了解如何扩展到更复杂的设定。\n这些内容包含如何避免为每一个用户建立一个账户，给仓库添加公共读取权限，架设网页界面等等。\n然而，请记住这一点，如果只是和几个人在一个私有项目上合作的话，","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8IL80"]],"x":"仅仅","n":"em","l":" 是一个 SSH 服务器和裸仓库就足够了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL7N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL7O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL7P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL7Q"]],"x":"$","n":"span","l":" ssh user@git.example.com\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL7R"]],"x":"$","n":"span","l":" cd /opt/git/my_project.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL7S"]],"x":"$","n":"span","l":" git init --bare --shared"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL7K"]],"x":"git init","n":"code","l":" 命令，并加上 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL7L"]],"x":"--shared","n":"code","l":" 选项，那么 Git 会自动修改该仓库目录的组权限为可写。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL7I"]],"x":"/opt/git/my_project.git","n":"code","l":" 目录拥有可写权限，那么他将自动拥有推送权限。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL7D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL7E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL7F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL7G"]],"x":"$","n":"span","l":" git clone user@git.example.com:/opt/git/my_project.git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL7B"]],"x":"/opt/git","n":"code","l":" 目录拥有可读权限的使用者，通过运行以下命令就可以克隆你的仓库。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL76"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL77"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL78"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL79"]],"x":"$","n":"span","l":" scp -r my_project.git user@git.example.com:/opt/git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL72"]],"x":"git.example.com","n":"code","l":" 的服务器已经架设好，并可以通过 SSH 连接，你想把所有的 Git 仓库放在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL73"]],"x":"/opt/git","n":"code","l":" 目录下。\n假设服务器上存在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL74"]],"x":"/opt/git/","n":"code","l":" 目录，你可以通过以下命令复制你的裸仓库来创建一个新仓库："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL6Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL6R"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL6S"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL6T"]],"x":"$","n":"span","l":" cp -Rf my_project/.git my_project.git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL6N"]],"x":"my_project.git","n":"code","l":" 目录中应该有 Git 目录的副本了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL6I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL6J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL6K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL6L"]],"x":"$","n":"span","l":" git clone --bare my_project my_project.git\nCloning into bare repository 'my_project.git'...\ndone."},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","8IL6E"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL6F"]],"x":"这里我们将要演示在 Linux 服务器上进行一次基本且简化的安装所需的命令与步骤，当然在 Mac 或 Windows 服务器上同样可以运行这些服务。\n事实上，在你的计算机基础架构中建立一个生产环境服务器，将不可避免的使用到不同的安全措施与操作系统工具。但是，希望你能从本节中获得一些必要的知识。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_协议"],["aid","8IL5V"]],"x":"Git 协议","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL60"]],"x":"\n接下来是 Git 协议。\n这是包含在 Git 里的一个特殊的守护进程；它监听在一个特定的端口（9418），类似于 SSH 服务，但是访问无需任何授权。\n要让版本库支持 Git 协议，需要先创建一个 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","优点"],["aid","8IL62"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","缺点"],["aid","8IL65"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_缺点_4"],["aid","8IL66"]],"x":"缺点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL67"]],"x":"Git 协议缺点是缺乏授权机制。\n把 Git 协议作为访问项目版本库的唯一手段是不可取的。\n一般的做法里，会同时提供 SSH 或者 HTTPS 协议的访问服务，只让少数几个开发者有推送（写）权限，其他人通过 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL68"]],"x":"git://","n":"code","l":" 访问只有读权限。\nGit 协议也许也是最难架设的。\n它要求有自己的守护进程，这就要配置 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL69"]],"x":"xinetd","n":"code","l":" 或者其他的程序，这些工作并不简单。\n它还要求防火墙开放 9418 端口，但是企业防火墙一般不会开放这个非标准端口。\n而大型的企业防火墙通常会封锁这个端口。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_优点_3"],["aid","8IL63"]],"x":"优点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL64"]],"x":"目前，Git 协议是 Git 使用的网络传输协议里最快的。\n如果你的项目有很大的访问量，或者你的项目很庞大并且不需要为写进行用户授权，架设 Git 守护进程来提供服务是不错的选择。\n它使用与 SSH 相同的数据传输机制，但是省去了加密和授权的开销。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL61"]],"x":"git-daemon-export-ok","n":"code","l":" 文件 ——  它是 Git 协议守护进程为这个版本库提供服务的必要条件 ——  但是除此之外没有任何安全措施。\n要么谁都可以克隆这个版本库，要么谁也不能。\n这意味着，通常不能通过 Git 协议推送。\n由于没有授权机制，一旦你开放推送操作，意味着网络上知道这个项目 URL 的人都可以向项目推送数据。\n不用说，极少会有人这么做。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_ssh_协议"],["aid","8IL58"]],"x":"SSH 协议","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL59"]],"x":"\n架设 Git 服务器时常用 SSH 协议作为传输协议。\n因为大多数环境下已经支持通过 SSH 访问 —— 即时没有也比较很容易架设。\nSSH 协议也是一个验证授权的网络协议；并且，因为其普遍性，架设和使用都很容易。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL5A"]],"x":"通过 SSH 协议克隆版本库，你可以指定一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL5C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL5H"]],"x":"或者使用一个简短的 scp 式的写法：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL5I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL5N"]],"x":"你也可以不指定用户，Git 会使用当前登录的用户名。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","优势"],["aid","8IL5O"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","缺点"],["aid","8IL5R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_缺点_3"],["aid","8IL5S"]],"x":"缺点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL5T"]],"x":"SSH 协议的缺点在于你不能通过他实现匿名访问。\n即便只要读取数据，使用者也要有通过 SSH 访问你的主机的权限，这使得 SSH 协议不利于开源的项目。\n如果你只在公司网络使用，SSH 协议可能是你唯一要用到的协议。\n如果你要同时提供匿名只读访问和 SSH 协议，那么你除了为自己推送架设 SSH 服务以外，还得架设一个可以让其他人访问的服务。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_优势"],["aid","8IL5P"]],"x":"优势","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL5Q"]],"x":"用 SSH 协议的优势有很多。\n首先，SSH 架设相对简单 ——  SSH 守护进程很常见，多数管理员都有使用经验，并且多数操作系统都包含了它及相关的管理工具。\n其次，通过 SSH 访问是安全的 —— 所有传输数据都要经过授权和加密。\n最后，与 HTTP/S 协议、Git 协议及本地协议一样，SSH 协议很高效，在传输前也会尽量压缩数据。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL5J"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL5K"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL5L"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL5M"]],"x":"$","n":"span","l":" git clone user@server:project.git"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL5D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL5E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL5F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL5G"]],"x":"$","n":"span","l":" git clone ssh://user@server/project.git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL5B"]],"x":"ssh://","n":"code","l":" 的 URL："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_http_协议"],["aid","8IL3P"]],"x":"HTTP 协议","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3Q"]],"x":"Git 通过 HTTP 通信有两种模式。\n在 Git 1.6.6 版本之前只有一个方式可用，十分简单并且通常是只读模式的。\nGit 1.6.6 版本引入了一种新的、更智能的协议，让 Git 可以像通过 SSH 那样智能的协商和传输数据。\n之后几年，这个新的 HTTP 协议因为其简单、智能变的十分流行。\n新版本的 HTTP 协议一般被称为“智能” HTTP 协议，旧版本的一般被称为“哑” HTTP 协议。\n我们先了解一下新的“智能” HTTP 协议。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","智能（Smart） HTTP 协议"],["aid","8IL3R"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","哑（Dumb） HTTP 协议"],["aid","8IL42"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","优点"],["aid","8IL4S"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","缺点"],["aid","8IL52"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_缺点_2"],["aid","8IL53"]],"x":"缺点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL54"]],"x":"在一些服务器上，架设 HTTP/S 协议的服务端会比 SSH 协议的棘手一些。\n除了这一点，用其他协议提供 Git 服务与 “智能” HTTP 协议相比就几乎没有优势了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL55"]],"x":"如果你在 HTTP 上使用需授权的推送，管理凭证会比使用 SSH 密钥认证麻烦一些。\n然而，你可以选择使用凭证存储工具，比如 OSX 的 Keychain 或者 Windows 的凭证管理器。\n参考 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0068:off:0000000000"],["id","xref--ch07-git-tools--r_credential_caching"],["aid","8IL56"],["target","_blank"],["rel","noopener noreferrer"]],"x":"凭证存储","n":"a","l":" 如何安全地保存 HTTP 密码。"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_优点_2"],["aid","8IL4T"]],"x":"优点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL4U"]],"x":"我们将只关注智能 HTTP 协议的优点。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL4V"]],"x":"不同的访问方式只需要一个 URL 以及服务器只在需要授权时提示输入授权信息，这两个简便性让终端用户使用 Git 变得非常简单。\n相比 SSH 协议，可以使用用户名／密码授权是一个很大的优势，这样用户就不必须在使用 Git 之前先在本地生成 SSH 密钥对再把公钥上传到服务器。\n对非资深的使用者，或者系统上缺少 SSH 相关程序的使用者，HTTP 协议的可用性是主要的优势。\n与 SSH 协议类似，HTTP 协议也非常快和高效。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL50"]],"x":"你也可以在 HTTPS 协议上提供只读版本库的服务，如此你在传输数据的时候就可以加密数据；或者，你甚至可以让客户端使用指定的 SSL 证书。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL51"]],"x":"另一个好处是 HTTP/S 协议被广泛使用，一般的企业防火墙都会允许这些端口的数据通过。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_哑_dumb_http_协议"],["aid","8IL43"]],"x":"哑（Dumb） HTTP 协议","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL44"]],"x":"\n如果服务器没有提供智能 HTTP 协议的服务，Git 客户端会尝试使用更简单的“哑” HTTP 协议。\n哑 HTTP 协议里 web 服务器仅把裸版本库当作普通文件来对待，提供文件服务。\n哑 HTTP 协议的优美之处在于设置起来简单。\n基本上，只需要把一个裸版本库放在 HTTP 根目录，设置一个叫做 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL47"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL4G"]],"x":"这样就可以了。\nGit 自带的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL4J"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL4O"]],"x":"这里我们用了 Apache 里设置了常用的路径 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL4R"]],"x":"通常的，会在可以提供读／写的智能 HTTP 服务和简单的只读的哑 HTTP 服务之间选一个。\n极少会将二者混合提供服务。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL4P"]],"x":"/var/www/htdocs","n":"code","l":"，不过你可以使用任何静态 web 服务器 —— 只需要把裸版本库放到正确的目录下就可以。\nGit 的数据是以基本的静态文件形式提供的（详情见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["aid","8IL4Q"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":"）。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL4K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL4L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL4M"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL4N"]],"x":"$","n":"span","l":" git clone https://example.com/gitproject.git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL4H"]],"x":"post-update","n":"code","l":" 挂钩会默认执行合适的命令（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL4I"]],"x":"git update-server-info","n":"code","l":"），来确保通过 HTTP 的获取和克隆操作正常工作。\n这条命令会在你通过 SSH 向版本库推送之后被执行；然后别人就可以通过类似下面的命令来克隆："},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL48"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL49"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL4A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL4B"]],"x":"$","n":"span","l":" cd /var/www/htdocs/\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL4C"]],"x":"$","n":"span","l":" git clone --bare /path/to/git_project gitproject.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL4D"]],"x":"$","n":"span","l":" cd gitproject.git\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL4E"]],"x":"$","n":"span","l":" mv hooks/post-update.sample hooks/post-update\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL4F"]],"x":"$","n":"span","l":" chmod a+x hooks/post-update"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL45"]],"x":"post-update","n":"code","l":" 的挂钩就可以了（见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:006U:off:0000000000"],["id","xref--ch08-customizing-git--r_git_hooks"],["aid","8IL46"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 钩子","n":"a","l":"）。\n此时，只要能访问 web 服务器上你的版本库，就可以克隆你的版本库。\n下面是设置从 HTTP 访问版本库的方法："},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_智能_smart_http_协议"],["aid","8IL3S"]],"x":"智能（Smart） HTTP 协议","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3T"]],"x":"\n“智能” HTTP 协议的运行方式和 SSH 及 Git 协议类似，只是运行在标准的 HTTP/S 端口上并且可以使用各种 HTTP 验证机制，这意味着使用起来会比 SSH 协议简单的多，比如可以使用 HTTP 协议的用户名／密码的基础授权，免去设置 SSH 公钥。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3U"]],"x":"智能 HTTP 协议或许已经是最流行的使用 Git 的方式了，它即支持像 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL40"]],"x":"事实上，类似 GitHub 的服务，你在网页上看到的 URL （比如， ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL41"]],"x":"https://github.com/schacon/simplegit[]","n":"code","l":")，和你在克隆、推送（如果你有权限）时使用的是一样的。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL3V"]],"x":"git://","n":"code","l":" 协议一样设置匿名服务，也可以像 SSH 协议一样提供传输时的授权和加密。\n而且只用一个 URL 就可以都做到，省去了为不同的需求设置不同的 URL。\n如果你要推送到一个需要授权的服务器上（一般来讲都需要），服务器会提示你输入用户名和密码。\n从服务器获取数据时也一样。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_本地协议"],["aid","8IL2I"]],"x":"本地协议","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL2J"]],"x":"\n最基本的就是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL2L"]],"x":"如果你使用共享文件系统，就可以从本地版本库克隆（clone）、推送（push）以及拉取（pull）。\n像这样去克隆一个版本库或者增加一个远程到现有的项目中，使用版本库路径作为 URL。\n例如，克隆一个本地版本库，可以执行如下的命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL2M"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL2R"]],"x":"或你可以执行这个命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL2S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL31"]],"x":"如果在 URL 开头明确的指定 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL36"]],"x":"要增加一个本地版本库到现有的 Git 项目，可以执行如下的命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","8IL37"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3C"]],"x":"然后，就可以像在网络上一样从远端版本库推送和拉取更新了。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","优点"],["aid","8IL3D"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","缺点"],["aid","8IL3J"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_缺点"],["aid","8IL3K"]],"x":"缺点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3L"]],"x":"这种方法的缺点是，通常共享文件系统比较难配置，并且比起基本的网络连接访问，这不方便从多个位置访问。\n如果你想从家里推送内容，必须先挂载一个远程磁盘，相比网络连接的访问方式，配置不方便，速度也慢。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3M"]],"x":"值得一提的是，如果你使用的是类似于共享挂载的文件系统时，这个方法不一定是最快的。\n访问本地版本库的速度与你访问数据的速度是一样的。\n在同一个服务器上，如果允许 Git 访问本地硬盘，一般的通过 NFS 访问版本库要比通过 SSH 访问慢。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3N"]],"x":"最终，这个协议并不保护仓库避免意外的损坏。\n每一个用户都有“远程”目录的完整 shell 权限，没有方法可以阻止他们修改或删除 Git 内部文件和损坏仓库。","n":"p","l":"\n"},{"a":[["class","calibre29 pcalibre1 pcalibre"],["id","_优点"],["aid","8IL3E"]],"x":"优点","n":"h4","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3F"]],"x":"基于文件系统的版本库的优点是简单，并且直接使用了现有的文件权限和网络访问权限。\n如果你的团队已经有共享文件系统，建立版本库会十分容易。\n只需要像设置其他共享目录一样，把一个裸版本库的副本放到大家都可以访问的路径，并设置好读/写的权限，就可以了，\n我们会在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","8IL3H"]],"x":"这也是快速从别人的工作目录中拉取更新的方法。\n如果你和别人一起合作一个项目，他想让你从版本库中拉取更新时，运行类似 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL3I"]],"x":"git pull /home/john/project","n":"code","l":" 的命令比推送到服务再取回简单多了。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0023:off:0000000000"],["id","xref-r_git_on_the_server"],["aid","8IL3G"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在服务器上搭建 Git","n":"a","l":" 讨论如何导出一个裸版本库。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL38"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL39"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL3A"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL3B"]],"x":"$","n":"span","l":" git remote add local_proj /opt/git/project.git"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL32"]],"x":"file://","n":"code","l":"，那么 Git 的行为会略有不同。\n如果仅是指定路径，Git 会尝试使用硬链接（hard link）或直接复制所需要的文件。\n如果指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL33"]],"x":"file://","n":"code","l":"，Git 会触发平时用于网路传输资料的进程，那通常是传输效率较低的方法。\n指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL34"]],"x":"file://","n":"code","l":" 的主要目的是取得一个没有外部参考（extraneous references）或对象（object）的干净版本库副本– 通常是在从其他版本控制系统导入后或一些类似情况（参见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["id","xref--ch10-git-internals"],["aid","8IL35"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" for maintenance tasks）需要这么做。\n在此我们将使用普通路径，因为这样通常更快。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL2T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL2U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL2V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL30"]],"x":"$","n":"span","l":" git clone file:///opt/git/project.git"},{"a":[["class","source pcalibre1 pcalibre"],["aid","8IL2N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","8IL2O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","8IL2P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","8IL2Q"]],"x":"$","n":"span","l":" git clone /opt/git/project.git"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8IL2K"]],"x":"本地协议（Local protocol）","n":"em","l":" ，其中的远程版本库就是硬盘内的另一个目录。\n这常见于团队每一个成员都对一个共享的文件系统（例如一个挂载的 NFS）拥有访问权，或者比较少见的多人共用同一台电脑的情况。\n后者并不理想，因为你的所有代码版本库如果长存于同一台电脑，更可能发生灾难性的损失。"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","8IL2C"]],"x":"bare repository","n":"em","l":"）— 即一个没有当前工作目录的仓库。\n因为该仓库仅仅作为合作媒介，不需要从磁碟检查快照；存放的只有 Git 的资料。\n简单的说，裸仓库就是你工程目录内的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","8IL2D"]],"x":".git","n":"code","l":" 子目录内容，不包含其他资料。"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","8IL23"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","8IL24"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","8IL25"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","8IL26"]],"x":"服务器上的","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","8IL27"]],"x":"Git","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","协议"],["aid","8IL2E"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在服务器上搭建 Git"],["aid","8IL6A"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","配置服务器"],["aid","8IL9I"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","GitLab"],["aid","8ILHP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","7K5E2"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5E3"]],"x":"我们已经讲完了 Git 分支与合并的基础知识。\n你现在应该能自如地创建并切换至新分支、在不同分支之间切换以及合并本地分支。\n你现在应该也能通过推送你的分支至共享服务以分享它们、使用共享分支与他人协作以及在共享之前使用变基操作合并你的分支。\n下一章，我们将要讲到，如果你想要运行自己的 Git 仓库托管服务器，你需要知道些什么。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_变基_vs_合并"],["aid","7K5DP"]],"x":"变基 vs. 合并","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DQ"]],"x":"\n至此，你已在实战中学习了变基和合并的用法，你一定会想问，到底哪种方式更好。\n在回答这个问题之前，让我们退后一步，想讨论一下提交历史到底意味着什么。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DR"]],"x":"有一种观点认为，仓库的提交历史即是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DT"]],"x":"另一种观点则正好相反，他们认为提交历史是 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DV"]],"x":"现在，让我们回到之前的问题上来，到底合并还是变基好？希望你能明白，这并没有一个简单的答案。\nGit 是一个非常强大的工具，它允许你对提交历史做许多事情，但每个团队、每个项目对此的需求并不相同。\n既然你已经分别学习了两者的用法，相信你能够根据实际情况作出明智的选择。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5E0"]],"x":"总的原则是，只对尚未推送或分享给别人的本地修改执行变基操作清理历史，从不对已推送至别处的提交执行变基操作，这样，你才能享受到两种方式带来的便利。","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","7K5DU"]],"x":"项目过程中发生的事","n":"strong","l":"。\n没人会出版一本书的第一版草稿，软件维护手册也是需要反复修订才能方便使用。\n持这一观点的人会使用 rebase 及 filter-branch 等工具来编写故事，怎么方便后来的读者就怎么写。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","7K5DS"]],"x":"记录实际发生过什么","n":"strong","l":"。\n它是针对历史的文档，本身就有价值，不能乱改。\n从这个角度看来，改变提交历史是一种亵渎，你使用_谎言_掩盖了实际发生过的事情。\n如果由合并产生的提交历史是一团糟怎么办？\n既然事实就是如此，那么这些痕迹就应该被保留下来，让后人能够查阅。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_rebase_rebase"],["aid","7K5CH"]],"x":"用变基解决变基","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5CI"]],"x":"如果你 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5CK"]],"x":"实际上，Git 除了对整个提交计算 SHA-1 校验和以外，也对本次提交所引入的修改计算了校验和——\n即 “patch-id”。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5CL"]],"x":"如果你拉取被覆盖过的更新并将你手头的工作基于此进行变基的话，一般情况下 Git 都能成功分辨出哪些是你的修改，并把它们应用到新分支上。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5CM"]],"x":"举个例子，如果遇到前面提到的 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5CP"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5D4"]],"x":"从而我们将得到与 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_rebase_rebase_work"],["aid","7K5D7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DA"]],"x":"要想上述方案有效，还需要对方在变基时确保 C4' 和 C4 是几乎一样的。\n否则变基操作将无法识别，并新建另一个类似 C4 的补丁（而这个补丁很可能无法整洁的整合入历史，因为补丁中的修改已经存在于某个地方了）。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DB"]],"x":"在本例中另一种简单的方法是使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DG"]],"x":"如果你习惯使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DL"]],"x":"只要你把变基命令当作是在推送前清理提交使之整洁的工具，并且只在从未推送至共用仓库的提交上执行变基命令，就不会有事。\n假如在那些已经被推送至共用仓库的提交上执行变基命令，并因此丢弃了一些别人的开发所基于的提交，那你就有大麻烦了，你的同事也会因此鄙视你。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5DM"]],"x":"如果你或你的同事在某些情形下决意要这么做，请一定要通知每个人执行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DN"]],"x":"git pull --rebase","n":"code","l":" 命令，这样尽管不能避免伤痛，但能有所缓解。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DH"]],"x":"git pull","n":"code","l":" ，同时又希望默认使用选项 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DI"]],"x":"--rebase","n":"code","l":"，你可以执行这条语句 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DJ"]],"x":"git config --global pull.rebase true","n":"code","l":" 来更改 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DK"]],"x":"pull.rebase","n":"code","l":" 的默认配置。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DC"]],"x":"git pull --rebase","n":"code","l":" 命令而不是直接 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DD"]],"x":"git pull","n":"code","l":"。\n又或者你可以自己手动完成这个过程，先 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DE"]],"x":"git fetch","n":"code","l":"，再 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5DF"]],"x":"git rebase teamone/master","n":"code","l":"。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5D8"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5D9"]],"x":"Figure 40. 在一个被变基然后强制推送的分支上再次执行变基","n":"figcaption","l":"\n"},{"a":[["alt","在一个被变基然后强制推送的分支上再次执行变基。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0006?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001S:off:00000003OU"],["id","xref-r_merge_rebase_work"],["aid","7K5D5"],["target","_blank"],["rel","noopener noreferrer"]],"x":"你将相同的内容又合并了一次，生成了一个新的提交","n":"a","l":" 中不同的结果，如图 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001T:off:000000031G"],["id","xref-r_rebase_rebase_work"],["aid","7K5D6"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在一个被变基然后强制推送的分支上再次执行变基","n":"a","l":" 所示。"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","7K5CQ"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","7K5CR"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","7K5CT"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","7K5CV"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","7K5D1"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K5D2"]],"x":"把查到的这些提交应用在 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5D3"]],"x":"teamone/master","n":"code","l":" 上面"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K5D0"]],"x":"检查哪些提交在对方覆盖更新时并没有被纳入目标分支（只有 C2 和 C3，因为 C4 其实就是 C4'）","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K5CU"]],"x":"检查其中哪些提交不是合并操作的结果（C2，C3，C4）","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K5CS"]],"x":"检查哪些提交是我们的分支上独有的（C2，C3，C4，C6，C7）","n":"span","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001S:off:00000002V0"],["id","xref-r_pre_merge_rebase_work"],["aid","7K5CN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"有人推送了经过变基的提交，并丢弃了你的本地开发所基于的一些提交","n":"a","l":" 那种情境，如果我们不是执行合并，而是执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5CO"]],"x":"git rebase teamone/master","n":"code","l":", Git 将会："},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","7K5CJ"]],"x":"真的","n":"strong","l":" 遭遇了类似的处境，Git 还有一些高级魔法可以帮到你。\n如果团队中的某人强制推送并覆盖了一些你所基于的提交，你需要做的就是检查你做了哪些修改，以及他们覆盖了哪些修改。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_rebase_peril"],["aid","7K5BJ"]],"x":"变基的风险","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5BK"]],"x":"\n呃，奇妙的变基也并非完美无缺，要用它得遵守一条准则：","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5BL"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5BN"]],"x":"如果你遵循这条金科玉律，就不会出差错。\n否则，人民群众会仇恨你，你的朋友和家人也会嘲笑你，唾弃你。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5BO"]],"x":"变基操作的实质是丢弃一些现有的提交，然后相应地新建一些内容一样但实际上不同的提交。\n如果你已经将提交推送至某个仓库，而其他人也已经从该仓库拉取提交并进行了后续工作，此时，如果你用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5BQ"]],"x":"让我们来看一个在公开的仓库上执行变基操作所带来的问题。\n假设你从一个中央服务器克隆然后在它的基础上进行了一些开发。\n你的提交历史如图所示：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K5BR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5BU"]],"x":"然后，某人又向中央服务器提交了一些修改，其中还包括一次合并。\n你抓取了这些在远程分支上的修改，并将其合并到你本地的开发分支，然后你的提交历史就会变成这样：","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K5BV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5C2"]],"x":"接下来，这个人又决定把合并操作回滚，改用变基；继而又用 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_pre_merge_rebase_work"],["aid","7K5C4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5C7"]],"x":"结果就是你们两人的处境都十分尴尬。\n如果你执行 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","r_merge_rebase_work"],["aid","7K5C9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K5CC"]],"x":"此时如果你执行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5CD"]],"x":"git log","n":"code","l":" 命令，你会发现有两个提交的作者、日期、日志居然是一样的，这会令人感到混乱。\n此外，如果你将这一堆又推送到服务器上，你实际上是将那些已经被变基抛弃的提交又找了回来，这会令人感到更加混乱。\n很明显对方并不想在提交历史中看到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5CE"]],"x":"C4","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5CF"]],"x":"C6","n":"code","l":"，因为之前就是他把这两个提交通过变基丢弃的。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5CA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5CB"]],"x":"Figure 39. 你将相同的内容又合并了一次，生成了一个新的提交","n":"figcaption","l":"\n"},{"a":[["alt","你将相同的内容又合并了一次，生成了一个新的提交。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0010?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5C8"]],"x":"git pull","n":"code","l":" 命令，你将合并来自两条提交历史的内容，生成一个新的合并提交，最终仓库会如图所示："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5C5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5C6"]],"x":"Figure 38. 有人推送了经过变基的提交，并丢弃了你的本地开发所基于的一些提交","n":"figcaption","l":"\n"},{"a":[["alt","有人推送了经过变基的提交，并丢弃了你的本地开发所基于的一些提交。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004P?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5C3"]],"x":"git push --force","n":"code","l":" 命令覆盖了服务器上的提交历史。\n之后你从服务器抓取更新，会发现多出来一些新的提交。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5C0"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5C1"]],"x":"Figure 37. 抓取别人的提交，合并到自己的开发分支","n":"figcaption","l":"\n"},{"a":[["alt","抓取别人的提交，合并到自己的开发分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005P?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5BS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5BT"]],"x":"Figure 36. 克隆一个仓库，然后在它的基础上进行了一些开发","n":"figcaption","l":"\n"},{"a":[["alt","克隆一个仓库，然后在它的基础上进行了一些开发。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005J?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5BP"]],"x":"git rebase","n":"code","l":" 命令重新整理了提交并再次推送，你的同伴因此将不得不再次将他们手头的工作与你的提交进行整合，如果接下来你还要拉取并整合他们修改过的提交，事情就会变得一团糟。"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","7K5BM"]],"x":"不要对在你的仓库外有副本的分支执行变基。","n":"strong"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5BG"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5BH"]],"x":"Figure 35. 最终的提交历史","n":"figcaption","l":"\n"},{"a":[["alt","最终的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000U?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K5BA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K5BB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K5BC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K5BD"]],"x":"$","n":"span","l":" git branch -d client\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K5BE"]],"x":"$","n":"span","l":" git branch -d server"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5B6"]],"x":"client","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5B7"]],"x":"server","n":"code","l":" 分支中的修改都已经整合到主分支里了，你可以删除这两个分支，最终提交历史会变成图 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001R:off:00000000T0"],["id","xref-rrbdiag_i"],["aid","7K5B8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"最终的提交历史","n":"a","l":" 中的样子："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K5B0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K5B1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K5B2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K5B3"]],"x":"$","n":"span","l":" git checkout master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K5B4"]],"x":"$","n":"span","l":" git merge server"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5AS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5AT"]],"x":"Figure 34. 将 server 中的修改变基到 master 上","n":"figcaption","l":"\n"},{"a":[["alt","将 server 中的修改变基到 master 上。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002C?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001Q:off:00000006L4"],["id","xref-rrbdiag_h"],["aid","7K5AO"],["target","_blank"],["rel","noopener noreferrer"]],"x":"将 server 中的修改变基到 master 上","n":"a","l":" 所示，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5AP"]],"x":"server","n":"code","l":" 中的代码被“续”到了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5AQ"]],"x":"master","n":"code","l":" 后面。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K5AJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K5AK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K5AL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K5AM"]],"x":"$","n":"span","l":" git rebase master server"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5AD"]],"x":"server","n":"code","l":" 分支中的修改也整合进来。\n使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5AE"]],"x":"git rebase [basebranch] [topicbranch]","n":"code","l":" 命令可以直接将特性分支（即本例中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5AF"]],"x":"server","n":"code","l":"）变基到目标分支（即 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5AG"]],"x":"master","n":"code","l":"）上。这样做能省去你先切换到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5AH"]],"x":"server","n":"code","l":" 分支，再对其执行变基命令的多个步骤。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K5AA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K5AB"]],"x":"Figure 33. 快进合并 master 分支，使之包含来自 client 分支的修改","n":"figcaption","l":"\n"},{"a":[["alt","快进合并 master 分支，使之包含来自 client 分支的修改。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003P?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K5A4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K5A5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K5A6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K5A7"]],"x":"$","n":"span","l":" git checkout master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K5A8"]],"x":"$","n":"span","l":" git merge client"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K5A1"]],"x":"master","n":"code","l":" 分支了。（如图 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001Q:off:00000004PM"],["id","xref-rrbdiag_g"],["aid","7K5A2"],["target","_blank"],["rel","noopener noreferrer"]],"x":"快进合并 master 分支，使之包含来自 client 分支的修改","n":"a","l":"）："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K59U"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K59V"]],"x":"Figure 32. 截取特性分支上的另一个特性分支，然后变基到其他分支","n":"figcaption","l":"\n"},{"a":[["alt","截取特性分支上的另一个特性分支，然后变基到其他分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005E?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59P"]],"x":"client","n":"code","l":" 分支，找出处于 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59Q"]],"x":"client","n":"code","l":" 分支和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59R"]],"x":"server","n":"code","l":" 分支的共同祖先之后的修改，然后把它们在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59S"]],"x":"master","n":"code","l":" 分支上重放一遍”。\n这理解起来有一点复杂，不过效果非常酷。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K59K"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K59L"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K59M"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K59N"]],"x":"$","n":"span","l":" git rebase --onto master server client"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59A"]],"x":"client","n":"code","l":" 中的修改合并到主分支并发布，但暂时并不想合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59B"]],"x":"server","n":"code","l":" 中的修改，因为它们还需要经过更全面的测试。\n这时，你就可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59C"]],"x":"git rebase","n":"code","l":" 命令的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59D"]],"x":"--onto","n":"code","l":" 选项，选中在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59E"]],"x":"client","n":"code","l":" 分支里但不在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59F"]],"x":"server","n":"code","l":" 分支里的修改（即 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59G"]],"x":"C8","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59H"]],"x":"C9","n":"code","l":"），将它们在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K59I"]],"x":"master","n":"code","l":" 分支上重放："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K597"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K598"]],"x":"Figure 31. 从一个特性分支里再分出一个特性分支的提交历史","n":"figcaption","l":"\n"},{"a":[["alt","从一个特性分支里再分出一个特性分支的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000P?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001Q:off:00000001AU"],["id","xref-rrbdiag_e"],["aid","7K58S"],["target","_blank"],["rel","noopener noreferrer"]],"x":"从一个特性分支里再分出一个特性分支的提交历史","n":"a","l":" 中的例子那样。\n你创建了一个特性分支 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K58T"]],"x":"server","n":"code","l":"，为服务端添加了一些功能，提交了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K58U"]],"x":"C3","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K58V"]],"x":"C4","n":"code","l":"。\n然后从 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K590"]],"x":"C3","n":"code","l":" 上创建了特性分支 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K591"]],"x":"client","n":"code","l":"，为客户端添加了一些功能，提交了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K592"]],"x":"C8","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K593"]],"x":"C9","n":"code","l":"。\n最后，你回到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K594"]],"x":"server","n":"code","l":" 分支，又提交了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K595"]],"x":"C10","n":"code","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_变基的基本操作"],["aid","7K573"]],"x":"变基的基本操作","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K574"]],"x":"请回顾之前在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K576"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K579"]],"x":"之前介绍过，整合分支最容易的方法是 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K57E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K57H"]],"x":"其实，还有一种方法：你可以提取在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K57M"]],"x":"在上面这个例子中，运行：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K57N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K57T"]],"x":"它的原理是首先找到这两个分支（即当前分支 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K582"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K587"]],"x":"现在回到 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K589"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K58F"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K58I"]],"x":"此时，","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K58M"]],"x":"一般我们这样做的目的是为了确保在向远程分支推送时能保持提交历史的整洁——例如向某个其他人维护的项目贡献代码时。\n在这种情况下，你首先在自己的分支里进行开发，当开发完成时你需要先将你的代码变基到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K58O"]],"x":"请注意，无论是通过变基，还是通过三方合并，整合的最终结果所指向的快照始终是一样的，只不过提交历史不同罢了。\n变基是将一系列提交按照原有次序依次应用到另一分支上，而合并是把最终结果合在一起。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K58N"]],"x":"origin/master","n":"code","l":" 上，然后再向主项目提交修改。\n这样的话，该项目的维护者就不再需要进行整合工作，只需要快进合并便可。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K58J"]],"x":"C4'","n":"code","l":" 指向的快照就和上面使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K58K"]],"x":"merge","n":"code","l":" 命令的例子中 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K58L"]],"x":"C5","n":"code","l":" 指向的快照一模一样了。\n这两种整合方法的最终结果没有任何区别，但是变基使得提交历史更加整洁。\n你在查看一个经过变基的分支的历史记录时会发现，尽管实际的开发工作是并行的，但它们看上去就像是串行的一样，提交历史是一条直线没有分叉。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K58G"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K58H"]],"x":"Figure 30. master 分支的快进合并","n":"figcaption","l":"\n"},{"a":[["alt","master 分支的快进合并。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002A?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K58A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K58B"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K58C"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K58D"]],"x":"$","n":"span","l":" git checkout master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K58E"]],"x":"$","n":"span","l":" git merge experiment"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K588"]],"x":"master","n":"code","l":" 分支，进行一次快进合并。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K583"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K584"]],"x":"Figure 29. 将 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K585"]],"x":"C4","n":"code","l":" 中的修改变基到 "},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K586"]],"x":"C3","n":"code","l":" 上"},{"a":[["alt","将 `C4` 中的修改变基到 `C3` 上。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003N?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57U"]],"x":"experiment","n":"code","l":"、变基操作的目标基底分支 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57V"]],"x":"master","n":"code","l":"）的最近共同祖先 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K580"]],"x":"C2","n":"code","l":"，然后对比当前分支相对于该祖先的历次提交，提取相应的修改并存为临时文件，然后将当前分支指向目标基底 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K581"]],"x":"C3","n":"code","l":", 最后以此将之前另存为临时文件的修改依序应用。（译注：写明了 commit id，以便理解，下同）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K57O"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K57P"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K57Q"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K57R"]],"x":"$","n":"span","l":" git checkout experiment\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K57S"]],"x":"$","n":"span","l":" git rebase master\nFirst, rewinding head to replay your work on top of it...\nApplying: added staged command"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57I"]],"x":"C4","n":"code","l":" 中引入的补丁和修改，然后在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57J"]],"x":"C3","n":"code","l":" 的基础上应用一次。\n在 Git 中，这种操作就叫做 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","7K57K"]],"x":"变基","n":"em","l":"。\n你可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57L"]],"x":"rebase","n":"code","l":" 命令将提交到某一分支上的所有修改都移至另一分支上，就好像“重新播放”一样。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K57F"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K57G"]],"x":"Figure 28. 通过合并操作来整合分叉了的历史","n":"figcaption","l":"\n"},{"a":[["alt","通过合并操作来整合分叉了的历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005D?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57A"]],"x":"merge","n":"code","l":" 命令。\n它会把两个分支的最新快照（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57B"]],"x":"C3","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57C"]],"x":"C4","n":"code","l":"）以及二者最近的共同祖先（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K57D"]],"x":"C2","n":"code","l":"）进行三方合并，合并的结果是生成一个新的快照（并提交）。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K577"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K578"]],"x":"Figure 27. 分叉的提交历史","n":"figcaption","l":"\n"},{"a":[["alt","分叉的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000M?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001F:off:000000002H"],["id","xref-r_basic_merging"],["aid","7K575"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分支的合并","n":"a","l":" 中的一个例子，你会看到开发任务分叉到两个不同分支，又各自提交了更新。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K570"]],"x":"merge","n":"code","l":" 以及 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K571"]],"x":"rebase","n":"code","l":"。\n在本节中我们将学习什么是“变基”，怎样使用“变基”，并将展示该操作的惊艳之处，以及指出在何种情况下你应避免使用它。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_delete_branches"],["aid","7K56H"]],"x":"删除远程分支","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K56I"]],"x":"\n假设你已经通过远程分支做完所有的工作了 - 也就是说你和你的协作者已经完成了一个特性并且将其合并到了远程仓库的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K56N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K56S"]],"x":"基本上这个命令做的只是从服务器上移除这个指针。\nGit 服务器通常会保留数据一段时间直到垃圾回收运行，所以如果不小心删除掉了，通常是很容易恢复的。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K56O"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K56P"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K56Q"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K56R"]],"x":"$","n":"span","l":" git push origin --delete serverfix\nTo https://github.com/schacon/simplegit\n - [deleted]         serverfix"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56J"]],"x":"master","n":"code","l":" 分支（或任何其他稳定代码分支）。\n可以运行带有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56K"]],"x":"--delete","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56L"]],"x":"git push","n":"code","l":" 命令来删除一个远程分支。\n如果想要从服务器上删除 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56M"]],"x":"serverfix","n":"code","l":" 分支，运行下面的命令："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_拉取"],["aid","7K563"]],"x":"拉取","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K564"]],"x":"\n当 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K56C"]],"x":"由于 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56D"]],"x":"git pull","n":"code","l":" 的魔法经常令人困惑所以通常单独显式地使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56E"]],"x":"fetch","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56F"]],"x":"merge","n":"code","l":" 命令会更好一些。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K565"]],"x":"git fetch","n":"code","l":" 命令从服务器上抓取本地没有的数据时，它并不会修改工作目录中的内容。\n它只会获取数据然后让你自己合并。\n然而，有一个命令叫作 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K566"]],"x":"git pull","n":"code","l":" 在大多数情况下它的含义是一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K567"]],"x":"git fetch","n":"code","l":" 紧接着一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K568"]],"x":"git merge","n":"code","l":" 命令。\n如果有一个像之前章节中演示的设置好的跟踪分支，不管它是显式地设置还是通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K569"]],"x":"clone","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56A"]],"x":"checkout","n":"code","l":" 命令为你创建的，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K56B"]],"x":"git pull","n":"code","l":" 都会查找当前分支所跟踪的服务器与分支，从服务器上抓取数据然后尝试合并入那个远程分支。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_tracking_branches"],["aid","7K545"]],"x":"跟踪分支","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K546"]],"x":"\n从一个远程跟踪分支检出一个本地分支会自动创建一个叫做 “跟踪分支”（有时候也叫做 “上游分支”）。\n跟踪分支是与远程分支有直接关系的本地分支。\n如果在一个跟踪分支上输入 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K548"]],"x":"当克隆一个仓库时，它通常会自动地创建一个跟踪 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K54E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K54J"]],"x":"如果想要将本地分支与远程分支设置为不同名字，你可以轻松地增加一个不同名字的本地分支的上一个命令：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K54K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K54P"]],"x":"现在，本地分支 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K54S"]],"x":"设置已有的本地分支跟踪一个刚刚拉取下来的远程分支，或者想要修改正在跟踪的上游分支，你可以在任意时间使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K550"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note: 上游快捷方式"],["type","note"],["aid","7K555"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K55F"]],"x":"如果想要查看设置的所有跟踪分支，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K55I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K55N"]],"x":"这里可以看到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K560"]],"x":"需要重点注意的一点是这些数字的值来自于你从每个服务器上最后一次抓取的数据。\n这个命令并没有连接服务器，它只会告诉你关于本地缓存的服务器数据。\n如果想要统计最新的领先与落后数字，需要在运行此命令前抓取所有的远程仓库。\n可以像这样做：","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K561"]],"x":"$ git fetch --all; git branch -vv","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55O"]],"x":"iss53","n":"code","l":" 分支正在跟踪 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55P"]],"x":"origin/iss53","n":"code","l":" 并且 “ahead” 是 2，意味着本地有两个提交还没有推送到服务器上。\n也能看到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55Q"]],"x":"master","n":"code","l":" 分支正在跟踪 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55R"]],"x":"origin/master","n":"code","l":" 分支并且是最新的。\n接下来可以看到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55S"]],"x":"serverfix","n":"code","l":" 分支正在跟踪 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55T"]],"x":"teamone","n":"code","l":" 服务器上的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55U"]],"x":"server-fix-good","n":"code","l":" 分支并且领先 3 落后 1，意味着服务器上有一次提交还没有合并入同时本地有三次提交还没有推送。\n最后看到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55V"]],"x":"testing","n":"code","l":" 分支并没有跟踪任何远程分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K55J"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K55K"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K55L"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K55M"]],"x":"$","n":"span","l":" git branch -vv\n  iss53     7e424c3 [origin/iss53: ahead 2] forgot the brackets\n  master    1ae2a45 [origin/master] deploying index fix\n* serverfix f8674d9 [teamone/server-fix-good: ahead 3, behind 1] this should do it\n  testing   5ea463a trying something new"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55G"]],"x":"git branch","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55H"]],"x":"-vv","n":"code","l":" 选项。\n这会将所有的本地分支列出来并且包含更多的信息，如每一个分支正在跟踪哪个远程分支与本地分支是否是领先、落后或是都有。"},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","7K556"]],"x":"上游快捷方式","n":"h2","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","7K557"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K558"]],"x":"当设置好跟踪分支后，可以通过 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K559"]],"x":"@{upstream}","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55A"]],"x":"@{u}","n":"code","l":" 快捷方式来引用它。\n所以在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55B"]],"x":"master","n":"code","l":" 分支时并且它正在跟踪 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55C"]],"x":"origin/master","n":"code","l":" 时，如果愿意的话可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55D"]],"x":"git merge @{u}","n":"code","l":" 来取代 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K55E"]],"x":"git merge origin/master","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K551"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K552"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K553"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K554"]],"x":"$","n":"span","l":" git branch -u origin/serverfix\nBranch serverfix set up to track remote branch serverfix from origin."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54T"]],"x":"-u","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54U"]],"x":"--set-upstream-to","n":"code","l":" 选项运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54V"]],"x":"git branch","n":"code","l":" 来显式地设置。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54Q"]],"x":"sf","n":"code","l":" 会自动从 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54R"]],"x":"origin/serverfix","n":"code","l":" 拉取。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K54L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K54M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K54N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K54O"]],"x":"$","n":"span","l":" git checkout -b sf origin/serverfix\nBranch sf set up to track remote branch serverfix from origin.\nSwitched to a new branch 'sf'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K54F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K54G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K54H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K54I"]],"x":"$","n":"span","l":" git checkout --track origin/serverfix\nBranch serverfix set up to track remote branch serverfix from origin.\nSwitched to a new branch 'serverfix'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K549"]],"x":"origin/master","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54A"]],"x":"master","n":"code","l":" 分支。\n然而，如果你愿意的话可以设置其他的跟踪分支 - 其他远程仓库上的跟踪分支，或者不跟踪 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54B"]],"x":"master","n":"code","l":" 分支。\n最简单的就是之前看到的例子，运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54C"]],"x":"git checkout -b [branch] [remotename]/[branch]","n":"code","l":"。\n这是一个十分常用的操作所以 Git 提供了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K54D"]],"x":"--track","n":"code","l":" 快捷方式："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K547"]],"x":"git pull","n":"code","l":"，Git 能自动地识别去哪个服务器上抓取、合并到哪个分支。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_pushing_branches"],["aid","7K52J"]],"x":"推送","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K52K"]],"x":"\n当你想要公开分享一个分支时，需要将其推送到有写入权限的远程仓库上。\n本地的分支并不会自动与远程仓库同步 - 你必须显式地推送想要分享的分支。\n这样，你就可以把不愿意分享的内容放到私人分支上，而将需要和别人协作的内容推送到公开分支。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K52L"]],"x":"如果希望和别人一起在名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K52O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K52T"]],"x":"这里有些工作被简化了。\nGit 自动将 ","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note: 如何避免每次输入密码"],["type","note"],["aid","7K537"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K53F"]],"x":"下一次其他协作者从服务器上抓取数据时，他们会在本地生成一个远程分支 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K53I"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K53N"]],"x":"要特别注意的一点是当抓取到新的远程跟踪分支时，本地不会自动生成一份可编辑的副本（拷贝）。\n换一句话说，这种情况下，不会有一个新的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K53Q"]],"x":"可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K53T"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K542"]],"x":"这会给你一个用于工作的本地分支，并且起点位于 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K543"]],"x":"origin/serverfix","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K53U"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K53V"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K540"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K541"]],"x":"$","n":"span","l":" git checkout -b serverfix origin/serverfix\nBranch serverfix set up to track remote branch serverfix from origin.\nSwitched to a new branch 'serverfix'"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K53R"]],"x":"git merge origin/serverfix","n":"code","l":" 将这些工作合并到当前所在的分支。\n如果想要在自己的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K53S"]],"x":"serverfix","n":"code","l":" 分支上工作，可以将其建立在远程跟踪分支之上："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K53O"]],"x":"serverfix","n":"code","l":" 分支 - 只有一个不可以修改的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K53P"]],"x":"origin/serverfix","n":"code","l":" 指针。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K53J"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K53K"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K53L"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K53M"]],"x":"$","n":"span","l":" git fetch origin\nremote: Counting objects: 7, done.\nremote: Compressing objects: 100% (2/2), done.\nremote: Total 3 (delta 0), reused 3 (delta 0)\nUnpacking objects: 100% (3/3), done.\nFrom https://github.com/schacon/simplegit\n * [new branch]      serverfix    -> origin/serverfix"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K53G"]],"x":"origin/serverfix","n":"code","l":"，指向服务器的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K53H"]],"x":"serverfix","n":"code","l":" 分支的引用："},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","7K538"]],"x":"如何避免每次输入密码","n":"h2","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","7K539"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K53A"]],"x":"如果你正在使用 HTTPS URL 来推送，Git 服务器会询问用户名与密码。\n默认情况下它会在终端中提示服务器是否允许你进行推送。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K53B"]],"x":"如果不想在每一次推送时都输入用户名与密码，你可以设置一个 “credential cache”。\n最简单的方式就是将其保存在内存中几分钟，可以简单地运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K53D"]],"x":"想要了解更多关于不同验证缓存的可用选项，查看 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0068:off:0000000000"],["id","xref--ch07-git-tools--r_credential_caching"],["aid","7K53E"],["target","_blank"],["rel","noopener noreferrer"]],"x":"凭证存储","n":"a","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K53C"]],"x":"git config --global credential.helper cache","n":"code","l":" 来设置它。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52U"]],"x":"serverfix","n":"code","l":" 分支名字展开为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52V"]],"x":"refs/heads/serverfix:refs/heads/serverfix","n":"code","l":"，那意味着，“推送本地的 serverfix 分支来更新远程仓库上的 serverfix 分支。”\n我们将会详细学习 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["id","xref--ch10-git-internals"],["aid","7K530"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K531"]],"x":"refs/heads/","n":"code","l":" 部分，但是现在可以先把它放在儿。\n你也可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K532"]],"x":"git push origin serverfix:serverfix","n":"code","l":"，它会做同样的事 - 相当于它说，“推送本地的 serverfix 分支，将其作为远程仓库的 serverfix 分支”\n可以通过这种格式来推送本地分支到一个命名不相同的远程分支。\n如果并不想让远程仓库上的分支叫做 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K533"]],"x":"serverfix","n":"code","l":"，可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K534"]],"x":"git push origin serverfix:awesomebranch","n":"code","l":" 来将本地的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K535"]],"x":"serverfix","n":"code","l":" 分支推送到远程仓库上的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K536"]],"x":"awesomebranch","n":"code","l":" 分支。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K52P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K52Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K52R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K52S"]],"x":"$","n":"span","l":" git push origin serverfix\nCounting objects: 24, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (15/15), done.\nWriting objects: 100% (24/24), 1.91 KiB | 0 bytes/s, done.\nTotal 24 (delta 2), reused 0 (delta 0)\nTo https://github.com/schacon/simplegit\n * [new branch]      serverfix -> serverfix"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52M"]],"x":"serverfix","n":"code","l":" 的分支上工作，你可以像推送第一个分支那样推送它。\n运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52N"]],"x":"git push (remote) (branch)","n":"code","l":":"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K52F"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K52G"]],"x":"Figure 26. 远程跟踪分支 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K52H"]],"x":"teamone/master","n":"code"},{"a":[["alt","远程跟踪分支 `teamone/master`。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0026?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K528"]],"x":"git fetch teamone","n":"code","l":" 来抓取远程仓库 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K529"]],"x":"teamone","n":"code","l":" 有而本地没有的数据。\n因为那台服务器上现有的数据是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52A"]],"x":"origin","n":"code","l":" 服务器上的一个子集，所以 Git 并不会抓取数据而是会设置远程跟踪分支 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52B"]],"x":"teamone/master","n":"code","l":" 指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52C"]],"x":"teamone","n":"code","l":" 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K52D"]],"x":"master","n":"code","l":" 分支。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K525"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K526"]],"x":"Figure 25. 添加另一个远程仓库","n":"figcaption","l":"\n"},{"a":[["alt","添加另一个远程仓库。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003M?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K520"]],"x":"git.team1.ourcompany.com","n":"code","l":"。\n你可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K521"]],"x":"git remote add","n":"code","l":" 命令添加一个新的远程仓库引用到当前的项目，这个命令我们会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000F:off:0000000000"],["id","xref--ch02-git-basics"],["aid","7K522"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 基础","n":"a","l":" 中详细说明。\n将这个远程仓库命名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K523"]],"x":"teamone","n":"code","l":"，将其作为整个 URL 的缩写。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K51S"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K51T"]],"x":"Figure 24. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K51U"]],"x":"git fetch","n":"code","l":" 更新你的远程仓库引用"},{"a":[["alt","`git fetch` 更新你的远程仓库引用。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000K?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51O"]],"x":"git fetch origin","n":"code","l":" 命令。\n这个命令查找 “origin” 是哪一个服务器（在本例中，它是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51P"]],"x":"git.ourcompany.com","n":"code","l":"），从中抓取本地没有的数据，并且更新本地数据库，移动 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51Q"]],"x":"origin/master","n":"code","l":" 指针指向新的、更新后的位置。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K51L"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K51M"]],"x":"Figure 23. 本地与远程的工作可以分叉","n":"figcaption","l":"\n"},{"a":[["alt","本地与远程的工作可以分叉。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0045?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51G"]],"x":"master","n":"code","l":" 分支做了一些工作，然而在同一时间，其他人推送提交到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51H"]],"x":"git.ourcompany.com","n":"code","l":" 并更新了它的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51I"]],"x":"master","n":"code","l":" 分支，那么你的提交历史将向不同的方向前进。\n也许，只要你不与 origin 服务器连接，你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51J"]],"x":"origin/master","n":"code","l":" 指针就不会移动。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K51D"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K51E"]],"x":"Figure 22. 克隆之后的服务器与本地仓库","n":"figcaption","l":"\n"},{"a":[["alt","克隆之后的服务器与本地仓库。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001D?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","7K515"]],"x":"“origin” 并无特殊含义","n":"h2","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","7K516"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K517"]],"x":"远程仓库名字 “origin” 与分支名字 “master” 一样，在 Git 中并没有任何特别的含义一样。\n同时 “master” 是当你运行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K518"]],"x":"git init","n":"code","l":" 时默认的起始分支名字，原因仅仅是它的广泛使用，“origin” 是当你运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K519"]],"x":"git clone","n":"code","l":" 时默认的远程仓库名字。\n如果你运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51A"]],"x":"git clone -o booyah","n":"code","l":"，那么你默认的远程分支名字将会是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K51B"]],"x":"booyah/master","n":"code","l":"。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50T"]],"x":"git.ourcompany.com","n":"code","l":" 的 Git 服务器。\n如果你从这里克隆，Git 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50U"]],"x":"clone","n":"code","l":" 命令会为你自动将其命名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50V"]],"x":"origin","n":"code","l":"，拉取它的所有数据，创建一个指向它的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K510"]],"x":"master","n":"code","l":" 分支的指针，并且在本地将其命名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K511"]],"x":"origin/master","n":"code","l":"。\nGit 也会给你一个与 origin 的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K512"]],"x":"master","n":"code","l":" 分支在指向同一个地方的本地 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K513"]],"x":"master","n":"code","l":" 分支，这样你就有工作的基础。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50L"]],"x":"(remote)/(branch)","n":"code","l":" 形式命名。\n例如，如果你想要看你最后一次与远程仓库 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50M"]],"x":"origin","n":"code","l":" 通信时 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50N"]],"x":"master","n":"code","l":" 分支的状态，你可以查看 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50O"]],"x":"origin/master","n":"code","l":" 分支。\n你与同事合作解决一个问题并且他们推送了一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50P"]],"x":"iss53","n":"code","l":" 分支，你可能有自己的本地 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50Q"]],"x":"iss53","n":"code","l":" 分支；但是在服务器上的分支会指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50R"]],"x":"origin/iss53","n":"code","l":" 的提交。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50H"]],"x":"git ls-remote (remote)","n":"code","l":" 来显式地获得远程引用的完整列表，或者通过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K50I"]],"x":"git remote show (remote)","n":"code","l":" 获得远程分支的更多信息。\n然而，一个更常见的做法是利用远程跟踪分支。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_topic_branch"],["aid","7K4VB"]],"x":"特性分支","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4VC"]],"x":"\n特性分支对任何规模的项目都适用。\n特性分支是一种短期分支，它被用来实现单一特性或其相关工作。\n也许你从来没有在其他的版本控制系统（","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4VE"]],"x":"你已经在上一节中你创建的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4VJ"]],"x":"考虑这样一个例子，你在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4VT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K500"]],"x":"现在，我们假设两件事情：你决定使用第二个方案来解决那个问题，即使用在 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K506"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K50B"]],"x":"我们将会在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K50D"]],"x":"请牢记，当你做这么多操作的时候，这些分支全部都存于本地。\n当你新建和合并分支的时候，所有这一切都只发生在你本地的 Git 版本库中 —— 没有与服务器发生交互。","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002F:off:0000000000"],["id","xref--ch05-distributed-git"],["aid","7K50C"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分布式 Git","n":"a","l":" 中向你揭示更多有关分支工作流的细节，因此，请确保你阅读完那个章节之后，再来决定你的下个项目要使用什么样的分支策略（branching scheme）。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K507"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K508"]],"x":"Figure 21. 合并了 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K509"]],"x":"dumbidea","n":"code","l":" 和 "},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K50A"]],"x":"iss91v2","n":"code","l":" 分支之后的提交历史"},{"a":[["alt","合并了 `dumbidea` 和 `iss91v2` 分支之后的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002Q?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K501"]],"x":"iss91v2","n":"code","l":" 分支中方案；另外，你将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K502"]],"x":"dumbidea","n":"code","l":" 分支拿给你的同事看过之后，结果发现这是个惊人之举。\n这时你可以抛弃 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K503"]],"x":"iss91","n":"code","l":" 分支（即丢弃 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K504"]],"x":"C5","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K505"]],"x":"C6","n":"code","l":" 提交），然后把另外两个分支合并入主干分支。\n最终你的提交历史看起来像下面这个样子："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4VU"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4VV"]],"x":"Figure 20. 拥有多个特性分支的提交历史","n":"figcaption","l":"\n"},{"a":[["alt","拥有多个特性分支的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0030?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VK"]],"x":"master","n":"code","l":" 分支上工作到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VL"]],"x":"C1","n":"code","l":"，这时为了解决一个问题而新建 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VM"]],"x":"iss91","n":"code","l":" 分支，在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VN"]],"x":"iss91","n":"code","l":" 分支上工作到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VO"]],"x":"C4","n":"code","l":"，然而对于那个问题你又有了新的想法，于是你再新建一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VP"]],"x":"iss91v2","n":"code","l":" 分支试图用另一种方法解决那个问题，接着你回到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VQ"]],"x":"master","n":"code","l":" 分支工作了一会儿，你又冒出了一个不太确定的想法，你便在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VR"]],"x":"C10","n":"code","l":" 的时候新建一个 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VS"]],"x":"dumbidea","n":"code","l":" 分支，并在上面做些实验。\n你的提交历史看起来像下面这个样子："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VF"]],"x":"iss53","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VG"]],"x":"hotfix","n":"code","l":" 特性分支中看到过这种用法。\n你在上一节用到的特性分支（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VH"]],"x":"iss53","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VI"]],"x":"hotfix","n":"code","l":" 分支）中提交了一些更新，并且在它们合并入主干分支之后，你又删除了它们。\n这项技术能使你快速并且完整地进行上下文切换（context-switch）——因为你的工作被分散到不同的流水线中，在不同的流水线中每个分支都仅与其目标特性相关，因此，在做代码审查之类的工作的时候就能更加容易地看出你做了哪些改动。\n你可以把做出的改动在特性分支中保留几分钟、几天甚至几个月，等它们成熟之后再合并，而不用在乎它们建立的顺序或工作进度。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4VD"]],"x":"VCS","n":"code","l":"）上这么做过，因为在那些版本控制系统中创建和合并分支通常很费劲。\n然而，在 Git 中一天之内多次创建、使用、合并、删除分支都很常见。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_长期分支"],["aid","7K4UL"]],"x":"长期分支","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4UM"]],"x":"\n因为 Git 使用简单的三方合并，所以就算在一段较长的时间内，反复把一个分支合并入另一个分支，也不是什么难事。\n也就是说，在整个项目开发周期的不同阶段，你可以同时拥有多个开放的分支；你可以定期地把某些特性分支合并入其他分支中。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4UN"]],"x":"许多使用 Git 的开发者都喜欢使用这种方式来工作，比如只在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4UT"]],"x":"事实上我们刚才讨论的，是随着你的提交而不断右移的指针。\n稳定分支的指针总是在提交历史中落后一大截，而前沿分支的指针往往比较靠前。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4UU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4V1"]],"x":"通常把他们想象成流水线（work silos）可能更好理解一点，那些经过测试考验的提交会被遴选到更加稳定的流水线上去。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["id","rlrbranch_b"],["aid","7K4V2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4V5"]],"x":"你可以用这种方法维护不同层次的稳定性。\n一些大型项目还有一个 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4V6"]],"x":"proposed","n":"code","l":"（建议） 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4V7"]],"x":"pu: proposed updates","n":"code","l":"（建议更新）分支，它可能因包含一些不成熟的内容而不能进入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4V8"]],"x":"next","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4V9"]],"x":"master","n":"code","l":" 分支。\n这么做的目的是使你的分支具有不同级别的稳定性；当它们具有一定程度的稳定性后，再把它们合并入具有更高级别稳定性的分支中。\n再次强调一下，使用多个长期分支的方法并非必要，但是这么做通常很有帮助，尤其是当你在一个非常庞大或者复杂的项目中工作时。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4V3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4V4"]],"x":"Figure 19. 渐进稳定分支的流水线（“silo”）视图","n":"figcaption","l":"\n"},{"a":[["alt","渐进稳定分支的工作流（“silo”）视图。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002D?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4UV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4V0"]],"x":"Figure 18. 渐进稳定分支的线性图","n":"figcaption","l":"\n"},{"a":[["alt","渐进稳定分支的线性图。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003F?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4UO"]],"x":"master","n":"code","l":" 分支上保留完全稳定的代码——有可能仅仅是已经发布或即将发布的代码。\n他们还有一些名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4UP"]],"x":"develop","n":"code","l":" 或者 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4UQ"]],"x":"next","n":"code","l":" 的平行分支，被用来做后续开发或者测试稳定性——这些分支不必保持绝对稳定，但是一旦达到稳定状态，它们就可以被合并入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4UR"]],"x":"master","n":"code","l":" 分支了。\n这样，在确保这些已完成的特性分支（短期分支，比如之前的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4US"]],"x":"iss53","n":"code","l":" 分支）能够通过所有测试，并且不会引入更多 bug 之后，就可以合并入主干分支中，等待下一次的发布。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_branch_management"],["aid","7K4T0"]],"x":"分支管理","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4T1"]],"x":"\n现在已经创建、合并、删除了一些分支，让我们看看一些常用的分支管理工具。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4T2"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4T4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4T9"]],"x":"注意 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4TF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4TK"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4TO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4TT"]],"x":"因为之前已经合并了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4U1"]],"x":"查看所有包含未合并工作的分支，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4U3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4U8"]],"x":"这里显示了其他分支。\n因为它包含了还未合并的工作，尝试使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4UA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4UF"]],"x":"如果真的想要删除分支并丢掉那些工作，如同帮助信息里所指出的，可以使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4UG"]],"x":"-D","n":"code","l":" 选项强制删除它。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4UB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4UC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4UD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4UE"]],"x":"$","n":"span","l":" git branch -d testing\nerror: The branch 'testing' is not fully merged.\nIf you are sure you want to delete it, run 'git branch -D testing'."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4U9"]],"x":"git branch -d","n":"code","l":" 命令删除它时会失败："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4U4"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4U5"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4U6"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4U7"]],"x":"$","n":"span","l":" git branch --no-merged\n  testing"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4U2"]],"x":"git branch --no-merged","n":"code","l":"："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TU"]],"x":"iss53","n":"code","l":" 分支，所以现在看到它在列表中。\n在这个列表中分支名字前没有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TV"]],"x":"*","n":"code","l":" 号的分支通常可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4U0"]],"x":"git branch -d","n":"code","l":" 删除掉；你已经将它们的工作整合到了另一个分支，所以并不会失去任何东西。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4TP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4TQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4TR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4TS"]],"x":"$","n":"span","l":" git branch --merged\n  iss53\n* master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TL"]],"x":"--merged","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TM"]],"x":"--no-merged","n":"code","l":" 这两个有用的选项可以过滤这个列表中已经合并或尚未合并到当前分支的分支。\n如果要查看哪些分支已经合并到当前分支，可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TN"]],"x":"git branch --merged","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4TG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4TH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4TI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4TJ"]],"x":"$","n":"span","l":" git branch -v\n  iss53   93b412c fix javascript issue\n* master  7a98805 Merge branch 'iss53'\n  testing 782fd34 add scott to the author list in the readmes"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TA"]],"x":"master","n":"code","l":" 分支前的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TB"]],"x":"*","n":"code","l":" 字符：它代表现在检出的那一个分支（也就是说，当前 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TC"]],"x":"HEAD","n":"code","l":" 指针所指向的分支）。\n这意味着如果在这时候提交，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TD"]],"x":"master","n":"code","l":" 分支将会随着新的工作向前移动。\n如果需要查看每一个分支的最后一次提交，可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4TE"]],"x":"git branch -v","n":"code","l":" 命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4T5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4T6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4T7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4T8"]],"x":"$","n":"span","l":" git branch\n  iss53\n* master\n  testing"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4T3"]],"x":"git branch","n":"code","l":" 命令不只是可以创建与删除分支。\n如果不加任何参数运行它，会得到当前所有分支的一个列表："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4SC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4SD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4SE"]],"n":"span","l":"Merge branch 'iss53'\n\nConflicts:\n    index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SF"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SG"]],"x":"#","n":"span","l":" It looks like you may be committing a merge.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SH"]],"x":"#","n":"span","l":" If this is not correct, please remove the file\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SI"]],"x":"#","n":"span","l":"\t.git/MERGE_HEAD\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SJ"]],"x":"#","n":"span","l":" and try again.\n\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SK"]],"x":"#","n":"span","l":" Please enter the commit message "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SL"]],"x":"for","n":"span","l":" your changes. Lines starting\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SM"]],"x":"#","n":"span","l":" with "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4SN"]],"x":"'#'","n":"span","l":" will be ignored, and an empty message aborts the commit.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SO"]],"x":"#","n":"span","l":" On branch master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SP"]],"x":"#","n":"span","l":" All conflicts fixed but you are still merging.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SQ"]],"x":"#","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SR"]],"x":"#","n":"span","l":" Changes to be committed:\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4SS"]],"x":"#","n":"span","l":"\tmodified:   index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4ST"]],"x":"#","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4SA"]],"x":"git commit","n":"code","l":" 来完成合并提交。\n默认情况下提交信息看起来像下面这个样子："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4S5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4S6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4S7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4S8"]],"x":"$","n":"span","l":" git status\nOn branch master\nAll conflicts fixed but you are still merging.\n  (use \"git commit\" to conclude merge)\n\nChanges to be committed:\n\n    modified:   index.html"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4S3"]],"x":"git status","n":"code","l":" 来确认所有的合并冲突都已被解决："},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","7K4RV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4S0"]],"x":"如果你需要更加高级的工具来解决复杂的合并冲突，我们会在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0056:off:0000000000"],["id","xref--ch07-git-tools--r_advanced_merging"],["aid","7K4S1"],["target","_blank"],["rel","noopener noreferrer"]],"x":"高级合并","n":"a","l":" 介绍更多关于分支合并的内容。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4RT"]],"x":"opendiff","n":"code","l":" 做为默认的合并工具，因为作者在 Mac 上运行该程序）外的其他合并工具，你可以在 “下列工具中（one of the following tools）” 这句后面看到所有支持的合并工具。\n然后输入你喜欢的工具名字就可以了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4RO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4RP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4RQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4RR"]],"x":"$","n":"span","l":" git mergetool\n\nThis message is displayed because 'merge.tool' is not configured.\nSee 'git mergetool --tool-help' or 'git help config' for more details.\n'git mergetool' will now attempt to use one of the following tools:\nopendiff kdiff3 tkdiff xxdiff meld tortoisemerge gvimdiff diffuse diffmerge ecmerge p4merge araxis bc3 codecompare vimdiff emerge\nMerging:\nindex.html\n\nNormal merge conflict for 'index.html':\n  {local}: modified file\n  {remote}: modified file\nHit return to start merge resolution tool (opendiff):"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4RM"]],"x":"git mergetool","n":"code","l":"，该命令会为你启动一个合适的可视化合并工具，并带领你一步一步解决这些冲突："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4RH"]],"x":"<<<<<<<","n":"code","l":" , "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4RI"]],"x":"=======","n":"code","l":" , 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4RJ"]],"x":">>>>>>>","n":"code","l":" 这些行被完全删除了。\n在你解决了所有文件里的冲突之后，对每个文件使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4RK"]],"x":"git add","n":"code","l":" 命令来将其标记为冲突已解决。\n一旦暂存这些原本有冲突的文件，Git 就会将它们标记为冲突已解决。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4RA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4RB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4RC"]],"n":"span","l":"<"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4RD"]],"x":"div","n":"span","l":" id="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4RE"]],"x":"\"footer\"","n":"span","l":">\nplease contact us at email.support@github.com\n</"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4RF"]],"x":"div","n":"span","l":">"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4R3"]],"x":"HEAD","n":"code","l":" 所指示的版本（也就是你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4R4"]],"x":"master","n":"code","l":" 分支所在的位置，因为你在运行 merge 命令的时候已经检出到了这个分支）在这个区段的上半部分（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4R5"]],"x":"=======","n":"code","l":" 的上半部分），而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4R6"]],"x":"iss53","n":"code","l":" 分支所指示的版本在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4R7"]],"x":"=======","n":"code","l":" 的下半部分。\n为了解决冲突，你必须选择使用由 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4R8"]],"x":"=======","n":"code","l":" 分割的两部分中的一个，或者你也可以自行合并这些内容。\n例如，你可以通过把这段内容换成下面的样子来解决冲突："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4QN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4QO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4QP"]],"n":"span"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","7K4QQ"]],"x":"<<<<<<","n":"span","l":"< "},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4QR"]],"x":"HEAD:index.html","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre28 pcalibre"],["aid","7K4QS"]],"x":"<","n":"span","l":"div id="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4QT"]],"x":"\"footer\"","n":"span","l":">contact : email.support@github.com</"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4QU"]],"x":"div","n":"span","l":">\n=======\n<"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4QV"]],"x":"div","n":"span","l":" id="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4R0"]],"x":"\"footer\"","n":"span","l":">\n please contact us at support@github.com\n</"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4R1"]],"x":"div","n":"span","l":">\n>>>>>>> iss53:index.html"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4QH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4QI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4QJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4QK"]],"x":"$","n":"span","l":" git status\nOn branch master\nYou have unmerged paths.\n  (fix conflicts and run \"git commit\")\n\nUnmerged paths:\n  (use \"git add <file>...\" to mark resolution)\n\n    both modified:      index.html\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4QF"]],"x":"git status","n":"code","l":" 命令来查看那些因包含合并冲突而处于未合并（unmerged）状态的文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4QA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4QB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4QC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4QD"]],"x":"$","n":"span","l":" git merge iss53\nAuto-merging index.html\nCONFLICT (content): Merge conflict in index.html\nAutomatic merge failed; fix conflicts and then commit the result."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4Q8"]],"x":"hotfix","n":"code","l":" 的修改都涉及到同一个文件的同一处，在合并它们的时候就会产生合并冲突："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_basic_merging"],["aid","7K4P2"]],"x":"分支的合并","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4P3"]],"x":"\n假设你已经修正了 #53 问题，并且打算将你的工作合并入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4P9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4PF"]],"x":"这和你之前合并 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4PM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4PP"]],"x":"和之前将分支指针向前推进所不同的是，Git 将此次三方合并的结果做了一个新的快照并且自动创建一个新的提交指向它。\n这个被称作一次合并提交，它的特别之处在于他有不止一个父提交。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4PQ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4PT"]],"x":"需要指出的是，Git 会自行决定选取哪一个提交作为最优的共同祖先，并以此作为合并的基础；这和更加古老的 CVS 系统或者 Subversion （1.5 版本之前）不同，在这些古老的版本管理系统中，用户需要自己选择最佳的合并基础。\nGit 的这个优势使其在合并操作上比其他系统要简单很多。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4PU"]],"x":"既然你的修改已经合并进来了，你已经不再需要 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4Q0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4Q1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4Q2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4Q3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4Q4"]],"x":"$","n":"span","l":" git branch -d iss53"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4PV"]],"x":"iss53","n":"code","l":" 分支了。\n现在你可以在任务追踪系统中关闭此项任务，并删除这个分支。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4PR"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4PS"]],"x":"Figure 17. 一个合并提交","n":"figcaption","l":"\n"},{"a":[["alt","一个合并提交。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0047?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4PN"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4PO"]],"x":"Figure 16. 一次典型合并中所用到的三个快照","n":"figcaption","l":"\n"},{"a":[["alt","一次典型合并中所用到的三个快照。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0053?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4PG"]],"x":"hotfix","n":"code","l":" 分支的时候看起来有一点不一样。\n在这种情况下，你的开发历史从一个更早的地方开始分叉开来（diverged）。\n因为，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4PH"]],"x":"master","n":"code","l":" 分支所在提交并不是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4PI"]],"x":"iss53","n":"code","l":" 分支所在提交的直接祖先，Git 不得不做一些额外的工作。\n出现这种情况的时候，Git 会使用两个分支的末端所指的快照（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4PJ"]],"x":"C4","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4PK"]],"x":"C5","n":"code","l":"）以及这两个分支的工作祖先（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4PL"]],"x":"C2","n":"code","l":"），做一个简单的三方合并。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4PA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4PB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4PC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4PD"]],"x":"$","n":"span","l":" git checkout master\nSwitched to branch 'master'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4PE"]],"x":"$","n":"span","l":" git merge iss53\nMerge made by the 'recursive' strategy.\nindex.html |    1 +\n1 file changed, 1 insertion(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4P4"]],"x":"master","n":"code","l":" 分支。\n为此，你需要合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4P5"]],"x":"iss53","n":"code","l":" 分支到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4P6"]],"x":"master","n":"code","l":" 分支，这和之前你合并 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4P7"]],"x":"hotfix","n":"code","l":" 分支所做的工作差不多。\n你只需要检出到你想合并入的分支，然后运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4P8"]],"x":"git merge","n":"code","l":" 命令："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4OP"]],"x":"hotfix","n":"code","l":" 分支上所做的工作并没有包含到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4OQ"]],"x":"iss53","n":"code","l":" 分支中。\n如果你需要拉取 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4OR"]],"x":"hotfix","n":"code","l":" 所做的修改，你可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4OS"]],"x":"git merge master","n":"code","l":" 命令将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4OT"]],"x":"master","n":"code","l":" 分支合并入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4OU"]],"x":"iss53","n":"code","l":" 分支，或者你也可以等到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4OV"]],"x":"iss53","n":"code","l":" 分支完成其使命，再将其合并回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4P0"]],"x":"master","n":"code","l":" 分支。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4OL"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4OM"]],"x":"Figure 15. 继续在 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K4ON"]],"x":"iss53","n":"code","l":" 分支上的工作"},{"a":[["alt","继续在 `iss53` 分支上的工作。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005T?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4OD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4OE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4OF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4OG"]],"x":"$","n":"span","l":" git checkout iss53\nSwitched to branch \"iss53\"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4OH"]],"x":"$","n":"span","l":" vim index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4OI"]],"x":"$","n":"span","l":" git commit -a -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4OJ"]],"x":"'finished the new footer [issue 53]'","n":"span","l":"\n[iss53 ad82d7a] finished the new footer [issue 53]\n1 file changed, 1 insertion(+)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4O7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4O8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4O9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4OA"]],"x":"$","n":"span","l":" git branch -d hotfix\nDeleted branch hotfix (3a0874c)."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4O2"]],"x":"hotfix","n":"code","l":" 分支，因为你已经不再需要它了 —— "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4O3"]],"x":"master","n":"code","l":" 分支已经指向了同一个位置。\n你可以使用带 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4O4"]],"x":"-d","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4O5"]],"x":"git branch","n":"code","l":" 命令来删除分支："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4NT"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4NU"]],"x":"Figure 14. ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K4NV"]],"x":"master","n":"code","l":" 被快进到 "},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K4O0"]],"x":"hotfix","n":"code"},{"a":[["alt","`master` 被快进到 `hotfix`。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0014?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4NR"]],"x":"master","n":"code","l":" 分支所指向的提交快照中，你可以着手发布该修复了。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4NP"]],"x":"master","n":"code","l":" 分支所指向的提交是你当前提交（有关 hotfix 的提交）的直接上游，所以 Git 只是简单的将指针向前移动。\n换句话说，当你试图合并两个分支时，如果顺着一个分支走下去能够到达另一个分支，那么 Git 在合并两者的时候，只会简单的将指针向前推进（指针右移），因为这种情况下的合并操作没有需要解决的分歧——这就叫做 “快进（fast-forward）”。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4NJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4NK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4NL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4NM"]],"x":"$","n":"span","l":" git checkout master\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4NN"]],"x":"$","n":"span","l":" git merge hotfix\nUpdating f42c576..3a0874c\nFast-forward\n index.html | 2 ++\n 1 file changed, 2 insertions(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4NG"]],"x":"master","n":"code","l":" 分支来部署到线上。\n你可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4NH"]],"x":"git merge","n":"code","l":" 命令来达到上述目的："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4NB"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4NC"]],"x":"Figure 13. 基于 ","n":"figcaption","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K4ND"]],"x":"master","n":"code","l":" 分支的紧急问题分支 "},{"a":[["class","literal1 pcalibre1 pcalibre"],["aid","7K4NE"]],"x":"hotfix branch","n":"code"},{"a":[["alt","基于 `master` 分支的紧急问题分支（hotfix branch）。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0025?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4N3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4N4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4N5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4N6"]],"x":"$","n":"span","l":" git checkout -b hotfix\nSwitched to a new branch 'hotfix'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4N7"]],"x":"$","n":"span","l":" vim index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4N8"]],"x":"$","n":"span","l":" git commit -a -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4N9"]],"x":"'fixed the broken email address'","n":"span","l":"\n[hotfix 1fb7853] fixed the broken email address\n 1 file changed, 2 insertions(+)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4MS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4MT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4MU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4MV"]],"x":"$","n":"span","l":" git checkout master\nSwitched to branch 'master'"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004G:off:0000000000"],["id","xref--ch07-git-tools--r_git_stashing"],["aid","7K4MP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"储藏与清理","n":"a","l":" 中看到关于这两个命令的介绍。\n现在，我们假设你已经把你的修改全部提交了，这时你可以切换回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4MQ"]],"x":"master","n":"code","l":" 分支了："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4MM"]],"x":"iss53","n":"code","l":" 的修改混在一起，你也不需要花大力气来还原关于 53# 问题的修改，然后再添加关于这个紧急问题的修改，最后将这个修改提交到线上分支。\n你所要做的仅仅是切换回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4MN"]],"x":"master","n":"code","l":" 分支。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4MJ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4MK"]],"x":"Figure 12. iss53 分支随着工作的进展向前推进","n":"figcaption","l":"\n"},{"a":[["alt","iss53 分支随着工作的进展向前推进。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001L?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4MC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4MD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4ME"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4MF"]],"x":"$","n":"span","l":" vim index.html\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4MG"]],"x":"$","n":"span","l":" git commit -a -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4MH"]],"x":"'added a new footer [issue 53]'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4M8"]],"x":"iss53","n":"code","l":" 分支在不断的向前推进，因为你已经检出到该分支（也就是说，你的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4M9"]],"x":"HEAD","n":"code","l":" 指针指向了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4MA"]],"x":"iss53","n":"code","l":" 分支）"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4M5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4M6"]],"x":"Figure 11. 创建一个新分支指针","n":"figcaption","l":"\n"},{"a":[["alt","创建一个新分支指针。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004S?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4LV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4M0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4M1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4M2"]],"x":"$","n":"span","l":" git branch iss53\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4M3"]],"x":"$","n":"span","l":" git checkout iss53"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4LP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4LQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4LR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4LS"]],"x":"$","n":"span","l":" git checkout -b iss53\nSwitched to a new branch \"iss53\""},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4LM"]],"x":"-b","n":"code","l":" 参数的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4LN"]],"x":"git checkout","n":"code","l":" 命令："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4LJ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4LK"]],"x":"Figure 10. 一个简单提交历史","n":"figcaption","l":"\n"},{"a":[["alt","一个简单的提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0029?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","7K4L6"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","7K4L7"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","7K4L9"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","7K4LB"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","7K4LD"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K4LE"]],"x":"切换回你最初工作的分支上，继续工作。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K4LC"]],"x":"在测试通过之后，切换回线上分支，然后合并这个修补分支，最后将改动推送到线上分支。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K4LA"]],"x":"为这个紧急任务新建一个分支，并在其中修复它。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K4L8"]],"x":"切换到你的线上分支（production branch）。","n":"span","l":"\n"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","7K4KT"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","7K4KU"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","7K4L0"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","7K4L2"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K4L3"]],"x":"在这个分支上开展工作。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K4L1"]],"x":"为实现某个新的需求，创建一个分支。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","7K4KV"]],"x":"开发某个网站。","n":"span","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4KI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4KJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4KK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4KL"]],"x":"$","n":"span","l":" git log --oneline --decorate --graph --all\n* c2b9e (HEAD, master) made other changes\n| * 87ab2 (testing) made a change\n|/\n* f30ab add feature #32 - ability to add new formats to the\n* 34ac2 fixed bug #1328 - stack overflow under certain conditions\n* 98ca9 initial commit of my project"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4KF"]],"x":"git log","n":"code","l":" 命令查看分叉历史。\n运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4KG"]],"x":"git log --oneline --decorate --graph --all","n":"code","l":" ，它会输出你的提交历史、各个分支的指向以及项目的分支分叉情况。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4KC"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4KD"]],"x":"Figure 9. 项目分叉历史","n":"figcaption","l":"\n"},{"a":[["alt","项目分叉历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003L?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:001A:off:000000061P"],["id","xref-rdivergent_history"],["aid","7K4K7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"项目分叉历史","n":"a","l":"）。\n因为刚才你创建了一个新分支，并切换过去进行了一些工作，随后又切换回 master 分支进行了另外一些工作。\n上述两次改动针对的是不同分支：你可以在不同分支间不断地来回切换和工作，并在时机成熟时将它们合并起来。\n而所有这些工作，你需要的命令只有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4K8"]],"x":"branch","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4K9"]],"x":"checkout","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4KA"]],"x":"commit","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4K0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4K1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4K2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4K3"]],"x":"$","n":"span","l":" vim test.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4K4"]],"x":"$","n":"span","l":" git commit -a -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4K5"]],"x":"'made other changes'","n":"span"},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","7K4JR"]],"x":"分支切换会改变你工作目录中的文件","n":"h2","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","7K4JS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4JT"]],"x":"在切换分支时，一定要注意你工作目录里的文件会被改变。\n如果是切换到一个较旧的分支，你的工作目录会恢复到该分支最后一次提交时的样子。\n如果 Git 不能干净利落地完成这个任务，它将禁止切换分支。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4JN"]],"x":"master","n":"code","l":" 分支，二是将工作目录恢复成 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4JO"]],"x":"master","n":"code","l":" 分支所指向的快照内容。\n也就是说，你现在做修改的话，项目将始于一个较旧的版本。\n本质上来讲，这就是忽略 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4JP"]],"x":"testing","n":"code","l":" 分支所做的修改，以便于向另一个方向进行开发。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4JK"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4JL"]],"x":"Figure 8. 检出时 HEAD 随之移动","n":"figcaption","l":"\n"},{"a":[["alt","检出时 HEAD 随之移动。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000T?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4JF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4JG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4JH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4JI"]],"x":"$","n":"span","l":" git checkout master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4JA"]],"x":"testing","n":"code","l":" 分支向前移动了，但是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4JB"]],"x":"master","n":"code","l":" 分支却没有，它仍然指向运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4JC"]],"x":"git checkout","n":"code","l":" 时所指的对象。\n这就有意思了，现在我们切换回 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4JD"]],"x":"master","n":"code","l":" 分支看看："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4J7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4J8"]],"x":"Figure 7. HEAD 分支随着提交操作自动向前移动","n":"figcaption","l":"\n"},{"a":[["alt","HEAD 分支随着提交操作自动向前移动。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002U?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4J0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4J1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4J2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4J3"]],"x":"$","n":"span","l":" vim test.rb\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4J4"]],"x":"$","n":"span","l":" git commit -a -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4J5"]],"x":"'made a change'","n":"span"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4IS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4IT"]],"x":"Figure 6. HEAD 指向当前所在的分支","n":"figcaption","l":"\n"},{"a":[["alt","HEAD 指向当前所在的分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000V?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4IP"]],"x":"HEAD","n":"code","l":" 就指向 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4IQ"]],"x":"testing","n":"code","l":" 分支了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4IK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4IL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4IM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4IN"]],"x":"$","n":"span","l":" git checkout testing"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4IH"]],"x":"git checkout","n":"code","l":" 命令。\n我们现在切换到新创建的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4II"]],"x":"testing","n":"code","l":" 分支去："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_create_new_branch"],["aid","7K4HE"]],"x":"分支创建","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4HF"]],"x":"\nGit 是怎么创建新分支的呢？\n很简单，它只是为你创建了一个可以移动的新的指针。\n比如，创建一个 testing 分支，\n你需要使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4HH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4HM"]],"x":"这会在当前所在的提交对象上创建一个指针。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4HN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4HQ"]],"x":"那么，Git 又是怎么知道当前在哪一个分支上呢？\n也很简单，它有一个名为 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","7K4I1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4I4"]],"x":"你可以简单地使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","7K4I7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4IC"]],"x":"正如你所见，当前 “master” 和 “testing” 分支均指向校验和以 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4ID"]],"x":"f30ab","n":"code","l":" 开头的提交对象。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4I8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4I9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4IA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4IB"]],"x":"$","n":"span","l":" git log --oneline --decorate\nf30ab (HEAD, master, testing) add feature #32 - ability to add new\n34ac2 fixed bug #1328 - stack overflow under certain conditions\n98ca9 initial commit of my project"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4I5"]],"x":"git log","n":"code","l":" 命令查看各个分支当前所指的对象。\n提供这一功能的参数是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4I6"]],"x":"--decorate","n":"code","l":"。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4I2"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4I3"]],"x":"Figure 5. HEAD 指向当前所在的分支","n":"figcaption","l":"\n"},{"a":[["alt","HEAD 指向当前所在的分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:002K?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4HR"]],"x":"HEAD","n":"code","l":" 的特殊指针。\n请注意它和许多其它版本控制系统（如 Subversion 或 CVS）里的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4HS"]],"x":"HEAD","n":"code","l":" 概念完全不同。\n在 Git 中，它是一个指针，指向当前所在的本地分支（译注：将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4HT"]],"x":"HEAD","n":"code","l":" 想象为当前分支的别名）。\n在本例中，你仍然在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4HU"]],"x":"master","n":"code","l":" 分支上。\n因为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4HV"]],"x":"git branch","n":"code","l":" 命令仅仅 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","7K4I0"]],"x":"创建","n":"em","l":" 一个新分支，并不会自动切换到新分支中去。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4HO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4HP"]],"x":"Figure 4. 两个指向相同提交历史的分支","n":"figcaption","l":"\n"},{"a":[["alt","两个指向相同提交历史的分支。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:000J?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4HI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4HJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4HK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4HL"]],"x":"$","n":"span","l":" git branch testing"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4HG"]],"x":"git branch","n":"code","l":" 命令："},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4HB"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4HC"]],"x":"Figure 3. 分支及其提交历史","n":"figcaption","l":"\n"},{"a":[["alt","分支及其提交历史。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0043?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","7K4H7"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","7K4H8"]],"x":"Git 的 “master” 分支并不是一个特殊分支。\n它就跟其它分支完全没有区别。\n之所以几乎每一个仓库都有 master 分支，是因为 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4H9"]],"x":"git init","n":"code","l":" 命令默认创建它，并且大多数人都懒得去改动它。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4H4"]],"x":"master","n":"code","l":"。\n在多次提交操作之后，你其实已经有一个指向最后那个提交对象的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4H5"]],"x":"master","n":"code","l":" 分支。\n它会在每次的提交操作中自动向前移动。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4H1"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4H2"]],"x":"Figure 2. 提交对象及其父对象","n":"figcaption","l":"\n"},{"a":[["alt","提交对象及其父对象。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0013?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","7K4GT"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","7K4GU"]],"x":"Figure 1. 首次提交对象及其树结构","n":"figcaption","l":"\n"},{"a":[["alt","首次提交对象及其树结构。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003R?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","7K4GQ"]],"x":"git commit","n":"code","l":" 进行提交操作时，Git 会先计算每一个子目录（本例中只有项目根目录）的校验和，然后在 Git 仓库中这些校验和保存为树对象。\n随后，Git 便会创建一个提交对象，它除了包含上面提到的那些信息外，还包含指向这个树对象（项目根目录）的指针。如此一来，Git 就可以在需要的时候重现此次保存的快照。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","7K4GJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","7K4GK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","7K4GL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4GM"]],"x":"$","n":"span","l":" git add README test.rb LICENSE\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","7K4GN"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","7K4GO"]],"x":"'The initial commit of my project'","n":"span"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0006:off:0000000000"],["aid","7K4GH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"起步","n":"a","l":" 中提到的 SHA-1 哈希算法），然后会把当前版本的文件快照保存到 Git 仓库中（Git 使用 blob 对象来保存它们），最终将校验和加入到暂存区域等待提交："},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0006:off:0000000000"],["id","xref--ch01-introduction"],["aid","7K4GE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"起步","n":"a","l":" 的内容，Git 保存的不是文件的变化或者差异，而是一系列不同时刻的文件快照。"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","7K4G3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","7K4G4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","7K4G5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","7K4G6"]],"x":"Git","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","7K4G7"]],"x":"分支","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支简介"],["aid","7K4GA"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支的新建与合并"],["aid","7K4KP"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支开发工作流"],["aid","7K4UH"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","远程分支"],["aid","7K50E"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","变基"],["aid","7K56T"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","更有趣的变基例子"],["aid","7K58P"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","新建分支"],["aid","7K4LF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","遇到冲突时的分支合并"],["aid","7K4Q5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分支切换"],["aid","7K4IE"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","6LKS6"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKS7"]],"x":"现在，你可以完成所有基本的 Git 本地操作－创建或者克隆一个仓库、做更改、暂存并提交这些更改、浏览你的仓库从创建到现在的所有更改的历史。\n下一步，本书将介绍 Git 的杀手级特性：分支模型。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_aliases"],["aid","6LKQG"]],"x":"Git 别名","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKQH"]],"x":"\n在我们结束本章 Git 基础之前，正好有一个小技巧可以使你的 Git 体验更简单、容易、熟悉：别名。\n我们不会在之后的章节中引用到或假定你使用过它们，但是你大概应该知道如何使用它们。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKQI"]],"x":"Git 并不会在你输入部分命令时自动推断出你想要的命令。\n如果不想每次都输入完整的 Git 命令，可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKQK"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKQS"]],"x":"这意味着，当要输入 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKQV"]],"x":"在创建你认为应该存在的命令时这个技术会很有用。\n例如，为了解决取消暂存文件的易用性问题，可以向 Git 中添加你自己的取消暂存别名：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKR0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKR6"]],"x":"这会使下面的两个命令等价：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKR7"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKRD"]],"x":"这样看起来更清楚一些。\n通常也会添加一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKRF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKRL"]],"x":"这样，可以轻松地看到最后一次提交：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKRM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKRR"]],"x":"可以看出，Git 只是简单地将别名替换为对应的命令。\n然而，你可能想要执行外部命令，而不是一个 Git 子命令。\n如果是那样的话，可以在命令前面加入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKRV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKS0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKS1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKS2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKS3"]],"x":"$","n":"span","l":" git config --global alias.visual "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKS4"]],"x":"'!gitk'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKRS"]],"x":"!","n":"code","l":" 符号。\n如果你自己要写一些与 Git 仓库协作的工具的话，那会很有用。\n我们现在演示将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKRT"]],"x":"git visual","n":"code","l":" 定义为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKRU"]],"x":"gitk","n":"code","l":" 的别名："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKRN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKRO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKRP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKRQ"]],"x":"$","n":"span","l":" git last\ncommit 66938dae3329c7aebe598c2246a8e6af90d04646\nAuthor: Josh Goebel <dreamer3@example.com>\nDate:   Tue Aug 26 19:48:51 2008 +0800\n\n    test for current head\n\n    Signed-off-by: Scott Chacon <schacon@example.com>"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKRG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKRH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKRI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKRJ"]],"x":"$","n":"span","l":" git config --global alias.last "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKRK"]],"x":"'log -1 HEAD'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKRE"]],"x":"last","n":"code","l":" 命令，像这样："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKR8"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKR9"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKRA"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKRB"]],"x":"$","n":"span","l":" git unstage fileA\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKRC"]],"x":"$","n":"span","l":" git reset HEAD -- fileA"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKR1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKR2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKR3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKR4"]],"x":"$","n":"span","l":" git config --global alias.unstage "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKR5"]],"x":"'reset HEAD --'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKQT"]],"x":"git commit","n":"code","l":" 时，只需要输入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKQU"]],"x":"git ci","n":"code","l":"。\n随着你继续不断地使用 Git，可能也会经常使用其他命令，所以创建别名时不要犹豫。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKQL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKQM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKQN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKQO"]],"x":"$","n":"span","l":" git config --global alias.co checkout\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKQP"]],"x":"$","n":"span","l":" git config --global alias.br branch\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKQQ"]],"x":"$","n":"span","l":" git config --global alias.ci commit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKQR"]],"x":"$","n":"span","l":" git config --global alias.st status"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKQJ"]],"x":"git config","n":"code","l":" 文件来轻松地为每一个命令设置一个别名。\n这里有一些例子你可以试试："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_检出标签"],["aid","6LKPS"]],"x":"检出标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKPT"]],"x":"如果你想查看某个标签所指向的文件版本，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKPV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKQ5"]],"x":"在“分离头指针”状态下，如果你做了某些更改然后提交它们，标签不会发生变化，但你的新提交将不属于任何分支，并且将无法访问，除非确切的提交哈希。因此，如果你需要进行更改——比如说你正在修复旧版本的错误——这通常需要创建一个新分支：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKQ6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKQB"]],"x":"当然，如果在这之后又进行了一次提交，","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKQC"]],"x":"version2","n":"code","l":" 分支会因为这个改动向前移动，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKQD"]],"x":"version2","n":"code","l":" 分支就会和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKQE"]],"x":"v2.0.0","n":"code","l":" 标签稍微有些不同，这时就应该当心了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKQ7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKQ8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKQ9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKQA"]],"x":"$","n":"span","l":" git checkout -b version2 v2.0.0\nSwitched to a new branch 'version2'"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKQ0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKQ1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKQ2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKQ3"]],"x":"$","n":"span","l":" git checkout 2.0.0\nNote: checking out '2.0.0'.\n\nYou are in 'detached HEAD' state. You can look around, make experimental\nchanges and commit them, and you can discard any commits you make in this\nstate without impacting any branches by performing another checkout.\n\nIf you want to create a new branch to retain commits you create, you may\ndo so (now or later) by using -b with the checkout command again. Example:\n\n  git checkout -b <new-branch>\n\nHEAD is now at 99ada87... Merge pull request #89 from schacon/appendix-final\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKQ4"]],"x":"$","n":"span","l":" git checkout 2.0-beta-0.1\nPrevious HEAD position was 99ada87... Merge pull request #89 from schacon/appendix-final\nHEAD is now at df3f601... add atlas.json and cover image"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKPU"]],"x":"git checkout","n":"code","l":" 命令，虽然说这会使你的仓库处于“分离头指针（detacthed HEAD）”状态——这个状态有些不好的副作用："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_删除标签"],["aid","6LKPC"]],"x":"删除标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKPD"]],"x":"要删除掉你本地仓库上的标签，可以使用命令 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKPF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKPK"]],"x":"应该注意的是上述命令并不会从任何远程仓库中移除这个标签，你必须使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKPM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKPN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKPO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKPP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKPQ"]],"x":"$","n":"span","l":" git push origin :refs/tags/v1.4-lw\nTo /git@github.com:schacon/simplegit.git\n - [deleted]         v1.4-lw"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKPL"]],"x":"git push <remote> :refs/tags/<tagname>","n":"code","l":" 来更新你的远程仓库："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKPG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKPH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKPI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKPJ"]],"x":"$","n":"span","l":" git tag -d v1.4-lw\nDeleted tag 'v1.4-lw' (was e7d5add)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKPE"]],"x":"git tag -d <tagname>","n":"code","l":"。例如，可以使用下面的命令删除掉一个轻量级标签："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_sharing_tags"],["aid","6LKOP"]],"x":"共享标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKOQ"]],"x":"默认情况下，","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKOT"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKP2"]],"x":"如果想要一次性推送很多标签，也可以使用带有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKP5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKPA"]],"x":"现在，当其他人从仓库中克隆或拉取，他们也能得到你的那些标签。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKP6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKP7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKP8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKP9"]],"x":"$","n":"span","l":" git push origin --tags\nCounting objects: 1, done.\nWriting objects: 100% (1/1), 160 bytes | 0 bytes/s, done.\nTotal 1 (delta 0), reused 0 (delta 0)\nTo git@github.com:schacon/simplegit.git\n * [new tag]         v1.4 -> v1.4\n * [new tag]         v1.4-lw -> v1.4-lw"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKP3"]],"x":"--tags","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKP4"]],"x":"git push","n":"code","l":" 命令。\n这将会把所有不在远程仓库服务器上的标签全部传送到那里。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKOU"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKOV"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKP0"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKP1"]],"x":"$","n":"span","l":" git push origin v1.5\nCounting objects: 14, done.\nDelta compression using up to 8 threads.\nCompressing objects: 100% (12/12), done.\nWriting objects: 100% (14/14), 2.05 KiB | 0 bytes/s, done.\nTotal 14 (delta 3), reused 0 (delta 0)\nTo git@github.com:schacon/simplegit.git\n * [new tag]         v1.5 -> v1.5"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKOR"]],"x":"git push","n":"code","l":" 命令并不会传送标签到远程仓库服务器上。\n在创建完标签后你必须显式地推送标签到共享服务器上。\n这个过程就像共享远程分支一样 - 你可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKOS"]],"x":"git push origin [tagname]","n":"code","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_后期打标签"],["aid","6LKO4"]],"x":"后期打标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKO5"]],"x":"你也可以对过去的提交打标签。\n假设提交历史是这样的：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKO6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKOB"]],"x":"现在，假设在 v1.2 时你忘记给项目打标签，也就是在 “updated rakefile” 提交。\n你可以在之后补上标签。\n要在那个提交上打标签，你需要在命令的末尾指定提交的校验和（或部分校验和）:","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKOC"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKOH"]],"x":"可以看到你已经在那次提交上打上标签了：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKOI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKOJ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKOK"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKOL"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKOM"]],"x":"$","n":"span","l":" git tag\nv0.1\nv1.2\nv1.3\nv1.4\nv1.4-lw\nv1.5\n\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKON"]],"x":"$","n":"span","l":" git show v1.2\ntag v1.2\nTagger: Scott Chacon <schacon@gee-mail.com>\nDate:   Mon Feb 9 15:32:16 2009 -0800\n\nversion 1.2\ncommit 9fceb02d0ae598e95dc970b74767f19372d61af8\nAuthor: Magnus Chacon <mchacon@gee-mail.com>\nDate:   Sun Apr 27 20:43:35 2008 -0700\n\n    updated rakefile\n..."},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKOD"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKOE"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKOF"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKOG"]],"x":"$","n":"span","l":" git tag -a v1.2 9fceb02"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKO7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKO8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKO9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKOA"]],"x":"$","n":"span","l":" git log --pretty=oneline\n15027957951b64cf874c3557a0f3547bd83b3ff6 Merge branch 'experiment'\na6b4c97498bd301d84096da251c98a07c7723e65 beginning write support\n0d52aaab4479697da7686c15f77a3d64d9165190 one more thing\n6d52a271eda8725415634dd79daabbc4d9b6008e Merge branch 'experiment'\n0b7434d86859cc7b8c3d5e1dddfed66ff742fcbc added a commit function\n4682c3261057305bdd616e23b64b0857d832627b added a todo file\n166ae0c4d3f420721acbb115cc33848dfcc2121a started write support\n9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile\n964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo\n8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_轻量标签"],["aid","6LKNH"]],"x":"轻量标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKNI"]],"x":"\n另一种给提交打标签的方式是使用轻量标签。\n轻量标签本质上是将提交校验和存储到一个文件中 - 没有保存任何其他信息。\n创建轻量标签，不需要使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKNM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKNS"]],"x":"这时，如果在标签上运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKNU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKNV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKO0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKO1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKO2"]],"x":"$","n":"span","l":" git show v1.4-lw\ncommit ca82a6dff817ec66f44342007202690a93763949\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Mon Mar 17 21:52:11 2008 -0700\n\n    changed the version number"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKNT"]],"x":"git show","n":"code","l":"，你不会看到额外的标签信息。\n命令只会显示出提交信息："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKNN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKNO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKNP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKNQ"]],"x":"$","n":"span","l":" git tag v1.4-lw\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKNR"]],"x":"$","n":"span","l":" git tag\nv0.1\nv1.3\nv1.4\nv1.4-lw\nv1.5"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKNJ"]],"x":"-a","n":"code","l":"、"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKNK"]],"x":"-s","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKNL"]],"x":"-m","n":"code","l":" 选项，只需要提供标签名字："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_annotated_tags"],["aid","6LKMR"]],"x":"附注标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKMS"]],"x":"\n在 Git 中创建一个附注标签是很简单的。\n最简单的方式是当你在运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKMV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKN6"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKN8"]],"x":"通过使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKNA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKNF"]],"x":"输出显示了打标签者的信息、打标签的日期时间、附注信息，然后显示具体的提交信息。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKNB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKNC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKND"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKNE"]],"x":"$","n":"span","l":" git show v1.4\ntag v1.4\nTagger: Ben Straub <ben@straub.cc>\nDate:   Sat May 3 20:19:12 2014 -0700\n\nmy version 1.4\n\ncommit ca82a6dff817ec66f44342007202690a93763949\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Mon Mar 17 21:52:11 2008 -0700\n\n    changed the version number"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKN9"]],"x":"git show","n":"code","l":" 命令可以看到标签信息与对应的提交信息："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKN7"]],"x":"-m","n":"code","l":" 选项指定了一条将会存储在标签中的信息。\n如果没有为附注标签指定一条信息，Git 会运行编辑器要求你输入信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKN0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKN1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKN2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKN3"]],"x":"$","n":"span","l":" git tag -a v1.4 -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKN4"]],"x":"'my version 1.4'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKN5"]],"x":"$","n":"span","l":" git tag\nv0.1\nv1.3\nv1.4"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKMT"]],"x":"tag","n":"code","l":" 命令时指定 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKMU"]],"x":"-a","n":"code","l":" 选项："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_创建标签"],["aid","6LKMM"]],"x":"创建标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKMN"]],"x":"Git 使用两种主要类型的标签：轻量标签（lightweight）与附注标签（annotated）。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKMO"]],"x":"一个轻量标签很像一个不会改变的分支 - 它只是一个特定提交的引用。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKMP"]],"x":"然而，附注标签是存储在 Git 数据库中的一个完整对象。\n它们是可以被校验的；其中包含打标签者的名字、电子邮件地址、日期时间；还有一个标签信息；并且可以使用 GNU Privacy Guard （GPG）签名与验证。\n通常建议创建附注标签，这样你可以拥有以上所有信息；但是如果你只是想用一个临时的标签，或者因为某些原因不想要保存那些信息，轻量标签也是可用的。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_列出标签"],["aid","6LKM5"]],"x":"列出标签","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKM6"]],"x":"在 Git 中列出已有的标签是非常简单直观的。\n只需要输入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKM8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKMD"]],"x":"这个命令以字母顺序列出标签；但是它们出现的顺序并不重要。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKME"]],"x":"你也可以使用特定的模式查找标签。\n例如，Git 自身的源代码仓库包含标签的数量超过 500 个。\n如果只对 1.8.5 系列感兴趣，可以运行：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKMF"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKMG"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKMH"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKMI"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKMJ"]],"x":"$","n":"span","l":" git tag -l "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKMK"]],"x":"'v1.8.5*'","n":"span","l":"\nv1.8.5\nv1.8.5-rc0\nv1.8.5-rc1\nv1.8.5-rc2\nv1.8.5-rc3\nv1.8.5.1\nv1.8.5.2\nv1.8.5.3\nv1.8.5.4\nv1.8.5.5"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKM9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKMA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKMB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKMC"]],"x":"$","n":"span","l":" git tag\nv0.1\nv1.3"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKM7"]],"x":"git tag","n":"code","l":"："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_远程仓库的移除与重命名"],["aid","6LKLA"]],"x":"远程仓库的移除与重命名","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKLB"]],"x":"如果想要重命名引用的名字可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKLG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKLM"]],"x":"值得注意的是这同样也会修改你的远程分支名字。\n那些过去引用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKLP"]],"x":"如果因为一些原因想要移除一个远程仓库 - 你已经从服务器上搬走了或不再想使用某一个特定的镜像了，又或者某一个贡献者不再贡献了 - 可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKLR"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKLS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKLT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKLU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKLV"]],"x":"$","n":"span","l":" git remote rm paul\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKM0"]],"x":"$","n":"span","l":" git remote\norigin"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKLQ"]],"x":"git remote rm","n":"code","l":" ："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKLN"]],"x":"pb/master","n":"code","l":" 的现在会引用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKLO"]],"x":"paul/master","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKLH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKLI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKLJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKLK"]],"x":"$","n":"span","l":" git remote rename pb paul\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKLL"]],"x":"$","n":"span","l":" git remote\norigin\npaul"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKLC"]],"x":"git remote rename","n":"code","l":" 去修改一个远程仓库的简写名。\n例如，想要将 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKLD"]],"x":"pb","n":"code","l":" 重命名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKLE"]],"x":"paul","n":"code","l":"，可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKLF"]],"x":"git remote rename","n":"code","l":" 这样做："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_inspecting_remote"],["aid","6LKKL"]],"x":"查看远程仓库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKKM"]],"x":"如果想要查看某一个远程仓库的更多信息，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKKP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKKU"]],"x":"它同样会列出远程仓库的 URL 与跟踪分支的信息。\n这些信息非常有用，它告诉你正处于 master 分支，并且如果运行 git pull，就会抓取所有的远程引用，然后将远程 master 分支合并到本地 master 分支。\n它也会列出拉取到的所有远程引用。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKKV"]],"x":"这是一个经常遇到的简单例子。\n如果你是 Git 的重度使用者，那么还可以通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKL1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKL6"]],"x":"这个命令列出了当你在特定的分支上执行 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKL7"]],"x":"git push","n":"code","l":" 会自动地推送到哪一个远程分支。\n它也同样地列出了哪些远程分支不在你的本地，哪些远程分支已经从服务器上移除了，还有当你执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKL8"]],"x":"git pull","n":"code","l":" 时哪些分支会自动合并。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKL2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKL3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKL4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKL5"]],"x":"$","n":"span","l":" git remote show origin\n* remote origin\n  URL: https://github.com/my-org/complex-project\n  Fetch URL: https://github.com/my-org/complex-project\n  Push  URL: https://github.com/my-org/complex-project\n  HEAD branch: master\n  Remote branches:\n    master                           tracked\n    dev-branch                       tracked\n    markdown-strip                   tracked\n    issue-43                         new (next fetch will store in remotes/origin)\n    issue-45                         new (next fetch will store in remotes/origin)\n    refs/remotes/origin/issue-11     stale (use 'git remote prune' to remove)\n  Local branches configured for 'git pull':\n    dev-branch merges with remote dev-branch\n    master     merges with remote master\n  Local refs configured for 'git push':\n    dev-branch                     pushes to dev-branch                     (up to date)\n    markdown-strip                 pushes to markdown-strip                 (up to date)\n    master                         pushes to master                         (up to date)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKL0"]],"x":"git remote show","n":"code","l":" 看到更多的信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKKQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKKR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKKS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKKT"]],"x":"$","n":"span","l":" git remote show origin\n* remote origin\n  Fetch URL: https://github.com/schacon/ticgit\n  Push  URL: https://github.com/schacon/ticgit\n  HEAD branch: master\n  Remote branches:\n    master                               tracked\n    dev-branch                           tracked\n  Local branch configured for 'git pull':\n    master merges with remote master\n  Local ref configured for 'git push':\n    master pushes to master (up to date)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKKN"]],"x":"git remote show [remote-name]","n":"code","l":" 命令。\n如果想以一个特定的缩写名运行这个命令，例如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKKO"]],"x":"origin","n":"code","l":"，会得到像下面类似的信息："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_pushing_remotes"],["aid","6LKK9"]],"x":"推送到远程仓库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKKA"]],"x":"当你想分享你的项目时，必须将其推送到上游。\n这个命令很简单：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKKD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKKI"]],"x":"只有当你有所克隆服务器的写入权限，并且之前没有人推送过时，这条命令才能生效。\n当你和其他人在同一时间克隆，他们先推送到上游然后你再推送到上游，你的推送就会毫无疑问地被拒绝。\n你必须先将他们的工作拉取下来并将其合并进你的工作后才能推送。\n阅读 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["aid","6LKKJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":" 了解如何推送到远程仓库服务器的详细信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKKE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKKF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKKG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKKH"]],"x":"$","n":"span","l":" git push origin master"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKKB"]],"x":"git push [remote-name] [branch-name]","n":"code","l":"。\n当你想要将 master 分支推送到 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKKC"]],"x":"origin","n":"code","l":" 服务器时（再次说明，克隆时通常会自动帮你设置好那两个名字），那么运行这个命令就可以将你所做的备份到服务器："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_fetching_and_pulling"],["aid","6LKJN"]],"x":"从远程仓库中抓取与拉取","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKJO"]],"x":"就如刚才所见，从远程仓库中获得数据，可以执行：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKJP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKJU"]],"x":"这个命令会访问远程仓库，从中拉取所有你还没有的数据。\n执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKJV"]],"x":"如果你使用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKK3"]],"x":"如果你有一个分支设置为跟踪一个远程分支（阅读下一节与 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["aid","6LKK4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":" 了解更多信息），可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKK5"]],"x":"git pull","n":"code","l":" 命令来自动的抓取然后合并远程分支到当前分支。\n这对你来说可能是一个更简单或更舒服的工作流程；默认情况下，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKK6"]],"x":"git clone","n":"code","l":" 命令会自动设置本地 master 分支跟踪克隆的远程仓库的 master 分支（或不管是什么名字的默认分支）。\n运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKK7"]],"x":"git pull","n":"code","l":" 通常会从最初克隆的服务器上抓取数据并自动尝试合并到当前所在的分支。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKK0"]],"x":"clone","n":"code","l":" 命令克隆了一个仓库，命令会自动将其添加为远程仓库并默认以 “origin” 为简写。\n所以，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKK1"]],"x":"git fetch origin","n":"code","l":" 会抓取克隆（或上一次抓取）后新推送的所有工作。\n必须注意 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKK2"]],"x":"git fetch","n":"code","l":" 命令会将数据拉取到你的本地仓库 - 它并不会自动合并或修改你当前的工作。\n当准备好时你必须手动将其合并入你的工作。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKJQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKJR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKJS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKJT"]],"x":"$","n":"span","l":" git fetch [remote-name]"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_添加远程仓库"],["aid","6LKJ1"]],"x":"添加远程仓库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKJ2"]],"x":"我在之前的章节中已经提到并展示了如何添加远程仓库的示例，不过这里将告诉你如何明确地做到这一点。\n运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKJ4"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKJB"]],"x":"现在你可以在命令行中使用字符串 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKJE"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKJJ"]],"x":"现在 Paul 的 master 分支可以在本地通过 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKJK"]],"x":"pb/master","n":"code","l":" 访问到 - 你可以将它合并到自己的某个分支中，或者如果你想要查看它的话，可以检出一个指向该点的本地分支。\n（我们将会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["aid","6LKJL"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":" 中详细介绍什么是分支以及如何使用分支。）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKJF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKJG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKJH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKJI"]],"x":"$","n":"span","l":" git fetch pb\nremote: Counting objects: 43, done.\nremote: Compressing objects: 100% (36/36), done.\nremote: Total 43 (delta 10), reused 31 (delta 5)\nUnpacking objects: 100% (43/43), done.\nFrom https://github.com/paulboone/ticgit\n * [new branch]      master     -> pb/master\n * [new branch]      ticgit     -> pb/ticgit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKJC"]],"x":"pb","n":"code","l":" 来代替整个 URL。\n例如，如果你想拉取 Paul 的仓库中有但你没有的信息，可以运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKJD"]],"x":"git fetch pb","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKJ5"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKJ6"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKJ7"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKJ8"]],"x":"$","n":"span","l":" git remote\norigin\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKJ9"]],"x":"$","n":"span","l":" git remote add pb https://github.com/paulboone/ticgit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKJA"]],"x":"$","n":"span","l":" git remote -v\norigin\thttps://github.com/schacon/ticgit (fetch)\norigin\thttps://github.com/schacon/ticgit (push)\npb\thttps://github.com/paulboone/ticgit (fetch)\npb\thttps://github.com/paulboone/ticgit (push)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKJ3"]],"x":"git remote add <shortname> <url>","n":"code","l":" 添加一个新的远程 Git 仓库，同时指定一个你可以轻松引用的简写："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_查看远程仓库"],["aid","6LKI5"]],"x":"查看远程仓库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKI6"]],"x":"如果想查看你已经配置的远程仓库服务器，可以运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKI8"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKIF"]],"x":"你也可以指定选项 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKIH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKIM"]],"x":"如果你的远程仓库不止一个，该命令会将它们全部列出。\n例如，与几个协作者合作的，拥有多个远程仓库的仓库看起来像下面这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKIN"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKIT"]],"x":"这样我们可以轻松拉取其中任何一个用户的贡献。\n此外，我们大概还会有某些远程仓库的推送权限，虽然我们目前还不会在此介绍。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKIU"]],"x":"注意这些远程仓库使用了不同的协议；我们将会在 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0023:off:0000000000"],["aid","6LKIV"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在服务器上搭建 Git","n":"a","l":" 中了解关于它们的更多信息。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKIO"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKIP"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKIQ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKIR"]],"x":"$","n":"span","l":" cd grit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKIS"]],"x":"$","n":"span","l":" git remote -v\nbakkdoor  https://github.com/bakkdoor/grit (fetch)\nbakkdoor  https://github.com/bakkdoor/grit (push)\ncho45     https://github.com/cho45/grit (fetch)\ncho45     https://github.com/cho45/grit (push)\ndefunkt   https://github.com/defunkt/grit (fetch)\ndefunkt   https://github.com/defunkt/grit (push)\nkoke      git://github.com/koke/grit.git (fetch)\nkoke      git://github.com/koke/grit.git (push)\norigin    git@github.com:mojombo/grit.git (fetch)\norigin    git@github.com:mojombo/grit.git (push)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKII"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKIJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKIK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKIL"]],"x":"$","n":"span","l":" git remote -v\norigin\thttps://github.com/schacon/ticgit (fetch)\norigin\thttps://github.com/schacon/ticgit (push)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKIG"]],"x":"-v","n":"code","l":"，会显示需要读写远程仓库使用的 Git 保存的简写与其对应的 URL。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKI9"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKIA"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKIB"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKIC"]],"x":"$","n":"span","l":" git clone https://github.com/schacon/ticgit\nCloning into 'ticgit'...\nremote: Reusing existing pack: 1857, done.\nremote: Total 1857 (delta 0), reused 0 (delta 0)\nReceiving objects: 100% (1857/1857), 374.35 KiB | 268.00 KiB/s, done.\nResolving deltas: 100% (772/772), done.\nChecking connectivity... done.\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKID"]],"x":"$","n":"span","l":" cd ticgit\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKIE"]],"x":"$","n":"span","l":" git remote\norigin"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKI7"]],"x":"git remote","n":"code","l":" 命令。\n它会列出你指定的每一个远程服务器的简写。\n如果你已经克隆了自己的仓库，那么至少应该能看到 origin - 这是 Git 给你克隆的仓库服务器的默认名字："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_撤消对文件的修改"],["aid","6LKH7"]],"x":"撤消对文件的修改","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKH8"]],"x":"如果你并不想保留对 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKHB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKHF"]],"x":"它非常清楚地告诉了你如何撤消之前所做的修改。\n让我们来按照提示执行：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKHG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKHM"]],"x":"可以看到那些修改已经被撤消了。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre11 admonition3"],["title","Important"],["type","warning"],["aid","6LKHN"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKHR"]],"x":"如果你仍然想保留对那个文件做出的修改，但是现在仍然需要撤消，我们将会在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKHT"]],"x":"记住，在 Git 中任何 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","6LKHU"]],"x":"已提交的","n":"em","l":" 东西几乎总是可以恢复的。\n甚至那些被删除的分支中的提交或使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKHV"]],"x":"--amend","n":"code","l":" 选项覆盖的提交也可以恢复（阅读 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:009F:off:0000000000"],["id","xref--ch10-git-internals--r_data_recovery"],["aid","6LKI0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"数据恢复","n":"a","l":" 了解数据恢复）。\n然而，任何你未提交的东西丢失后很可能再也找不到了。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["aid","6LKHS"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":" 介绍保存进度与分支；这些通常是更好的做法。"},{"a":[["class","pcalibre1 content4 pcalibre"],["aid","6LKHO"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKHP"]],"x":"你需要知道 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKHQ"]],"x":"git checkout -- [file]","n":"code","l":" 是一个危险的命令，这很重要。\n你对那个文件做的任何修改都会消失 - 你只是拷贝了另一个文件来覆盖它。\n除非你确实清楚不想要那个文件了，否则不要使用这个命令。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKHH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKHI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKHJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKHK"]],"x":"$","n":"span","l":" git checkout -- CONTRIBUTING.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKHL"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    renamed:    README.md -> README"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKHC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKHD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKHE"]],"n":"span","l":"Changes not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKH9"]],"x":"CONTRIBUTING.md","n":"code","l":" 文件的修改怎么办？\n你该如何方便地撤消修改 - 将它还原成上次提交时的样子（或者刚克隆完的样子，或者刚把它放入工作目录时的样子）？\n幸运的是，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKHA"]],"x":"git status","n":"code","l":" 也告诉了你应该如何做。\n在最后一个例子中，未暂存区域是这样："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_unstaging"],["aid","6LKG6"]],"x":"取消暂存的文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKG7"]],"x":"接下来的两个小节演示如何操作暂存区域与工作目录中已修改的文件。\n这些命令在修改文件状态的同时，也会提示如何撤消操作。\n例如，你已经修改了两个文件并且想要将它们作为两次独立的修改提交，但是却意外地输入了 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKGA"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKGG"]],"x":"在 “Changes to be committed” 文字正下方，提示使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKGJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKGP"]],"x":"这个命令有点儿奇怪，但是起作用了。\n","n":"p","l":"\n"},{"a":[["class","admonition pcalibre1 pcalibre8"],["title","Note"],["type","note"],["aid","6LKGR"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKH2"]],"x":"到目前为止这个神奇的调用就是你需要对 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKH3"]],"x":"git reset","n":"code","l":" 命令了解的全部。我们将会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:004V:off:0000000000"],["id","xref--ch07-git-tools--r_git_reset"],["aid","6LKH4"],["target","_blank"],["rel","noopener noreferrer"]],"x":"重置揭密","n":"a","l":" 中了解 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKH5"]],"x":"reset","n":"code","l":" 的更多细节以及如何掌握它做一些真正有趣的事。"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","6LKGS"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKGT"]],"x":"虽然在调用时加上 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKGU"]],"x":"--hard","n":"code","l":" 选项"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","6LKGV"]],"x":"可以","n":"strong","l":"令 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKH0"]],"x":"git reset","n":"code","l":" 成为一个危险的命令（译注：可能导致工作目录中所有当前进度丢失！），但本例中工作目录内的文件并不会被修改。\n不加选项地调用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKH1"]],"x":"git reset","n":"code","l":" 并不危险 — 它只会修改暂存区域。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKGQ"]],"x":"CONTRIBUTING.md","n":"code","l":" 文件已经是修改未暂存的状态了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKGK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKGL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKGM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKGN"]],"x":"$","n":"span","l":" git reset HEAD CONTRIBUTING.md\nUnstaged changes after reset:\nM\tCONTRIBUTING.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKGO"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    renamed:    README.md -> README\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKGH"]],"x":"git reset HEAD <file>...","n":"code","l":" 来取消暂存。\n所以，我们可以这样来取消暂存 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKGI"]],"x":"CONTRIBUTING.md","n":"code","l":" 文件："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKGB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKGC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKGD"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKGE"]],"x":"$","n":"span","l":" git add *\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKGF"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    renamed:    README.md -> README\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKG8"]],"x":"git add *","n":"code","l":" 暂存了它们两个。\n如何只取消暂存两个中的一个呢？\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKG9"]],"x":"git status","n":"code","l":" 命令提示了你："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKFT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKFU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKFV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKG0"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKG1"]],"x":"'initial commit'","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKG2"]],"x":"$","n":"span","l":" git add forgotten_file\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKG3"]],"x":"$","n":"span","l":" git commit --amend"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKFL"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKFM"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKFN"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKFO"]],"x":"$","n":"span","l":" git commit --amend"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKFJ"]],"x":"--amend","n":"code","l":" 选项的提交命令尝试重新提交："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKF6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKF7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKF8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKF9"]],"x":"$","n":"span","l":" git log --pretty="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKFA"]],"x":"\"%h - %s\"","n":"span","l":" --author=gitster --since="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKFB"]],"x":"\"2008-10-01\"","n":"span","l":" "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","6LKFC"]],"x":"\\","n":"span","l":"\n   --before="},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKFD"]],"x":"\"2008-11-01\"","n":"span","l":" --no-merges -- t/\n5610e3b - Fix testcase failure when extended attributes are in use\nacd3b9e - Enhance hold_lock_file_for_{update,append}() API\nf563754 - demonstrate breakage of detached checkout with symbolic link HEAD\nd1a43f2 - reset --hard/read-tree --reset -u: remove unmerged new paths\n51a94af - Fix \"checkout --track -b newbranch\" on detached HEAD\nb0ad11e - pull: allow \"git pull origin $something:$current_branch\" into an unborn branch"},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LKF3"]],"x":"\n","n":"div","l":"\n"},{"a":[["cid","c3"],["class","pcalibre1 table pcalibre"],["id","rlimit_options"]],"x":"\n","n":"table","l":"\n"},{"a":[["class","calibre19 pcalibre1 pcalibre"]],"x":"Table 3. 限制 ","n":"caption","l":"\n"},{"a":[["class","pcalibre1 calibre20 pcalibre"]],"x":"\n","n":"colgroup","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre22"]],"x":"\n","n":"thead","l":"\n"},{"a":[["class","calibre25 pcalibre1 pcalibre"]],"x":"\n","n":"tbody","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示添加或移除了某个关键字的提交","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"-S","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示含指定关键字的提交","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--grep","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示指定提交者相关的提交。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--committer","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示指定作者相关的提交。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--author","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示指定时间之前的提交。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--until","n":"code","l":", "},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--before","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示指定时间之后的提交。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--since","n":"code","l":", "},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--after","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示最近的 n 条提交","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"-(n)","n":"code"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"选项","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"说明","n":"th","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"]],"x":"git log","n":"code","l":" 输出的选项"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000S:off:00000003SQ"],["id","xref-rlimit_options"],["aid","6LKF0"],["target","_blank"],["rel","noopener noreferrer"]],"x":"限制 ","n":"a","l":" 中列出了常用的选项"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKF1"]],"x":"git log","n":"code","l":" 输出的选项"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKEU"]],"x":"git log","n":"code","l":" 选项是路径（path），\n如果只关心某些文件或者目录的历史提交，可以在 git log 选项的最后指定它们的路径。\n因为是放在最后位置上的选项，所以用两个短划线（--）隔开之前的选项和后面限定的路径名。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKEP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKEQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKER"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKES"]],"x":"$","n":"span","l":" git log -Sfunction_name"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKEN"]],"x":"-S","n":"code","l":"，可以列出那些添加或移除了某些字符串的提交。\n比如说，你想找出添加或移除了某一个特定函数的引用的提交，你可以这样使用："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKEJ"]],"x":"--author","n":"code","l":" 选项显示指定作者的提交，用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKEK"]],"x":"--grep","n":"code","l":" 选项搜索提交说明中的关键字。\n（请注意，如果要得到同时满足这两个选项搜索条件的提交，就必须用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKEL"]],"x":"--all-match","n":"code","l":" 选项。否则，满足任意一个条件的提交都会被匹配出来）"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKEG"]],"x":"\"2008-01-15\"","n":"code","l":"，或者是相对地多久以前 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKEH"]],"x":"\"2 years 1 day 3 minutes ago\"","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKEB"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKEC"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKED"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKEE"]],"x":"$","n":"span","l":" git log --since=2.weeks"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKE8"]],"x":"--since","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKE9"]],"x":"--until","n":"code","l":" 也很有用。\n例如，下面的命令列出所有最近两周内的提交："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKE3"]],"x":"git log","n":"code","l":" 还有许多非常实用的限制输出长度的选项，也就是只输出部分提交信息。\n之前你已经看到过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKE4"]],"x":"-2","n":"code","l":" 了，它只显示最近的两条提交，\n实际上，这是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKE5"]],"x":"-<n>","n":"code","l":" 选项的写法，其中的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKE6"]],"x":"n","n":"code","l":" 可以是任何整数，表示仅显示最近的若干条提交。\n不过实践中我们是不太用这个选项的，Git 在输出所有提交时会自动调用分页程序，所以你一次只会看到一页的内容。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LKDV"]],"x":"\n","n":"div","l":"\n"},{"a":[["cid","c2"],["class","pcalibre1 table pcalibre"],["id","rlog_options"]],"x":"\n","n":"table","l":"\n"},{"a":[["class","calibre19 pcalibre1 pcalibre"]],"x":"Table 2. ","n":"caption","l":"\n"},{"a":[["class","pcalibre1 calibre20 pcalibre"]],"x":"\n","n":"colgroup","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre22"]],"x":"\n","n":"thead","l":"\n"},{"a":[["class","calibre25 pcalibre1 pcalibre"]],"x":"\n","n":"tbody","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"使用其他格式显示历史提交信息。可用的选项包括 oneline，short，full，fuller 和 format（后跟指定格式）。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--pretty","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"显示 ASCII 图形表示的分支合并历史。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--graph","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"使用较短的相对时间显示（比如，“2 weeks ago”）。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--relative-date","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅显示 SHA-1 的前几个字符，而非所有的 40 个字符。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--abbrev-commit","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"显示新增、修改、删除的文件清单。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--name-status","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"仅在提交信息后显示已修改的文件清单。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--name-only","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"只显示 --stat 中最后的行数修改添加移除统计。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--shortstat","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"显示每次更新的文件修改统计信息。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"--stat","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"按补丁格式显示每个更新之间的差异。","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"-p","n":"code"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"选项","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"说明","n":"th","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"]],"x":"git log","n":"code","l":" 的常用选项"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKDR"]],"x":"git log","n":"code","l":" 命令支持的选项。\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000R:off:00000001HG"],["id","xref-rlog_options"],["aid","6LKDS"],["target","_blank"],["rel","noopener noreferrer"]],"n":"a","l":" 列出了我们目前涉及到的和没涉及到的选项，以及它们是如何影响 log 命令的输出的："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKDT"]],"x":"git log","n":"code","l":" 的常用选项"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKDK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKDL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKDM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKDN"]],"x":"$","n":"span","l":" git log --pretty=format:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKDO"]],"x":"\"%h %s\"","n":"span","l":" --graph\n* 2d3acf9 ignore errors from SIGCHLD on trap\n*  5e3ee11 Merge branch 'master' of git://github.com/dustin/grit\n|\\\n| * 420eac9 Added a method for getting the current branch.\n* | 30e367c timeout code and tests\n* | 5a09431 add timeout protection to grit\n* | e1193f8 support for heads with slashes in them\n|/\n* d6016bc require time for xmlschema\n*  11d191e Merge branch 'defunkt' into local"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKDH"]],"x":"log","n":"code","l":" 选项 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKDI"]],"x":"--graph","n":"code","l":" 结合使用时尤其有用。\n这个选项添加了一些ASCII字符串来形象地展示你的分支、合并历史："},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","6LKDD"]],"x":"作者","n":"em","l":" 和 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","6LKDE"]],"x":"提交者","n":"em","l":" 之间究竟有何差别，\n其实作者指的是实际作出修改的人，提交者指的是最后将此工作成果提交到仓库的人。\n所以，当你为某个项目发布补丁，然后某个核心成员将你的补丁并入项目时，你就是作者，而那个核心成员就是提交者。\n我们会在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:002F:off:0000000000"],["id","xref--ch05-distributed-git"],["aid","6LKDF"],["target","_blank"],["rel","noopener noreferrer"]],"x":"分布式 Git","n":"a","l":" 再详细介绍两者之间的细微差别。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LKDB"]],"x":"\n","n":"div","l":"\n"},{"a":[["cid","c1"],["class","pcalibre1 table pcalibre"],["id","rpretty_format"]],"x":"\n","n":"table","l":"\n"},{"a":[["class","calibre19 pcalibre1 pcalibre"]],"x":"Table 1. ","n":"caption","l":"\n"},{"a":[["class","pcalibre1 calibre20 pcalibre"]],"x":"\n","n":"colgroup","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre22"]],"x":"\n","n":"thead","l":"\n"},{"a":[["class","calibre25 pcalibre1 pcalibre"]],"x":"\n","n":"tbody","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"提交说明","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%s","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"提交日期，按多久以前的方式显示","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%cr","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"提交日期","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%cd","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"提交者的电子邮件地址","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%ce","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"提交者（committer）的名字","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%cn","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"作者修订日期，按多久以前的方式显示","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%ar","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"作者修订日期（可以用 --date= 选项定制格式）","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%ad","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"作者的电子邮件地址","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%ae","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"作者（author）的名字","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%an","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"父对象的简短哈希字串","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%p","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"父对象（parent）的完整哈希字串","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%P","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"树对象的简短哈希字串","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%t","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"树对象（tree）的完整哈希字串","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%T","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"提交对象的简短哈希字串","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%h","n":"code"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre26 pcalibre1 pcalibre"]],"n":"td","l":"\n"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"x":"提交对象（commit）的完整哈希字串","n":"p"},{"a":[["class","calibre27 pcalibre1 pcalibre"]],"n":"p"},{"a":[["class","pcalibre1 pcalibre literal"]],"x":"%H","n":"code"},{"a":[["class","pcalibre1 pcalibre calibre23"]],"x":"\n","n":"tr","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"选项","n":"th","l":"\n"},{"a":[["class","calibre24 pcalibre1 pcalibre"]],"x":"说明","n":"th","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","calibre21 pcalibre1 pcalibre"]],"n":"col","l":"\n"},{"a":[["class","literal1 pcalibre1 pcalibre"]],"x":"git log --pretty=format","n":"code","l":" 常用的选项"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000Q:off:000000011O"],["id","xref-rpretty_format"],["aid","6LKD8"],["target","_blank"],["rel","noopener noreferrer"]],"n":"a","l":" 列出了常用的格式占位符写法及其代表的意义。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKD9"]],"x":"git log --pretty=format","n":"code","l":" 常用的选项"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKD2"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKD3"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKD4"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKD5"]],"x":"$","n":"span","l":" git log --pretty=format:"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LKD6"]],"x":"\"%h - %an, %ar : %s\"","n":"span","l":"\nca82a6d - Scott Chacon, 6 years ago : changed the version number\n085bb3b - Scott Chacon, 6 years ago : removed unnecessary test\na11bef0 - Scott Chacon, 6 years ago : first commit"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKCS"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKCT"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKCU"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKCV"]],"x":"$","n":"span","l":" git log --pretty=oneline\nca82a6dff817ec66f44342007202690a93763949 changed the version number\n085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7 removed unnecessary test\na11bef06a3f659402fe7563abf99ad00de2209e6 first commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCM"]],"x":"--pretty","n":"code","l":"。\n这个选项可以指定使用不同于默认格式的方式展示提交历史。\n这个选项有一些内建的子选项供你使用。\n比如用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCN"]],"x":"oneline","n":"code","l":" 将每个提交放在一行显示，查看的提交数很大时非常有用。\n另外还有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCO"]],"x":"short","n":"code","l":"，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCP"]],"x":"full","n":"code","l":" 和 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCQ"]],"x":"fuller","n":"code","l":" 可以用，展示的信息或多或少有些不同，请自己动手实践一下看看效果如何。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCK"]],"x":"--stat","n":"code","l":" 选项在每次提交的下面列出所有被修改过的文件、有多少文件被修改了以及被修改过的文件的哪些行被移除或是添加了。\n在每次提交的最后还有一个总结。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKCF"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKCG"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKCH"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKCI"]],"x":"$","n":"span","l":" git log --stat\ncommit ca82a6dff817ec66f44342007202690a93763949\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Mon Mar 17 21:52:11 2008 -0700\n\n    changed the version number\n\n Rakefile | 2 +-\n 1 file changed, 1 insertion(+), 1 deletion(-)\n\ncommit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Sat Mar 15 16:40:33 2008 -0700\n\n    removed unnecessary test\n\n lib/simplegit.rb | 5 -----\n 1 file changed, 5 deletions(-)\n\ncommit a11bef06a3f659402fe7563abf99ad00de2209e6\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Sat Mar 15 10:31:28 2008 -0700\n\n    first commit\n\n README           |  6 ++++++\n Rakefile         | 23 +++++++++++++++++++++++\n lib/simplegit.rb | 25 +++++++++++++++++++++++++\n 3 files changed, 54 insertions(+)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCC"]],"x":"git log","n":"code","l":" 附带一系列的总结性选项。\n比如说，如果你想看到每次提交的简略的统计信息，你可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKCD"]],"x":"--stat","n":"code","l":" 选项："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKC7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKC8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKC9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKCA"]],"x":"$","n":"span","l":" git log -p -2\ncommit ca82a6dff817ec66f44342007202690a93763949\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Mon Mar 17 21:52:11 2008 -0700\n\n    changed the version number\n\ndiff --git a/Rakefile b/Rakefile\nindex a874b73..8f94139 100644\n--- a/Rakefile\n+++ b/Rakefile\n@@ -5,7 +5,7 @@ require 'rake/gempackagetask'\n spec = Gem::Specification.new do |s|\n     s.platform  =   Gem::Platform::RUBY\n     s.name      =   \"simplegit\"\n-    s.version   =   \"0.1.0\"\n+    s.version   =   \"0.1.1\"\n     s.author    =   \"Scott Chacon\"\n     s.email     =   \"schacon@gee-mail.com\"\n     s.summary   =   \"A simple gem for using Git in Ruby code.\"\n\ncommit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Sat Mar 15 16:40:33 2008 -0700\n\n    removed unnecessary test\n\ndiff --git a/lib/simplegit.rb b/lib/simplegit.rb\nindex a0a60ae..47c6340 100644\n--- a/lib/simplegit.rb\n+++ b/lib/simplegit.rb\n@@ -18,8 +18,3 @@ class SimpleGit\n     end\n\n end\n-\n-if $0 == __FILE__\n-  git = SimpleGit.new\n-  puts git.show\n-end\n\\ No newline at end of file"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKC4"]],"x":"-p","n":"code","l":"，用来显示每次提交的内容差异。\n你也可以加上 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKC5"]],"x":"-2","n":"code","l":" 来仅显示最近两次提交："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKC2"]],"x":"git log","n":"code","l":" 有许多选项可以帮助你搜寻你所要找的提交，\n接下来我们介绍些最常用的。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKC0"]],"x":"git log","n":"code","l":" 会按提交时间列出所有的更新，最近的更新排在最上面。\n正如你所看到的，这个命令会列出每个提交的 SHA-1 校验和、作者的名字和电子邮件地址、提交时间以及提交说明。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKBR"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKBS"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKBT"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKBU"]],"x":"$","n":"span","l":" git log\ncommit ca82a6dff817ec66f44342007202690a93763949\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Mon Mar 17 21:52:11 2008 -0700\n\n    changed the version number\n\ncommit 085bb3bcb608e1e8451d4b2432f8ecbe6306e7e7\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Sat Mar 15 16:40:33 2008 -0700\n\n    removed unnecessary test\n\ncommit a11bef06a3f659402fe7563abf99ad00de2209e6\nAuthor: Scott Chacon <schacon@gee-mail.com>\nDate:   Sat Mar 15 10:31:28 2008 -0700\n\n    first commit"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKBM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKBN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKBO"]],"n":"span","l":"git clone https://github.com/schacon/simplegit-progit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKBJ"]],"x":"git log","n":"code","l":" 命令。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_mv"],["aid","6LKAK"]],"x":"移动文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKAL"]],"x":"\n不像其它的 VCS 系统，Git 并不显式跟踪文件移动操作。\n如果在 Git 中重命名了某个文件，仓库中存储的元数据并不会体现出这是一次改名操作。\n不过 Git 非常聪明，它会推断出究竟发生了什么，至于具体是如何做到的，我们稍后再谈。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKAM"]],"x":"既然如此，当你看到 Git 的 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKAO"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKAT"]],"x":"它会恰如预期般正常工作。\n实际上，即便此时查看状态信息，也会明白无误地看到关于重命名操作的说明：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKAU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKB4"]],"x":"其实，运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKB6"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKBD"]],"x":"如此分开操作，Git 也会意识到这是一次改名，所以不管何种方式结果都一样。\n两者唯一的区别是，","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKBE"]],"x":"mv","n":"code","l":" 是一条命令而另一种方式需要三条命令，直接用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKBF"]],"x":"git mv","n":"code","l":" 轻便得多。\n不过有时候用其他工具批处理改名的话，要记得在提交前删除老的文件名，再添加新的文件名。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKB7"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKB8"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKB9"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKBA"]],"x":"$","n":"span","l":" mv README.md README\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKBB"]],"x":"$","n":"span","l":" git rm README.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKBC"]],"x":"$","n":"span","l":" git add README"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKB5"]],"x":"git mv","n":"code","l":" 就相当于运行了下面三条命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKAV"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKB0"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKB1"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKB2"]],"x":"$","n":"span","l":" git mv README.md README\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKB3"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    renamed:    README.md -> README"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKAP"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKAQ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKAR"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKAS"]],"x":"$","n":"span","l":" git mv file_from file_to"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKAN"]],"x":"mv","n":"code","l":" 命令时一定会困惑不已。\n要在 Git 中对文件改名，可以这么做："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_removing_files"],["aid","6LK8U"]],"x":"移除文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK8V"]],"x":"\n要从 Git 中移除某个文件，就必须要从已跟踪文件清单中移除（确切地说，是从暂存区域移除），然后提交。\n可以用 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK91"]],"x":"如果只是简单地从工作目录中手工删除文件，运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK94"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK9A"]],"x":"然后再运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK9C"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK9I"]],"x":"下一次提交时，该文件就不再纳入版本管理了。\n如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK9K"]],"x":"另外一种情况是，我们想把文件从 Git 仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中。\n换句话说，你想让文件保留在磁盘，但是并不想让 Git 继续跟踪。\n当你忘记添加 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK9O"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK9T"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKA0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKA6"]],"x":"注意到星号 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LKAB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LKAH"]],"x":"该命令为删除以 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKAI"]],"x":"~","n":"code","l":" 结尾的所有文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKAC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKAD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKAE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKAF"]],"x":"$","n":"span","l":" git rm "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","6LKAG"]],"x":"\\*","n":"span","l":"~"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKA7"]],"x":"*","n":"code","l":" 之前的反斜杠 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKA8"]],"x":"\\","n":"code","l":"，\n因为 Git 有它自己的文件模式扩展匹配方式，所以我们不用 shell 来帮忙展开。\n此命令删除 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKA9"]],"x":"log/","n":"code","l":" 目录下扩展名为 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LKAA"]],"x":".log","n":"code","l":" 的所有文件。\n类似的比如："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LKA1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LKA2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LKA3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LKA4"]],"x":"$","n":"span","l":" git rm log/"},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","6LKA5"]],"x":"\\*","n":"span","l":".log"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK9U"]],"x":"git rm","n":"code","l":" 命令后面可以列出文件或者目录的名字，也可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK9V"]],"x":"glob","n":"code","l":" 模式。\n比方说："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK9P"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK9Q"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK9R"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK9S"]],"x":"$","n":"span","l":" git rm --cached README"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK9L"]],"x":".gitignore","n":"code","l":" 文件，不小心把一个很大的日志文件或一堆 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK9M"]],"x":".a","n":"code","l":" 这样的编译生成文件添加到暂存区时，这一做法尤其有用。\n为达到这一目的，使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK9N"]],"x":"--cached","n":"code","l":" 选项："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK9J"]],"x":"-f","n":"code","l":"（译注：即 force 的首字母）。\n这是一种安全特性，用于防止误删还没有添加到快照的数据，这样的数据不能被 Git 恢复。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK9D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK9E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK9F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK9G"]],"x":"$","n":"span","l":" git rm PROJECTS.md\nrm 'PROJECTS.md'\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK9H"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    deleted:    PROJECTS.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK9B"]],"x":"git rm","n":"code","l":" 记录此次移除文件的操作："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK95"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK96"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK97"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK98"]],"x":"$","n":"span","l":" rm PROJECTS.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK99"]],"x":"$","n":"span","l":" git status\nOn branch master\nYour branch is up-to-date with 'origin/master'.\nChanges not staged for commit:\n  (use \"git add/rm <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n        deleted:    PROJECTS.md\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK92"]],"x":"git status","n":"code","l":" 时就会在 “Changes not staged for commit” 部分（也就是 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","6LK93"]],"x":"未暂存清单","n":"em","l":"）看到："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK90"]],"x":"git rm","n":"code","l":" 命令完成此项工作，并连带从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件清单中了。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_跳过使用暂存区域"],["aid","6LK8F"]],"x":"跳过使用暂存区域","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK8G"]],"x":"\n尽管使用暂存区域的方式可以精心准备要提交的细节，但有时候这么做略显繁琐。\nGit 提供了一个跳过使用暂存区域的方式，\n只要在提交的时候，给 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK8K"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK8R"]],"x":"看到了吗？提交之前不再需要 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK8S"]],"x":"git add","n":"code","l":" 文件“CONTRIBUTING.md”了。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK8L"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK8M"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK8N"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK8O"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK8P"]],"x":"$","n":"span","l":" git commit -a -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LK8Q"]],"x":"'added new benchmarks'","n":"span","l":"\n[master 83e38c7] added new benchmarks\n 1 file changed, 5 insertions(+), 0 deletions(-)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK8H"]],"x":"git commit","n":"code","l":" 加上 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK8I"]],"x":"-a","n":"code","l":" 选项，Git 就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK8J"]],"x":"git add","n":"code","l":" 步骤："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_committing_changes"],["aid","6LK7C"]],"x":"提交更新","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK7D"]],"x":"现在的暂存区域已经准备妥当可以提交了。\n在此之前，请一定要确认还有什么修改过的或新建的文件还没有 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK7H"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK7M"]],"x":"这种方式会启动文本编辑器以便输入本次提交的说明。\n(默认会启用 shell 的环境变量 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK7Q"]],"x":"编辑器会显示类似下面的文本信息（本例选用 Vim 的屏显方式展示）：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK7R"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK7U"]],"x":"可以看到，默认的提交消息包含最后一次运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK81"]],"x":"另外，你也可以在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK84"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK8A"]],"x":"好，现在你已经创建了第一个提交！\n可以看到，提交后它会告诉你，当前是在哪个分支（","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK8D"]],"x":"请记住，提交时记录的是放在暂存区域的快照。\n任何还未暂存的仍然保持已修改状态，可以在下次提交时纳入版本管理。\n每一次运行提交操作，都是对你项目作一次快照，以后可以回到这个状态，或者进行比较。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK8B"]],"x":"master","n":"code","l":"）提交的，本次提交的完整 SHA-1 校验和是什么（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK8C"]],"x":"463dc4f","n":"code","l":"），以及在本次提交中，有多少文件修订过，多少行添加和删改过。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK85"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK86"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK87"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK88"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LK89"]],"x":"\"Story 182: Fix benchmarks for speed\"","n":"span","l":"\n[master 463dc4f] Story 182: Fix benchmarks for speed\n 2 files changed, 2 insertions(+)\n create mode 100644 README"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK82"]],"x":"commit","n":"code","l":" 命令后添加 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK83"]],"x":"-m","n":"code","l":" 选项，将提交信息与命令放在同一行，如下所示："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK7V"]],"x":"git status","n":"code","l":" 的输出，放在注释行里，另外开头还有一空行，供你输入提交说明。\n你完全可以去掉这些注释行，不过留着也没关系，多少能帮你回想起这次更新的内容有哪些。\n(如果想要更详细的对修改了哪些内容的提示，可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK80"]],"x":"-v","n":"code","l":" 选项，这会将你所做的改变的 diff 输出放到编辑器中从而使你知道本次提交具体做了哪些修改。）\n退出编辑器时，Git 会丢掉注释行，用你输入提交附带信息生成一次提交。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK7S"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK7T"]],"x":"# Please enter the commit message for your changes. Lines starting\n# with '#' will be ignored, and an empty message aborts the commit.\n# On branch master\n# Changes to be committed:\n#\tnew file:   README\n#\tmodified:   CONTRIBUTING.md\n#\n~\n~\n~\n\".git/COMMIT_EDITMSG\" 9L, 283C","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK7N"]],"x":"$EDITOR","n":"code","l":" 所指定的软件，一般都是 vim 或 emacs。当然也可以按照 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0006:off:0000000000"],["id","xref--ch01-introduction"],["aid","6LK7O"],["target","_blank"],["rel","noopener noreferrer"]],"x":"起步","n":"a","l":" 介绍的方式，使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK7P"]],"x":"git config --global core.editor","n":"code","l":" 命令设定你喜欢的编辑软件。）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK7I"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK7J"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK7K"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK7L"]],"x":"$","n":"span","l":" git commit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK7E"]],"x":"git add","n":"code","l":" 过，否则提交的时候不会记录这些还没暂存起来的变化。\n这些修改过的文件只保留在本地磁盘。\n所以，每次准备提交前，先用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK7F"]],"x":"git status","n":"code","l":" 看下，是不是都已暂存起来了，\n然后再运行提交命令 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK7G"]],"x":"git commit","n":"code","l":"："},{"a":[["class","calibre18 pcalibre1 pcalibre"],["aid","6LK75"]],"x":"Git Diff 的插件版本","n":"h2","l":"\n"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","6LK76"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK77"]],"x":"在本书中，我们使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK78"]],"x":"git diff","n":"code","l":" 来分析文件差异。\n但是，如果你喜欢通过图形化的方式或其它格式输出方式的话，可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK79"]],"x":"git difftool","n":"code","l":" 命令来用 Araxis ，emerge 或 vimdiff 等软件输出 diff 分析结果。\n使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK7A"]],"x":"git difftool --tool-help","n":"code","l":" 命令来看你的系统支持哪些 Git Diff 插件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK70"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK71"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK72"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK73"]],"x":"$","n":"span","l":" git diff --cached\ndiff --git a/CONTRIBUTING.md b/CONTRIBUTING.md\nindex 8ebb991..643e24f 100644\n--- a/CONTRIBUTING.md\n+++ b/CONTRIBUTING.md\n@@ -65,7 +65,8 @@ branch directly, things can get messy.\n Please include a nice description of your changes when you submit your PR;\n if we have to read the whole diff to figure out why you're contributing\n in the first place, you're less likely to get feedback and have your change\n-merged in.\n+merged in. Also, split your changes into comprehensive chunks if your patch is\n+longer than a dozen lines.\n\n If you are starting to work on a particular area, feel free to submit a PR\n that highlights your work in progress (and note in the PR title that it's"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK6U"]],"x":"git diff --cached","n":"code","l":" 查看已经暂存起来的变化：（--staged 和 --cached 是同义词）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK6N"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK6O"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK6P"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK6Q"]],"x":"$","n":"span","l":" git diff\ndiff --git a/CONTRIBUTING.md b/CONTRIBUTING.md\nindex 643e24f..87f08c8 100644\n--- a/CONTRIBUTING.md\n+++ b/CONTRIBUTING.md\n@@ -119,3 +119,4 @@ at the\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK6R"]],"x":" #","n":"span"},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LK6S"]],"x":"# Starter Projects","n":"span","l":"\n\n See our [projects list](https://github.com/libgit2/libgit2/blob/development/PROJECTS.md).\n+# test line"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK6L"]],"x":"git diff","n":"code","l":" 看暂存前后的变化："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK6D"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK6E"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK6F"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK6G"]],"x":"$","n":"span","l":" git add CONTRIBUTING.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK6H"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LK6I"]],"x":"'# test line'","n":"span","l":" >> CONTRIBUTING.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK6J"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    modified:   CONTRIBUTING.md\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK6A"]],"x":"CONTRIBUTING.md","n":"code","l":" 后再编辑，运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK6B"]],"x":"git status","n":"code","l":" 会看到暂存前后的两个版本。\n如果我们的环境（终端输出）看起来如下："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK68"]],"x":"git diff","n":"code","l":" 后却什么也没有，就是这个原因。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK63"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK64"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK65"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK66"]],"x":"$","n":"span","l":" git diff --staged\ndiff --git a/README b/README\nnew file mode 100644\nindex 0000000..03902a1\n--- /dev/null\n+++ b/README\n@@ -0,0 +1 @@\n+My Project"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK60"]],"x":"git diff --cached","n":"code","l":" 命令。（Git 1.6.1 及更高版本还允许使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK61"]],"x":"git diff --staged","n":"code","l":"，效果是相同的，但更好记些。）"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK5Q"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK5R"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK5S"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK5T"]],"x":"$","n":"span","l":" git diff\ndiff --git a/CONTRIBUTING.md b/CONTRIBUTING.md\nindex 8ebb991..643e24f 100644\n--- a/CONTRIBUTING.md\n+++ b/CONTRIBUTING.md\n@@ -65,7 +65,8 @@ branch directly, things can get messy.\n Please include a nice description of your changes when you submit your PR;\n if we have to read the whole diff to figure out why you're contributing\n in the first place, you're less likely to get feedback and have your change\n-merged in.\n+merged in. Also, split your changes into comprehensive chunks if your patch is\n+longer than a dozen lines.\n\n If you are starting to work on a particular area, feel free to submit a PR\n that highlights your work in progress (and note in the PR title that it's"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5O"]],"x":"git diff","n":"code","l":"："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK5J"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK5K"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK5L"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK5M"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    modified:   README\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5G"]],"x":"CONTRIBUTING.md","n":"code","l":" 文件后先不暂存，\n运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5H"]],"x":"status","n":"code","l":" 命令将会看到："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5A"]],"x":"git status","n":"code","l":" 命令的输出对于你来说过于模糊，你想知道具体修改了什么地方，可以用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5B"]],"x":"git diff","n":"code","l":" 命令。\n稍后我们会详细介绍 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5C"]],"x":"git diff","n":"code","l":"，你可能通常会用它来回答这两个问题：当前做的哪些更新还没有暂存？\n有哪些更新已经暂存起来准备好了下次提交？\n尽管 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5D"]],"x":"git status","n":"code","l":" 已经通过在相应栏下列出文件名的方式回答了这个问题，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK5E"]],"x":"git diff","n":"code","l":" 将通过文件补丁的格式显示具体哪些行发生了改变。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_ignoring"],["aid","6LK3P"]],"x":"忽略文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK3Q"]],"x":"一般我们总会有些文件无需纳入 Git 的管理，也不希望它们总出现在未跟踪文件列表。\n通常都是些自动生成的文件，比如日志文件，或者编译过程中创建的临时文件等。\n在这种情况下，我们可以创建一个名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK3S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK41"]],"x":"第一行告诉 Git 忽略所有以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK44"]],"x":"文件 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LK46"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK4M"]],"x":"所谓的 glob 模式是指 shell 所使用的简化了的正则表达式。\n星号（","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK4U"]],"x":"我们再看一个 .gitignore 文件的例子：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK4V"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","pcalibre10 pcalibre1 admonition2"],["title","Tip"],["type","help"],["aid","6LK52"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content3 pcalibre1 pcalibre"],["aid","6LK53"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK54"]],"x":"GitHub 有一个十分详细的针对数十种项目及语言的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK55"]],"x":".gitignore","n":"code","l":" 文件列表，你可以在 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/github/gitignore"],["aid","6LK56"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/github/gitignore","n":"a","l":" 找到它."},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK50"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK51"]],"x":"# no .a files\n*.a\n\n# but do track lib.a, even though you're ignoring .a files above\n!lib.a\n\n# only ignore the TODO file in the current directory, not subdir/TODO\n/TODO\n\n# ignore all files in the build/ directory\nbuild/\n\n# ignore doc/notes.txt, but not doc/server/arch.txt\ndoc/*.txt\n\n# ignore all .pdf files in the doc/ directory\ndoc/**/*.pdf","n":"code"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4N"]],"x":"*","n":"code","l":"）匹配零个或多个任意字符；"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4O"]],"x":"[abc]","n":"code","l":" 匹配任何一个列在方括号中的字符（这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c）；问号（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4P"]],"x":"?","n":"code","l":"）只匹配一个任意字符；如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配（比如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4Q"]],"x":"[0-9]","n":"code","l":" 表示匹配所有 0 到 9 的数字）。\n使用两个星号（"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4R"]],"x":"*","n":"code","l":") 表示匹配任意中间目录，比如`a/**/z` 可以匹配 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4S"]],"x":"a/z","n":"code","l":", "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4T"]],"x":"a/b/z","n":"code","l":" 或 `a/b/c/z`等。"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","6LK47"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","6LK48"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","6LK4B"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","6LK4D"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","6LK4G"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","6LK4J"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","6LK4K"]],"x":"要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号（","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4L"]],"x":"!","n":"code","l":"）取反。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","6LK4H"]],"x":"匹配模式可以以（","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4I"]],"x":"/","n":"code","l":"）结尾指定目录。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","6LK4E"]],"x":"匹配模式可以以（","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4F"]],"x":"/","n":"code","l":"）开头防止递归。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","6LK4C"]],"x":"可以使用标准的 glob 模式匹配。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","6LK49"]],"x":"所有空行或者以 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK4A"]],"x":"＃","n":"code","l":" 开头的行都会被 Git 忽略。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK45"]],"x":".gitignore","n":"code","l":" 的格式规范如下："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK42"]],"x":".o","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK43"]],"x":".a","n":"code","l":" 结尾的文件。一般这类对象文件和存档文件都是编译过程中出现的。\n第二行告诉 Git 忽略所有以波浪符（~）结尾的文件，许多文本编辑软件（比如 Emacs）都用这样的文件名保存副本。\n此外，你可能还需要忽略 log，tmp 或者 pid 目录，以及自动生成的文档等等。\n要养成一开始就设置好 .gitignore 文件的习惯，以免将来误提交这类无用的文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK3T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK3U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK3V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK40"]],"x":"$","n":"span","l":" cat .gitignore\n*.[oa]\n*~"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3R"]],"x":".gitignore","n":"code","l":" 的文件，列出要忽略的文件模式。\n来看一个实际的例子："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_状态简览"],["aid","6LK33"]],"x":"状态简览","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK34"]],"n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK39"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK3E"]],"x":"新添加的未跟踪文件前面有 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3F"]],"x":"??","n":"code","l":" 标记，新添加到暂存区中的文件前面有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3G"]],"x":"A","n":"code","l":" 标记，修改过的文件前面有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3H"]],"x":"M","n":"code","l":" 标记。\n你可能注意到了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3I"]],"x":"M","n":"code","l":" 有两个可以出现的位置，出现在右边的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3J"]],"x":"M","n":"code","l":" 表示该文件被修改了但是还没放入暂存区，出现在靠左边的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3K"]],"x":"M","n":"code","l":" 表示该文件被修改了并放入了暂存区。\n例如，上面的状态报告显示： "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3L"]],"x":"README","n":"code","l":" 文件在工作区被修改了但是还没有将修改后的文件放入暂存区,"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3M"]],"x":"lib/simplegit.rb","n":"code","l":" 文件被修改了并将修改后的文件放入了暂存区。\n而 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK3N"]],"x":"Rakefile","n":"code","l":" 在工作区被修改并提交到暂存区后又在工作区中被修改了，所以在暂存区和工作区都有该文件被修改了的记录。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK3A"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK3B"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK3C"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK3D"]],"x":"$","n":"span","l":" git status -s\n M README\nMM Rakefile\nA  lib/git.rb\nM  lib/simplegit.rb\n?? LICENSE.txt"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK35"]],"x":"git status","n":"code","l":" 命令的输出十分详细，但其用语有些繁琐。\n如果你使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK36"]],"x":"git status -s","n":"code","l":" 命令或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK37"]],"x":"git status --short","n":"code","l":" 命令，你将得到一种更为紧凑的格式输出。\n运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK38"]],"x":"git status -s","n":"code","l":" ，状态报告输出如下："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_暂存已修改文件"],["aid","6LK1M"]],"x":"暂存已修改文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK1N"]],"x":"现在我们来修改一个已被跟踪的文件。\n如果你修改了一个名为 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK1Q"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK1V"]],"x":"文件 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK25"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK2B"]],"x":"现在两个文件都已暂存，下次提交时就会一并记录到仓库。\n假设此时，你想要在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK2E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK2K"]],"x":"怎么回事？\n现在 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK2S"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK2T"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK2U"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK2V"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK30"]],"x":"$","n":"span","l":" git add CONTRIBUTING.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK31"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    new file:   README\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2L"]],"x":"CONTRIBUTING.md","n":"code","l":" 文件同时出现在暂存区和非暂存区。\n这怎么可能呢？\n好吧，实际上 Git 只不过暂存了你运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2M"]],"x":"git add","n":"code","l":" 命令时的版本，\n如果你现在提交，"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2N"]],"x":"CONTRIBUTING.md","n":"code","l":" 的版本是你最后一次运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2O"]],"x":"git add","n":"code","l":" 命令时的那个版本，而不是你运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2P"]],"x":"git commit","n":"code","l":" 时，在工作目录中的当前版本。\n所以，运行了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2Q"]],"x":"git add","n":"code","l":" 之后又作了修订的文件，需要重新运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2R"]],"x":"git add","n":"code","l":" 把最新版本重新暂存起来："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK2F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK2G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK2H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK2I"]],"x":"$","n":"span","l":" vim CONTRIBUTING.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK2J"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    new file:   README\n    modified:   CONTRIBUTING.md\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2C"]],"x":"CONTRIBUTING.md","n":"code","l":" 里再加条注释，\n重新编辑存盘后，准备好提交。\n不过且慢，再运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK2D"]],"x":"git status","n":"code","l":" 看看："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK26"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK27"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK28"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK29"]],"x":"$","n":"span","l":" git add CONTRIBUTING.md\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK2A"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    new file:   README\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK20"]],"x":"CONTRIBUTING.md","n":"code","l":" 出现在 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK21"]],"x":"Changes not staged for commit","n":"code","l":" 这行下面，说明已跟踪文件的内容发生了变化，但还没有放到暂存区。\n要暂存这次更新，需要运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK22"]],"x":"git add","n":"code","l":" 命令。\n这是个多功能命令：可以用它开始跟踪新文件，或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。\n将这个命令理解为“添加内容到下一次提交中”而不是“将一个文件添加到项目中”要更加合适。\n现在让我们运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK23"]],"x":"git add","n":"code","l":" 将\"CONTRIBUTING.md\"放到暂存区，然后再看看 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK24"]],"x":"git status","n":"code","l":" 的输出："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK1R"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK1S"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK1T"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK1U"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    new file:   README\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git checkout -- <file>...\" to discard changes in working directory)\n\n    modified:   CONTRIBUTING.md"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK1O"]],"x":"CONTRIBUTING.md","n":"code","l":" 的已被跟踪的文件，然后运行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK1P"]],"x":"git status","n":"code","l":" 命令，会看到下面内容："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_tracking_files"],["aid","6LK11"]],"x":"跟踪新文件","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK12"]],"x":"使用命令 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK14"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK19"]],"x":"此时再运行 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK1B"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK1G"]],"x":"只要在 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK1H"]],"x":"Changes to be committed","n":"code","l":" 这行下面的，就说明是已暂存状态。\n如果此时提交，那么该文件此时此刻的版本将被留存在历史记录中。\n你可能会想起之前我们使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK1I"]],"x":"git init","n":"code","l":" 后就运行了 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK1J"]],"x":"git add (files)","n":"code","l":" 命令，开始跟踪当前目录下的文件。\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK1K"]],"x":"git add","n":"code","l":" 命令使用文件或目录的路径作为参数；如果参数是目录的路径，该命令将递归地跟踪该目录下的所有文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK1C"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK1D"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK1E"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK1F"]],"x":"$","n":"span","l":" git status\nOn branch master\nChanges to be committed:\n  (use \"git reset HEAD <file>...\" to unstage)\n\n    new file:   README"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK1A"]],"x":"git status","n":"code","l":" 命令，会看到 README 文件已被跟踪，并处于暂存状态："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK15"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK16"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK17"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK18"]],"x":"$","n":"span","l":" git add README"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK13"]],"x":"git add","n":"code","l":" 开始跟踪一个文件。\n所以，要跟踪 README 文件，运行："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_checking_status"],["aid","6LK0B"]],"x":"检查当前文件状态","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK0C"]],"x":"要查看哪些文件处于什么状态，可以用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK0E"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK0J"]],"x":"这说明你现在的工作目录相当干净。换句话说，所有已跟踪文件在上次提交后都未被更改过。\n此外，上面的信息还表明，当前目录下没有出现任何处于未跟踪状态的新文件，否则 Git 会在这里列出来。\n最后，该命令还显示了当前所在分支，并告诉你这个分支同远程服务器上对应的分支没有偏离。\n现在，分支名是 “master”,这是默认的分支名。\n我们在 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK0L"]],"x":"现在，让我们在项目下创建一个新的 README 文件。\n如果之前并不存在这个文件，使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LK0N"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LK0U"]],"x":"在状态报告中可以看到新建的 README 文件出现在 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK0V"]],"x":"Untracked files","n":"code","l":" 下面。\n未跟踪的文件意味着 Git 在之前的快照（提交）中没有这些文件；Git 不会自动将之纳入跟踪范围，除非你明明白白地告诉它“我需要跟踪该文件”，\n这样的处理让你不必担心将生成的二进制文件或其它不想被跟踪的文件包含进来。\n不过现在的例子中，我们确实想要跟踪管理 README 这个文件。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK0O"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK0P"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK0Q"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK0R"]],"x":"$","n":"span","l":" echo "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LK0S"]],"x":"'My Project'","n":"span","l":" > README\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK0T"]],"x":"$","n":"span","l":" git status\nOn branch master\nUntracked files:\n  (use \"git add <file>...\" to include in what will be committed)\n\n    README\n\nnothing added to commit but untracked files present (use \"git add\" to track)"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK0M"]],"x":"git status","n":"code","l":" 命令，你将看到一个新的未跟踪文件："},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["id","xref--ch03-git-branching"],["aid","6LK0K"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":"  会详细讨论分支和引用。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LK0F"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LK0G"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LK0H"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LK0I"]],"x":"$","n":"span","l":" git status\nOn branch master\nnothing to commit, working directory clean"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK0D"]],"x":"git status","n":"code","l":" 命令。\n如果在克隆仓库后立即使用此命令，会看到类似这样的输出："},{"a":[["class","content pcalibre1 pcalibre"],["aid","6LK08"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","6LK09"]],"x":"Figure 1. 文件的状态变化周期","n":"figcaption","l":"\n"},{"a":[["alt","Git 下文件生命周期图。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003V?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_getting_a_repo"],["aid","6LJUB"]],"x":"获取 Git 仓库","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJUC"]],"x":"有两种取得 Git 项目仓库的方法。\n第一种是在现有项目或目录下导入所有文件到 Git 中；\n第二种是从一个服务器克隆一个现有的 Git 仓库。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","在现有目录中初始化仓库"],["aid","6LJUD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","克隆现有的仓库"],["aid","6LJV5"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","r_git_cloning"],["aid","6LJV6"]],"x":"克隆现有的仓库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJV7"]],"x":"如果你想获得一份已经存在了的 Git 仓库的拷贝，比如说，你想为某个开源项目贡献自己的一份力，这时就要用到 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJVB"]],"x":"克隆仓库的命令格式是 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LJVD"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJVI"]],"x":"这会在当前目录下创建一个名为 “libgit2” 的目录，并在这个目录下初始化一个 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LJVM"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJVR"]],"x":"这将执行与上一个命令相同的操作，不过在本地创建的仓库名字变为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJVT"]],"x":"Git 支持多种数据传输协议。\n上面的例子使用的是 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJVU"]],"x":"https://","n":"code","l":" 协议，不过你也可以使用 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJVV"]],"x":"git://","n":"code","l":" 协议或者使用 SSH 传输协议，比如 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LK00"]],"x":"user@server:path/to/repo.git","n":"code","l":" 。\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0023:off:0000000000"],["aid","6LK01"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在服务器上搭建 Git","n":"a","l":" 将会介绍所有这些协议在服务器端如何配置使用，以及各种方式之间的利弊。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJVS"]],"x":"mylibgit","n":"code","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LJVN"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LJVO"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LJVP"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LJVQ"]],"x":"$","n":"span","l":" git clone https://github.com/libgit2/libgit2 mylibgit"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJVJ"]],"x":".git","n":"code","l":" 文件夹，从远程仓库拉取下所有数据放入 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJVK"]],"x":".git","n":"code","l":" 文件夹，然后从中读取最新版本的文件的拷贝。\n如果你进入到这个新建的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJVL"]],"x":"libgit2","n":"code","l":" 文件夹，你会发现所有的项目文件已经在里面了，准备就绪等待后续的开发和使用。\n如果你想在克隆远程仓库的时候，自定义本地仓库的名字，你可以使用如下命令："},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LJVE"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LJVF"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LJVG"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LJVH"]],"x":"$","n":"span","l":" git clone https://github.com/libgit2/libgit2"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJVC"]],"x":"git clone [url]","n":"code","l":" 。\n比如，要克隆 Git 的可链接库 libgit2，可以用下面的命令："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJV8"]],"x":"git clone","n":"code","l":" 命令。\n如果你对其它的 VCS 系统（比如说Subversion）很熟悉，请留心一下你所使用的命令是\"clone\"而不是\"checkout\"。\n这是 Git 区别于其它版本控制系统的一个重要特性，Git 克隆的是该 Git 仓库服务器上的几乎所有数据，而不是仅仅复制完成你的工作所需要文件。\n当你执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJV9"]],"x":"git clone","n":"code","l":" 命令的时候，默认配置下远程 Git 仓库中的每一个文件的每一个版本都将被拉取下来。\n事实上，如果你的服务器的磁盘坏掉了，你通常可以使用任何一个克隆下来的用户端来重建服务器上的仓库（虽然可能会丢失某些服务器端的挂钩设置，但是所有版本的数据仍在，详见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0023:off:0000000000"],["id","xref--ch04-git-server--r_git_on_the_server"],["aid","6LJVA"],["target","_blank"],["rel","noopener noreferrer"]],"x":"在服务器上搭建 Git","n":"a","l":" ）。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_在现有目录中初始化仓库"],["aid","6LJUE"]],"x":"在现有目录中初始化仓库","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJUF"]],"x":"如果你打算使用 Git 来对现有的项目进行管理，你只需要进入该项目目录并输入：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LJUG"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJUL"]],"x":"该命令将创建一个名为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJUP"]],"x":"如果你是在一个已经存在文件的文件夹（而不是空文件夹）中初始化 Git 仓库来进行版本控制的话，你应该开始跟踪这些文件并提交。\n你可通过 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","6LJUS"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","6LJV4"]],"x":"稍后我们再逐一解释每一条指令的意思。\n现在，你已经得到了一个实际维护（或者说是跟踪）着若干个文件的 Git 仓库。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LJUT"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LJUU"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LJUV"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LJV0"]],"x":"$","n":"span","l":" git add *.c\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LJV1"]],"x":"$","n":"span","l":" git add LICENSE\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LJV2"]],"x":"$","n":"span","l":" git commit -m "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","6LJV3"]],"x":"'initial project version'","n":"span"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJUQ"]],"x":"git add","n":"code","l":" 命令来实现对指定文件的跟踪，然后执行 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJUR"]],"x":"git commit","n":"code","l":" 提交："},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJUM"]],"x":".git","n":"code","l":" 的子目录，这个子目录含有你初始化的 Git 仓库中所有的必须文件，这些文件是 Git 仓库的骨干。\n但是，在这个时候，我们仅仅是做了一个初始化的操作，你的项目里的文件还没有被跟踪。\n(参见 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:008Q:off:0000000000"],["id","xref--ch10-git-internals"],["aid","6LJUN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 内部原理","n":"a","l":" 来了解更多关于到底 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","6LJUO"]],"x":".git","n":"code","l":" 文件夹中包含了哪些文件的信息。)"},{"a":[["class","source pcalibre1 pcalibre"],["aid","6LJUH"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","6LJUI"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","6LJUJ"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","6LJUK"]],"x":"$","n":"span","l":" git init"},{"a":[["class","pcalibre6 pcalibre pcalibre1 calibre5"],["aid","6LJU9"]],"x":"假如你只能阅读一章来学习 Git，本章就是你的不二选择。\n本章内容涵盖你在使用 Git 完成各种工作中将要使用的各种基本命令。\n在学习完本章之后，你应该能够配置并初始化一个仓库（repository）、开始或停止跟踪（track）文件、暂存（stage）或提交（commit)更改。\n本章也将向你演示如何配置 Git 来忽略指定的文件和文件模式、如何迅速而简单地撤销错误操作、如何浏览你的项目的历史版本以及不同提交（commits）间的差异、如何向你的远程仓库推送（push）以及如何从你的远程仓库拉取（pull）文件。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","6LJU3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","6LJU4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","6LJU5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","6LJU6"]],"x":"Git","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","6LJU7"]],"x":"基础","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","记录每次更新到仓库"],["aid","6LK02"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","查看提交历史"],["aid","6LKBG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","撤消操作"],["aid","6LKFF"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","远程仓库的使用"],["aid","6LKI1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","打标签"],["aid","6LKM1"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","限制输出长度"],["aid","6LKE0"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","查看已暂存和未暂存的修改"],["aid","6LK57"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_总结"],["aid","5N3L2"]],"x":"总结","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3L3"]],"x":"你应该已经对 Git 是什么、Git 与你可能正在使用的集中式版本控制系统有何区别等问题有了基本的了解。\n现在，在你的个人系统中应该也有了一份能够工作的 Git 版本。\n是时候开始学习有关 Git 的基础知识了。","n":"p","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_git_help"],["aid","5N3KF"]],"x":"获取帮助","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3KG"]],"x":"若你使用 Git 时需要获取帮助，有三种方法可以找到 Git 命令的使用手册：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3KH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3KO"]],"x":"例如，要想获得 config 命令的手册，执行","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3KP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3KU"]],"x":"这些命令很棒，因为你随时随地可以使用而无需联网。\n如果你觉得手册或者本书的内容还不够用，你可以尝试在 Freenode IRC 服务器（ irc.freenode.net ）的 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3KV"]],"x":"#git","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3L0"]],"x":"#github","n":"code","l":" 频道寻求帮助。\n这些频道经常有上百人在线，他们都精通 Git 并且乐于助人。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3KQ"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3KR"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3KS"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3KT"]],"x":"$","n":"span","l":" git help config"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3KI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3KJ"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3KK"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3KL"]],"x":"$","n":"span","l":" git help <verb>\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3KM"]],"x":"$","n":"span","l":" git <verb> --help\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3KN"]],"x":"$","n":"span","l":" man git-<verb>"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","r_first_time"],["aid","5N3I6"]],"x":"初次运行 Git 前的配置","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3I7"]],"x":"既然已经在系统上安装了 Git，你会想要做几件事来定制你的 Git 环境。\n每台计算机上只需要配置一次，程序升级时会保留配置信息。\n你可以在任何时候再次通过运行命令来修改它们。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3I8"]],"x":"Git 自带一个 ","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3IA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3IQ"]],"x":"每一个级别覆盖上一级别的配置，所以 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3IT"]],"x":"在 Windows 系统中，Git 会查找 ","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","用户信息"],["aid","5N3J2"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","文本编辑器"],["aid","5N3JG"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","检查配置信息"],["aid","5N3JR"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_检查配置信息"],["aid","5N3JS"]],"x":"检查配置信息","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3JT"]],"x":"如果想要检查你的配置，可以使用 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3JV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3K4"]],"x":"你可能会看到重复的变量名，因为 Git 会从不同的文件中读取同一个配置（例如：","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3K7"]],"x":"你可以通过输入 ","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3K9"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3KA"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3KB"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3KC"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3KD"]],"x":"$","n":"span","l":" git config user.name\nJohn Doe"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3K8"]],"x":"git config <key>","n":"code","l":"： 来检查 Git 的某一项配置"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3K5"]],"x":"/etc/gitconfig","n":"code","l":" 与 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3K6"]],"x":"~/.gitconfig","n":"code","l":"）。\n这种情况下，Git 会使用它找到的每一个变量的最后一个配置。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3K0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3K1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3K2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3K3"]],"x":"$","n":"span","l":" git config --list\nuser.name=John Doe\nuser.email=johndoe@example.com\ncolor.status=auto\ncolor.branch=auto\ncolor.interactive=auto\ncolor.diff=auto\n..."},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3JU"]],"x":"git config --list","n":"code","l":" 命令来列出所有 Git 当时能找到的配置。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_文本编辑器"],["aid","5N3JH"]],"x":"文本编辑器","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3JI"]],"x":"既然用户信息已经设置完毕，你可以配置默认文本编辑器了，当 Git 需要你输入信息时会调用它。\n如果未配置，Git 会使用操作系统默认的文本编辑器，通常是 Vim。\n如果你想使用不同的文本编辑器，例如 Emacs，可以这样做：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3JJ"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","admonition1 pcalibre1 pcalibre9"],["title","Warning"],["type","warning"],["aid","5N3JO"]],"x":"\n","n":"aside","l":"\n"},{"a":[["class","content2 pcalibre1 pcalibre"],["aid","5N3JP"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3JQ"]],"x":"Vim 和 Emacs 是像 Linux 与 Mac 等基于 Unix 的系统上开发者经常使用的流行的文本编辑器。\n如果你对这些编辑器都不是很了解或者你使用的是 Windows 系统，那么可能需要搜索如何在 Git 中配置你最常用的编辑器。\n如果你不设置编辑器并且不知道 Vim 或 Emacs 是什么，当它们运行起来后你可能会被弄糊涂、不知所措。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3JK"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3JL"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3JM"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3JN"]],"x":"$","n":"span","l":" git config --global core.editor emacs"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_用户信息"],["aid","5N3J3"]],"x":"用户信息","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3J4"]],"x":"当安装完 Git 应该做的第一件事就是设置你的用户名称与邮件地址。\n这样做很重要，因为每一个 Git 的提交都会使用这些信息，并且它会写入到你的每一次提交中，不可更改：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3J5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3JC"]],"x":"再次强调，如果使用了 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3JF"]],"x":"很多 GUI 工具都会在第一次运行时帮助你配置这些信息。","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3JD"]],"x":"--global","n":"code","l":" 选项，那么该命令只需要运行一次，因为之后无论你在该系统上做任何事情， Git 都会使用那些信息。\n当你想针对特定项目使用不同的用户名称与邮件地址时，可以在那个项目目录下运行没有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3JE"]],"x":"--global","n":"code","l":" 选项的命令来配置。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3J6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3J7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3J8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3J9"]],"x":"$","n":"span","l":" git config --global user.name "},{"a":[["class","pcalibre1 pcalibre calibre17"],["aid","5N3JA"]],"x":"\"John Doe\"","n":"span","l":"\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3JB"]],"x":"$","n":"span","l":" git config --global user.email johndoe@example.com"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IU"]],"x":"$HOME","n":"code","l":" 目录下（一般情况下是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IV"]],"x":"C:\\Users\\$USER","n":"code","l":"）的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3J0"]],"x":".gitconfig","n":"code","l":" 文件。\nGit 同样也会寻找 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3J1"]],"x":"/etc/gitconfig","n":"code","l":" 文件，但只限于 MSys 的根目录下，即安装 Git 时所选的目标位置。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IR"]],"x":".git/config","n":"code","l":" 的配置变量会覆盖 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IS"]],"x":"/etc/gitconfig","n":"code","l":" 中的配置变量。"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","5N3IB"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","5N3IC"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","5N3IH"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","5N3IM"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3IN"]],"x":"当前使用仓库的 Git 目录中的 ","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IO"]],"x":"config","n":"code","l":" 文件（就是 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IP"]],"x":".git/config","n":"code","l":"）：针对该仓库。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3II"]],"n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IJ"]],"x":"~/.gitconfig","n":"code","l":" 或 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IK"]],"x":"~/.config/git/config","n":"code","l":" 文件：只针对当前用户。\n可以传递 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IL"]],"x":"--global","n":"code","l":" 选项让 Git 读写此文件。"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3ID"]],"n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IE"]],"x":"/etc/gitconfig","n":"code","l":" 文件: 包含系统上每一个用户及他们仓库的通用配置。\n如果使用带有 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IF"]],"x":"--system","n":"code","l":" 选项的 "},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3IG"]],"x":"git config","n":"code","l":" 时，它会从此文件读写配置变量。"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3I9"]],"x":"git config","n":"code","l":" 的工具来帮助设置控制 Git 外观和行为的配置变量。\n这些变量存储在三个不同的位置："},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_从源代码安装"],["aid","5N3GV"]],"x":"从源代码安装","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3H0"]],"x":"有人觉得从源码安装 Git 更实用，因为你能得到最新的版本。\n二进制安装程序倾向于有一些滞后，当然近几年 Git 已经成熟，这个差异不再显著。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3H1"]],"x":"如果你想从源码安装 Git，需要安装 Git 依赖的库：curl、zlib、openssl、expat，还有libiconv。\n如果你的系统上有 yum （如 Fedora）或者 apt-get（如基于 Debian 的系统），可以使用以下命令之一来安装最小化的依赖包来编译和安装 Git 的二进制版：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3H2"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3HA"]],"x":"为了能够添加更多格式的文档（如 doc, html, info），你需要安装以下的依赖包：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3HB"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3HH"]],"x":"当你安装好所有的必要依赖，你可以继续从几个地方来取得最新发布版本的 tar 包。\n你可以从 Kernel.org 网站获取，网址为 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3HK"]],"x":"接着，编译并安装：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3HL"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3HV"]],"x":"完成后，你可以使用 Git 来获取 Git 的升级：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3I0"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3I1"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3I2"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3I3"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3I4"]],"x":"  $","n":"span","l":" git clone git://git.kernel.org/pub/scm/git/git.git"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3HM"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3HN"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3HO"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HP"]],"x":"  $","n":"span","l":" tar -zxf git-2.0.0.tar.gz\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HQ"]],"x":"  $","n":"span","l":" cd git-2.0.0\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HR"]],"x":"  $","n":"span","l":" make configure\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HS"]],"x":"  $","n":"span","l":" ./configure --prefix=/usr\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HT"]],"x":"  $","n":"span","l":" make all doc info\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HU"]],"x":"  $","n":"span","l":" sudo make install install-doc install-html install-info"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://www.kernel.org/pub/software/scm/git"],["aid","5N3HI"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://www.kernel.org/pub/software/scm/git","n":"a","l":"，或从 GitHub 网站上的镜像来获得，网址为 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","https://github.com/git/git/releases"],["aid","5N3HJ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"https://github.com/git/git/releases","n":"a","l":"。\n通常在 GitHub 上的是最新版本，但 kernel.org 上包含有文件下载签名，如果你想验证下载正确性的话会用到。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3HC"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3HD"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3HE"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HF"]],"x":"  $","n":"span","l":" sudo yum install asciidoc xmlto docbook2x\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3HG"]],"x":"  $","n":"span","l":" sudo apt-get install asciidoc xmlto docbook2x"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3H3"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3H4"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3H5"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3H6"]],"x":"  $","n":"span","l":" sudo yum install curl-devel expat-devel gettext-devel "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","5N3H7"]],"x":"\\","n":"span","l":"\n    openssl-devel zlib-devel\n"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3H8"]],"x":"  $","n":"span","l":" sudo apt-get install libcurl4-gnutls-dev libexpat1-dev gettext "},{"a":[["class","pcalibre1 pcalibre calibre16"],["aid","5N3H9"]],"x":"\\","n":"span","l":"\n    libz-dev libssl-dev"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_在_windows_上安装"],["aid","5N3GO"]],"x":"在 Windows 上安装","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3GP"]],"x":"在 Windows 上安装 Git 也有几种安装方法。\n官方版本可以在 Git 官方网站下载。\n打开 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3GS"]],"x":"另一个简单的方法是安装 GitHub for Windows。\n该安装程序包含图形化和命令行版本的 Git。\n它也能支持 Powershell，提供了稳定的凭证缓存和健全的 CRLF 设置。\n稍后我们会对这方面有更多了解，现在只要一句话就够了，这些都是你所需要的。\n你可以在 GitHub for Windows 网站下载，网址为 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://windows.github.com"],["aid","5N3GT"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://windows.github.com","n":"a","l":"。"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://git-scm.com/download/win"],["aid","5N3GQ"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://git-scm.com/download/win","n":"a","l":"，下载会自动开始。\n要注意这是一个名为 Git for Windows的项目（也叫做 msysGit），和 Git 是分别独立的项目；更多信息请访问 "},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://msysgit.github.io/"],["aid","5N3GR"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://msysgit.github.io/","n":"a","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_在_mac_上安装"],["aid","5N3GD"]],"x":"在 Mac 上安装","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3GE"]],"x":"\n在 Mac 上安装 Git 有多种方式。\n最简单的方法是安装 Xcode Command Line Tools。\nMavericks （10.9） 或更高版本的系统中，在 Terminal 里尝试首次运行 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3GG"]],"x":"如果你想安装更新的版本，可以使用二进制安装程序。\n官方维护的 OSX Git 安装程序可以在 Git 官方网站下载，网址为 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","5N3GI"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3GL"]],"x":"你也可以将它作为 GitHub for Mac 的一部分来安装。\n它们的图形化 Git 工具有一个安装命令行工具的选项。\n你可以从 GitHub for Mac 网站下载该工具，网址为 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://mac.github.com"],["aid","5N3GM"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://mac.github.com","n":"a","l":"。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3GJ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","5N3GK"]],"x":"Figure 7. Git OS X 安装程序.","n":"figcaption","l":"\n"},{"a":[["alt","Git OS X 安装程序。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:003Q?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://git-scm.com/download/mac"],["aid","5N3GH"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://git-scm.com/download/mac","n":"a","l":"。"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","5N3GF"]],"x":"git","n":"em","l":" 命令即可。\n如果没有安装过命令行开发者工具，将会提示你安装。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_在_linux_上安装"],["aid","5N3FT"]],"x":"在 Linux 上安装","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3FU"]],"x":"\n如果你想在 Linux 上用二进制安装程序来安装 Git，可以使用发行版包含的基础软件包管理工具来安装。\n如果以 Fedora 上为例，你可以使用 yum：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3FV"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3G4"]],"x":"如果你在基于 Debian 的发行版上，请尝试用 apt-get：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3G5"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3GA"]],"x":"要了解更多选择，Git 官方网站上有在各种 Unix 风格的系统上安装步骤，网址为 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://git-scm.com/download/linux"],["aid","5N3GB"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://git-scm.com/download/linux","n":"a","l":"。"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3G6"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3G7"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3G8"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3G9"]],"x":"  $","n":"span","l":" sudo apt-get install git"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3G0"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3G1"]],"n":"code"},{"a":[["class","calibre14 pcalibre1 pcalibre"],["aid","5N3G2"]],"n":"span"},{"a":[["class","pcalibre1 calibre15 pcalibre"],["aid","5N3G3"]],"x":"  $","n":"span","l":" sudo yum install git"},{"a":[["class","content1 pcalibre1 pcalibre"],["aid","5N3FP"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3FQ"]],"x":"本书写作时使用的 Git 版本为 ","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","5N3FR"]],"x":"2.0.0","n":"strong","l":"。\n我们使用的大部分命令仍然可以在很古老的 Git 版本上使用，但也有少部分命令不好用或者在旧版本中的行为有差异。\n因为 Git 在保持向后兼容方面表现很好，本书使用的这些命令在 2.0 之后的版本应该有效。"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_命令行"],["aid","5N3FG"]],"x":"命令行","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3FH"]],"x":"Git 有多种使用方式。\n你可以使用原生的命令行模式，也可以使用 GUI 模式，这些 GUI 软件也能提供多种功能。\n在本书中，我们将使用命令行模式。\n这是因为首先，只有在命令行模式下你才能执行 Git 的 ","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3FK"]],"x":"假如你是 Mac 用户，我们希望你懂得如何使用终端（Terminal）；假如你是 Windows 用户，我们希望你懂得如何使用命令窗口（Command Prompt）或 PowerShell。\n如果你尚未掌握以上技能，我们建议你先停下来快速学习一下，本书中的讲述和举例将用到这些技能。","n":"p","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","5N3FI"]],"x":"所有","n":"strong","l":" 命令，而大多数的 GUI 软件只实现了 Git 所有功能的一个子集以降低操作难度。\n如果你学会了在命令行下如何操作，那么你在操作 GUI 软件时应该也不会遇到什么困难，但是，反之则不成立。\n此外，由于每个人的想法与侧重点不同，不同的人常常会安装不同的 GUI 软件，但 "},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","5N3FJ"]],"x":"所有","n":"em","l":" 人一定会有命令行工具。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_三种状态"],["aid","5N3ER"]],"x":"三种状态","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3ES"]],"x":"好，请注意。\n如果你希望后面的学习更顺利，记住下面这些关于 Git 的概念。\nGit 有三种状态，你的文件可能处于其中之一：已提交（committed）、已修改（modified）和已暂存（staged）。\n已提交表示数据已经安全的保存在本地数据库中。\n已修改表示修改了文件，但还没保存到数据库中。\n已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3ET"]],"x":"由此引入 Git 项目的三个工作区域的概念：Git 仓库、工作目录以及暂存区域。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","5N3EU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3F1"]],"x":"Git 仓库目录是 Git 用来保存项目的元数据和对象数据库的地方。\n这是 Git 中最重要的部分，从其它计算机克隆仓库时，拷贝的就是这里的数据。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3F2"]],"x":"工作目录是对项目的某个版本独立提取出来的内容。\n这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3F3"]],"x":"暂存区域是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。\n有时候也被称作`‘索引’'，不过一般说法还是叫暂存区域。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3F4"]],"x":"基本的 Git 工作流程如下：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3F5"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3FD"]],"x":"如果 Git 目录中保存着的特定版本文件，就属于已提交状态。\n如果作了修改并已放入暂存区域，就属于已暂存状态。\n如果自上次取出后，作了修改但还没有放到暂存区域，就是已修改状态。\n在","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000F:off:0000000000"],["id","xref--ch02-git-basics"],["aid","5N3FE"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 基础","n":"a","l":"一章，你会进一步了解这些状态的细节，并学会如何根据文件状态实施后续操作，以及怎样跳过暂存直接提交。"},{"a":[["class","arabic pcalibre1 pcalibre"],["aid","5N3F6"]],"x":"\n","n":"ol","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","5N3F7"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","5N3F9"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","calibre11 pcalibre1 pcalibre"],["aid","5N3FB"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3FC"]],"x":"提交更新，找到暂存区域的文件，将快照永久性存储到 Git 仓库目录。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3FA"]],"x":"暂存文件，将文件的快照放入暂存区域。","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3F8"]],"x":"在工作目录中修改文件。","n":"span","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3EV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","5N3F0"]],"x":"Figure 6. 工作目录、暂存区域以及 Git 仓库.","n":"figcaption","l":"\n"},{"a":[["alt","工作目录、暂存区域以及 Git 仓库。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:001C?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_一般只添加数据"],["aid","5N3EM"]],"x":"Git 一般只添加数据","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EN"]],"x":"你执行的 Git 操作，几乎只往 Git 数据库中增加数据。\n很难让 Git 执行任何不可逆操作，或者让它以任何方式清除数据。\n同别的 VCS 一样，未提交更新时有可能丢失或弄乱修改的内容；但是一旦你提交快照到 Git 中，就难以再丢失数据，特别是如果你定期的推送数据库到其它仓库的话。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EO"]],"x":"这使得我们使用 Git 成为一个安心愉悦的过程，因为我们深知可以尽情做各种尝试，而没有把事情弄糟的危险。\n更深度探讨 Git 如何保存数据及恢复丢失数据的话题，请参考","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:000U:off:0000000000"],["id","xref--ch02-git-basics--r_undoing"],["aid","5N3EP"],["target","_blank"],["rel","noopener noreferrer"]],"x":"撤消操作","n":"a","l":"。"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_git_保证完整性"],["aid","5N3EE"]],"x":"Git 保证完整性","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EF"]],"x":"Git 中所有数据在存储前都计算校验和，然后以校验和来引用。\n这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。\n这个功能建构在 Git 底层，是构成 Git 哲学不可或缺的部分。\n若你在传送过程中丢失信息或损坏文件，Git 就能发现。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EG"]],"x":"Git 用以计算校验和的机制叫做 SHA-1 散列（hash，哈希）。\n这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来。\nSHA-1 哈希看起来是这样：","n":"p","l":"\n"},{"a":[["class","listing pcalibre1 pcalibre"],["aid","5N3EH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EK"]],"x":"Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。\n实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。","n":"p","l":"\n"},{"a":[["class","source pcalibre1 pcalibre"],["aid","5N3EI"]],"n":"pre","l":"\n"},{"a":[["class","calibre13 pcalibre1 pcalibre"],["aid","5N3EJ"]],"x":"24b9da6552252987aa493b52f8696cd6d3b00373","n":"code"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_近乎所有操作都是本地执行"],["aid","5N3E9"]],"x":"近乎所有操作都是本地执行","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EA"]],"x":"在 Git 中的绝大多数操作都只需要访问本地文件和资源，一般不需要来自网络上其它计算机的信息。\n如果你习惯于所有操作都有网络延时开销的集中式版本控制系统，Git 在这方面会让你感到速度之神赐给了 Git 超凡的能量。\n因为你在本地磁盘上就有项目的完整历史，所以大部分操作看起来瞬间完成。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EB"]],"x":"举个例子，要浏览项目的历史，Git 不需外连到服务器去获取历史，然后再显示出来——它只需直接从本地数据库中读取。\n你能立即看到项目历史。\n如果你想查看当前版本与一个月前的版本之间引入的修改，Git 会查找到一个月前的文件做一次本地的差异计算，而不是由远程服务器处理或从远程服务器拉回旧版本文件再来本地处理。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3EC"]],"x":"这也意味着你离线或者没有 VPN 时，几乎可以进行任何操作。\n如你在飞机或火车上想做些工作，你能愉快地提交，直到有网络连接时再上传。\n如你回家后 VPN 客户端不正常，你仍能工作。\n使用其它系统，做到如此是不可能或很费力的。\n比如，用 Perforce，你没有连接服务器时几乎不能做什么事；用 Subversion 和 CVS，你能修改文件，但不能向数据库提交修改（因为你的本地数据库离线了）。\n这看起来不是大问题，但是你可能会惊喜地发现它带来的巨大的不同。","n":"p","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_直接记录快照_而非差异比较"],["aid","5N3DS"]],"x":"直接记录快照，而非差异比较","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3DT"]],"x":"Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方法。\n概念上来区分，其它大部分系统以文件变更列表的方式存储信息。\n这类系统（CVS、Subversion、Perforce、Bazaar 等等）将它们保存的信息看作是一组基本文件和每个文件随时间逐步累积的差异。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","5N3DU"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3E1"]],"x":"Git 不按照以上方式对待或保存数据。\n反之，Git 更像是把数据看作是对小型文件系统的一组快照。\n每次你提交更新，或在 Git 中保存项目状态时，它主要对当时的全部文件制作一个快照并保存这个快照的索引。\n为了高效，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件。\nGit 对待数据更像是一个 ","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","5N3E3"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3E6"]],"x":"这是 Git 与几乎所有其它版本控制系统的重要区别。\n因此 Git 重新考虑了以前每一代版本控制系统延续下来的诸多方面。\nGit 更像是一个小型的文件系统，提供了许多以此为基础构建的超强工具，而不只是一个简单的 VCS。\n稍后我们在","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["aid","5N3E7"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":"讨论 Git 分支管理时，将探究这种方式对待数据所能获得的益处。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3E4"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","5N3E5"]],"x":"Figure 5. 存储项目随时间改变的快照.","n":"figcaption","l":"\n"},{"a":[["alt","Git 存储项目随时间改变的快照。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005M?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre12 pcalibre1 pcalibre"],["aid","5N3E2"]],"x":"快照流","n":"strong","l":"。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3DV"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","5N3E0"]],"x":"Figure 4. 存储每个文件与初始版本的差异.","n":"figcaption","l":"\n"},{"a":[["alt","存储每个文件与初始版本的差异。"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:004B?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_git_简史"],["aid","5N3D6"]],"x":"Git 简史","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3D7"]],"x":"同生活中的许多伟大事物一样，Git 诞生于一个极富纷争大举创新的年代。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3D8"]],"x":"Linux 内核开源项目有着为数众多的参与者。\n绝大多数的 Linux 内核维护工作都花在了提交补丁和保存归档的繁琐事务上（1991－2002年间）。\n到 2002 年，整个项目组开始启用一个专有的分布式版本控制系统 BitKeeper 来管理和维护代码。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3D9"]],"x":"到了 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了 Linux 内核社区免费使用 BitKeeper 的权力。\n这就迫使 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds）基于使用 BitKeeper 时的经验教训，开发出自己的版本系统。\n他们对新的系统制订了若干目标：","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3DA"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3DM"]],"x":"自诞生于 2005 年以来，Git 日臻成熟完善，在高度易用的同时，仍然保留着初期设定的目标。\n它的速度飞快，极其适合管理大项目，有着令人难以置信的非线性分支管理系统（参见 ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","kindle:pos:fid:0017:off:0000000000"],["id","xref--ch03-git-branching"],["aid","5N3DN"],["target","_blank"],["rel","noopener noreferrer"]],"x":"Git 分支","n":"a","l":"）。"},{"a":[["class","calibre10 pcalibre1 pcalibre"],["aid","5N3DB"]],"x":"\n","n":"ul","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","5N3DC"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","5N3DE"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","5N3DG"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","5N3DI"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre7 calibre11 pcalibre1"],["aid","5N3DK"]],"x":"\n","n":"li","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3DL"]],"x":"有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3DJ"]],"x":"完全分布式","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3DH"]],"x":"对非线性开发模式的强力支持（允许成千上万个并行开发的分支）","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3DF"]],"x":"简单的设计","n":"span","l":"\n"},{"a":[["class","pcalibre1 pcalibre principal"],["aid","5N3DD"]],"x":"速度","n":"span","l":"\n"},{"a":[["class","calibre6 pcalibre1 pcalibre"],["id","_关于版本控制"],["aid","5N3CA"]],"x":"关于版本控制","n":"h2","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CB"]],"x":"\n什么是“版本控制”？我为什么要关心它呢？\n版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。\n在本书所展示的例子中，我们对保存着软件源代码的文件作版本控制，但实际上，你可以对任何类型的文件进行版本控制。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CC"]],"x":"如果你是位图形或网页设计师，可能会需要保存某一幅图片或页面布局文件的所有修订版本（这或许是你非常渴望拥有的功能），采用版本控制系统（VCS）是个明智的选择。\n有了它你就可以将某个文件回溯到之前的状态，甚至将整个项目都回退到过去某个时间点的状态，你可以比较文件的变化细节，查出最后是谁修改了哪个地方，从而找出导致怪异问题出现的原因，又是谁在何时报告了某个功能缺陷等等。\n使用版本控制系统通常还意味着，就算你乱来一气把整个项目中的文件改的改删的删，你也照样可以轻松恢复到原先的样子。\n但额外增加的工作量却微乎其微。","n":"p","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","本地版本控制系统"],["aid","5N3CD"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","集中化的版本控制系统"],["aid","5N3CM"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","分布式版本控制系统"],["aid","5N3CU"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_分布式版本控制系统"],["aid","5N3CV"]],"x":"分布式版本控制系统","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3D0"]],"x":"\n于是分布式版本控制系统（Distributed Version Control System，简称 DVCS）面世了。\n在这类系统中，像 Git、Mercurial、Bazaar 以及 Darcs 等，客户端并不只提取最新版本的文件快照，而是把代码仓库完整地镜像下来。\n这么一来，任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像出来的本地仓库恢复。\n因为每一次的克隆操作，实际上都是一次对代码仓库的完整备份。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","5N3D1"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3D4"]],"x":"更进一步，许多这类系统都可以指定和若干不同的远端代码仓库进行交互。籍此，你就可以在同一个项目中，分别和不同工作小组的人相互协作。\n你可以根据需要设定不同的协作流程，比如层次模型式的工作流，而这在以前的集中式系统中是无法实现的。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3D2"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","5N3D3"]],"x":"Figure 3. 分布式版本控制.","n":"figcaption","l":"\n"},{"a":[["alt","分布式版本控制图解"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0039?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_集中化的版本控制系统"],["aid","5N3CN"]],"x":"集中化的版本控制系统","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CO"]],"x":"\n接下来人们又遇到一个问题，如何让在不同系统上的开发者协同工作？\n于是，集中化的版本控制系统（Centralized Version Control Systems，简称 CVCS）应运而生。\n这类系统，诸如 CVS、Subversion 以及 Perforce 等，都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。\n多年以来，这已成为版本控制系统的标准做法。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","5N3CP"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CS"]],"x":"这种做法带来了许多好处，特别是相较于老式的本地 VCS 来说。\n现在，每个人都可以在一定程度上看到项目中的其他人正在做些什么。\n而管理员也可以轻松掌控每个开发者的权限，并且管理一个 CVCS 要远比在各个客户端上维护本地数据库来得轻松容易。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CT"]],"x":"事分两面，有好有坏。\n这么做最显而易见的缺点是中央服务器的单点故障。\n如果宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。\n如果中心数据库所在的磁盘发生损坏，又没有做恰当备份，毫无疑问你将丢失所有数据——包括项目的整个变更历史，只剩下人们在各自机器上保留的单独快照。\n本地版本控制系统也存在类似问题，只要整个项目的历史记录被保存在单一位置，就有丢失所有历史更新记录的风险。","n":"p","l":"\n"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3CQ"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","5N3CR"]],"x":"Figure 2. 集中化的版本控制.","n":"figcaption","l":"\n"},{"a":[["alt","集中化的版本控制图解"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:005L?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre1 calibre7 pcalibre"],["id","_本地版本控制系统"],["aid","5N3CE"]],"x":"本地版本控制系统","n":"h3","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CF"]],"x":"\n许多人习惯用复制整个项目目录的方式来保存不同的版本，或许还会改名加上备份时间以示区别。\n这么做唯一的好处就是简单，但是特别容易犯错。\n有时候会混淆所在的工作目录，一不小心会写错文件或者覆盖意想外的文件。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CG"]],"x":"为了解决这个问题，人们很久以前就开发了许多种本地版本控制系统，大多都是采用某种简单的数据库来记录文件的历次更新差异。","n":"p","l":"\n"},{"a":[["class","image pcalibre1 pcalibre"],["aid","5N3CH"]],"x":"\n","n":"figure","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","5N3CK"]],"x":"其中最流行的一种叫做 RCS，现今许多计算机系统上都还看得到它的踪影。\n甚至在流行的 Mac OS X 系统上安装了开发者工具包之后，也可以使用 ","n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre literal"],["aid","5N3CL"]],"x":"rcs","n":"code","l":" 命令。\n它的工作原理是在硬盘上保存补丁集（补丁是指文件修订前后的变化）；通过应用所有的补丁，可以重新计算出各个版本的文件内容。"},{"a":[["class","content pcalibre1 pcalibre"],["aid","5N3CI"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","calibre9 pcalibre1 pcalibre"],["aid","5N3CJ"]],"x":"Figure 1. 本地版本控制.","n":"figcaption","l":"\n"},{"a":[["alt","本地版本控制图解"],["class","calibre8 pcalibre1 pcalibre"],["src","kindle:embed:0061?mime=image/jpeg"]],"n":"img","l":"\n"},{"a":[["class","pcalibre6 pcalibre pcalibre1 calibre5"],["aid","5N3C8"]],"x":"本章关于开始学习 Git。\n我们从介绍有关版本控制工具的一些背景知识开始，然后讲解如何在你的系统运行 Git，最后是关于如何设置 Git 开始你的工作。\n通过本章的学习，你应该了解为什么 Git 这么流行，为什么你应该使用 Git 以及你应该如何设置以便使用 Git。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","5N3C3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","5N3C4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","5N3C5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","5N3C6"]],"x":"起步","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","Git 基础"],["aid","5N3DO"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["title","安装 Git"],["aid","5N3FL"]],"x":"\n","n":"section","l":"\n"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","4OIQ2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQ7"]],"x":"你将花费你生命中的若干小时来阅读有关 Git 的相关内容。让我们用几分钟时间来介绍下我们将给你讲解的内容。\n下面是本书正文十章和附录三章的快速总结。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQ8"]],"x":"在*第一章*，我们将介绍版本控制系统（VCSs）和 Git 的基本概念——不涉及技术内容，仅仅是什么是 Git，\n为什么它会成为 VCSs 大家庭中的一员，它与其它 VCSs 的区别，以及为什么那么多人都在使用 Git。然后，我们将\n介绍如何下载 Git 以及如果你的系统没有安装 Git，如何为第一次运行做准备。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQ9"]],"x":"在*第二章*，我们将阐述 Git 的基本使用——包含你在使用 Git 时可能遇到的 80% 的情形。通过阅读本章，你应该\n能够克隆仓库、查看项目历史、修改文件和贡献更改。如果本书在此刻自燃，你应该已经能够使用已经学到的漂亮\n有用的 Git 知识获取到另外一份拷贝。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQA"]],"x":"*第三章*关注于 Git 的分支模型。分支模型通常被认为是 Git 的杀手级特性。这里，你将学习到究竟是什么让 Git\n与众不同。学习完本章，你可能需要一段时间来思考，在 Git 分支成为你的生活的一部分之前，你到底是如何生活的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQB"]],"x":"*第四章*关注于服务器端的 Git。本章面向那些希望在你自己的组织或个人服务器搭建用于合作的 Git 的读者。\n如果你希望让别人处理这些事务，我们也会探讨一些托管选项。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQC"]],"x":"*第五章*将阐述多种分布式工作流的细节，以及如何使用 Git 实现它们。学习完本章，你应该能够在多个远程仓库\n之间游刃有余，通过电子邮件使用 Git，熟练地处理多个远程分支和合作者贡献的补丁。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQD"]],"x":"*第六章*介绍 GitHub 托管服务以及深层次的工具。我们将涵盖注册与账户管理，创建和使用 Git 仓库，贡献项目的\n普通工作流以及接受他人的贡献，GitHub 的可编程接口和那些能够让你的生活变得更简单的小技巧。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQE"]],"x":"*第七章*关于 Git 的高级命令。你将学习到一些高级主题，诸如掌握可怕的“reset”命令，使用二分搜索识别错误，编辑\n历史，细节版本选择等等。本章的介绍将丰富你的 Git 知识，让你成为一个真正的大师。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQF"]],"x":"*第八章*关于 Git 环境的自定义配置，包括设置用于增强或促进自定义策略的钩子脚本以及按照你所需要的方式进行\n工作的环境配置。我们还会介绍构建你自己的脚本集，以增强自定义提交策略。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQG"]],"x":"*第九章*对比 Git 和其它 VCSs，包括在 Subversion（SVN）的世界使用 Git 以及从其它 VCSs 迁移到 Git。很多组织\n仍在使用 SVN，并且也没有计划改变，此时，你将了解到 Git 不可思议的能力——本章将展示，在你不得不使用 SVN 服务器\n的时候如何协同合作。我们还将介绍如何从不同系统导入项目，以便你能够全身心投入 Git 的怀抱。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQH"]],"x":"*第十章*深入 Git 阴暗而漂亮的实现细节。现在，你已经知道所有有关 Git 的知识，能够熟练运用 Git 的强大优雅的功能。\n接下来，你可以继续学习 Git 如何存储对象、Git 的对象模型是怎样的、打包文件的细节、服务器协议等更多知识。\n本书自始至终都将引用本章的内容，以便你能够在当时就可以深入了解。但是，如果你像我们一样希望深入学习技术细节，\n你可能想先阅读第十章。我们将选择权交给你。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQI"]],"x":"在*附录 A*，我们学习多个在特定环境中使用 Git 的实例。我们涵盖多个你可能会使用 Git 的多个 GUI 和 IDE 编程环境，\n这些都可以由你自己选择。如果你想在 shell、Visual Studio 或 Eclipse 中使用 Git，请阅读本章。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQJ"]],"x":"在*附录 B*，我们探讨通过类似 libgit2 和 JGit 的工具编写 Git 脚本、扩展 Git。如果你对编写复杂、快速的自定义工具感兴趣，\n需要了解 Git 的底层访问，本章就是你所需要了解的。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQK"]],"x":"最后在*附录 C*，我们一次性浏览 Git 的所有主要命令，复习在本书中介绍的内容，回忆我们能够使用这些命令做什么。\n如果你需要知道本书中我们使用了哪些特定 Git 命令，你可以在这里查阅。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","4OIQL"]],"x":"下面让我们开始。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","4OIQ3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","4OIQ4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","4OIQ5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","4OIQ6"]],"x":"引言","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","3Q282"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","3Q287"]],"n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","3Q289"]],"n":"p","l":"\n"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","3Q28A"]],"x":"谨以此书献给我的家人。\n给这些年一直支持着我的妻子 Jessica 和女儿 Josephine，\n还有那些在我风烛残年之时还能支持我的人。— Scott","n":"em"},{"a":[["class","pcalibre1 pcalibre calibre4"],["aid","3Q288"]],"x":"致我的妻子，Becky，没有她的话这段冒险不会开始。— Ben","n":"em"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","3Q283"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","3Q284"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","3Q285"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","3Q286"]],"x":"献辞","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","2RHM2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","2RHM9"]],"x":"本书的第一版就是将我与 Git 结下不解之缘的原因。书中采用的是我引进的做软件的风格，这种风格比我之前看到的任何事情都要自然。那时我已经做了好几年开发者了，但是这本书将我指引到一条更加精彩的道路上。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","2RHMA"]],"x":"几年之后的现在，我是 Git 的一个主要实现的贡献者，我在最大的 Git 托管公司工作，我已经环游世界教人们使用 Git。当 Scott 问我是否有兴趣在第二版上工作时，我甚至连想都没想就答应了。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","2RHMB"]],"x":"能在这本书上工作是一份巨大的快乐与荣耀。我希望它能像帮助我一样帮助你。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","2RHM3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","2RHM4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","2RHM5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","2RHM6"]],"x":"Ben","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","2RHM7"]],"x":"Straub","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","2RHM8"]],"x":"序","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","1T142"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","1T149"]],"x":"欢迎来到 Pro Git 第二版。\n第一版出版到现在已经过去了四年。\n到今天，Git 虽然出现了许多改变，但是还有很多重要的事情一如昨日。\n因为 Git 核心团队对保持向后兼容性异常固执，所以直到今天大多数核心命令与概念依然有效，但是围绕 Git 的社区还是有一些重大的增加与改变。\n本书的第二版就是为了更新书籍并讲解那些改动以使其对新用户更有帮助。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","1T14A"]],"x":"当我写第一版时，Git 对于超级黑客来说还是一个相对难用，只能勉强接受的工具。\n它开始在特定的社区中快速发展，但是还没有达到像今天一样无处不在的地步。\n自那时起，几乎每一个开源社区都采用了它。\nGit 在 Windows 上取得了难以置信的进步，包括所有平台的图形用户界面对它的支持、IDE 的支持，以及商业使用的爆炸式发展。\n四年前的 Pro Git 对此一无所知。\n新版本的主要目标之一就是涉及 Git 社区中那些所有新的前沿领域。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","1T14B"]],"x":"使用 Git 的开源社区也呈现出爆炸式的发展。\n大概在五年前吧，我坐下来写这本书时（写完第一个版本花了我不少时间），我开始在一个知名度极小的开发 Git 托管网站的公司工作，这家公司就是 GitHub。\n本书出版时大概有几千人在使用 GitHub 网站，而为其工作的只有我们四个人。\n在我写这篇介绍时，GitHub 宣布我们托管了 1000 万个项目、拥有大概 500 万注册开发者账户与大概 230 名员工。\n爱它也好，恨它也罢，当我坐下来写第一版时，GitHub 以一种意想不到的方式猛烈地改变了一大批开源社区。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","1T14C"]],"x":"我在 Pro Git 的原始版本中写了一节我并不是很满意的内容，是作为和提供 Git 托管服务相关的例子的 GitHub。\n我在书里写的东西本质上都是和社区有关的，但是又不得不讨论到我的公司，这点我不喜欢。\n同时我还不喜欢那个兴趣的冲突，GitHub 在 Git 社区中的重要性是无法避免的。\n我已经决定将本书的那部分转变为深度介绍 GitHub 是什么以及如何高效地使用它，而不再是作为一个 Git 托管的例子。\n如果你正学习如何使用 Git，那么了解如何使用 GitHub 将会帮助你加入到一个巨大的社区中。不论你决定为自己的代码使用哪一个 Git 托管服务，这都很有价值。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","1T14D"]],"x":"自从上次出版以来另一个重大变革是 Git 网络传输 HTTP 协议的开发与崛起。书中的大多数例子都已经从 SSH 切换到 HTTP，因为它更简单。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","1T14E"]],"x":"在过去这几年看到 Git 从一个相对无名的版本管理系统成长为商业与开源版本管理的事实标准是令人吃惊的。我很高兴 Pro Git 做得很好并已经成为市场上几本既成功又完全开源的技术书籍之一。","n":"p","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","1T14F"]],"x":"我希望你能享受这个升级版的 Pro Git。","n":"p","l":"\n"},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","1T143"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","1T144"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","1T145"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","1T146"]],"x":"Scott","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","1T147"]],"x":"Chacon","n":"b","l":" "},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","1T148"]],"x":"序","n":"b"},{"a":[["class","chapter pcalibre1 pcalibre"],["aid","UGI2"]],"x":"\n","n":"header","l":"\n"},{"a":[["class","calibre3 pcalibre1 pcalibre"],["aid","UGI7"]],"x":"This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License. To view a copy of this license, visit ","n":"p","l":"\n"},{"a":[["class","link pcalibre5 pcalibre4 pcalibre3 pcalibre2 pcalibre1 pcalibre"],["href","http://creativecommons.org/licenses/by-nc-sa/3.0/"],["aid","UGI8"],["target","_blank"],["rel","noopener noreferrer"]],"x":"http://creativecommons.org/licenses/by-nc-sa/3.0/","n":"a","l":" or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA."},{"a":[["class","pcalibre1 chapter-header pcalibre"],["aid","UGI3"]],"x":"\n","n":"div","l":"\n"},{"a":[["class","chapter-title pcalibre1 pcalibre"],["aid","UGI4"]],"n":"h1","l":"\n"},{"a":[["class","subtitle pcalibre1 pcalibre"],["aid","UGI5"]],"n":"small"},{"a":[["class","calibre2 pcalibre1 pcalibre"],["aid","UGI6"]],"x":"许可证","n":"b"},{"x":"Pro Git","n":"title","l":"\n    \n  "},{"a":[["href","kindle:flow:0003?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"},{"a":[["href","kindle:flow:0001?mime=text/css"],["rel","stylesheet"],["type","text/css"]],"n":"link","l":"\n"}]}